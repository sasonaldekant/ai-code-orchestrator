{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Implementation schema",
  "type": "object",
  "properties": {
    "phase": {
      "type": "string"
    },
    "output": {
      "type": "object",
      "properties": {
        "backend_files": {
          "type": "array",
          "items": {
            "type": "object",
            "required": [
              "path",
              "content"
            ]
          }
        },
        "frontend_files": {
          "type": "array",
          "items": {
            "type": "object",
            "required": [
              "path",
              "content"
            ]
          }
        },
        "errors": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      },
      "required": [
        "backend_files",
        "frontend_files"
      ]
    },
    "tokens_in": {
      "type": "number"
    },
    "tokens_out": {
      "type": "number"
    },
    "models": {
      "type": "string"
    },
    "provider": {
      "type": "string"
    },
    "thinking": {
      "type": [
        "string",
        "null"
      ]
    }
  },
  "required": [
    "phase",
    "output"
  ]
}