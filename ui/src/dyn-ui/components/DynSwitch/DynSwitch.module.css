/**
 * DynSwitch Component Styles
 * 100% Design Token Compliance
 * Unified Token Strategy: 3-Level Fallback Pattern
 */

/* ==========================================================================
   COMPONENT TOKENS (Layer 2)
   ========================================================================== */

.root {
  /* Layout tokens */
  --dyn-switch-gap: var(--dyn-switch-spacing-gap, var(--dyn-spacing-xs, 0.25rem));
  --dyn-switch-wrapper-gap: var(--dyn-switch-spacing-wrapperGap, var(--dyn-spacing-sm, 0.5rem));

  /* Track tokens */
  --dyn-switch-track-bg: var(--dyn-switch-color-track-background, var(--dyn-semantic-border, #cbd5e1));
  --dyn-switch-track-bg-checked: var(--dyn-switch-color-track-checked, var(--dyn-theme-primary, #3b82f6));
  --dyn-switch-track-border: var(--dyn-switch-color-track-border, transparent);
  
  /* Thumb tokens */
  --dyn-switch-thumb-bg: var(--dyn-switch-color-thumb-background, var(--dyn-semantic-surface, #ffffff));
  --dyn-switch-thumb-shadow: var(--dyn-switch-elevation-thumb, var(--dyn-elevation-low));

  /* Focus tokens */
  --dyn-switch-focus-ring: var(--dyn-switch-color-focus, var(--dyn-semantic-border-focus, #3b82f6));

  /* Typography tokens */
  --dyn-switch-font-family: var(--dyn-switch-font-family, var(--dyn-font-family-body, inherit));
  --dyn-switch-font-weight: var(--dyn-switch-font-weight, var(--dyn-font-weight-medium, 500));
  --dyn-switch-label-color: var(--dyn-switch-color-label, var(--dyn-semantic-text, #0f172a));
  --dyn-switch-desc-color: var(--dyn-switch-color-description, var(--dyn-semantic-text-secondary, #64748b));

  /* Transition tokens */
  --dyn-switch-transition: var(--dyn-switch-animation-duration, var(--dyn-transition-normal, 0.2s)) var(--dyn-switch-animation-easing, ease-in-out);
}

.container {
  display: inline-flex;
  flex-direction: column;
  gap: var(--dyn-switch-gap);
}

.wrapper {
  display: inline-flex;
  align-items: center;
  gap: var(--dyn-switch-wrapper-gap);
  cursor: pointer;
  user-select: none;
}

.wrapperDisabled {
  opacity: var(--dyn-opacity-disabled, 0.5);
  cursor: not-allowed;
}

/* ==========================================================================
   SWITCH TRACK & THUMB
   ========================================================================== */

.input {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

.track {
  position: relative;
  display: inline-flex;
  flex-shrink: 0;
  background-color: var(--dyn-switch-track-bg);
  border: var(--dyn-border-width-sm, 1px) solid var(--dyn-switch-track-border);
  border-radius: var(--dyn-border-radius-full, 9999px);
  transition: all var(--dyn-switch-transition);
}

.thumb {
  display: inline-block;
  background-color: var(--dyn-switch-thumb-bg);
  border-radius: var(--dyn-border-radius-full, 50%);
  box-shadow: var(--dyn-switch-thumb-shadow);
  transform: translateX(0);
  transition: transform var(--dyn-switch-transition);
  pointer-events: none;
}

/* SIZES */

.sizeSm .track {
  width: var(--dyn-switch-size-width-sm, 2rem);
  height: var(--dyn-switch-size-height-sm, 1rem);
}

.sizeSm .thumb {
  width: var(--dyn-switch-size-thumb-sm, 0.75rem);
  height: var(--dyn-switch-size-thumb-sm, 0.75rem);
  transform: translateX(2px);
  margin-top: calc((var(--dyn-switch-size-height-sm, 1rem) - var(--dyn-switch-size-thumb-sm, 0.75rem)) / 2 - 1px);
}

.sizeSm .input:checked + .track .thumb {
  transform: translateX(calc(var(--dyn-switch-size-width-sm, 2rem) - var(--dyn-switch-size-thumb-sm, 0.75rem) - 2px));
}

.sizeMd .track {
  width: var(--dyn-switch-size-width-md, 2.75rem);
  height: var(--dyn-switch-size-height-md, 1.5rem);
}

.sizeMd .thumb {
  width: var(--dyn-switch-size-thumb-md, 1.25rem);
  height: var(--dyn-switch-size-thumb-md, 1.25rem);
  transform: translateX(2px);
  margin-top: calc((var(--dyn-switch-size-height-md, 1.5rem) - var(--dyn-switch-size-thumb-md, 1.25rem)) / 2 - 1px);
}

.sizeMd .input:checked + .track .thumb {
  transform: translateX(calc(var(--dyn-switch-size-width-md, 2.75rem) - var(--dyn-switch-size-thumb-md, 1.25rem) - 2px));
}

.sizeLg .track {
  width: var(--dyn-switch-size-width-lg, 3.5rem);
  height: var(--dyn-switch-size-height-lg, 2rem);
}

.sizeLg .thumb {
  width: var(--dyn-switch-size-thumb-lg, 1.75rem);
  height: var(--dyn-switch-size-thumb-lg, 1.75rem);
  transform: translateX(2px);
  margin-top: calc((var(--dyn-switch-size-height-lg, 2rem) - var(--dyn-switch-size-thumb-lg, 1.75rem)) / 2 - 1px);
}

.sizeLg .input:checked + .track .thumb {
  transform: translateX(calc(var(--dyn-switch-size-width-lg, 3.5rem) - var(--dyn-switch-size-thumb-lg, 1.75rem) - 2px));
}

/* COLORS (Active State) */

.input:checked + .track {
  background-color: var(--dyn-switch-track-bg-checked);
}

.colorSuccess .input:checked + .track {
  --dyn-switch-track-bg-checked: var(--dyn-switch-color-track-success, var(--dyn-feedback-positive-default, #22c55e));
}

.colorDanger .input:checked + .track {
  --dyn-switch-track-bg-checked: var(--dyn-switch-color-track-danger, var(--dyn-feedback-negative-default, #ef4444));
}

.colorWarning .input:checked + .track {
  --dyn-switch-track-bg-checked: var(--dyn-switch-color-track-warning, var(--dyn-feedback-warning-default, #f59e0b));
}

.colorInfo .input:checked + .track {
  --dyn-switch-track-bg-checked: var(--dyn-switch-color-track-info, var(--dyn-feedback-info-default, #0ea5e9));
}

/* FOCUS STATE */

.input:focus-visible + .track {
  box-shadow: 0 0 0 var(--dyn-border-width-lg, 3px) var(--dyn-switch-focus-ring);
  border-color: var(--dyn-switch-focus-ring);
}

/* ==========================================================================
   LABEL & DESCRIPTION
   ========================================================================== */

.label {
  font-family: var(--dyn-switch-font-family);
  font-weight: var(--dyn-switch-font-weight);
  color: var(--dyn-switch-label-color);
}

.sizeSm .label {
  font-size: var(--dyn-font-size-sm, 0.875rem);
}

.sizeMd .label {
  font-size: var(--dyn-font-size-base, 1rem);
}

.sizeLg .label {
  font-size: var(--dyn-font-size-lg, 1.125rem);
}

.description {
  font-size: var(--dyn-font-size-xs, 0.75rem);
  color: var(--dyn-switch-desc-color);
  margin-left: calc(var(--dyn-switch-size-width-md, 2.75rem) + var(--dyn-switch-wrapper-gap));
}

.sizeSm .description {
  margin-left: calc(var(--dyn-switch-size-width-sm, 2rem) + var(--dyn-switch-wrapper-gap));
}

.sizeLg .description {
  margin-left: calc(var(--dyn-switch-size-width-lg, 3.5rem) + var(--dyn-switch-wrapper-gap));
}

/* ERROR STATE */

.error .track {
  border-color: var(--dyn-feedback-negative-default, #ef4444);
}

.error .label {
  color: var(--dyn-feedback-negative-default, #ef4444);
}

/* DARK MODE - Dynamically handled via semantic tokens! */
