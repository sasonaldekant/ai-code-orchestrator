/**
 * DynTabs Component Styles
 * 100% Design Token Compliance
 * Unified Token Strategy: 3-Level Fallback Pattern
 */

.tabs {
  /* Component Tokens (Layer 2) */
  --dyn-tabs-bg: var(--dyn-tabs-color-root-background, var(--dyn-semantic-surface, #ffffff));
  --dyn-tabs-header-bg: var(--dyn-tabs-color-header-background, var(--dyn-semantic-surface-muted, #f8fafc));
  --dyn-tabs-active-bg: var(--dyn-tabs-color-active-background, var(--dyn-semantic-surface, #ffffff));
  --dyn-tabs-hover-bg: var(--dyn-tabs-color-hover-background, var(--dyn-semantic-surface-hover, #f1f5f9));

  --dyn-tabs-text: var(--dyn-tabs-color-text, var(--dyn-semantic-text-secondary, #475569));
  --dyn-tabs-text-hover: var(--dyn-tabs-color-text-hover, var(--dyn-theme-primary, #2563eb));
  --dyn-tabs-text-active: var(--dyn-tabs-color-text-active, var(--dyn-theme-primary, #2563eb));
  --dyn-tabs-text-disabled: var(--dyn-tabs-color-text-disabled, var(--dyn-semantic-text-disabled, #94a3b8));
  --dyn-tabs-content-text: var(--dyn-tabs-color-content-text, var(--dyn-semantic-text, #1e293b));

  --dyn-tabs-border: var(--dyn-tabs-color-root-border, var(--dyn-semantic-border, #e2e8f0));
  --dyn-tabs-indicator: var(--dyn-tabs-color-indicator, var(--dyn-theme-primary, #2563eb));
  --dyn-tabs-icon-color: var(--dyn-tabs-color-icon, var(--dyn-theme-primary, #2563eb));

  --dyn-tabs-radius: var(--dyn-tabs-size-root-radius, var(--dyn-border-radius-md, 0.5rem));
  --dyn-tabs-border-width: var(--dyn-tabs-size-border-width, var(--dyn-border-width-sm, 1px));
  --dyn-tabs-border-width-active: var(--dyn-tabs-size-border-width-active, var(--dyn-border-width-md, 2px));

  --dyn-tabs-padding-x: var(--dyn-tabs-size-padding-x, var(--dyn-spacing-lg, 1rem));
  --dyn-tabs-padding-y: var(--dyn-tabs-size-padding-y, var(--dyn-spacing-sm, 0.5rem));

  --dyn-tabs-icon-size: var(--dyn-tabs-size-icon, var(--dyn-spacing-md, 1rem));
  --dyn-tabs-transition: var(--dyn-tabs-animation-duration, var(--dyn-transition-normal, 0.2s)) var(--dyn-tabs-animation-easing, ease);

  /* Base Container */
  display: flex;
  width: 100%;
  background: var(--dyn-tabs-bg);
  border-radius: var(--dyn-tabs-radius);
  overflow: hidden;
  border: var(--dyn-tabs-border-width) solid var(--dyn-tabs-border);
  box-shadow: var(--dyn-shadow-sm, 0 1px 2px 0 rgba(0, 0, 0, 0.05));
  transition: all var(--dyn-tabs-transition);
}

/* ============================================
   POSITIONING
   ============================================ */

.tabsTop {
  flex-direction: column;
}

.tabsBottom {
  flex-direction: column-reverse;
}

.tabsLeft {
  flex-direction: row;
}

.tabsRight {
  flex-direction: row-reverse;
}

.tabsBottom .tablist {
  border-bottom: none;
  border-top: var(--dyn-tabs-border-width) solid var(--dyn-tabs-border);
}

.tabsBottom .tab {
  border-radius: 0 0 var(--dyn-border-radius-sm) var(--dyn-border-radius-sm);
}

.tabsBottom .tabActive::after {
  top: calc(-1 * var(--dyn-tabs-border-width));
  bottom: auto;
}

.tabsLeft .tablist,
.tabsRight .tablist {
  flex-direction: column;
  border-bottom: none;
  padding: var(--dyn-spacing-xs);
  min-width: var(--dyn-tabs-size-vertical-minWidth, 140px);
}

.tabsLeft .tablist {
  border-right: var(--dyn-tabs-border-width) solid var(--dyn-tabs-border);
}

.tabsRight .tablist {
  border-left: var(--dyn-tabs-border-width) solid var(--dyn-tabs-border);
}

.tabsLeft .tab {
  border-radius: var(--dyn-border-radius-sm) 0 0 var(--dyn-border-radius-sm);
  justify-content: flex-start;
  width: 100%;
}

.tabsRight .tab {
  border-radius: 0 var(--dyn-border-radius-sm) var(--dyn-border-radius-sm) 0;
  justify-content: flex-start;
  width: 100%;
}

.tabsLeft .tabActive::after,
.tabsRight .tabActive::after {
  top: 0;
  bottom: 0;
  width: var(--dyn-tabs-border-width-active);
  height: auto;
}

.tabsLeft .tabActive::after {
  right: calc(-1 * var(--dyn-tabs-border-width));
  left: auto;
}

.tabsRight .tabActive::after {
  left: calc(-1 * var(--dyn-tabs-border-width));
  right: auto;
}

/* ============================================
   TAB LIST
   ============================================ */

.tablist {
  display: flex;
  position: relative;
  background: var(--dyn-tabs-header-bg);
  margin: 0;
  padding: 0;
  list-style: none;
  z-index: 1;
  border-bottom: var(--dyn-tabs-border-width) solid var(--dyn-tabs-border);
  flex-wrap: nowrap;
  width: 100%;
  min-width: 0;
}

.tabsFitted .tablist {
  width: 100%;
}

.tabsPills .tablist {
  gap: var(--dyn-spacing-xxs, 0.125rem);
  padding: var(--dyn-spacing-xs, 0.25rem);
}

.tabsUnderlined .tablist {
  padding: 0 var(--dyn-spacing-xs, 0.25rem);
}

.scrollable .tablist {
  overflow-x: auto;
  overflow-y: hidden;
  scrollbar-width: thin;
  scrollbar-color: var(--dyn-tabs-border) transparent;
}

.scrollable .tablist::-webkit-scrollbar {
  height: var(--dyn-spacing-xs, 0.25rem);
}

.scrollable .tablist::-webkit-scrollbar-thumb {
  background: var(--dyn-tabs-border);
  border-radius: var(--dyn-border-radius-full, 9999px);
}

/* ============================================
   TAB BUTTON
   ============================================ */

.tab {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--dyn-tabs-padding-y) var(--dyn-tabs-padding-x);
  background: transparent;
  border: none;
  border-radius: var(--dyn-border-radius-sm, 0.25rem) var(--dyn-border-radius-sm, 0.25rem) 0 0;
  cursor: pointer;
  color: var(--dyn-tabs-text);
  font-family: inherit;
  font-size: var(--dyn-font-size-sm, 0.875rem);
  font-weight: var(--dyn-font-weight-medium, 500);
  transition: all var(--dyn-tabs-transition);
  white-space: nowrap;
  position: relative;
  flex-shrink: 0;
  min-height: var(--dyn-spacing-3xl, 3rem);
}

.tabsFitted .tab {
  flex: 1;
  min-width: 0;
}

.icon {
  color: var(--dyn-tabs-icon-color);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  margin-right: var(--dyn-spacing-xxs, 0.125rem);
}

.tab:hover:not(.tabDisabled) {
  color: var(--dyn-tabs-text-hover);
  background: var(--dyn-tabs-hover-bg);
}

.tabActive {
  color: var(--dyn-tabs-text-active);
  background: var(--dyn-tabs-active-bg);
  font-weight: var(--dyn-font-weight-semibold, 600);
}

.tabActive::after {
  content: '';
  position: absolute;
  bottom: calc(-1 * var(--dyn-tabs-border-width));
  left: 0;
  right: 0;
  height: var(--dyn-tabs-border-width-active);
  background-color: var(--dyn-tabs-indicator);
}

.tabDisabled {
  opacity: var(--dyn-opacity-disabled, 0.5);
  cursor: not-allowed;
  color: var(--dyn-tabs-text-disabled);
}

/* ============================================
   SIZE VARIANTS
   ============================================ */

.sizeSm {
  --dyn-tabs-padding-x: var(--dyn-spacing-md, 0.75rem);
  --dyn-tabs-padding-y: var(--dyn-spacing-xs, 0.25rem);
}

.tab.sizeSm {
  min-height: var(--dyn-spacing-2xl, 2rem);
  font-size: var(--dyn-font-size-xs, 0.75rem);
}

.sizeLg {
  --dyn-tabs-padding-x: var(--dyn-spacing-xl, 1.5rem);
  --dyn-tabs-padding-y: var(--dyn-spacing-md, 0.75rem);
}

.tab.sizeLg {
  min-height: var(--dyn-spacing-4xl, 4rem);
  font-size: var(--dyn-font-size-md, 1rem);
}

/* ============================================
   VARIANT VARIANTS
   ============================================ */

.variantPill {
  border-radius: var(--dyn-border-radius-pill, 9999px) !important;
  margin: var(--dyn-spacing-xxs, 0.125rem);
  padding: var(--dyn-spacing-xs, 0.25rem) var(--dyn-spacing-md, 0.75rem);
}

.variantPill.tabActive {
  background: var(--dyn-tabs-indicator) !important;
  color: var(--dyn-semantic-text-inverse, #ffffff) !important;
}

.variantPill.tabActive::after {
  display: none;
}

.variantUnderlined .tab {
  border-radius: 0 !important;
  background: transparent !important;
}

.variantUnderlined.tabActive::after {
  height: var(--dyn-border-width-lg, 3px);
  bottom: 0;
}

.variantBordered {
  border: var(--dyn-tabs-border-width) solid var(--dyn-tabs-border);
}

.tabsTop .variantBordered,
.tabsBottom .variantBordered {
  margin-right: calc(-1 * var(--dyn-tabs-border-width));
}

.tabsLeft .variantBordered,
.tabsRight .variantBordered {
  margin-bottom: calc(-1 * var(--dyn-tabs-border-width));
}

.variantBordered.tabActive {
  border-color: var(--dyn-tabs-border) var(--dyn-tabs-border) var(--dyn-tabs-active-bg);
  background: var(--dyn-tabs-active-bg);
  z-index: 2;
}

.variantBordered.tabActive::after {
  display: none;
}

/* ============================================
   INTERACTIVE ELEMENTS
   ============================================ */

.closeButton {
  display: flex;
  align-items: center;
  justify-content: center;
  width: var(--dyn-spacing-xl, 1.25rem);
  height: var(--dyn-spacing-xl, 1.25rem);
  border-radius: var(--dyn-border-radius-xs, 0.125rem);
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  opacity: var(--dyn-opacity-disabled, 0.5);
  margin-left: var(--dyn-spacing-xs, 0.25rem);
  transition: all var(--dyn-transition-fast, 0.1s);
}

.closeButton:hover {
  opacity: 1;
  background: var(--dyn-feedback-negative-subtle, rgba(220, 38, 38, 0.1));
  color: var(--dyn-feedback-negative-default, #dc2626);
}

.addableButton {
  display: flex;
  align-items: center;
  justify-content: center;
  align-self: center;
  width: var(--dyn-spacing-2xl, 2rem);
  height: var(--dyn-spacing-2xl, 2rem);
  margin-left: var(--dyn-spacing-md, 0.75rem);
  border-radius: var(--dyn-border-radius-full, 9999px);
  border: var(--dyn-tabs-border-width) dashed var(--dyn-tabs-border);
  background: transparent;
  color: var(--dyn-tabs-text);
  cursor: pointer;
  transition: all var(--dyn-tabs-transition);
}

.addableButton:hover {
  background: var(--dyn-tabs-hover-bg);
  border-style: solid;
}

/* ============================================
   PANEL & LOADING
   ============================================ */

.panel {
  flex: 1;
  padding: var(--dyn-spacing-lg, 1rem);
  background: var(--dyn-tabs-active-bg);
  color: var(--dyn-tabs-content-text);
  min-height: var(--dyn-spacing-3xl, 3rem);
}

.loading {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--dyn-spacing-3xl, 3rem);
  gap: var(--dyn-spacing-md, 0.75rem);
  color: var(--dyn-tabs-text);
  min-height: 200px;
}

.panelAnimated {
  animation: dyn-tabs-fade-in var(--dyn-tabs-transition);
}

@keyframes dyn-tabs-fade-in {
  from {
    opacity: 0;
    transform: translateY(2px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* DARK MODE - Dynamically handled via semantic tokens! */
