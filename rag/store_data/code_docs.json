[{"id": "dyn_ui_docs_COMPLETE_KNOWLEDGE_BASE", "text": "# DYN UI - COMPLETE KNOWLEDGE BASE v2.0\n\n## Unified Documentation (All-in-One)\n\n**Status**: \u2705 READY FOR IMPLEMENTATION\n**Version**: 2.0 - Unified & Standardized\n**Date**: December 24, 2025\n**Purpose**: Single, consolidated source of truth\n\n---\n\n## TABLE OF CONTENTS\n\n1. [Executive Summary](#executive-summary)\n2. [Three-Layer Token System](#three-layer-token-system)\n3. [Token Categories & Values](#token-categories--values)\n4. [Naming Conventions](#naming-conventions)\n5. [Component Structure](#component-structure)\n6. [Implementation Workflow](#implementation-workflow)\n7. [Verification Checklist](#verification-checklist)\n8. [P0 Priority Roadmap](#p0-priority-roadmap)\n9. [Common Patterns & Examples](#common-patterns--examples)\n10. [Troubleshooting](#troubleshooting)\n\n---\n\n## EXECUTIVE SUMMARY\n\n### What This Is\n\nThis document consolidates **19 scattered files** into **1 unified knowledge base**:\n\n- \u2705 CLEAN-PLAN.md\n- \u2705 P0-REFACTOR-START.md\n- \u2705 IMPLEMENTATION-READY.md\n- \u2705 COMPONENT-TEMPLATES-README.md\n- \u2705 COMPREHENSIVE_AUDIT_REPORT.md\n- \u2705 ARCHITECTURE/ (5 files)\n- \u2705 GUIDES/ (6 files)\n\n**Result**: Single source of truth for AI agents and developers\n\n### Project Vision\n\n**100% Design Token Compliance** - Every component uses standardized CSS tokens across three-layer architecture.\n\n### Current Status\n\n| Phase | Priority | Components | Timeline | Status |\n|-------|----------|-----------|----------|--------|\n| **P0** | \ud83d\udd34 CRITICAL | 3 | 2 weeks | \u23f3 Next |\n| **P1** | \ud83d\udfe1 HIGH | 5+ | 2 weeks | \ud83d\udccb Queued |\n| **QA** | \ud83d\udfe2 STANDARD | All | 1 week | \u23f9\ufe0f Queued |\n| **Docs** | \ud83d\udfe2 STANDARD | All | 1 week | \u23f9\ufe0f Queued |\n\n---\n\n## THREE-LAYER TOKEN SYSTEM\n\n### Layer 1: Foundation Tokens (Global, Immutable)\n\n**Location**: `packages/design-tokens/styles/foundations/`\n\n**Scope**: Global `:root` (affects all components)\n\n**Rule**: Never reference other tokens, only hardcoded values\n\n#### Colors\n\n```css\n--dyn-color-primary: #2563eb\n--dyn-color-secondary: #f3f4f6\n--dyn-color-success: #10b981\n--dyn-color-warning: #f59e0b\n--dyn-color-error: #ef4444\n--dyn-color-info: #3b82f6\n--dyn-color-background: #ffffff\n--dyn-color-surface: #f9fafb\n--dyn-color-text: #1f2937\n--dyn-color-text-secondary: #6b7280\n--dyn-color-border: #d1d5db\n--dyn-color-disabled: #d1d5db\n```\n\n#### Spacing\n\n```css\n--dyn-spacing-xs: 0.25rem    /* 4px */\n--dyn-spacing-sm: 0.5rem     /* 8px */\n--dyn-spacing-md: 0.75rem    /* 12px */\n--dyn-spacing-lg: 1rem       /* 16px */\n--dyn-spacing-xl: 1.5rem     /* 24px */\n--dyn-spacing-2xl: 2rem      /* 32px */\n--dyn-spacing-3xl: 3rem      /* 48px */\n```\n\n#### Typography\n\n```css\n/* Font Sizes */\n--dyn-font-size-xs: 0.75rem    /* 12px */\n--dyn-font-size-sm: 0.875rem   /* 14px */\n--dyn-font-size-base: 1rem     /* 16px */\n--dyn-font-size-lg: 1.125rem   /* 18px */\n--dyn-font-size-xl: 1.25rem    /* 20px */\n\n/* Font Weights */\n--dyn-font-weight-normal: 400\n--dyn-font-weight-medium: 500\n--dyn-font-weight-semibold: 600\n--dyn-font-weight-bold: 700\n\n/* Line Heights */\n--dyn-line-height-tight: 1.2\n--dyn-line-height-normal: 1.5\n--dyn-line-height-relaxed: 1.75\n```\n\n#### Shadows\n\n```css\n--dyn-shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.05)\n--dyn-shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.1)\n--dyn-shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1)\n--dyn-shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1)\n--dyn-shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.1)\n```\n\n#### Border Radius\n\n```css\n--dyn-radius-none: 0\n--dyn-radius-sm: 0.25rem     /* 4px */\n--dyn-radius-md: 0.5rem      /* 8px */\n--dyn-radius-lg: 0.75rem     /* 12px */\n--dyn-radius-xl: 1rem        /* 16px */\n--dyn-radius-full: 9999px\n```\n\n#### Transitions\n\n```css\n--dyn-transition-fast: 150ms\n--dyn-transition-base: 200ms\n--dyn-transition-slow: 300ms\n--dyn-transition-easing: cubic-bezier(0.4, 0, 0.2, 1)\n```\n\n#### Z-Index\n\n```css\n--dyn-z-index-dropdown: 1000\n--dyn-z-index-sticky: 1100\n--dyn-z-index-fixed: 1200\n--dyn-z-index-modal-backdrop: 1300\n--dyn-z-index-modal: 1400\n--dyn-z-index-popover: 1500\n--dyn-z-index-tooltip: 1600\n```\n\n### Layer 2: Component Tokens (Component-Scoped)\n\n**Location**: Component `DynComponent.module.css :root` section\n\n**Scope**: Component-only (no leakage)\n\n**Rule**: MUST reference foundation tokens with 3-level fallback\n\n#### Button Example\n\n```css\n:root {\n  /* Base tokens */\n  --dyn-button-bg: var(--dyn-color-primary, var(--legacy-button-bg, #2563eb));\n  --dyn-button-color: var(--dyn-color-white, var(--legacy-button-text, #ffffff));\n  --dyn-button-padding-y: var(--dyn-spacing-md, var(--legacy-button-pad-y, 0.75rem));\n  --dyn-button-padding-x: var(--dyn-spacing-lg, var(--legacy-button-pad-x, 1rem));\n  --dyn-button-font-size: var(--dyn-font-size-base, var(--legacy-button-size, 1rem));\n  --dyn-button-font-weight: var(--dyn-font-weight-medium, 500);\n  --dyn-button-border-radius: var(--dyn-radius-md, var(--legacy-button-radius, 0.5rem));\n  --dyn-button-shadow: none;\n  --dyn-button-transition: all var(--dyn-transition-base, 200ms) var(--dyn-transition-easing);\n  --dyn-button-touch-target: var(--dyn-spacing-xl, 2.75rem);\n\n  /* State variants */\n  --dyn-button-bg-hover: var(--dyn-color-primary-hover, #1d4ed8);\n  --dyn-button-bg-active: var(--dyn-color-primary-active, #1e40af);\n  --dyn-button-opacity-disabled: 0.5;\n}\n```\n\n#### Input Example\n\n```css\n:root {\n  --dyn-input-bg: var(--dyn-color-surface, var(--legacy-input-bg, #ffffff));\n  --dyn-input-color: var(--dyn-color-text, var(--legacy-input-text, #1f2937));\n  --dyn-input-border: var(--dyn-color-border, var(--legacy-input-border, #d1d5db));\n  --dyn-input-border-hover: var(--dyn-color-border-hover, #9ca3af);\n  --dyn-input-border-focus: var(--dyn-color-primary, #2563eb);\n  --dyn-input-placeholder: var(--dyn-color-text-secondary, #9ca3af);\n  --dyn-input-padding-y: var(--dyn-spacing-sm, 0.5rem);\n  --dyn-input-padding-x: var(--dyn-spacing-md, 0.75rem);\n  --dyn-input-font-size: var(--dyn-font-size-base, 1rem);\n}\n```\n\n### Layer 3: Theme Tokens (Optional Overrides)\n\n**Location**: `@media` queries or `themes/` folder\n\n**Scope**: Override foundation tokens only\n\n**Rule**: Only change what's different, component tokens inherit automatically\n\n#### Dark Mode Example\n\n```css\n@media (prefers-color-scheme: dark) {\n  :root {\n    /* Override foundation tokens */\n    --dyn-color-primary: #1e3a8a;\n    --dyn-color-secondary: #1f2937;\n    --dyn-color-background: #0f172a;\n    --dyn-color-surface: #1e293b;\n    --dyn-color-text: #f9fafb;\n    --dyn-color-border: rgba(255, 255, 255, 0.1);\n\n    /* Component tokens automatically use new values */\n    /* No need to redefine component tokens */\n  }\n}\n```\n\n#### High Contrast Example\n\n```css\n@media (prefers-contrast: more) {\n  :root {\n    --dyn-color-primary: #000000;\n    --dyn-shadow-sm: none;\n    --dyn-shadow-md: none;\n  }\n}\n```\n\n---\n\n## NAMING CONVENTIONS\n\n### Pattern\n\n```\n--dyn-[component]-[property]-[state]\n```\n\n### Components\n\n1. **Prefix** (`--dyn-`)\n   - Purpose: Namespace to avoid conflicts\n   - Always lowercase with hyphens\n   - Example: `--dyn-button-bg`\n\n2. **Domain** (component type)\n   - Singular noun (button, not buttons)\n   - Examples: `button`, `input`, `flex`, `table`, `modal`\n   - Never abbreviated: `button` not `btn`\n\n3. **Property** (what's being styled)\n   - Examples: `bg`, `color`, `border`, `padding`, `shadow`\n   - Use standard abbreviations: `bg`, `padding-y`, `padding-x`\n   - Full words for others: `color`, `border`, `shadow`\n\n4. **State** (optional, for variants)\n   - Examples: `hover`, `focus`, `disabled`, `error`, `dark`\n   - Only if distinguishes behavior/appearance\n   - Lowercase adjective\n\n### Examples (Correct \u2705)\n\n```css\n--dyn-button-bg                 /* component-property */\n--dyn-button-bg-hover           /* component-property-state */\n--dyn-input-border-focus        /* component-property-state */\n--dyn-badge-padding-y           /* component-property (axis) */\n--dyn-table-header-bg           /* component-subcomponent-property */\n--dyn-nav-item-active-bg        /* component-subcomponent-property-state */\n```\n\n### Examples (Wrong \u274c)\n\n```css\n--btn-bg                        /* no prefix, abbreviated domain */\n--dyn-buttons-bg                /* plural domain */\n--dyn-button-backgroundColor    /* camelCase property */\n--button_padding                /* underscore separator */\n--DynButtonBg                   /* uppercase */\n--dyn-badge-accent              /* vague property */\n```\n\n---\n\n## COMPONENT STRUCTURE\n\n### 6-File Template\n\nEvery component MUST have exactly these files:\n\n```\nDynComponent/\n\u251c\u2500\u2500 DynComponent.tsx              # React component\n\u251c\u2500\u2500 DynComponent.types.ts         # TypeScript types\n\u251c\u2500\u2500 DynComponent.module.css       # Styles with tokens\n\u251c\u2500\u2500 DynComponent.stories.tsx      # Storybook documentation\n\u251c\u2500\u2500 DynComponent.test.tsx         # Jest tests (80%+ coverage)\n\u251c\u2500\u2500 index.ts                      # Exports\n\u2514\u2500\u2500 README.md                     # Optional: component docs\n```\n\n### CSS Module Structure\n\n```css\n/* DynComponent.module.css */\n\n/* ================================================\n   1. COMPONENT TOKENS (define at top)\n   ================================================ */\n:root {\n  --dyn-component-bg: var(--dyn-color-primary, #2563eb);\n  --dyn-component-color: var(--dyn-color-white, #ffffff);\n  --dyn-component-padding-y: var(--dyn-spacing-md, 0.75rem);\n  --dyn-component-padding-x: var(--dyn-spacing-lg, 1rem);\n  --dyn-component-font-size: var(--dyn-font-size-base, 1rem);\n  --dyn-component-border-radius: var(--dyn-radius-md, 0.5rem);\n  --dyn-component-transition: all var(--dyn-transition-base, 200ms);\n}\n\n/* ================================================\n   2. BASE STYLES (use tokens, no hardcoding)\n   ================================================ */\n.component {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  padding: var(--dyn-component-padding-y) var(--dyn-component-padding-x);\n  background-color: var(--dyn-component-bg);\n  color: var(--dyn-component-color);\n  font-size: var(--dyn-component-font-size);\n  border-radius: var(--dyn-component-border-radius);\n  transition: var(--dyn-component-transition);\n  cursor: pointer;\n}\n\n/* ================================================\n   3. INTERACTIVE STATES\n   ================================================ */\n.component:hover {\n  background-color: var(--dyn-color-primary-hover, #1d4ed8);\n}\n\n.component:active {\n  background-color: var(--dyn-color-primary-active, #1e40af);\n}\n\n.component:focus-visible {\n  outline: 2px solid var(--dyn-color-focus, #3b82f6);\n  outline-offset: 2px;\n}\n\n.component:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n  pointer-events: none;\n}\n\n/* ================================================\n   4. VARIANTS (override tokens only, never properties)\n   ================================================ */\n.componentSecondary {\n  --dyn-component-bg: var(--dyn-color-secondary, #f3f4f6);\n  --dyn-component-color: var(--dyn-color-text, #1f2937);\n}\n\n.componentTertiary {\n  --dyn-component-bg: transparent;\n  --dyn-component-color: var(--dyn-color-primary, #2563eb);\n}\n\n/* ================================================\n   5. DARK MODE (override tokens only)\n   ================================================ */\n@media (prefers-color-scheme: dark) {\n  :root {\n    --dyn-component-bg: var(--dyn-color-primary-dark, #1e3a8a);\n    --dyn-component-color: var(--dyn-color-text-dark, #f9fafb);\n  }\n\n  .componentSecondary {\n    --dyn-component-bg: var(--dyn-color-surface-dark, #1f2937);\n    --dyn-component-color: var(--dyn-color-text-dark, #f9fafb);\n  }\n}\n\n/* ================================================\n   6. RESPONSIVE (override tokens for mobile)\n   ================================================ */\n@media (max-width: 767px) {\n  :root {\n    --dyn-component-padding-y: var(--dyn-spacing-sm, 0.5rem);\n    --dyn-component-padding-x: var(--dyn-spacing-md, 0.75rem);\n  }\n\n  .component {\n    width: 100%;\n  }\n}\n\n/* ================================================\n   7. ACCESSIBILITY\n   ================================================ */\n@media (prefers-reduced-motion: reduce) {\n  .component {\n    --dyn-component-transition: none;\n  }\n}\n\n@media (prefers-contrast: more) {\n  .component {\n    border: 2px solid currentColor;\n  }\n}\n```\n\n---\n\n## IMPLEMENTATION WORKFLOW FOR NEW COMPONENTS\n\n### Step-by-Step\n\n#### Step 1: Copy Template\n\n```bash\ncp -r docs/TEMPLATES/TEMPLATE-Component src/components/DynNewComponent\n```\n\n#### Step 2: Rename Files\n\n```bash\ncd src/components/DynNewComponent\nsed -i 's/DinComponentTemplate/DynNewComponent/g' *\nsed -i 's/componentTemplate/newComponent/g' *\n```\n\n#### Step 3: Implement Component Logic\n\n**DynNewComponent.tsx** - React component\n\n```typescript\nimport React from 'react';\nimport styles from './DynNewComponent.module.css';\nimport type { DynNewComponentProps } from './DynNewComponent.types';\n\nexport const DynNewComponent = React.forwardRef<\n  HTMLButtonElement,\n  DynNewComponentProps\n>(({ children, variant = 'primary', disabled = false, ...rest }, ref) => {\n  const className = [\n    styles.component,\n    variant === 'secondary' && styles.componentSecondary,\n    variant === 'tertiary' && styles.componentTertiary,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  return (\n    <button ref={ref} className={className} disabled={disabled} {...rest}>\n      {children}\n    </button>\n  );\n});\n\nDynNewComponent.displayName = 'DynNewComponent';\n```\n\n**DynNewComponent.types.ts** - TypeScript types\n\n```typescript\nimport { ReactNode } from 'react';\n\nexport interface DynNewComponentProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  /**\n   * Component variant\n   * @default 'primary'\n   */\n  variant?: 'primary' | 'secondary' | 'tertiary';\n\n  /**\n   * Children content\n   */\n  children: ReactNode;\n\n  /**\n   * Is component disabled\n   * @default false\n   */\n  disabled?: boolean;\n}\n```\n\n**DynNewComponent.module.css** - Styles with tokens (see CSS Module Structure above)\n\n**DynNewComponent.stories.tsx** - Storybook\n\n```typescript\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { DynNewComponent } from './DynNewComponent';\n\nconst meta = {\n  title: 'Components/DynNewComponent',\n  component: DynNewComponent,\n  tags: ['autodocs'],\n} satisfies Meta<typeof DynNewComponent>;\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\nexport const Primary: Story = {\n  args: { children: 'Primary', variant: 'primary' },\n};\n\nexport const Secondary: Story = {\n  args: { children: 'Secondary', variant: 'secondary' },\n};\n\nexport const DarkMode: Story = {\n  args: { children: 'Dark Mode' },\n  parameters: { backgrounds: { default: 'dark' } },\n};\n```\n\n**DynNewComponent.test.tsx** - Jest tests (80%+ coverage)\n\n```typescript\nimport { render, screen } from '@testing-library/react';\nimport userEvent from '@testing-library/user-event';\nimport { DynNewComponent } from './DynNewComponent';\n\ndescribe('DynNewComponent', () => {\n  it('renders with children', () => {\n    render(<DynNewComponent>Click</DynNewComponent>);\n    expect(screen.getByText('Click')).toBeInTheDocument();\n  });\n\n  it('applies primary variant', () => {\n    const { container } = render(<DynNewComponent variant=\"primary\">Button</DynNewComponent>);\n    expect(container.querySelector('button')).not.toHaveClass('componentSecondary');\n  });\n\n  it('applies secondary variant', () => {\n    const { container } = render(<DynNewComponent variant=\"secondary\">Button</DynNewComponent>);\n    expect(container.querySelector('button')).toHaveClass('componentSecondary');\n  });\n\n  it('handles click events', async () => {\n    const handleClick = jest.fn();\n    render(<DynNewComponent onClick={handleClick}>Click</DynNewComponent>);\n    await userEvent.click(screen.getByRole('button'));\n    expect(handleClick).toHaveBeenCalled();\n  });\n\n  it('supports disabled state', () => {\n    render(<DynNewComponent disabled>Disabled</DynNewComponent>);\n    expect(screen.getByRole('button')).toBeDisabled();\n  });\n});\n```\n\n**index.ts** - Exports\n\n```typescript\nexport { DynNewComponent } from './DynNewComponent';\nexport type { DynNewComponentProps } from './DynNewComponent.types';\n```\n\n#### Step 4: Test Locally\n\n```bash\nnpm test DynNewComponent\nnpm run storybook\nnpm run a11y-audit\n```\n\n#### Step 5: Verify Against Checklist\n\nSee Verification Checklist section below\n\n#### Step 6: Commit & Push\n\n```bash\ngit add .\ngit commit -m \"feat(DynNewComponent): implement with 100% design token compliance\"\ngit push origin feat/new-component\n```\n\n#### Step 7: Create PR\n\nInclude full checklist in PR description\n\n---\n\n## VERIFICATION CHECKLIST\n\n### Pre-Commit CSS Standards\n\n- [ ] All tokens use `--dyn-` prefix\n- [ ] Pattern: `--dyn-[component]-[property]-[state]`\n- [ ] No hardcoded values (except in fallback)\n- [ ] 3-level fallback on ALL tokens:\n\n  ```css\n  var(--dyn-component, var(--legacy-component, fallback-value))\n  ```\n\n- [ ] All variants override tokens only (not CSS properties)\n- [ ] Dark mode: `@media (prefers-color-scheme: dark)` present\n- [ ] Responsive: `@media (max-width: 767px)` present\n- [ ] Accessibility: focus ring (3px+), contrast, touch targets (44px+)\n\n### Pre-Commit Testing\n\n- [ ] 80%+ Jest code coverage\n- [ ] All variants tested\n- [ ] All states tested (hover, focus, active, disabled)\n- [ ] Dark mode tested\n- [ ] Accessibility tested (Axe-core: 0 violations)\n- [ ] Responsive design tested\n\n### Pre-Commit React Standards\n\n- [ ] Component uses `React.forwardRef`\n- [ ] All props properly destructured\n- [ ] No hardcoded styles\n- [ ] `displayName` present\n- [ ] Proper TypeScript types (no `any`)\n- [ ] JSDoc comments on props\n\n### Pre-Commit Git Standards\n\n- [ ] Branch: `feat/component-name` or `fix/issue-name`\n- [ ] Commit message is clear and descriptive\n- [ ] No merge conflicts\n- [ ] No node_modules or build artifacts\n\n### Pre-Commit Storybook Standards\n\n- [ ] Story for each variant\n- [ ] Dark mode story present\n- [ ] Disabled/interactive stories present\n- [ ] Token usage documented\n- [ ] `autodocs` tag present\n\n### Pre-PR Requirements\n\n- [ ] All checklist items above completed\n- [ ] PR title: `feat(Component): 100% design token compliance`\n- [ ] PR description includes this full checklist\n- [ ] Related issues linked\n\n---\n\n## ISSUE EXAMPLE AND SOLUTION\n\n### 1. DynFlex (3 hours) - GLOBAL TOKENS ISSUE\n\n**Problem**: Uses global tokens \u2192 style leakage between components\n\n```css\n/* \u274c BEFORE - Global scope */\n:root {\n  --flex-gap: 12px;  /* Affects all components! */\n  --flex-padding: 8px;\n}\n\n/* \u2705 AFTER - Component scope with --dyn- prefix */\n.flex {\n  --dyn-flex-gap: var(--dyn-spacing-md, 12px);\n  --dyn-flex-padding: var(--dyn-spacing-md, 8px);\n}\n```\n\n**Solution**:\n\n1. Move token definitions from global `:root` to component `.flex` scope\n2. Rename tokens: `--flex-*` \u2192 `--dyn-flex-*`\n3. Add 3-level fallback to all tokens\n4. Test all flex variants in Storybook\n5. Verify dark mode works\n\n### 2. DynBadge (4 hours) - WRONG TOKEN NAMES\n\n**Problem**: Token names don't follow convention\n\n```css\n/* \u274c BEFORE - Wrong names */\n--badge-accent\n--badge-bg-color\n--badge-text-color\n\n/* \u2705 AFTER - Correct pattern */\n--dyn-badge-bg\n--dyn-badge-color\n--dyn-badge-padding\n```\n\n**Solution**:\n\n1. Rename all tokens to `--dyn-badge-*`\n2. Follow: `--dyn-badge-[property]-[state]`\n3. Reference foundation tokens\n4. Add dark mode overrides\n5. Test all badge variants\n\n### 3. DynModal (4 hours) - HARD-CODED VALUES\n\n**Problem**: Hard-coded pixels and colors instead of tokens\n\n```css\n/* \u274c BEFORE - Hard-coded */\n.modal {\n  background: rgba(0, 0, 0, 0.5);\n  width: 500px;\n  max-height: 90vh;\n  z-index: 999;\n  box-shadow: 0 20px 25px rgba(0, 0, 0, 0.1);\n}\n\n/* \u2705 AFTER - Tokenized */\n:root {\n  --dyn-modal-overlay-bg: var(--dyn-color-overlay, rgba(0, 0, 0, 0.5));\n  --dyn-modal-max-width: var(--dyn-modal-width, 500px);\n  --dyn-modal-max-height: var(--dyn-modal-height, 90vh);\n  --dyn-modal-z-index: var(--dyn-z-index-modal, 1400);\n  --dyn-modal-shadow: var(--dyn-shadow-lg, 0 20px 25px rgba(0, 0, 0, 0.1));\n}\n\n.modal {\n  background: var(--dyn-modal-overlay-bg);\n  max-width: var(--dyn-modal-max-width);\n  max-height: var(--dyn-modal-max-height);\n  z-index: var(--dyn-modal-z-index);\n  box-shadow: var(--dyn-modal-shadow);\n}\n```\n\n**Solution**:\n\n1. Identify all hard-coded values\n2. Create component tokens for each\n3. Add 3-level fallback\n4. Test all modal sizes (small, medium, large)\n5. Verify dark mode and responsive\n\n---\n\n## COMMON PATTERNS & EXAMPLES\n\n### Pattern: Using Tokens in Variants\n\n```css\n/* \u2705 Correct - override tokens only */\n.buttonPrimary {\n  --dyn-button-bg: var(--dyn-color-primary, #2563eb);\n  --dyn-button-color: var(--dyn-color-white, #ffffff);\n}\n\n.buttonSecondary {\n  --dyn-button-bg: var(--dyn-color-secondary, #f3f4f6);\n  --dyn-button-color: var(--dyn-color-text, #1f2937);\n}\n\n/* \u274c Wrong - duplicating properties */\n.buttonSecondary {\n  display: inline-flex;  /* redundant */\n  padding: 0.75rem 1rem;  /* hardcoded */\n  background-color: #f3f4f6;  /* hardcoded */\n}\n```\n\n### Pattern: Touch Targets\n\n```css\n/* Ensure mobile-friendly sizes */\n:root {\n  --dyn-button-touch-target: var(--dyn-spacing-xl, 2.75rem);  /* 44px */\n}\n\n.button {\n  min-width: var(--dyn-button-touch-target);\n  min-height: var(--dyn-button-touch-target);\n}\n```\n\n### Pattern: Focus Rings\n\n```css\n/* Accessible focus indicator */\n.button:focus-visible {\n  outline: 2px solid var(--dyn-color-focus, #3b82f6);\n  outline-offset: 2px;  /* space between element and outline */\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);  /* additional visibility */\n}\n```\n\n---\n\n## TROUBLESHOOTING\n\n### Issue: Token not applying\n\n**Symptom**: CSS property doesn't show the token value\n\n**Diagnosis**:\n\n1. Check token is defined\n2. Check CSS property references token\n3. Check 3-level fallback is correct\n4. Check component scope (not global)\n\n**Solution**:\n\n```css\n/* Wrong */\nvar(--dyn-button-bg)\n\n/* Right */\nvar(--dyn-button-bg, var(--legacy-button-bg, #2563eb))\n```\n\n### Issue: Dark mode not working\n\n**Symptom**: Colors don't change in dark mode\n\n**Diagnosis**:\n\n1. Check `@media (prefers-color-scheme: dark)` exists\n2. Check tokens are overridden inside media query\n3. Check browser supports color scheme preference\n\n**Solution**:\n\n```css\n@media (prefers-color-scheme: dark) {\n  :root {\n    --dyn-button-bg: var(--dyn-color-primary-dark, #1e3a8a);\n    --dyn-button-color: var(--dyn-color-text-dark, #f9fafb);\n  }\n}\n```\n\n### Issue: Styles leaking to other components\n\n**Symptom**: Changes to one component affect others\n\n**Diagnosis**:\n\n1. Check tokens defined in component `.module.css`, not global CSS\n2. Check `:root` is not setting global scope\n3. Check CSS Module is being imported\n\n**Solution**:\n\n```css\n/* \u274c Wrong - in global style.css */\n:root { --flex-gap: 12px; }  /* affects all */\n\n/* \u2705 Right - in DynFlex.module.css */\n:root { --dyn-flex-gap: var(--dyn-spacing-md, 12px); }  /* component scope */\n```\n\n### Issue: Token naming inconsistent\n\n**Symptom**: Tokens don't follow standard pattern\n\n**Diagnosis**:\n\n1. Check pattern: `--dyn-[component]-[property]-[state]`\n2. Check domain is singular (button, not buttons)\n3. Check property is not camelCase\n\n**Solution**:\n\n```css\n/* Wrong */\n--btn-bg\n--dyn-buttons-bg\n--dyn-button-backgroundColor\n--button_padding\n\n/* Right */\n--dyn-button-bg\n--dyn-button-padding-y\n--dyn-button-bg-hover\n```\n\n---\n\n## KEY RULES TO MEMORIZE\n\n1. **Token Prefix**: Always `--dyn-`\n2. **Naming**: `--dyn-[component]-[property]-[state]`\n3. **Fallback**: Always 3-level chain\n4. **No Hardcode**: Except in fallback values\n5. **Dark Mode**: `@media (prefers-color-scheme: dark)`\n6. **Responsive**: `@media (max-width: 767px)`\n7. **Testing**: Min 80% coverage\n8. **Accessibility**: Focus (3px), contrast (4.5:1), touch (44px)\n\n---\n\n**VERSION 2.0**\n**Unified, Consolidated, Complete**\n**December 24, 2025**\n\n**Status**: \u2705 **READY FOR IMPLEMENTATION**\n", "metadata": {"type": "documentation", "name": "COMPLETE_KNOWLEDGE_BASE", "source": "dyn-ui-main-v01", "category": "architecture"}, "embedding": [-0.08494856208562851, 0.030474122613668442, -0.012699524872004986, 0.02664482593536377, 0.04595703259110451, -0.05070970952510834, 0.005491063464432955, 0.04003440588712692, -0.02496551163494587, 0.030199022963643074, -0.003035902976989746, -0.028328603133559227, -0.019272178411483765, 0.008022824302315712, 0.00894731655716896, 0.05813956260681152, -0.06487847864627838, -0.006984794978052378, -0.0920606255531311, -0.0453159473836422, 0.021160978823900223, 0.05374881997704506, 0.00607341667637229, -0.009894689545035362, -0.008581864647567272, 0.12485776096582413, -0.04110885038971901, -0.07944057881832123, -0.021549006924033165, -0.04478718712925911, 0.02335059829056263, 0.07567408680915833, -0.011595271527767181, 0.0399555042386055, 0.058111123740673065, 0.08318771421909332, 0.018983440473675728, 0.009121759794652462, 0.024842962622642517, -0.03202378377318382, -0.022870102897286415, 0.020625652745366096, -0.02981196716427803, -0.004722690675407648, 0.022394830361008644, 0.00984207447618246, -0.0918184220790863, -0.07523704320192337, -0.03871221840381622, -0.022659894078969955, -0.0465027391910553, -0.034245945513248444, -0.008713548071682453, 0.03657807782292366, 0.05593757703900337, 0.09961626678705215, 0.019588414579629898, 0.0003810526104643941, -0.013992232270538807, -0.05418434739112854, -0.00480454508215189, 0.01562555879354477, -0.0466771274805069, -0.023126987740397453, 0.07905115932226181, -0.004692035261541605, -0.04277811199426651, 0.012678548693656921, 0.08041809499263763, -0.03110361285507679, -0.0672607570886612, 0.07266774028539658, 0.03376840054988861, 0.016486141830682755, 0.024531317874789238, 0.007039119955152273, -0.03085041604936123, 0.011632511392235756, -0.011872170493006706, -0.19469809532165527, 0.023011062294244766, 0.0549803152680397, -0.014558693394064903, 0.010381633415818214, -0.012164081446826458, 0.020344872027635574, -0.014887340366840363, 0.01663598045706749, -0.020683404058218002, -0.011903910897672176, -0.004683660808950663, -0.10896196961402893, 0.025925002992153168, -0.012203460559248924, 0.01154503133147955, 0.05722811073064804, 0.008918922394514084, 0.02977779507637024, 0.01592988148331642, 0.07827994227409363, -0.006472515873610973, 0.032071974128484726, 0.025102240964770317, -0.0871748998761177, -0.008830269798636436, 0.00985282938927412, 0.02492881752550602, -0.02094978280365467, -0.03291773051023483, -0.06719908863306046, 0.01970602385699749, -0.014987285248935223, -0.0820336639881134, -0.0482012964785099, 0.00781338196247816, -0.002353323856368661, 0.06250152736902237, -0.005302745383232832, -0.004661841783672571, 0.07605792582035065, 0.07059839367866516, 0.0006661582156084478, -0.0013737207045778632, -0.0009415564127266407, -0.01339865941554308, -0.02928081713616848, 0.0025169753935188055, 2.8134680358633955e-33, -0.01690002717077732, -0.036706067621707916, -0.03819805383682251, 0.09996109455823898, 0.049844227731227875, -0.02406497299671173, 0.04115946590900421, 0.00047170312609523535, -0.07404431700706482, 0.05275152251124382, -0.0379309356212616, 0.07863809168338776, -0.10363052785396576, -0.017982006072998047, -0.08294784277677536, -0.11917408555746078, -0.00764149334281683, 0.0920630693435669, -0.03148476779460907, -0.0005098053370602429, 0.04713543877005577, 0.01203007623553276, -0.07948094606399536, -0.07204806804656982, 0.030812161043286324, 0.0037159686908125877, 0.03349486365914345, 0.02514624036848545, -0.012445260770618916, -0.0251266211271286, 0.00292650586925447, 0.015095418319106102, 0.05048771947622299, 0.07256912440061569, -0.07452096045017242, 0.029724160209298134, -0.0015194519655779004, -0.07728265225887299, 0.0457436665892601, -0.03933526575565338, -0.04601224884390831, -0.028799526393413544, -0.061004288494586945, -0.040838614106178284, 0.0033338635694235563, 0.01232818327844143, 0.02450978197157383, -0.005107474513351917, 0.08095461875200272, -0.01107634138315916, 0.021397285163402557, 0.03495199605822563, 0.027902916073799133, -0.06560855358839035, -0.0157364122569561, -0.04984289035201073, -0.01787574589252472, 0.02972308360040188, 0.10750734061002731, 0.10802287608385086, -0.021742617711424828, 0.027809038758277893, -0.12353959679603577, 0.07509560137987137, 0.04739973321557045, 0.049809277057647705, 0.0025702996645122766, 0.05492305010557175, 0.09046109765768051, -0.010758194141089916, -0.05610712990164757, 0.031645357608795166, 0.038457613438367844, -0.038840293884277344, 0.1029607430100441, -0.04687775298953056, -0.033078402280807495, -0.06587878614664078, -0.08628534525632858, -0.08789320290088654, -0.07622595876455307, 0.007765885908156633, -0.03238709643483162, 0.04892474412918091, 0.029673093929886818, 0.04260236397385597, -0.02770247310400009, -0.03461674228310585, -0.06168602406978607, -0.011615634895861149, 0.017509814351797104, -0.012655788101255894, -0.01329352892935276, 0.0024769753217697144, 0.06564506888389587, -3.329936356247545e-33, 0.11458897590637207, 0.025052906945347786, -0.008018716238439083, -0.01860232464969158, 0.08288859575986862, 0.002413918264210224, -0.017020560801029205, -0.05881664529442787, 0.00011681426258292049, 0.05614975839853287, 0.00018010845815297216, -0.04707274213433266, -0.0030238598119467497, -0.08921973407268524, -0.05588263273239136, 0.060602858662605286, -0.05910906568169594, -0.057786550372838974, 0.03690347447991371, 0.04161663353443146, -0.0031577269546687603, 0.100095234811306, -0.0787748247385025, 0.09129267185926437, -0.029157064855098724, 0.018334945663809776, -0.03781919553875923, -0.012864756397902966, 0.11136914789676666, 0.03817574307322502, 0.009094230830669403, -0.09744083881378174, -0.003670428181067109, -0.020578846335411072, 0.03736204281449318, -0.08050931990146637, 0.03711184486746788, 0.03451608121395111, -0.04713977500796318, 0.030242374166846275, -0.007418251596391201, -0.010884517803788185, -0.04558432847261429, -0.010820943862199783, 0.030189961194992065, 0.03090021014213562, 0.027399728074669838, 0.09649907052516937, -0.06680238246917725, -0.0199456624686718, 0.04552125930786133, -0.06385823339223862, -0.0608663372695446, -0.024900782853364944, 0.008130025118589401, 0.12101048976182938, 0.10060965269804001, -0.038949284702539444, -0.057561688125133514, 0.0032737823203206062, 0.014934681355953217, -0.02081301063299179, 0.039229076355695724, -0.02322009950876236, 0.06756178289651871, -0.05501032993197441, -0.056293338537216187, -0.003136382205411792, -0.006783734075725079, 0.04346264526247978, -0.0074492874555289745, 0.005740490276366472, -0.07053543627262115, -0.07337121665477753, 0.138191819190979, -0.033866699784994125, 0.08139736205339432, -0.13593237102031708, 0.07789332419633865, 0.05758950114250183, -0.06787638366222382, 0.015283320099115372, 0.018489928916096687, 0.07337656617164612, 0.026085924357175827, 0.041829194873571396, -0.025617118924856186, 0.1094398945569992, 0.0006812092615291476, 0.07891229540109634, -0.05749429389834404, -0.014662652276456356, 0.04778364673256874, 0.05290121212601662, -0.06354093551635742, -6.34287999901062e-08, -0.0745096430182457, -0.015197652392089367, -0.09227406233549118, -0.026077818125486374, 0.0039386204443871975, -0.04676049202680588, -0.00046471424866467714, 0.0593312531709671, 0.010758237913250923, -0.026298929005861282, 0.019500786438584328, -0.019686920568346977, -0.09395986050367355, -0.05692536383867264, 0.018982481211423874, -0.030189402401447296, 0.020365815609693527, 0.025169728323817253, -0.07109510153532028, -0.02729174494743347, 0.07876092195510864, -0.04201008751988411, -0.037155862897634506, 0.01282015535980463, 0.03312822803854942, -0.00561768002808094, 0.014143086038529873, 0.14654143154621124, 0.02504705637693405, 0.010265260003507137, 0.021615272387862206, -0.039527926594018936, -0.0223289392888546, -0.012834068387746811, 0.0006261009839363396, 0.009880466386675835, 0.0851275846362114, -0.006642793770879507, 0.06406673789024353, -0.012329994700849056, 0.02559574879705906, -0.005506495013833046, -3.14347526000347e-05, 0.07418190687894821, 0.01840141788125038, -0.0177241750061512, -0.11641333997249603, -0.04083816707134247, 0.007631511427462101, -0.0822124183177948, -0.05616467818617821, -0.03759441897273064, 0.005681526847183704, 0.09246262162923813, -0.02018769644200802, 0.03697830066084862, 0.030245523899793625, -0.01737443543970585, 0.0817428007721901, -0.04963288456201553, 0.09716060757637024, 0.039157506078481674, 0.06585266441106796, 0.042957380414009094]}, {"id": "dyn_ui_docs_COMPONENT_COMPOSITION_GUIDE", "text": "# DynUI Component Composition Guide\n\nOvaj dokument defini\u0161e standarde i najbolje prakse za me\u0111usobno kombinovanje (kompoziciju) DynUI komponenti. Cilj je osigurati predvidivo pona\u0161anje layout-a, izbe\u0107i konflikte stilova i olak\u0161ati odr\u017eavanje.\n\nOve smernice su rezultat \"lessons learned\" iz procesa standardizacije i re\u0161avanja layout bagova.\n\n---\n\n## 1. Zlatna Pravila Kompozicije\n\n### 1.1 Eksplicitna Dimenzionisanja (\"Contract of Space\")\n\nKomponente ne smeju da prave pretpostavke o prostoru u kojem se nalaze.\n\n- **Child komponenta** (npr. dugme, badge, input) treba po defaultu da zauzima samo onoliko prostora koliko joj je potrebno (`width: auto`, `flex: 0 0 auto`).\n- **Container komponenta** (npr. Layout, Card, List Item) je odgovorna za raspored (layout) dece.\n- **Izuzetak**: Form polja (`DynInput`, `DynSelect`) i blok element `DynBox` treba da podr\u017eavaju `width: 100%` kako bi popunili grid/flex slotove.\n\n### 1.2 \"Lock\" your Layouts\n\nKada gradite slo\u017eene komponente (npr. `DynListView` item), eksplicitno zaklju\u010dajte dimenzije klju\u010dnih elemenata kako biste spre\u010dili da sadr\u017eaj \"gura\" interfejs.\n\n- **Fiksni elementi** (ikone, checkbox-ovi, akcije) MORAJU IMATI `flex: none` (ili `flex-shrink: 0`) i `width: auto`.\n- **Fleksibilni elementi** (tekst, glavni sadr\u017eaj) TREBAJU IMATI `flex: 1`, `min-width: 0` (da bi `text-overflow: ellipsis` radio) i `width: 100%` (unutar flex item-a).\n\n**Primer (Lo\u0161e):**\n\n```tsx\n<DynBox display=\"flex\">\n  <Icon />\n  <Content /> {/* Mo\u017ee biti sabijeno na 0px ako su akcije pre\u0161iroke */}\n  <Actions /> {/* Mo\u017ee zauzeti 100% \u0161irine ako nasledi width: 100% */}\n</DynBox>\n```\n\n**Primer (Dobro):**\n\n```tsx\n<DynBox display=\"flex\" align=\"center\" width=\"100%\">\n  <DynBox style={{ flex: 'none' }}>\n    {' '}\n    {/* Lock Icon */}\n    <Icon />\n  </DynBox>\n\n  <DynBox style={{ flex: 1, minWidth: 0 }}>\n    {' '}\n    {/* Fluid Content */}\n    <Content />\n  </DynBox>\n\n  <DynBox style={{ flex: 'none', width: 'auto' }}>\n    {' '}\n    {/* Lock Actions */}\n    <Actions />\n  </DynBox>\n</DynBox>\n```\n\n---\n\n## 2. Layout Patterns\n\n### 2.1 Vertical Stacking (Expansion Pattern)\n\nKada komponenta ima \"pro\u0161ireni\" (expanded) sadr\u017eaj, NIKADA ga ne stavljajte u isti flex container kao glavni red, osim ako ne \u017eelite da poremetite visinu reda.\n\n- **Pattern**: Glavni red i expanded sadr\u017eaj treba da budu sibling element u vertikalnom stack-u.\n\n**Struktura:**\n\n```tsx\n<DynBox direction=\"vertical\" width=\"100%\">\n  {/* Row 1: Main Header (Horizontal) */}\n  <DynBox display=\"flex\" align=\"center\" width=\"100%\">\n    {/* ... avatar, text, actions ... */}\n  </DynBox>\n\n  {/* Row 2: Expanded Content (Vertical) */}\n  {isExpanded && (\n    <DynBox padding=\"md\" width=\"100%\">\n      {/* ... details ... */}\n    </DynBox>\n  )}\n</DynBox>\n```\n\n### 2.2 Badge & Addon Alignment\n\nBadge-evi, tagovi i ikone koji su vezani za tekst (npr. status korisnika pored imena) treba da budu u istom flex kontejneru kao i tekst, ili da koriste `inline-flex` wrapper.\n\n- **Izbegavajte**: Apsolutno pozicioniranje za ove elemente osim ako nije overlay (npr. notification dot).\n- **Koristite**: `gap` prop za razmak umesto margina na elementima.\n\n---\n\n## 3. Propagacija Prop-ova (Prop Drilling vs. Context) - \"The `as` Prop\"\n\n### 3.1 Polimorfizam (`as` prop)\n\nStrukturne komponente (`DynBox`, `DynContainer`, `DynFlex`) treba da podr\u017eavaju `as` prop kako bi se omogu\u0107ila semanti\u010dki ispravna kompozicija.\n\n- Ovo omogu\u0107ava da `DynContainer` postane `<section>`, `<form>` ili `<article>` bez dodavanja nepotrebnih wrapper `<div>`-ova koji mogu da pokvare CSS selektore (npr. `> *`).\n\n```tsx\n<DynContainer as=\"section\" title=\"Hero Section\">\n  ...\n</DynContainer>\n```\n\n### 3.2 Imunitet na Nasle\u0111ivanje\n\nKomponente ne smeju slepo da nasle\u0111uju globalne stilove.\n\n- Koristite CSS Module (`.root`, `.container`) i lokalno scopovane varijable.\n- Izbegavajte globalne selektore tipa `div { ... }` ili `* { box-sizing: border-box }` unutar komponenti (osim u globalnom reset-u).\n\n---\n\n## 4. Reset & Defaults\n\n### 4.1 Width: Auto vs 100%\n\n- **Action Components** (`DynButton`, `DynBadge`, `DynIcon`): Default je `width: auto`.\n- **Input Components** (`DynInput`, `DynSelect`): Default je \u010desto `width: 100%` da popune form grid, ali moraju po\u0161tovati parent container.\n- **Layout Components** (`DynBox`, `DynFlex`): Budite oprezni sa `width: 100%`. Ako se stavi na flex child bez `flex-shrink: 1`, mo\u017ee da \"eksplodira\" layout.\n\n### 4.2 Z-Index Wars\n\n- Izbegavajte `z-index` osim za overlay komponente (`DynModal`, `DynTooltip`, `DynPopup`).\n- Ako morate da koristite, koristite definisane tokene (`var(--dyn-z-index-...)`) a ne magic numbers (`9999`).\n\n---\n\n## 5. Density Mapping (Size Propagation)\n\nKada container komponenta (npr. `DynTable`, `DynListView`) ima `size` prop (sm/md/lg), unutra\u0161nje komponente ne treba nu\u017eno da nasle\u0111uju taj size 1:1, ve\u0107 da prate \"Density\" pravila.\n\n**Smart Mapping Primer:**\n\n- **Table `sm` (Compact)** \u2192 Child komponente `xs` (Extra Small) da bi stale u niske redove.\n- **Table `md` (Default)** \u2192 Child komponente `sm` (Small).\n- **Table `lg` (Spacious)** \u2192 Child komponente `sm` (Small) ili retko `md`.\n\nCilj je izbe\u0107i \"eksploziju visine reda\" (Row Explosion) gde veliko dugme forsira visinu reda tabele.\n\n---\n\n## 6. Checklist za Kompoziciju\n\nPre nego \u0161to objavite komponentu, proverite:\n\n1. [ ] **Flex Safety**: Da li se komponenta raspada ako parent ima `display: flex`? (Dodaj `min-width: 0` ako sadr\u017ei tekst).\n2. [ ] **Overflow Safety**: \u0160ta se de\u0161ava ako je tekst preduga\u010dak? (Ellipsis ili wrap?)\n3. [ ] **Empty State**: \u0160ta ako nema dece/sadr\u017eaja? (Da li kolabira na 0px visine?)\n4. [ ] **Expansion**: Da li expanded state gura ili prekriva druge elemente? (Treba da gura, osim ako je overlay/popover).\n5. [ ] **Prop Conflicts**: Da li `className` ili `style` prop pregaze interne bitne stilove? (Koristi `cn()` utility mudro, ali interne layout stilove stavljaj sa ve\u0107im prioritetom ili inline style-om za kriti\u010dne stvari kao `flex: none`).\n\n---\n\n**Zapamtite:** Stabilan UI je onaj gde deca veruju roditeljima da \u0107e ih rasporediti, a roditelji veruju deci da ne\u0107e uzeti vi\u0161e prostora nego \u0161to im treba.\n", "metadata": {"type": "documentation", "name": "COMPONENT_COMPOSITION_GUIDE", "source": "dyn-ui-main-v01", "category": "architecture"}, "embedding": [-0.10430365055799484, 0.08145995438098907, -0.04875684902071953, -0.04756556823849678, -0.11699109524488449, 0.0702672153711319, -0.025122495368123055, 0.09707048535346985, 0.028976205736398697, 0.010564355179667473, -0.009401855058968067, 0.0034716848749667406, 0.0035031577572226524, -0.013264104723930359, -0.016212010756134987, -0.033186689019203186, 0.03299785405397415, 0.07161244004964828, -0.038029953837394714, 0.015615569427609444, 0.08807902038097382, -0.08040084689855576, 0.022257206961512566, -0.03529282659292221, 0.03783571720123291, 0.12574352324008942, 0.018977845087647438, 0.14297817647457123, 0.008604714646935463, -0.045889586210250854, -0.005352260544896126, 0.07652349025011063, 0.13617247343063354, -0.05393657460808754, 0.03706296533346176, 0.05896054580807686, -0.029903646558523178, 0.009413184598088264, -0.055201560258865356, 0.02064112015068531, -0.025698428973555565, 0.05012489855289459, -0.10982456803321838, 0.015110303647816181, 0.01922103576362133, 0.0006314954371191561, -0.0742906928062439, -0.00842443760484457, -0.0818888396024704, 0.021569570526480675, -0.09203603863716125, 0.0067094238474965096, 0.02387179620563984, 0.03239737078547478, -0.04763692989945412, -0.0008979187696240842, -0.02689291723072529, 0.08892195671796799, 0.05081135407090187, -0.0398482084274292, 0.04690416902303696, -0.030803628265857697, -0.04965023696422577, 0.0404377244412899, -0.034639324992895126, -0.0636945515871048, -0.049251358956098557, 0.036246635019779205, -0.03695160895586014, -2.6782585337059572e-05, -0.02015572041273117, -0.005554819945245981, 0.029702700674533844, 0.06948485225439072, -0.0032985627185553312, 0.062023330479860306, -0.006650019437074661, -0.014060077257454395, 0.0014883744297549129, -0.15553221106529236, 0.0447796992957592, 0.040873195976018906, -0.05851908028125763, -0.04104897007346153, 0.0018045799806714058, 0.041107360273599625, 0.011137227527797222, -0.020169410854578018, 0.0482478104531765, 0.03735646605491638, 0.06265881657600403, 0.017943531274795532, -0.04754731431603432, -0.008772636763751507, -0.04496515169739723, -0.022372012957930565, -0.09578671306371689, 0.009918566793203354, -0.008416283875703812, 0.0034660478122532368, 0.10056623816490173, 0.022810982540249825, 0.07772206515073776, -0.0008543715812265873, -0.03061472624540329, -0.07304053753614426, 0.051429565995931625, -0.021551774814724922, -0.020742343738675117, 0.05295826122164726, -0.06718944013118744, -0.0818321704864502, -0.057442985475063324, -0.06671985983848572, -0.05896693095564842, -0.01913689635694027, -0.010201371274888515, -0.018458202481269836, 0.02170436456799507, 0.025545699521899223, 0.029132897034287453, -0.022604599595069885, -0.024409456178545952, -0.005695961881428957, -0.05689908564090729, -0.02124422788619995, 0.02361341193318367, 2.0405867817456787e-32, -0.03769950568675995, -0.0013022854691371322, -0.025752747431397438, 0.05623094365000725, -0.006660738028585911, 0.01784384995698929, -0.013223069719970226, 0.029959293082356453, -0.044899191707372665, 0.03635827451944351, -0.04413270950317383, 0.040529195219278336, -0.05977284908294678, 0.019246816635131836, 0.034932248294353485, 0.05106562376022339, -0.04685838520526886, -0.013553186319768429, 0.0276334248483181, 0.009211117401719093, 0.011232459917664528, 0.021914105862379074, 0.015357375144958496, 0.032933373004198074, 0.007270331960171461, 0.09747051447629929, 0.014794665388762951, -0.014446626417338848, -0.10131298005580902, 0.029266534373164177, 0.0037720489781349897, -0.03756742179393768, 0.005483234766870737, -0.041290123015642166, -0.13298167288303375, -0.017594974488019943, -0.012321005575358868, -0.051042910665273666, -0.01852225698530674, -0.07344785332679749, -0.07561464607715607, -0.09455239027738571, 0.04474808648228645, 0.061197225004434586, -0.0034321278799325228, 0.06632485240697861, 0.056669119745492935, 0.06278129667043686, 0.17278751730918884, -0.011758961714804173, -0.03377401456236839, -0.004954332020133734, 0.002732622204348445, 0.016648288816213608, -0.030950205400586128, 0.022632788866758347, -0.03862953186035156, 0.06265668570995331, 0.05407319217920303, -0.054092783480882645, -0.09904840588569641, 0.08038420230150223, -0.0055349888280034065, 0.03533466160297394, -0.0630602017045021, -0.005365033634006977, -0.011309598572552204, -0.02489112690091133, 0.1032765656709671, -0.0779946893453598, -0.029134515672922134, -0.0704558938741684, -0.0847574844956398, 0.06593245267868042, -0.049027469009160995, 0.004855440463870764, 0.06109682098031044, -0.07345106452703476, -0.07432634383440018, -0.014241214841604233, -0.11814924329519272, 0.06380084902048111, 0.0168103389441967, 0.013100957497954369, 0.00886338297277689, -0.06419870257377625, 0.07756459712982178, 0.015248970128595829, -0.020960895344614983, 0.07584599405527115, 0.025529751554131508, -0.047183580696582794, -0.02798345498740673, 0.035199858248233795, 0.016203556209802628, -1.857790504163502e-32, 0.03840130567550659, 0.0656549409031868, -0.04132536053657532, 0.013100053183734417, 0.007810484152287245, 0.01505149994045496, -0.12244047224521637, -0.012460366822779179, -0.007538092788308859, -0.04360536113381386, 0.0011513277422636747, -0.08505045622587204, 0.010689848102629185, -0.012761232443153858, -0.045458536595106125, 0.04852507635951042, -0.04185850918292999, 0.0072461143136024475, 0.012075953185558319, -0.006789410952478647, 0.020335868000984192, 0.031115759164094925, -0.10461514443159103, 0.06627772748470306, -0.02057652734220028, 0.03507426381111145, 0.05352959409356117, 0.026914482936263084, -0.0442541278898716, 0.09251124411821365, 0.0453590489923954, -0.06473506987094879, -0.04097168520092964, 0.14772328734397888, 0.03179369121789932, -0.08338356018066406, 0.04216661676764488, -0.052479494363069534, -0.03757358342409134, 0.03044280596077442, 0.023533428087830544, 0.04547609016299248, -0.010259497910737991, 0.02521565556526184, -0.025870226323604584, -0.027567699551582336, 0.04841512069106102, -0.06085241585969925, -0.002004459034651518, -0.020145747810602188, 0.034510288387537, 0.049289874732494354, -0.040286749601364136, -0.07525236904621124, -0.011601698584854603, 0.08446043729782104, -0.01804223656654358, -0.03618432953953743, -0.02688927948474884, 0.03142368048429489, 0.10348238795995712, -0.030901005491614342, 0.00512647395953536, -0.06223739683628082, 0.03189123794436455, -0.033181142061948776, 0.037236325442790985, 0.08664216101169586, -0.005603727884590626, -0.012102169916033745, -0.07996978610754013, 0.03551305830478668, -0.04844137281179428, -0.07941149920225143, -0.01113612949848175, 0.009497536346316338, 0.049356427043676376, 0.06065105274319649, 0.05457315593957901, 0.013406399637460709, -0.06258442997932434, 0.0027952499222010374, 0.0012471771333366632, -0.00016031030099838972, 0.03989969566464424, 0.06320489197969437, -0.033416736871004105, 0.0015384017024189234, 0.02714056335389614, 0.09167607128620148, -0.000999365234747529, 0.09910077601671219, 0.04309273511171341, 0.021298086270689964, -0.04563870280981064, -6.934920548928858e-08, 0.0005397006752900779, -0.0613647997379303, 0.04973238334059715, 0.0014417257625609636, 0.035560134798288345, -0.077366903424263, 0.01464595552533865, -0.020501913502812386, -0.03922480717301369, 0.03243790566921234, 0.009051486849784851, 0.004613527562469244, -0.06344761699438095, -0.044590678066015244, 0.0032547242008149624, 0.03329034522175789, -0.023145129904150963, 0.08539225161075592, -0.08226803690195084, -0.008432596921920776, 0.08734730631113052, 0.03321480005979538, -0.06914044916629791, -0.04686669632792473, 0.020739596337080002, -0.05237976461648941, -0.020253095775842667, 0.021762054413557053, 0.026113461703062057, -0.01123021263629198, 0.031096957623958588, -0.006500907242298126, 0.11228121072053909, -0.010383662767708302, -0.06725651025772095, -0.033076684921979904, 0.03692115843296051, 0.05036282166838646, -0.038883522152900696, 0.023725688457489014, 0.0008238562732003629, -0.10344132781028748, -0.04136203974485397, -0.006508310791105032, -0.06179601699113846, 0.04294399917125702, 0.02273990772664547, 0.04831131920218468, 0.003562395228073001, 0.013010197319090366, -0.12118151038885117, -0.00397299462929368, -0.049328431487083435, 0.002975840587168932, 0.027635755017399788, 0.028874462470412254, -0.04224911704659462, 0.07148196548223495, 0.034038033336400986, -0.04464753344655037, -0.043638307601213455, 0.06530264765024185, -0.0528671033680439, -0.026534007862210274]}, {"id": "dyn_ui_docs_TECHNICAL_DOCUMENTATION", "text": "# \ud83d\udcd8 DYN-UI Technical Documentation & Agent Manual\n\n**Version:** 2.1 (Agent-Optimized)\n**Date:** January 28, 2026\n**Status:** ACTIVE\n\n---\n\n## \ud83d\ude80 Introduction\n\nThis is the **Master Technical Code for DYN-UI**. It serves as the primary entry point for all Developers and AI Agents working on the project.\n**CRITICAL:** strictly follow the rules defined here. Deviations will be rejected by the audit system.\n\nFor identifying exceptions and current codebase issues, verify [PROJECT_IRREGULARITIES_REPORT.md](audit/PROJECT_IRREGULARITIES_REPORT.md).\n\n---\n\n## \ud83d\udcda 1. Key Reference Documentation\n\nYou do not need to guess. The answers are in these files:\n\n| Document | Purpose |\n|----------|---------|\n| **[COMPLETE_KNOWLEDGE_BASE.md](COMPLETE_KNOWLEDGE_BASE.md)** | **THE SOURCE OF TRUTH.** Contains all token values, CSS patterns, and template code. |\n| **[DESIGN_TOKEN_SYSTEM.md](DESIGN_TOKEN_SYSTEM.md)** | Detailed breakdown of the 3-Layer Token System. |\n| **[GOLDEN_AUDIT_CHECKLIST.md](FINAL_DOCUMENTATION_AND_INSTRUCTIONS/GOLDEN_AUDIT_CHECKLIST.md)** | The 5-level strict checklist for confirming component quality. |\n| **[.agent/workflows/](../.agent/workflows/)** | Specific step-by-step instructions for common tasks (Analysis, Audit, Proposals). |\n\n---\n\n## \ud83e\udd16 2. Operating Rules for AI Agents\n\nWhen working on this codebase, you must adhere to the following **Prime Directives**:\n\n### Rule #1: The 3-Layer Token Law\nNever hardcode hex values, pixels, or fonts directly.\n*   **Correction:** Use `var(--token-name, fallback)`.\n*   **Allowed Exception:** You may use hardcoded values ONLY as the *3rd argument* (fallback) within a `var()` statement.\n    *   \u2705 `color: var(--dyn-button-text, #ffffff);`\n    *   \u274c `color: #ffffff;`\n\n### Rule #2: Naming Conventions are Absolute\n*   **JavaScript/React:** Use `CamelCase` for props and variables.\n*   **CSS Classes:** Use `camelCase`.\n    *   \u2705 `.root`, `.sizeSmall`, `.variantPrimary`\n    *   \u274c `.btn-primary`, `.size-sm`, `.VariantPrimary`\n*   **Size Variants:** Use **Abbreviated T-shirt Sizing** for class names (camelCase).\n    *   \u2705 `sizeSmall` (legacy/allowable), `sizeSm` (standard), `sizeMd`, `sizeLg`, `sizeXl`\n    *   \u274c `size-sm`, `SizeSm`, `sm` (unprefixed)\n\n> [!NOTE]\n> **Exception:** `DynBox` is a polymorphic utility primitive and may use short utility classes (e.g., `boxPSm`). This is an intentional deviation.\n\n### Rule #3: The 6-File Component Standard\nEvery component must consist of exactly these files:\n1.  `DynName.tsx` (Logic)\n2.  `DynName.types.ts` (Interfaces)\n3.  `DynName.module.css` (Styles)\n4.  `DynName.stories.tsx` (Documentation)\n5.  `DynName.test.tsx` (Verification)\n6.  `index.ts` (Export)\n\n### Rule #4: Verification First\nBefore confirming a task is complete, you MUST run:\n1.  `npm run check:implementation` (General Audit)\n2.  `npm run validate:components` (Type Check)\n3.  `npm test [Component]` (Unit Tests)\n\n---\n\n## \ud83d\udee0\ufe0f 3. Workflow Implementation\n\n### Phase 1: Planning\n*   Read `DESIGN_TOKEN_SYSTEM.md`.\n*   Check `PROJECT_IRREGULARITIES_REPORT.md` for known issues in related components.\n*   Create an `implementation_plan.md` artifact.\n\n### Phase 2: Execution\n*   Follow the **implementation workflow** in `COMPLETE_KNOWLEDGE_BASE.md`.\n*   Use `MultiReplace` for complex edits, `Replace` for blocks.\n*   **CSS Modules**: Define all variables in `:root` at the top of the file.\n\n### Phase 3: Audit & Polish\n*   Run the \"Golden Audit Checklist\".\n*   Ensure **Dark Mode** works via token overrides (Layer 3).\n*   Verify **Accessibility** (ARIA roles, keyboard nav).\n\n---\n\n## \ud83d\udd0d 4. Troubleshooting & FAQ\n\n**Q: I found a hardcoded color in `DynAvatar`. Should I fix it?**\nA: Yes, but check `PROJECT_IRREGULARITIES_REPORT.md` first. If it's a known legacy issue, prioritize stability. If it's new code, it is a bug.\n\n**Q: Which size name should I use? `size=\"md\"` or `size=\"medium\"`?**\nA: **Props** use short codes (`sm`, `md`, `lg`) for developer ergonomics. **CSS Classes** MUST use prefixed abbreviations (`sizeSm`, `sizeMd`, `sizeLg`) to match the codebase standard (e.g., DynButton).\n\n**Q: How do I add a new token?**\nA: You cannot add tokens in components. Tokens are defined in `packages/design-tokens`. If a token is missing, use a hardcoded fallback and flag it for the Design System team.\n\n---\n\n**End of Manual**\n", "metadata": {"type": "documentation", "name": "TECHNICAL_DOCUMENTATION", "source": "dyn-ui-main-v01", "category": "architecture"}, "embedding": [-0.07764565944671631, 0.0799572542309761, -0.06590031087398529, 0.031133081763982773, 0.024791084229946136, -0.05486646294593811, 0.01425585150718689, 0.03963226452469826, -0.07382038980722427, 0.0458734929561615, -0.03699779510498047, -0.03951307758688927, 0.0575319267809391, -0.03095366433262825, -0.06364872306585312, 0.059475287795066833, -0.016537180170416832, 0.02044115960597992, -0.021765777841210365, -0.022442372515797615, 0.040998343378305435, 0.04695557802915573, -0.03263379633426666, -0.022838236764073372, -0.020639171823859215, 0.0035442616790533066, -0.014684482477605343, -0.030958546325564384, -0.00012467053602449596, -0.007972758263349533, -0.034297410398721695, 0.06715478003025055, -0.0015706635313108563, 0.038370903581380844, 0.10761726647615433, 0.08299117535352707, 0.021719545125961304, 0.0029421979561448097, 0.01262681744992733, 0.017033614218235016, 0.010023387148976326, 0.029440000653266907, -0.010044124908745289, -0.018868688493967056, 0.024109896272420883, -0.04075789079070091, -0.12345901131629944, -0.04118821769952774, -0.06387752294540405, 0.016115698963403702, -0.12525515258312225, -0.0005336490576155484, 0.017643515020608902, -0.010086597874760628, 0.00922759622335434, 0.027177909389138222, 0.019569985568523407, 0.056861598044633865, -0.05251934751868248, -0.05324019491672516, 0.10799232870340347, 0.005812244955450296, -0.05684453621506691, -0.042604222893714905, 0.03204277157783508, 0.07366304844617844, -0.045136332511901855, 0.0005980749265290797, 0.05927582457661629, -0.06632818281650543, -0.09893985092639923, -0.02459920011460781, -0.01474754698574543, -0.006926462519913912, 0.0001995357742998749, -0.038813233375549316, -0.008045406080782413, 0.025713838636875153, 0.024067793041467667, -0.17652088403701782, -0.030001848936080933, 0.0019795317202806473, 0.013831105083227158, 0.11441221088171005, 0.00962760578840971, 0.08206460624933243, -0.0020179881248623133, 0.045322008430957794, 0.04217320680618286, -0.024328460916876793, 0.07169032841920853, -0.10416354238986969, -0.0028357990086078644, 0.00940257403999567, 0.12185145914554596, 0.12375546246767044, -0.018806522712111473, -0.02088901400566101, 0.0038389903493225574, 0.09640313684940338, -0.023127717897295952, -0.04508741572499275, -0.053693681955337524, -0.06407973170280457, -0.03953033313155174, -0.019403206184506416, 0.07162769138813019, -0.05392227694392204, -0.020744292065501213, -0.04544144496321678, 0.05134899169206619, 0.027406318113207817, -0.06994922459125519, -0.02239983342587948, 0.10325893014669418, -0.0021125602070242167, 0.038658272475004196, 0.06511187553405762, -0.00810317974537611, -0.00891920831054449, 0.0374273955821991, 0.01135308388620615, 0.030759816989302635, -0.006114012561738491, 0.01313268207013607, -0.026665223762392998, 0.0032804678194224834, 2.0455028827918098e-33, 0.0020853793248534203, 0.03724346682429314, 0.004005342721939087, 0.04773195460438728, 0.03576209768652916, -0.02267925627529621, 0.030441606417298317, 0.04415631294250488, -0.006009708158671856, 0.05518350750207901, -0.009073460474610329, 0.0473264679312706, -0.06895295530557632, -0.1147180125117302, -0.07542680948972702, -0.07061115652322769, 0.0045444355346262455, 0.044873759150505066, -0.045561131089925766, 0.014065573923289776, 0.10204849392175674, -0.0314609557390213, -0.032097842544317245, -0.012656265869736671, 0.07573405653238297, -0.011421111412346363, -0.014567423611879349, 0.012152165174484253, -0.00793290976434946, 0.01430476550012827, -0.050147008150815964, -0.03794635459780693, 0.04392574355006218, 0.05403819680213928, -0.07177022844552994, -0.005761806387454271, -0.08931213617324829, -0.0423380471765995, -0.004991509951651096, -0.03141956403851509, -0.04589257761836052, 0.012106744572520256, 0.04412274435162544, -0.07155656814575195, -0.008745461702346802, 0.04647234082221985, 0.009939394891262054, -0.05472618713974953, 0.1135796308517456, -0.03256557509303093, -0.010965640656650066, 0.042010243982076645, 0.010139415971934795, -0.034440409392118454, 0.029773041605949402, -0.05185873806476593, 0.004003256559371948, 0.007024265825748444, 0.09109295904636383, 0.09660328924655914, 0.020932169631123543, -0.034397877752780914, -0.05043003708124161, 0.021601980552077293, 0.007568408735096455, 0.008410978130996227, -0.05686231702566147, 0.02135574072599411, 0.10125145316123962, -0.05160842835903168, -0.06083539500832558, 0.0010088433045893908, -0.020979665219783783, -0.032443705946207047, 0.0031625772826373577, -0.09773559868335724, 0.012080855667591095, 0.011219369247555733, -0.015546226873993874, -0.11219887435436249, -0.05499330908060074, -0.011624136008322239, -0.04334103316068649, 0.031905025243759155, -0.018729504197835922, 0.040184758603572845, -0.06015781685709953, 0.0016512610018253326, -0.041186198592185974, -0.009294485673308372, -0.014224652200937271, -0.003599206218495965, -0.05566878989338875, 0.00463953148573637, 0.01030994113534689, -5.120055560812528e-33, -0.006433489266782999, -0.03830721974372864, -0.04996028169989586, -0.03861711174249649, 0.010930255986750126, -0.04112667962908745, -0.032564569264650345, -0.01004841923713684, 0.08216498047113419, 0.029877757653594017, 0.04292837902903557, -0.03685182332992554, -0.06474660336971283, -0.02685178630053997, -0.06215152144432068, 0.028195546939969063, -0.06183689460158348, -0.06732122600078583, 0.028699340298771858, 0.05278785154223442, -0.010173534974455833, 0.10627273470163345, -0.05295228585600853, 0.05808044224977493, 0.009208312258124352, 0.02299998514354229, 0.031095964834094048, -0.012271668761968613, 0.041824452579021454, 0.0009631302091293037, 0.04894170165061951, -0.0069845253601670265, -0.11499135941267014, 0.08485756814479828, 0.03200405836105347, -0.08999548852443695, 0.0037762068677693605, 0.0038861932698637247, -0.06386410444974899, 0.018279796466231346, 0.07714393734931946, 0.012492773123085499, -0.04481324180960655, -0.019219448789954185, 0.020669572055339813, 0.017720196396112442, 0.03183859586715698, 0.07559303939342499, -0.038196321576833725, -0.016438743099570274, 0.06532219052314758, -0.11302223056554794, 0.006260067690163851, -0.016261743381619453, -0.07726401090621948, 0.09195878356695175, 0.11599133908748627, 0.014018762856721878, 0.0005380372167564929, 0.09635806828737259, 0.014873732812702656, -0.0007344851619563997, -0.0267939493060112, 0.03458244726061821, -0.039817746728658676, -0.0273724552243948, -0.07591562718153, 0.08590835332870483, 0.05055566877126694, -0.02611428312957287, -0.007629981730133295, -0.008884918875992298, -0.1045825332403183, -0.027799859642982483, 0.001786323613487184, -0.03556353598833084, 0.003581335535272956, -0.1269574910402298, 0.0358879528939724, -0.013216237537562847, -0.04303932562470436, 0.08058089762926102, 0.020782550796866417, 0.09233114868402481, -0.03157133236527443, -0.0008160899742506444, -0.005449334159493446, 0.056141529232263565, 0.010286908596754074, 0.053124915808439255, -0.06560814380645752, -0.03771190717816353, -0.007971265353262424, 0.0231452826410532, -0.06330840289592743, -6.531600860171238e-08, -0.09127400815486908, 0.038920026272535324, -0.022211581468582153, -0.013780346140265465, 0.006334461737424135, -0.07273102551698685, -0.015567486174404621, 0.0205554086714983, 0.03233708068728447, -0.02583644539117813, 0.047379020601511, -0.048464085906744, -0.08350130915641785, -0.04400009661912918, -0.03898667171597481, 0.0006869662902317941, -0.04002504050731659, 0.08544448763132095, -0.04454799368977547, -0.03577205166220665, 0.1220712810754776, -0.052217550575733185, -0.017993493005633354, -0.021312454715371132, -0.010200733318924904, -0.01850070059299469, -0.01652653142809868, 0.14607557654380798, 0.0004273860831744969, 0.045691173523664474, 0.012876561842858791, -0.01067095436155796, 0.01785888522863388, -0.03913326561450958, -0.04828452691435814, 0.05355563387274742, 0.032363411039114, -0.051742929965257645, 0.08857421576976776, -0.0382564514875412, 0.016986221075057983, -0.03687851503491402, 0.0262402705848217, 0.04784383624792099, -0.010426204651594162, -0.06154026836156845, -0.06579747796058655, -0.08328903466463089, 0.09830665588378906, -0.07278520613908768, -0.04106809198856354, -0.04923669621348381, 0.027348507195711136, 0.11329436302185059, -0.0017830061260610819, 0.012194949202239513, 0.001159396953880787, -0.006186509970575571, 0.057083506137132645, -0.04912948980927467, 0.09124454855918884, 0.10990366339683533, 0.059749893844127655, 0.020463261753320694]}, {"id": "dyn_ui_docs_DESIGN_TOKEN_SYSTEM", "text": "# \ud83c\udfa8 DYN UI Design Token System\n\n## Definitivni Vodi\u010d (v1.0)\n\n**Svrha**: Jedan izvor istine za generisanje i primenu design tokena u DYN UI biblioteci.\n\n---\n\n## \ud83d\udccb Sadr\u017eaj\n\n1. [\u0160ta su Design Tokeni?](#\u0161ta-su-design-tokeni)\n2. [Arhitektura Sistema](#arhitektura-sistema)\n3. [Katalog Tokena](#katalog-tokena)\n4. [Generisanje CSS Varijabli](#generisanje-css-varijabli)\n5. [Primena na Komponente](#primena-na-komponente)\n6. [Dark Mode Podr\u0161ka](#dark-mode-podr\u0161ka)\n7. [Dodavanje Novih Tokena](#dodavanje-novih-tokena)\n8. [Pravila i Konvencije](#pravila-i-konvencije)\n\n---\n\n## \u0160ta su Design Tokeni?\n\n**Design tokeni** su atomske vrednosti dizajna (boje, razmaci, veli\u010dine, animacije) definisane na **jednom mestu** i kori\u0161\u0107ene **svuda** u aplikaciji.\n\n### Za\u0161to koristimo tokene?\n\n| Problem bez tokena | Re\u0161enje sa tokenima |\n|---|---|\n| `color: #007bff;` hardkodovano u 50 fajlova | Jedna promena u `theme.json` \u2192 a\u017eurira sve |\n| Nedosledan dizajn (razli\u010diti nijanse plave) | Garantovana konzistentnost |\n| Te\u0161ko odr\u017eavanje | Lako skaliranje i brendiranje |\n| Ru\u010dni dark mode | Automatski dark mode kroz tokene |\n\n### Osnovni princip\n\n```\n\ud83d\udcc1 JSON Token Fajl          \ud83d\udd04 Build Process           \ud83c\udfa8 CSS Varijable\n     \u2193                           \u2193                          \u2193\ncolor/theme.json     \u2192    Style Dictionary     \u2192    --dyn-theme-primary\n\"#007bff\"                                               #007bff\n```\n\n---\n\n## Arhitektura Sistema\n\n### Struktura Direktorijuma\n\n```\npackages/design-tokens/\n\u251c\u2500\u2500 tokens/                          # \ud83d\udcdd IZVOR: JSON definicije\n\u2502   \u251c\u2500\u2500 animation/\n\u2502   \u2502   \u2514\u2500\u2500 transition.json          # Tranzicije, trajanja, easing\n\u2502   \u251c\u2500\u2500 color/\n\u2502   \u2502   \u251c\u2500\u2500 action.json              # Akcijske boje (default, hover, pressed)\n\u2502   \u2502   \u251c\u2500\u2500 base.json                # Bazne boje (white, black)\n\u2502   \u2502   \u251c\u2500\u2500 feedback.json            # Feedback boje (success, error, warning, info)\n\u2502   \u2502   \u251c\u2500\u2500 neutral.json             # Grayscale paleta (light, mid, dark)\n\u2502   \u2502   \u251c\u2500\u2500 semantic.json            # \u2b50 Semanti\u010dke boje (background, text, border)\n\u2502   \u2502   \u2514\u2500\u2500 theme.json               # Tema boje (primary, secondary, accent)\n\u2502   \u251c\u2500\u2500 layout/\n\u2502   \u2502   \u2514\u2500\u2500 layout.json              # Z-index, opacity, breakpoints, containers\n\u2502   \u251c\u2500\u2500 shadow/\n\u2502   \u2502   \u2514\u2500\u2500 elevation.json           # Senke i elevacije\n\u2502   \u2514\u2500\u2500 size/\n\u2502       \u251c\u2500\u2500 border.json              # Debljine i radijusi\n\u2502       \u251c\u2500\u2500 font.json                # Font veli\u010dine, te\u017eine, line-height\n\u2502       \u2514\u2500\u2500 spacing.json             # Razmaci (2xs do 4xl)\n\u2502\n\u251c\u2500\u2500 styles/                          # \ud83c\udfa8 IZLAZ: Generisani CSS\n\u2502   \u251c\u2500\u2500 foundations/\n\u2502   \u2502   \u2514\u2500\u2500 index.css                # \u2b50 Svi foundation tokeni\n\u2502   \u251c\u2500\u2500 components/\n\u2502   \u2502   \u251c\u2500\u2500 badge.css                # Badge-specifi\u010dni tokeni\n\u2502   \u2502   \u251c\u2500\u2500 avatar.css               # Avatar-specifi\u010dni tokeni\n\u2502   \u2502   \u2514\u2500\u2500 ...\n\u2502   \u2514\u2500\u2500 themes/\n\u2502       \u2514\u2500\u2500 dark.css                 # Dark tema override-ovi\n\u2502\n\u251c\u2500\u2500 style-dictionary.config.v2.js    # \u2699\ufe0f Build konfiguracija\n\u2514\u2500\u2500 package.json\n```\n\n### Hijerarhija Tokena (3 Sloja)\n\n```\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                      LAYER 3: THEME TOKENS                       \u2502\n\u2502                    (Optional, Dark Mode, Branding)                \u2502\n\u2502   @media (prefers-color-scheme: dark) { --dyn-semantic-bg: ... } \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                    LAYER 2: COMPONENT TOKENS                      \u2502\n\u2502                      (CSS Module :root block)                     \u2502\n\u2502   :root { --dyn-button-bg: var(--dyn-theme-primary); }           \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                   LAYER 1: FOUNDATION TOKENS                      \u2502\n\u2502              (Generated from JSON, Immutable Base)                \u2502\n\u2502   :root { --dyn-theme-primary: #007bff; }                        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n```\n\n---\n\n## Katalog Tokena\n\n### \ud83c\udfa8 Boje\n\n#### Semanti\u010dke (koriste se naj\u010de\u0161\u0107e)\n| Token | Light | Dark | Upotreba |\n|-------|-------|------|----------|\n| `--dyn-semantic-background` | #ffffff | #121212 | Pozadina stranice |\n| `--dyn-semantic-surface` | #fafafa | #212121 | Kartice, paneli |\n| `--dyn-semantic-surface-muted` | #f5f5f5 | #424242 | Disabled pozadine |\n| `--dyn-semantic-surface-hover` | #f5f5f5 | #424242 | Hover stanja |\n| `--dyn-semantic-text` | #212121 | #fafafa | Primarni tekst |\n| `--dyn-semantic-text-secondary` | #757575 | #bdbdbd | Sekundarni tekst |\n| `--dyn-semantic-text-muted` | #bdbdbd | #757575 | Placeholder |\n| `--dyn-semantic-text-inverse` | #ffffff | #121212 | Tekst na tamnoj pozadini |\n| `--dyn-semantic-border` | #eeeeee | #424242 | Borderi |\n| `--dyn-semantic-input-bg` | #ffffff | #121212 | Input pozadina |\n| `--dyn-semantic-input-border` | #eeeeee | #424242 | Input border |\n\n#### Tema\n| Token | Vrednost | Upotreba |\n|-------|----------|----------|\n| `--dyn-theme-primary` | #2563eb | Primarna akcija |\n| `--dyn-theme-primary-light` | #60a5fa | Hover/lighter |\n| `--dyn-theme-primary-dark` | #1e40af | Pressed/darker |\n| `--dyn-theme-secondary` | #64748b | Sekundarna akcija |\n| `--dyn-theme-accent` | #0ea5e9 | Akcentna boja |\n\n#### Feedback\n| Token | Vrednost | Upotreba |\n|-------|----------|----------|\n| `--dyn-feedback-positive` | #059669 | Uspeh |\n| `--dyn-feedback-negative-default` | #dc2626 | Gre\u0161ka |\n| `--dyn-feedback-warning` | #d97706 | Upozorenje |\n| `--dyn-feedback-info` | #0891b2 | Informacija |\n\n#### Neutralne (Grayscale)\n| Token | Vrednost |\n|-------|----------|\n| `--dyn-neutral-light-50` | #fafafa |\n| `--dyn-neutral-light-100` | #f5f5f5 |\n| `--dyn-neutral-light-200` | #eeeeee |\n| `--dyn-neutral-mid-400` | #bdbdbd |\n| `--dyn-neutral-mid-500` | #9e9e9e |\n| `--dyn-neutral-mid-600` | #757575 |\n| `--dyn-neutral-dark-700` | #616161 |\n| `--dyn-neutral-dark-800` | #424242 |\n| `--dyn-neutral-dark-900` | #212121 |\n| `--dyn-neutral-dark-950` | #121212 |\n\n#### Bazne\n| Token | Vrednost |\n|-------|----------|\n| `--dyn-base-white` | #ffffff |\n| `--dyn-base-black` | #000000 |\n\n---\n\n### \ud83d\udccf Razmaci (Spacing)\n\n| Token | Vrednost | Pikseli |\n|-------|----------|---------|\n| `--dyn-spacing-none` | 0 | 0px |\n| `--dyn-spacing-2xs` | 2px | 2px |\n| `--dyn-spacing-xs` | 4px | 4px |\n| `--dyn-spacing-sm` | 8px | 8px |\n| `--dyn-spacing-md` | 16px | 16px |\n| `--dyn-spacing-lg` | 24px | 24px |\n| `--dyn-spacing-xl` | 32px | 32px |\n| `--dyn-spacing-2xl` | 48px | 48px |\n| `--dyn-spacing-3xl` | 64px | 64px |\n| `--dyn-spacing-4xl` | 96px | 96px |\n\n---\n\n### \ud83d\udd24 Tipografija\n\n#### Font Veli\u010dine\n| Token | Vrednost |\n|-------|----------|\n| `--dyn-font-size-2xs` | 10px |\n| `--dyn-font-size-xs` | 12px |\n| `--dyn-font-size-sm` | 14px |\n| `--dyn-font-size-md` | 16px |\n| `--dyn-font-size-lg` | 18px |\n| `--dyn-font-size-xl` | 20px |\n| `--dyn-font-size-2xl` | 24px |\n| `--dyn-font-size-3xl` | 30px |\n\n#### Font Te\u017eine\n| Token | Vrednost |\n|-------|----------|\n| `--dyn-font-weight-normal` | 400 |\n| `--dyn-font-weight-medium` | 500 |\n| `--dyn-font-weight-semibold` | 600 |\n| `--dyn-font-weight-bold` | 700 |\n\n---\n\n### \ud83d\udd32 Borderi\n\n#### Debljine\n| Token | Vrednost |\n|-------|----------|\n| `--dyn-border-width-none` | 0px |\n| `--dyn-border-width-sm` | 1px |\n| `--dyn-border-width-md` | 2px |\n| `--dyn-border-width-lg` | 3px |\n| `--dyn-border-width-xl` | 4px |\n\n#### Radijusi\n| Token | Vrednost |\n|-------|----------|\n| `--dyn-border-radius-none` | 0px |\n| `--dyn-border-radius-xs` | 2px |\n| `--dyn-border-radius-sm` | 4px |\n| `--dyn-border-radius-md` | 6px |\n| `--dyn-border-radius-lg` | 8px |\n| `--dyn-border-radius-xl` | 12px |\n| `--dyn-border-radius-full` | 9999px |\n\n---\n\n### \u23f1\ufe0f Animacije\n\n#### Tranzicije (gotove vrednosti)\n| Token | Vrednost | Upotreba |\n|-------|----------|----------|\n| `--dyn-transition-none` | none | Bez tranzicije |\n| `--dyn-transition-fast` | 0.1s ease | Mikro-interakcije |\n| `--dyn-transition-normal` | 0.2s ease-in-out | Standardna |\n| `--dyn-transition-slow` | 0.3s ease-in-out | Nagla\u0161ena |\n| `--dyn-transition-slower` | 0.5s ease-in-out | Dramati\u010dna |\n\n#### Trajanja (samo brzina)\n| Token | Vrednost |\n|-------|----------|\n| `--dyn-duration-instant` | 0ms |\n| `--dyn-duration-fast` | 100ms |\n| `--dyn-duration-normal` | 200ms |\n| `--dyn-duration-slow` | 300ms |\n| `--dyn-duration-slower` | 500ms |\n| `--dyn-duration-slowest` | 1000ms |\n\n---\n\n### \ud83d\udcca Elevacije (Senke)\n\n| Token | Upotreba |\n|-------|----------|\n| `--dyn-elevation-none` | Bez senke |\n| `--dyn-elevation-low` | Kartice, paneli |\n| `--dyn-elevation-medium` | Dropdown, popovers |\n| `--dyn-elevation-high` | Modali |\n| `--dyn-elevation-highest` | Tooltips, notifikacije |\n\n---\n\n### \ud83d\udcd0 Z-Index\n\n| Token | Vrednost | Upotreba |\n|-------|----------|----------|\n| `--dyn-z-index-hide` | -1 | Skriveno |\n| `--dyn-z-index-base` | 0 | Normalan sadr\u017eaj |\n| `--dyn-z-index-dropdown` | 100 | Dropdown meniji |\n| `--dyn-z-index-sticky` | 200 | Sticky elementi |\n| `--dyn-z-index-fixed` | 300 | Fixed elementi |\n| `--dyn-z-index-overlay` | 400 | Overlay pozadine |\n| `--dyn-z-index-modal` | 500 | Modali |\n| `--dyn-z-index-popover` | 600 | Popovers |\n| `--dyn-z-index-toast` | 700 | Toast notifikacije |\n\n---\n\n## Generisanje CSS Varijabli\n\n### Build Komanda\n\n```bash\n# Iz root direktorijuma projekta\nnpm run tokens:build\n\n# Ili direktno u design-tokens paketu\ncd packages/design-tokens\nnpm run build\n```\n\n### \u0160ta se de\u0161ava tokom build-a?\n\n```\n1. \u010citanje JSON fajlova      \u2192  tokens/**/*.json\n2. Transformacija imena      \u2192  color.theme.primary \u2192 --dyn-theme-primary\n3. Transformacija vrednosti  \u2192  {color.neutral.light.50.value} \u2192 #fafafa\n4. Generisanje CSS           \u2192  styles/foundations/index.css\n5. Dark mode generisanje     \u2192  @media (prefers-color-scheme: dark) { ... }\n```\n\n### Izlazni Fajlovi\n\n| Fajl | Sadr\u017eaj |\n|------|---------|\n| `styles/foundations/index.css` | Svi foundation tokeni (boje, spacing, tipografija, itd.) |\n| `styles/components/badge.css` | Badge-specifi\u010dni tokeni |\n| `build/js/tokens.js` | JavaScript export |\n| `build/ts/tokens.d.ts` | TypeScript tipovi |\n\n---\n\n## Primena na Komponente\n\n### Struktura CSS Modula\n\n```css\n/* DynComponent.module.css */\n\n/* ================================================\n   1. COMPONENT TOKENS (Layer 2) - u :root bloku\n   ================================================ */\n:root {\n  --dyn-component-bg: var(--dyn-semantic-surface);\n  --dyn-component-color: var(--dyn-semantic-text);\n  --dyn-component-border: var(--dyn-semantic-border);\n  --dyn-component-radius: var(--dyn-border-radius-md);\n  --dyn-component-padding: var(--dyn-spacing-md);\n  --dyn-component-transition: var(--dyn-transition-normal);\n}\n\n/* ================================================\n   2. BASE STYLES - koriste tokene\n   ================================================ */\n.root {\n  background-color: var(--dyn-component-bg);\n  color: var(--dyn-component-color);\n  border: var(--dyn-border-width-sm) solid var(--dyn-component-border);\n  border-radius: var(--dyn-component-radius);\n  padding: var(--dyn-component-padding);\n  transition: all var(--dyn-component-transition);\n}\n\n/* ================================================\n   3. INTERACTIVE STATES\n   ================================================ */\n.root:hover {\n  background-color: var(--dyn-semantic-surface-hover);\n}\n\n.root:focus-visible {\n  outline: var(--dyn-border-width-md) solid var(--dyn-semantic-border-focus);\n  outline-offset: var(--dyn-spacing-2xs);\n}\n\n/* ================================================\n   4. VARIANTS (override-uju samo tokene)\n   ================================================ */\n.primary {\n  --dyn-component-bg: var(--dyn-theme-primary);\n  --dyn-component-color: var(--dyn-semantic-text-inverse);\n}\n\n/* ================================================\n   5. DARK MODE\n   Note: Automatski kroz semanti\u010dke tokene!\n   ================================================ */\n```\n\n### \u26a0\ufe0f ZABRANJENO\n\n```css\n/* \u274c NIKADA ovo: */\n.button {\n  background: #007bff;           /* Hardkodovana boja */\n  padding: 8px 16px;             /* Hardkodovani pikseli */\n  border-radius: 4px;            /* Hardkodovan radijus */\n  transition: 0.2s ease;         /* Hardkodovana tranzicija */\n}\n\n/* \u2705 UVEK ovo: */\n.button {\n  background: var(--dyn-theme-primary);\n  padding: var(--dyn-spacing-sm) var(--dyn-spacing-md);\n  border-radius: var(--dyn-border-radius-sm);\n  transition: var(--dyn-transition-normal);\n}\n```\n\n---\n\n## Dark Mode Podr\u0161ka\n\n### Kako Funkcioni\u0161e\n\n1. **Semanti\u010dki tokeni** (npr. `--dyn-semantic-background`) automatski preuzimaju dark vrednosti\n2. **Style Dictionary** generi\u0161e `@media (prefers-color-scheme: dark)` blok\n3. **Komponente ne trebaju eksplicitne dark override-ove**\n\n### Generisani CSS\n\n```css\n/* Light (default) */\n:root {\n  --dyn-semantic-background: #ffffff;\n  --dyn-semantic-text: #212121;\n}\n\n/* Dark (automatski) */\n@media (prefers-color-scheme: dark) {\n  :root {\n    --dyn-semantic-background: #121212;\n    --dyn-semantic-text: #fafafa;\n  }\n}\n\n/* Class-based override */\n[data-theme='dark'],\n.theme-dark {\n  --dyn-semantic-background: #121212;\n  --dyn-semantic-text: #fafafa;\n}\n```\n\n---\n\n## Dodavanje Novih Tokena\n\n### 1. Kreiraj/A\u017euriraj JSON Fajl\n\n```json\n// tokens/color/theme.json\n{\n  \"color\": {\n    \"theme\": {\n      \"brand-new\": {\n        \"value\": \"#ff5500\",\n        \"description\": \"Nova brend boja\"\n      }\n    }\n  }\n}\n```\n\n### 2. Za Dark Mode Podr\u0161ku\n\n```json\n{\n  \"color\": {\n    \"semantic\": {\n      \"new-surface\": {\n        \"value\": \"#ffffff\",\n        \"darkTheme\": {\n          \"value\": \"#1a1a1a\"\n        },\n        \"description\": \"Nova povr\u0161ina sa dark podr\u0161kom\"\n      }\n    }\n  }\n}\n```\n\n### 3. Rebuild Tokene\n\n```bash\nnpm run tokens:build\n```\n\n### 4. Koristi u Komponenti\n\n```css\n.new-element {\n  background: var(--dyn-theme-brand-new);\n}\n```\n\n---\n\n## Pravila i Konvencije\n\n### Imenovanje Tokena\n\n```\n--dyn-[kategorija]-[svojstvo]-[varijanta]\n\nPrimeri:\n--dyn-spacing-md              # kategorija-svojstvo\n--dyn-theme-primary           # kategorija-svojstvo\n--dyn-semantic-text-secondary # kategorija-svojstvo-varijanta\n--dyn-feedback-positive-dark  # kategorija-svojstvo-varijanta\n```\n\n### \u2705 Dozvoljeno\n\n- Kori\u0161\u0107enje `var(--dyn-*)` za SVE vrednosti\n- `calc()` sa token varijablama: `calc(var(--dyn-spacing-md) * 2)`\n- Relative units tamo gde ima smisla: `1em`, `100%`\n- Media query breakpoints kao konstante (mada bi mogli biti tokeni)\n\n### \u274c Zabranjeno\n\n- Hardkodovane boje: `#fff`, `rgb(0,0,0)`, `rgba(...)`\n- Hardkodovani pikseli za spacing/sizing: `8px`, `16px`\n- Hardkodovane tranzicije: `0.2s ease`\n- Duplikacija vrednosti umesto referenci\n\n---\n\n## Brzi Pregled\n\n```\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    DESIGN TOKEN FLOW                        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                            \u2502\n\u2502  \ud83d\udcdd tokens/*.json                                          \u2502\n\u2502       \u2193                                                    \u2502\n\u2502  \u2699\ufe0f style-dictionary build                                 \u2502\n\u2502       \u2193                                                    \u2502\n\u2502  \ud83c\udfa8 styles/foundations/index.css                           \u2502\n\u2502       \u2193                                                    \u2502\n\u2502  \ud83d\udce6 import u Storybook/App                                 \u2502\n\u2502       \u2193                                                    \u2502\n\u2502  \ud83e\udde9 Kori\u0161\u0107enje u .module.css: var(--dyn-*)                 \u2502\n\u2502                                                            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n```\n\n---\n\n**Datum**: Januar 2026\n**Verzija**: 1.0\n**Autor**: DYN UI Team\n", "metadata": {"type": "documentation", "name": "DESIGN_TOKEN_SYSTEM", "source": "dyn-ui-main-v01", "category": "architecture"}, "embedding": [-0.06832381337881088, 0.0975753664970398, -0.04831089824438095, -0.04751124978065491, -0.055005721747875214, -0.03504377231001854, 0.038123227655887604, 0.09608336538076401, 0.04668649286031723, 0.014871355146169662, -0.01178122591227293, -0.012706481851637363, 0.008314484730362892, -0.06445561349391937, 0.04801559075713158, 0.020154258236289024, -0.050942134112119675, 0.08428242802619934, -0.06308499723672867, 0.006168058142066002, 0.12222974002361298, -0.05374043807387352, -0.013998120091855526, -0.007817835547029972, 0.031531061977148056, 0.09717299044132233, 0.038029979914426804, 0.03589842841029167, 0.027260253205895424, -0.10367424786090851, 0.032364726066589355, 0.09552044421434402, 0.03850702568888664, -0.07815328985452652, 0.052606336772441864, 0.0878482460975647, -0.02829819917678833, -0.006622967775911093, 0.06360167264938354, 0.015881475061178207, -0.03385583311319351, 0.0005061092670075595, -0.0793258398771286, -0.01233653910458088, 0.03143872693181038, -0.019846711307764053, -0.07234647125005722, 0.05546903982758522, -0.08463391661643982, -0.0015298849903047085, -0.07724512368440628, -0.043964579701423645, -0.0033320391084998846, -0.003806333290413022, -0.046878740191459656, -0.0935516282916069, -0.019283968955278397, 0.049059588462114334, 0.09830674529075623, -0.03131818026304245, 0.03336741775274277, 0.013351633213460445, -0.038354478776454926, 0.01209903135895729, 0.014621475711464882, -0.07235077023506165, -0.029342589899897575, 0.04511657729744911, -0.0054488577879965305, 0.008572804741561413, 0.009260124526917934, -0.009997330605983734, -0.0002526796597521752, 0.04829254001379013, -0.04988739266991615, 0.08735661208629608, 0.039157673716545105, -0.049714911729097366, -0.028690794482827187, -0.13993068039417267, 0.05535068362951279, 0.03617458418011665, 0.03494928404688835, 0.03146577626466751, 0.04862215369939804, 0.10033485293388367, -0.023455098271369934, -0.004633696284145117, 0.10061351209878922, 0.050821058452129364, 0.05216783285140991, 0.03466056287288666, 0.0055923317559063435, -0.023883037269115448, -0.008263371884822845, -0.0015840987907722592, 0.009541074745357037, -0.024135084822773933, 0.03911038115620613, 0.10591153055429459, 0.013670466840267181, -0.02387993223965168, 0.03304352983832359, 0.008285424672067165, -0.050088007003068924, 0.038314010947942734, 0.008191694505512714, -0.048786044120788574, 0.04403962194919586, 0.03327010199427605, -0.049824751913547516, -0.03133655712008476, -0.0579240582883358, -0.08683585375547409, -0.07988367229700089, 0.021153943613171577, -0.0026068068109452724, -0.025735730305314064, 0.05494106560945511, 0.04568514972925186, 0.06012805923819542, 0.007526968605816364, -0.08795654773712158, -0.026950333267450333, -0.0426722913980484, 0.023013120517134666, -0.016340235248208046, 1.294212815036409e-32, -0.05563296005129814, 0.018720196560025215, -0.02770877443253994, -0.0033331774175167084, 0.07625963538885117, -0.12674769759178162, -0.019599316641688347, -0.07082106918096542, -0.10871310532093048, -0.010315846651792526, -0.029946578666567802, -0.023908771574497223, -0.034232281148433685, -0.012611504644155502, 0.019493654370307922, -0.06641217321157455, 0.06437958031892776, -0.08521657437086105, -0.02124762535095215, -0.013955830596387386, 0.046651747077703476, 0.016983715817332268, -0.012137671001255512, -0.01955648884177208, -0.027670787647366524, 0.08846306055784225, 0.10374622792005539, -0.028934499248862267, -0.020790036767721176, 0.036582913249731064, 0.029906252399086952, -0.05157214775681496, 0.006868014577776194, 0.01466682180762291, -0.0608350969851017, 0.015197718515992165, 0.025523431599140167, -0.085223488509655, -0.014392949640750885, -0.02792479284107685, -0.0979003831744194, -0.0038698192220181227, -0.05356550216674805, 0.09384322911500931, 0.05366417393088341, -0.028388220816850662, 0.03202179819345474, 0.023307479918003082, 0.08070167154073715, -0.00027526309713721275, -0.10530636459589005, -0.0006942660547792912, -0.014014608226716518, -0.01090892031788826, -0.010718807578086853, -0.014774813316762447, -0.05465320870280266, 0.0007337944116443396, 0.060794901102781296, 0.013380139134824276, -0.02566711977124214, 0.04365831986069679, 0.018369177356362343, 0.017156433314085007, 0.03090326115489006, 0.01890178583562374, -0.05201193317770958, 0.0028079815674573183, 0.14172694087028503, -0.048263370990753174, -0.05530039593577385, 0.025912774726748466, 0.006688585504889488, 0.03996599465608597, -0.0573665052652359, 0.008638096041977406, 0.03918829187750816, 0.018677014857530594, -0.0588156133890152, 0.025386059656739235, -0.07818042486906052, 0.04514283314347267, -0.0653676688671112, 0.061360202729701996, 0.08702842891216278, 0.006442911922931671, 0.00820703525096178, -0.060917168855667114, -0.1077042669057846, -0.007161837536841631, 0.09402445703744888, 0.02530858665704727, -0.021067610010504723, -0.039576102048158646, -0.04260088875889778, -1.1553861240519307e-32, -0.026426218450069427, 0.0315864123404026, -0.010746120475232601, 0.026354365050792694, 0.003005478996783495, -0.03171723708510399, -0.07206994295120239, -0.06481347978115082, -0.04861823469400406, 0.04451839625835419, 0.035949643701314926, -0.022846082225441933, -0.01470298320055008, 0.007992647588253021, -0.020114846527576447, 0.06127683445811272, 0.004484171979129314, 0.05405421927571297, -0.003792655887082219, 0.013579298742115498, -0.005668970290571451, 0.13747841119766235, -0.10163358598947525, 0.07500580698251724, -0.03378672897815704, -0.009920702315866947, 0.01982743851840496, 0.0049080029129981995, 0.017372747883200645, 0.03595452010631561, 0.027014881372451782, -0.08162236213684082, -0.06583207100629807, 0.08728514611721039, 0.038030438125133514, -0.05721957981586456, -0.004479380324482918, -0.003976582549512386, -0.03924260661005974, 0.03822975605726242, 0.04021846875548363, -0.02400759421288967, 0.03593231737613678, 0.0071233827620744705, -0.043915342539548874, -0.023112911731004715, 0.006340770982205868, 0.012529144994914532, -0.007792549207806587, -0.0567074753344059, 0.11606542766094208, 0.013906839303672314, -0.04464007541537285, -0.012141729705035686, 0.010313323698937893, -0.017651356756687164, 0.10928930342197418, -0.06465340405702591, -0.024333344772458076, -0.003374556777998805, 0.09481906145811081, -0.028208140283823013, 0.06079595535993576, -0.028271064162254333, 0.08062320202589035, -0.0973631739616394, -0.019634438678622246, 0.04818357527256012, 0.02823473885655403, -0.06336303800344467, 0.05384591594338417, 0.007733769249171019, -0.08597728610038757, -0.014908624812960625, -0.011140984483063221, -0.028978344053030014, -0.005860285367816687, 0.020959021523594856, 0.00414578802883625, 0.014881283044815063, -0.0570218525826931, -0.01902860775589943, 0.00497698038816452, 0.009220550768077374, 0.05765640363097191, 0.04722033813595772, 0.006007385440170765, 0.039400871843099594, -0.020144544541835785, 0.0440991185605526, 0.016907261684536934, 0.08026431500911713, 0.08768805116415024, 0.14416581392288208, -0.0016504493542015553, -6.226088089533732e-08, -0.03053673356771469, -0.1126648485660553, -0.051227860152721405, -0.030414966866374016, -0.019777867943048477, -0.04230257868766785, -0.06277592480182648, -0.0823393389582634, -0.05022558942437172, -0.0458652600646019, 0.024545645341277122, 0.06732429563999176, -0.0419095903635025, -0.024752521887421608, 0.02162492647767067, -0.020478706806898117, 0.03835548087954521, 0.12068172544240952, -0.05108452960848808, -0.0669170394539833, 0.04816753417253494, 0.04518597945570946, -0.09381202608346939, -0.09816282987594604, -0.006578064523637295, 0.015775661915540695, 0.006681668572127819, -0.0211249478161335, 0.030117928981781006, -0.050915781408548355, 0.011357621289789677, 0.08160673081874847, -0.0019675057847052813, -0.11298293620347977, -0.06032972410321236, 0.04793199524283409, 0.008936801925301552, -0.0077059511095285416, -0.041301850229501724, 0.005523535422980785, 0.09405187517404556, -0.05667395889759064, -0.004470033571124077, 0.02664756029844284, -0.048290152102708817, -0.0033826876897364855, 0.05292171984910965, 0.007746910210698843, 0.029623016715049744, -0.06691617518663406, -0.0654546394944191, -0.02159951813519001, 0.0007005268707871437, 0.02216077223420143, 0.02066626399755478, 0.029727162793278694, -0.005471884272992611, 0.06138189882040024, 0.02877049893140793, -0.01295272633433342, 0.12239828705787659, 0.010856414213776588, -0.0005618599243462086, -0.04205156862735748]}, {"id": "dyn_ui_token_foundation_animations", "text": "# Design Token: animations\n\n/**\n * Design Token: Animations & Transitions\n * Domain: animation\n * \n * Provides: Animation durations, easing functions, transition presets\n * Used by: Interactive components with motion\n * \n * Supports:\n * - Dark mode: N/A\n * - High contrast: N/A\n * - Reduced motion: YES (animations disabled)\n */\n\n:root {\n  /* ========== ANIMATION DURATIONS ========== */\n  --dyn-animation-duration-fast: 0.1s;\n  --dyn-animation-duration-base: 0.2s;\n  --dyn-animation-duration-slow: 0.4s;\n\n  /* ========== EASING FUNCTIONS ========== */\n  --dyn-animation-easing-ease-out: cubic-bezier(0.25, 0.46, 0.45, 0.94);\n  --dyn-animation-easing-ease-in: cubic-bezier(0.55, 0.055, 0.675, 0.19);\n  --dyn-animation-easing-ease-in-out: cubic-bezier(0.42, 0, 0.58, 1);\n  --dyn-animation-easing-ease-linear: linear;\n\n  /* ========== TRANSITION PRESETS ========== */\n  --dyn-transition-base: all var(--dyn-animation-duration-base) var(--dyn-animation-easing-ease-out);\n  --dyn-transition-fast: all var(--dyn-animation-duration-fast) var(--dyn-animation-easing-ease-out);\n  --dyn-transition-slow: all var(--dyn-animation-duration-slow) var(--dyn-animation-easing-ease-out);\n\n  /* ========== SPECIFIC PROPERTY TRANSITIONS ========== */\n  --dyn-transition-colors: color var(--dyn-animation-duration-base) var(--dyn-animation-easing-ease-out), background-color var(--dyn-animation-duration-base) var(--dyn-animation-easing-ease-out), border-color var(--dyn-animation-duration-base) var(--dyn-animation-easing-ease-out);\n  --dyn-transition-transform: transform var(--dyn-animation-duration-base) var(--dyn-animation-easing-ease-out);\n  --dyn-transition-opacity: opacity var(--dyn-animation-duration-base) var(--dyn-animation-easing-ease-out);\n}\n\n/* ========== REDUCED MOTION SUPPORT ========== */\n@media (prefers-reduced-motion: reduce) {\n  :root {\n    --dyn-animation-duration-fast: 0.01ms;\n    --dyn-animation-duration-base: 0.01ms;\n    --dyn-animation-duration-slow: 0.01ms;\n    --dyn-transition-base: none;\n    --dyn-transition-fast: none;\n    --dyn-transition-slow: none;\n    --dyn-transition-colors: none;\n    --dyn-transition-transform: none;\n    --dyn-transition-opacity: none;\n  }\n}\n", "metadata": {"type": "design_token", "category": "foundation", "name": "animations", "source": "dyn-ui-main-v01"}, "embedding": [-0.06687328219413757, -0.020428603515028954, -0.018789419904351234, 0.002879892475903034, -0.040172748267650604, -0.019008763134479523, -0.0831529051065445, 0.0626264214515686, 0.01926918886601925, -0.025794904679059982, 0.017988206818699837, -0.04446972906589508, -0.04876728728413582, -0.022887054830789566, 0.029531944543123245, 0.06487810611724854, -0.02964983880519867, 0.10674581676721573, 0.0023062429390847683, 0.021630188450217247, 0.07431363314390182, -0.12041076272726059, 0.014589170925319195, -0.027958989143371582, -0.009194185957312584, 0.011952964588999748, -0.05299452319741249, 0.05563213303685188, 0.08189581334590912, -0.0335923433303833, 0.01280152890831232, -0.04327826574444771, 0.025932762771844864, -0.034614842385053635, -0.0008701327024027705, 0.05712568387389183, 0.07533086091279984, 0.046580489724874496, -0.0646037608385086, -0.021482354030013084, 0.027290333062410355, 0.0751786008477211, 0.05782506987452507, 0.010868583805859089, 0.04757709428668022, 0.04036959260702133, -0.07781441509723663, -0.0011112155625596642, -0.11885681003332138, 0.02927285060286522, -0.018477223813533783, -0.06085711717605591, 0.045917659997940063, -0.024872958660125732, -0.03670955076813698, 0.062205638736486435, 0.0043614949099719524, 0.10281649976968765, 0.036999840289354324, -0.10377001017332077, 0.04563773423433304, 0.04409339278936386, 0.046516403555870056, -0.01046783197671175, -0.03447022661566734, -0.019152844324707985, 0.023766091093420982, -0.07693717628717422, 0.05768607556819916, -0.007430423982441425, -0.051951657980680466, -0.09035076200962067, 0.058239199221134186, -0.04239663854241371, -0.06716338545084, -0.048298344016075134, 0.08812589943408966, 0.06366684287786484, -0.03688381612300873, -0.08743488043546677, 0.10532819479703903, -0.0552406832575798, -0.025576576590538025, 0.012532452121376991, -0.04919116571545601, 0.07307358831167221, -0.026682967320084572, -0.01329498365521431, -0.013103578239679337, 0.049149416387081146, 0.02165963500738144, 0.0308887530118227, -0.09883466362953186, -0.05498678237199783, 0.012594673782587051, -0.026189519092440605, -0.00797021109610796, 0.007946038618683815, -0.027762865647673607, 0.04487133398652077, -0.06929697841405869, -0.025437528267502785, -0.006465444341301918, 0.02432919107377529, -0.02631906419992447, -0.016718728467822075, 0.025060169398784637, 0.02316286973655224, -0.024571025744080544, 0.06010212004184723, 0.005456327460706234, -0.01983434148132801, 0.0015503490576520562, 0.03408987820148468, 0.045639701187610626, 0.018323762342333794, -0.0602571927011013, 0.017478173598647118, 0.1455947905778885, 0.020027389749884605, 0.10338979214429855, -0.022100389003753662, 0.012452376075088978, -0.02937541902065277, -0.006042400375008583, -0.05522240698337555, -0.03568905219435692, 6.684980537144685e-33, -0.033416762948036194, 0.02677094005048275, -0.04267868399620056, -0.005919286049902439, 0.022890018299221992, -0.03157036006450653, -0.05128864943981171, -0.036944810301065445, -0.11268548667430878, 0.01057059969753027, -0.022196926176548004, -0.012892711907625198, -0.023842906579375267, 0.03125709295272827, 0.011783317662775517, -0.09875117987394333, 0.09827038645744324, -0.02752773091197014, 0.019625844433903694, 0.004050277639180422, 0.015133525244891644, -0.013154515065252781, -0.08101456612348557, -0.0009011632646434009, -0.0038198386318981647, 0.07440662384033203, 0.02391109988093376, 0.0418003648519516, 0.014293083921074867, -0.023052310571074486, -0.021011393517255783, -0.01942487619817257, -0.06112164258956909, -0.023143548518419266, 0.005112562328577042, -0.011367547325789928, -0.03630019724369049, -0.034438278526067734, -0.0035313782282173634, -0.006855044513940811, -0.09008406102657318, -0.00814893376082182, -0.007892265915870667, -0.01468210481107235, -0.08831377327442169, 0.06892372667789459, 0.12762916088104248, 0.08456327766180038, 0.007736505009233952, 0.05437181890010834, 0.05103561282157898, 0.015353218652307987, -0.026250258088111877, -0.13563276827335358, 0.029972799122333527, -0.05299229919910431, 0.026788298040628433, 0.02908807434141636, -0.013927198015153408, 0.15311607718467712, -0.039956122636795044, -0.07021599262952805, 0.016981525346636772, -0.13353857398033142, 0.010502789169549942, 0.030334867537021637, -0.053831346333026886, -0.0006695250049233437, 0.03489270806312561, -0.044678669422864914, -0.10401327162981033, 0.03585779294371605, 0.07490599155426025, -0.012279576621949673, -0.034344382584095, -0.02316744066774845, 0.024889657273888588, 0.006571983452886343, -0.02915923297405243, -0.06030469760298729, -0.057163748890161514, -0.007263286039233208, 0.013562162406742573, 0.052690956741571426, 0.054179102182388306, 0.011791703291237354, -0.012321699410676956, 0.021840665489435196, -0.03447205200791359, -0.032688308507204056, -0.06285499781370163, -0.01390268374234438, 0.06452114135026932, 0.018314843997359276, 0.015353979542851448, -7.513563729836268e-33, 0.01819579489529133, 0.051615405827760696, -0.1257190853357315, 0.05391884222626686, 0.052274513989686966, 0.06935945153236389, 0.022567499428987503, -0.0012521679745987058, 0.05711451545357704, -0.0313163623213768, 0.05425265431404114, -0.04991229623556137, -0.05981917306780815, 0.008584492839872837, -0.029393870383501053, 0.016129303723573685, 0.028710125014185905, -0.04781533405184746, -0.011688034050166607, 0.06543712317943573, 0.0022307627368718386, 0.08019077777862549, -0.09791538864374161, 0.017453370615839958, 0.026073729619383812, 0.05558309704065323, 0.016290906816720963, 0.040568724274635315, 0.00859090592712164, 0.01043704804033041, -0.05602514371275902, -0.06718423962593079, -0.02661990374326706, 0.001167626935057342, -0.05425748601555824, -0.0062758768908679485, -0.0855906531214714, -0.027682213112711906, -0.04219215735793114, -0.08412940800189972, 0.054541707038879395, 0.02880209870636463, 0.02894108183681965, 0.024854833260178566, 0.02620982751250267, 0.11470194160938263, 0.009529667906463146, 0.07833267003297806, -0.10270682722330093, 0.06492415070533752, 0.01977899670600891, -0.014619897119700909, -0.05939287319779396, -0.017531704157590866, 0.022158924490213394, -0.007196587044745684, 0.0887729749083519, -0.043762706220149994, -0.011980646289885044, 0.020450778305530548, -0.014009549282491207, -0.0013121013762429357, -0.026086032390594482, -0.003421978559345007, 0.015041752718389034, -0.024562740698456764, -0.05401412770152092, -0.020047513768076897, -0.017896460369229317, -0.0681813508272171, 0.05257023870944977, 0.020059997215867043, -0.03144652768969536, -0.026475055143237114, -0.015313263982534409, -0.0650726780295372, 0.09529909491539001, -0.056625042110681534, 0.06432797014713287, -0.026197059080004692, -0.034679364413022995, 0.008817020803689957, 0.06289876997470856, 0.05713323503732681, -0.11076419800519943, 0.07176956534385681, -0.06572893261909485, 0.08229595422744751, -0.011648034676909447, 0.07007279247045517, 0.013817266561090946, 0.04065535217523575, 0.08774314075708389, 0.09296603500843048, -0.0007432527490891516, -6.086833082008525e-08, -0.04572457820177078, -0.025644121691584587, -0.02413991466164589, -0.04458582028746605, -0.021037563681602478, -0.0032407266553491354, 0.10835470259189606, 0.020391998812556267, -0.031472399830818176, -0.0698385089635849, 0.07463783770799637, -0.006107730325311422, 0.020128872245550156, 0.009383316151797771, -0.029660917818546295, 0.05651335418224335, -0.007615875452756882, 0.09590979665517807, -0.02863888069987297, 0.011791729368269444, -0.06524983048439026, -0.05144074559211731, -0.06655712425708771, -0.08136289566755295, -0.05003044754266739, -0.02582523040473461, -0.018034281209111214, 0.0037951720878481865, 0.01899372786283493, -0.03961535543203354, -0.06576117873191833, 0.01394386775791645, 0.07121236622333527, -0.01900606043636799, -0.0655430257320404, -0.02922842651605606, -0.05918312072753906, 0.025071797892451286, 0.03856957331299782, 0.13032588362693787, 0.046688564121723175, 0.01801927573978901, 0.004851870238780975, 0.03850655257701874, -0.08866770565509796, -0.030183639377355576, -0.008602507412433624, -0.10843414813280106, 0.0021528764627873898, 0.13860079646110535, 0.010545375756919384, -0.0569009892642498, -0.04017055779695511, 0.010617606341838837, 0.048538241535425186, 0.0304111335426569, -0.01566975563764572, 0.002366085071116686, -0.011597638949751854, 0.05767129361629486, 0.026173824444413185, -0.02929353155195713, 0.09048748016357422, -0.008281435817480087]}, {"id": "dyn_ui_token_foundation_borders", "text": "# Design Token: borders\n\n/**\n * Design Token: Borders\n * Domain: border\n * \n * Provides: Border radius scale and border width variants\n * Used by: Components needing rounded corners or borders\n * \n * Supports:\n * - Dark mode: N/A\n * - High contrast: YES (wider borders in high contrast mode)\n * - Reduced motion: N/A\n */\n\n:root {\n  /* ========== BORDER RADIUS SCALE ========== */\n  --dyn-border-radius-xs: 0.125rem;    /* 2px */\n  --dyn-border-radius-sm: 0.25rem;     /* 4px */\n  --dyn-border-radius-md: 0.5rem;      /* 8px */\n  --dyn-border-radius-lg: 0.75rem;     /* 12px */\n  --dyn-border-radius-xl: 1rem;        /* 16px */\n  --dyn-border-radius-pill: 999px;\n  --dyn-border-radius-full: 9999px;\n\n  /* ========== BORDER WIDTH SCALE ========== */\n  --dyn-border-width-hairline: 1px;\n  --dyn-border-width-thin: 2px;\n  --dyn-border-width-thick: 3px;\n}\n\n/* ========== HIGH CONTRAST MODE ========== */\n@media (prefers-contrast: high) {\n  :root {\n    --dyn-border-width-hairline: 1px;\n    --dyn-border-width-thin: 2px;\n    --dyn-border-width-thick: 4px;\n  }\n}\n", "metadata": {"type": "design_token", "category": "foundation", "name": "borders", "source": "dyn-ui-main-v01"}, "embedding": [-0.04248058795928955, 0.07375367730855942, -0.09178222715854645, -0.05240112543106079, 0.03934836387634277, -0.051818206906318665, -0.06382139772176743, 0.09031909704208374, -0.021590011194348335, -0.031224820762872696, -0.03854053467512131, 0.020574437454342842, -0.041435129940509796, 0.026094943284988403, 0.08630582690238953, 0.03186821565032005, -0.05324304848909378, 0.07169588655233383, -0.016289861872792244, 0.03589845821261406, -0.0010677388636395335, -0.12438181787729263, 0.021248791366815567, -0.06499053537845612, -0.0796048492193222, 0.04342297092080116, 0.017520012333989143, 0.03856578469276428, 0.05840064585208893, -0.0953390821814537, 0.06352350115776062, 0.10632242262363434, -0.014703414402902126, -0.010680203326046467, -0.032960858196020126, -0.045300424098968506, 0.014189129695296288, 0.05903751030564308, -0.06346070021390915, -0.0702812671661377, 0.04134587198495865, 0.06020054966211319, 0.05374361202120781, 0.0644904375076294, 0.00272218300960958, -0.018085069954395294, -0.09011352807283401, 0.10295215994119644, -0.055843181908130646, 0.016523266211152077, 0.041371315717697144, -0.15589287877082825, 0.035772789269685745, 0.0025802396703511477, -0.010079438798129559, 0.07209686189889908, -0.04653032124042511, 0.07322052866220474, 0.09108960628509521, -0.05894370749592781, 0.023147301748394966, 0.01424306072294712, 0.011392461135983467, -0.01910935901105404, 0.002723437501117587, -0.017430678009986877, -0.017284248024225235, -0.05082741007208824, 0.009388941340148449, 0.0010035563027486205, 0.02974855713546276, -0.029311692342162132, -0.011211460456252098, -0.02485143020749092, 0.04973230138421059, 0.010546216741204262, -0.020822303369641304, 0.06757935136556625, -0.08089651167392731, -0.052073366940021515, -0.040348682552576065, 0.019263898953795433, -0.0703997015953064, 0.09448457509279251, -0.007140621077269316, 0.03491899371147156, 0.01072571612894535, -0.06619313359260559, 0.04031811282038689, 0.00044017162872478366, 0.04786955565214157, 0.07193579524755478, -0.09803688526153564, -0.014448738656938076, -0.07418746501207352, -0.05349411815404892, -0.0024054967798292637, -0.0580441951751709, -0.08247599005699158, 0.06793156266212463, -0.022636394947767258, -0.043544262647628784, -0.032702844589948654, -0.006172698922455311, 0.007594444788992405, 0.01594165526330471, 0.0019349466310814023, 0.0023943791165947914, -0.03126535192131996, 0.0306407380849123, 0.025745686143636703, -0.006671964656561613, -0.03445938974618912, -0.004647542722523212, 0.024196216836571693, -0.07900175452232361, -0.0012615220621228218, -0.025991130620241165, 0.10783204436302185, 0.015079936943948269, 0.05785541236400604, 0.05511300265789032, -0.09836788475513458, -0.043260883539915085, 0.0061892676167190075, -0.020516522228717804, -0.03516480326652527, 4.529112877477071e-33, -0.008860166184604168, 0.057894136756658554, -0.04478412866592407, 0.05602261796593666, 0.10987567156553268, -0.00948231853544712, 0.026131555438041687, -0.03905441612005234, -0.017759254202246666, 0.017771592363715172, -0.04652668535709381, -0.042857687920331955, -0.03759713098406792, -0.021179627627134323, 0.008114231750369072, -0.11896444857120514, 0.08602756261825562, -0.019126923754811287, -0.08501634001731873, 0.05286867544054985, -0.016754575073719025, 0.038075998425483704, -0.08372855186462402, 0.01645653508603573, -0.01420030277222395, 0.061248306185007095, 0.0627373531460762, 0.023027073591947556, 0.034853819757699966, 0.026047060266137123, -0.073939248919487, -0.06139440834522247, 0.026948582381010056, 0.07334890961647034, -0.06630457937717438, 0.11366190761327744, -0.07796942442655563, -0.09039627015590668, 0.033433135598897934, -0.022977499291300774, -0.05667352303862572, -0.005372932180762291, -0.002666925312951207, 0.007780924905091524, -0.07552814483642578, 0.07455698400735855, 0.0947180837392807, -0.046027038246393204, -0.011382294818758965, -0.0069501628167927265, 0.02192413993179798, 0.052646711468696594, 0.009760314598679543, -0.12321724742650986, 0.04143412783741951, -0.062363401055336, -0.038050465285778046, 0.06543148308992386, 0.02114870212972164, 0.09769462794065475, 0.057221077382564545, -0.03829796984791756, -0.050340063869953156, 0.0012986126821488142, -9.155985753750429e-05, 0.0038198239635676146, -0.07339371740818024, -0.04773592948913574, -0.006019892171025276, -0.12010674923658371, -0.04069872945547104, 0.023731395602226257, 0.10605330020189285, 0.09538546949625015, 0.005430335178971291, 0.014599478803575039, 0.03545370325446129, 0.06630875915288925, 0.05782102793455124, -0.08741214871406555, -0.14727841317653656, 0.04964438080787659, -0.009304323233664036, -0.031390540301799774, 0.008674900978803635, -0.01552310399711132, 0.05521426722407341, 0.018483633175492287, -0.0465751551091671, -0.07824813574552536, -0.019566887989640236, -0.04985635727643967, 0.1280178278684616, -0.04803391546010971, -0.008402159437537193, -5.055200231399801e-33, -0.05124184489250183, 0.016840722411870956, -0.030833633616566658, 0.02361326292157173, 0.023325705900788307, 0.043704286217689514, 0.02319188043475151, -0.035502977669239044, -0.002979293931275606, 0.021972868591547012, 0.03488127887248993, 0.02574087120592594, -0.05185989290475845, -0.03767794370651245, -0.015344097279012203, 0.02703961916267872, 0.04578841105103493, -0.01109856367111206, 0.010411196388304234, -0.007782274391502142, -0.03381754457950592, 0.055023398250341415, -0.04838527366518974, 0.06894376873970032, -0.032680872827768326, 0.02488034777343273, 0.018574686720967293, -0.015547525137662888, 0.04031050577759743, 0.03891153633594513, -0.05850205570459366, -0.0694018080830574, -0.015581618994474411, 0.0407366044819355, 0.04673386737704277, -0.07069123536348343, -0.0037716468796133995, -0.0007877322495914996, -0.016498437151312828, -0.08327224850654602, -0.009112666361033916, -0.05880825221538544, 0.030832232907414436, 0.028239145874977112, -0.041780877858400345, 0.024567263200879097, 0.06292703002691269, 0.05967162176966667, -0.11098682880401611, 0.037280067801475525, 0.02271854691207409, 0.0256549883633852, 0.04438646510243416, -0.017375219613313675, -0.006507627200335264, 0.013061854057013988, 0.023691188544034958, 0.04377424716949463, 0.09335942566394806, 0.06009627878665924, 0.02175518311560154, -0.02412918023765087, -0.05997411906719208, -0.01406458392739296, 0.009702361188828945, -0.014514091424643993, -0.01799527183175087, 0.03548259660601616, -0.0031549534760415554, 0.0012611635029315948, 0.013988046906888485, 0.10221128910779953, -0.09232024848461151, 0.017897939309477806, 0.016138749197125435, -0.05671822279691696, 0.13688884675502777, -0.10968637466430664, 0.025301974266767502, 0.031491171568632126, -0.103116974234581, 0.021688858047127724, -0.0072758314199745655, 0.039767857640981674, 0.019226154312491417, -0.0006897318526171148, -0.03967133164405823, 0.08874776214361191, 0.03700995445251465, 0.025146296247839928, -0.025371519848704338, 0.03990880772471428, 0.013169154524803162, 0.038429368287324905, 0.057936325669288635, -6.091279658448912e-08, 0.01475533563643694, -0.012633581645786762, -0.04390254616737366, -0.03242949768900871, -0.04221910983324051, -0.05785936117172241, 0.023660602048039436, -0.040790002793073654, -0.024625495076179504, -0.02297843061387539, 0.038176026195287704, -0.005276827607303858, -0.10799344629049301, -0.010150482878088951, -0.06677697598934174, 0.06059698760509491, -0.024093514308333397, 0.12695792317390442, -0.03820661082863808, 0.029959436506032944, -0.05011077597737312, 0.006696097552776337, -0.014534230343997478, -0.056892119348049164, -0.01660884916782379, -0.013759936206042767, -0.057255372405052185, 0.0304616317152977, 0.052807681262493134, -0.07800247520208359, 0.03064996935427189, 0.027044974267482758, 0.09552071243524551, -0.02075268141925335, -0.031366344541311264, -0.06486422568559647, -0.07438637316226959, 0.051106397062540054, 0.03491779789328575, 0.046682145446538925, 0.04363921657204628, -0.0280618816614151, 0.03384547680616379, 0.043394722044467926, -0.054762210696935654, -0.02245347574353218, 0.009118534624576569, 0.0005360100767575204, -0.048957906663417816, 0.043549202382564545, 0.02329016663134098, 0.004351133015006781, 0.021771518513560295, -0.01097343023866415, 0.04216518998146057, -0.005844526458531618, -0.028935523703694344, 0.04711377993226051, 0.03441295027732849, -0.019697658717632294, 0.001580892945639789, 0.0318707637488842, 0.0011701140319928527, 0.023987097665667534]}, {"id": "dyn_ui_token_foundation_colors", "text": "# Design Token: colors\n\n/**\n * Design Token: Foundation Colors\n * Domain: color\n * \n * Provides: Primary colors, text colors, backgrounds, borders, status colors\n * Used by: All components that need color styling\n * \n * Supports:\n * - Dark mode: YES\n * - High contrast: NO (handled in separate file)\n * - Reduced motion: N/A\n */\n\n:root {\n  /* ========== NEUTRALS & BACKGROUNDS ========== */\n  --dyn-color-background: #ffffff;\n  --dyn-color-background-secondary: #f8fafc;\n  --dyn-color-background-hover: #f1f5f9;\n  --dyn-color-background-selected: #e2e8f0;\n  --dyn-color-surface: #ffffff;\n  --dyn-color-surface-subtle: #f3f4f6;\n  --dyn-color-surface-muted: #e2e8f0;\n  --dyn-color-surface-disabled: #f1f5f9;\n  --dyn-color-surface-readonly: #f9fafb;\n\n  /* ========== TEXT COLORS ========== */\n  --dyn-color-text-primary: #111827;\n  --dyn-color-text-secondary: #475569;\n  --dyn-color-text-tertiary: #64748b;\n  --dyn-color-text-disabled: #94a3b8;\n  --dyn-color-text-placeholder: #94a3b8;\n  --dyn-color-text-inverse: #f8fafc;\n\n  /* ========== BORDERS ========== */\n  --dyn-color-border: #d0d5dd;\n  --dyn-color-border-light: #e2e8f0;\n  --dyn-color-border-subtle: rgba(15, 23, 42, 0.08);\n  --dyn-color-border-hover: #94a3b8;\n  --dyn-color-border-disabled: #e2e8f0;\n\n  /* ========== BRAND COLORS ========== */\n  --dyn-color-primary: #2563eb;\n  --dyn-color-primary-hover: #1d4ed8;\n  --dyn-color-primary-active: #1e40af;\n  --dyn-color-primary-light: #60a5fa;\n  --dyn-color-primary-dark: #1e3a8a;\n  --dyn-color-primary-contrast: #ffffff;\n  --dyn-color-primary-alpha: rgba(37, 99, 235, 0.16);\n\n  /* ========== STATUS COLORS ========== */\n  --dyn-color-success: #10b981;\n  --dyn-color-success-hover: #059669;\n  --dyn-color-success-light: #6ee7b7;\n  --dyn-color-success-dark: #047857;\n  --dyn-color-success-contrast: #ffffff;\n  --dyn-color-success-alpha: rgba(16, 185, 129, 0.16);\n\n  --dyn-color-warning: #f59e0b;\n  --dyn-color-warning-hover: #d97706;\n  --dyn-color-warning-light: #fcd34d;\n  --dyn-color-warning-dark: #b45309;\n  --dyn-color-warning-contrast: #ffffff;\n  --dyn-color-warning-alpha: rgba(245, 158, 11, 0.16);\n\n  --dyn-color-info: #0ea5e9;\n  --dyn-color-info-hover: #0284c7;\n  --dyn-color-info-light: #38bdf8;\n  --dyn-color-info-dark: #0369a1;\n  --dyn-color-info-contrast: #ffffff;\n  --dyn-color-info-alpha: rgba(14, 165, 233, 0.16);\n\n  --dyn-color-error: #ef4444;\n  --dyn-color-error-hover: #dc2626;\n  --dyn-color-error-light: #fca5a5;\n  --dyn-color-error-dark: #991b1b;\n  --dyn-color-error-contrast: #ffffff;\n  --dyn-color-error-alpha: rgba(239, 68, 68, 0.16);\n\n  --dyn-color-danger: #dc2626;\n  --dyn-color-danger-hover: #b91c1c;\n  --dyn-color-danger-active: #991b1b;\n  --dyn-color-danger-light: #fecaca;\n  --dyn-color-danger-dark: #7f1d1d;\n  --dyn-color-danger-contrast: #ffffff;\n  --dyn-color-danger-alpha: rgba(220, 38, 38, 0.16);\n\n  /* ========== ACCESSIBILITY ========== */\n  --dyn-color-focus-ring: rgba(37, 99, 235, 0.35);\n}\n\n/* ========== DARK MODE OVERRIDES ========== */\n@media (prefers-color-scheme: dark) {\n  :root {\n    /* Backgrounds */\n    --dyn-color-background: #0f172a;\n    --dyn-color-background-secondary: #1e293b;\n    --dyn-color-background-hover: #1e293b;\n    --dyn-color-background-selected: #334155;\n    --dyn-color-surface: #1a1f35;\n    --dyn-color-surface-subtle: #2d3748;\n    --dyn-color-surface-muted: #4a5568;\n    --dyn-color-surface-disabled: #1e293b;\n    --dyn-color-surface-readonly: #1a1f2e;\n\n    /* Text */\n    --dyn-color-text-primary: #f1f5f9;\n    --dyn-color-text-secondary: #cbd5f5;\n    --dyn-color-text-tertiary: #a0aec0;\n    --dyn-color-text-disabled: #64748b;\n    --dyn-color-text-placeholder: #64748b;\n    --dyn-color-text-inverse: #0f172a;\n\n    /* Borders */\n    --dyn-color-border: #334155;\n    --dyn-color-border-light: #475569;\n    --dyn-color-border-subtle: rgba(255, 255, 255, 0.1);\n    --dyn-color-border-hover: #64748b;\n    --dyn-color-border-disabled: #334155;\n\n    /* Brand */\n    --dyn-color-primary: #3b82f6;\n    --dyn-color-primary-hover: #2563eb;\n    --dyn-color-primary-active: #1d4ed8;\n    --dyn-color-primary-light: #60a5fa;\n    --dyn-color-primary-dark: #1e3a8a;\n\n    /* Status Colors Dark Mode */\n    --dyn-color-success: #34d399;\n    --dyn-color-success-hover: #10b981;\n    --dyn-color-success-light: #6ee7b7;\n    --dyn-color-success-dark: #047857;\n\n    --dyn-color-warning: #fbbf24;\n    --dyn-color-warning-hover: #f59e0b;\n    --dyn-color-warning-light: #fcd34d;\n    --dyn-color-warning-dark: #b45309;\n\n    --dyn-color-info: #38bdf8;\n    --dyn-color-info-hover: #0ea5e9;\n    --dyn-color-info-light: #7dd3fc;\n    --dyn-color-info-dark: #0369a1;\n\n    --dyn-color-error: #f87171;\n    --dyn-color-error-hover: #ef4444;\n    --dyn-color-error-light: #fca5a5;\n    --dyn-color-error-dark: #7f1d1d;\n\n    --dyn-color-danger: #f87171;\n    --dyn-color-danger-hover: #ef4444;\n    --dyn-color-danger-active: #dc2626;\n    --dyn-color-danger-light: #fecaca;\n    --dyn-color-danger-dark: #7f1d1d;\n\n    /* Focus */\n    --dyn-color-focus-ring: rgba(59, 130, 246, 0.35);\n  }\n}\n", "metadata": {"type": "design_token", "category": "foundation", "name": "colors", "source": "dyn-ui-main-v01"}, "embedding": [-0.028603773564100266, 0.040603119879961014, -0.01691536046564579, 0.0074652559123933315, 0.11650099605321884, -0.027111588045954704, -0.008998832665383816, 0.03697136417031288, 0.0019497086759656668, 0.019286775961518288, -0.04621785506606102, 0.007366335019469261, -0.01550243515521288, -0.03776291012763977, 0.0744151845574379, 0.0823676809668541, -0.03427204489707947, 0.02506677806377411, -0.07066525518894196, 0.035264309495687485, -0.03754924610257149, -0.05311596766114235, 0.015378006733953953, -0.05267610773444176, -0.12924249470233917, 0.04819561541080475, 0.025492457672953606, 0.031096316874027252, 0.05974629521369934, -0.08487829566001892, 0.018955115228891373, 0.037344302982091904, 0.06117415055632591, 0.022798476740717888, -0.026111241430044174, -0.01444011740386486, 0.03834392502903938, -0.008706280961632729, -0.12821681797504425, -0.0269762109965086, -0.0421077162027359, -0.022433742880821228, -0.018036626279354095, 0.025964701548218727, 0.0017218446591868997, -0.024769164621829987, 0.025173362344503403, -0.005544173531234264, -0.027681179344654083, -0.01259175781160593, 0.023254048079252243, -0.08387479931116104, 0.04904055967926979, -0.018313398584723473, -0.031290531158447266, 0.10350736230611801, -0.021188458427786827, -0.01016037818044424, 0.08421202749013901, -0.009312096051871777, 0.041367970407009125, 0.04370355233550072, -0.015367147512733936, -0.03982662037014961, 0.09709683060646057, 0.06831104308366776, -0.0056261103600263596, -0.045086655765771866, 0.010560359805822372, -0.048100799322128296, -0.019983267411589622, -0.019718220457434654, 0.0977783128619194, 0.03250068798661232, 0.04027627781033516, 0.054070666432380676, 0.032132338732481, 0.04088365659117699, -0.03873544931411743, -0.1324770152568817, 0.0468929149210453, 0.006815256550908089, -0.0029465672560036182, 0.11138792335987091, 0.06683968007564545, 0.08826453238725662, -0.0266032163053751, -0.04604778066277504, -0.05357501283288002, 0.020420575514435768, -0.02653963677585125, -0.0241426769644022, -0.014909536577761173, -0.04497119411826134, -0.0497138649225235, 0.0026782311033457518, -0.017789991572499275, -0.07080202549695969, -0.027991946786642075, 0.07422977685928345, -0.0733686313033104, -0.06527714431285858, 0.07534978538751602, 0.05628521367907524, -0.03688064217567444, -0.005110117141157389, -0.029210655018687248, 0.04146028310060501, -0.047156576067209244, -0.003860639641061425, 0.053835753351449966, -0.009049073792994022, -0.09130457043647766, -0.02091595157980919, 0.011302031576633453, -0.008415644988417625, -0.004083635285496712, -0.021212594583630562, 0.11641116440296173, 0.03585031256079674, 0.12527787685394287, -0.00491117499768734, -0.09436645358800888, -0.04011441767215729, -0.04064759612083435, -0.045238181948661804, 0.005555242300033569, 8.48252298853511e-33, 0.04070284217596054, 0.007065415382385254, -0.07070092856884003, 0.04375293478369713, 0.10366008430719376, -0.03970489650964737, 0.0065151965245604515, -0.08540353178977966, -0.09239094704389572, 0.022863026708364487, 0.07445672154426575, -0.004667558707296848, -0.043043334037065506, 0.034543588757514954, -0.051967259496450424, -0.10374674946069717, 0.06728362292051315, -0.03606215864419937, -0.016831539571285248, -0.008885005488991737, -0.047325316816568375, 0.08901633322238922, -0.0871085673570633, -0.005460713524371386, 0.024641724303364754, 0.04734247177839279, 0.07270310074090958, 0.023048534989356995, -0.004020367283374071, -0.010727222077548504, -0.017865773290395737, -0.05001504346728325, 0.08185102045536041, 0.08424300700426102, -0.05168106034398079, 0.04886052757501602, -0.08238103985786438, -0.05120339244604111, 0.03673175722360611, 0.013677768409252167, -0.09987093508243561, 0.04415064677596092, -0.011944438330829144, 0.018004145473241806, -0.03681723400950432, 0.028303759172558784, 0.07922349125146866, -0.08726188540458679, 0.017267584800720215, 0.020190676674246788, 0.01294178981333971, 0.030747083947062492, -0.016815442591905594, -0.0964537188410759, 0.0592418797314167, -0.08644857257604599, -0.03334716334939003, 0.04589802771806717, 0.03906695172190666, 0.05654117465019226, -0.003278782358393073, -0.0007155808852985501, -0.038210831582546234, -0.049701936542987823, 0.028040679171681404, 0.04099176079034805, -0.05308600887656212, -0.03503836318850517, -0.03327605500817299, -0.1029735654592514, -0.054866157472133636, 0.0801786482334137, 0.07101646065711975, 0.013939538970589638, -0.018696613609790802, -0.04599869251251221, 0.08846993744373322, -0.00755735719576478, 0.025421958416700363, -0.06359761953353882, -0.11076556146144867, 0.010606109164655209, -0.06346599757671356, 0.02958945371210575, -0.05464772507548332, -0.0010457038879394531, 0.028557157143950462, 0.015953414142131805, -0.03930305317044258, -0.12064368277788162, -0.020355403423309326, -0.050086285918951035, 0.046361226588487625, -0.09956938773393631, -0.027394236996769905, -9.332503117147537e-33, 0.014487944543361664, 0.05325036123394966, -0.0779181569814682, 0.07863067090511322, 0.020286044105887413, 0.05579547956585884, 0.05023816227912903, -0.048385679721832275, 0.027538789436221123, 0.04656173661351204, 0.06802397221326828, 0.06762756407260895, -0.034086767584085464, -0.01915401965379715, -0.011176745407283306, 0.06564172357320786, -0.047817979007959366, 0.04039214178919792, -0.003591821063309908, 0.025319427251815796, -0.059049900621175766, 0.06454852223396301, -0.016450123861432076, 0.055081695318222046, -0.0226167943328619, 0.011475153267383575, -0.01588849537074566, 0.030857738107442856, 0.0004035881720483303, -0.014094322919845581, -0.027716603130102158, -0.031106306239962578, -0.030171886086463928, 0.02882402390241623, 0.04208000376820564, -0.10894715040922165, -0.04472048953175545, 0.0015215331222862005, -0.09195175766944885, 0.010920223779976368, -0.003001039382070303, -0.038492124527692795, 0.019350605085492134, 0.005595152731984854, -0.045001618564128876, 0.07980481535196304, -0.035736486315727234, 0.028863994404673576, -0.058949705213308334, -0.02619507722556591, 0.0528215654194355, -0.03777766600251198, 0.020523883402347565, 0.008149603381752968, 0.011843369342386723, 0.017774589359760284, 0.13405926525592804, 0.09010668098926544, 0.0009545579086989164, 0.14442871510982513, 0.06133922562003136, -0.019141806289553642, -0.09565640240907669, -0.0015755369095131755, 0.029783738777041435, -0.053304966539144516, -0.0715707316994667, 0.02768700011074543, 0.007750066928565502, -0.03470064699649811, -0.003966151736676693, -0.012406479567289352, -0.024509858340024948, -0.0026226791087538004, 0.058829646557569504, -0.030163712799549103, 0.13090255856513977, -0.06883527338504791, 0.009564853273332119, 0.08083121478557587, -0.05711830034852028, 0.0274756271392107, 0.026638636365532875, 0.016290342435240746, 0.001365163829177618, 0.0686502456665039, -0.042127203196287155, 0.0676010251045227, 0.07226914167404175, -0.08359300345182419, -0.016537584364414215, 0.04878099262714386, 0.08640959113836288, 0.037564266473054886, -0.008176838047802448, -6.86555523543575e-08, -0.013923663645982742, -0.06384272873401642, 0.009250767529010773, -0.0656692236661911, -0.053713321685791016, -0.0236655380576849, 0.05441770702600479, -0.0915851965546608, -0.027995850890874863, 0.016712775453925133, -0.009487553499639034, 0.03436492010951042, -0.0645470842719078, -0.019161924719810486, -0.030502082780003548, 0.04262547194957733, -0.049031227827072144, 0.04851094260811806, -0.053026121109724045, 0.007061452139168978, -0.08492245525121689, 0.02776632271707058, -0.031577788293361664, -0.002159200143069029, -0.002484237542375922, 0.023968936875462532, 0.008595314808189869, 0.003796808421611786, 0.013815954327583313, 0.025792550295591354, -0.025537218898534775, 0.04045241326093674, 0.030711514875292778, -0.1025526225566864, -0.09403351694345474, 0.008376618847250938, -0.03813336417078972, 0.03824738413095474, -0.01718825101852417, 0.01961478218436241, 0.004172140266746283, 0.02419116161763668, -0.05318695679306984, 0.049799542874097824, -0.03087116777896881, -0.04728305712342262, -0.016697313636541367, -0.023611018434166908, -0.056452468037605286, 0.00578998401761055, -0.03607795387506485, -0.03480624780058861, -0.00428260862827301, 0.06026437506079674, -0.025570664554834366, -0.0488322451710701, -0.029068129137158394, 0.10149770975112915, 0.05904781073331833, -0.03834967687726021, 0.04719392955303192, -0.040711674839258194, 0.008746000938117504, 0.03352245315909386]}, {"id": "dyn_ui_token_foundation_focus-states", "text": "# Design Token: focus-states\n\n/**\n * Design Token: Focus States & Accessibility\n * Domain: focus\n * \n * Provides: Focus ring and outline tokens for keyboard navigation\n * Used by: All interactive components for accessibility\n * \n * Supports:\n * - Dark mode: YES (different focus colors)\n * - High contrast: YES (thicker borders)\n * - Reduced motion: N/A\n */\n\n:root {\n  /* ========== FOCUS STATE TOKENS ========== */\n  --dyn-focus-ring-width: 3px;\n  --dyn-focus-ring-offset: 3px;\n  --dyn-focus-ring-color: var(--dyn-color-focus-ring);\n  --dyn-focus-outline: 3px solid var(--dyn-focus-ring-color);\n\n  /* ========== FOCUS UTILITIES ========== */\n  --dyn-focus-visible-style: outline var(--dyn-focus-outline) var(--dyn-focus-ring-offset);\n}\n\n/* ========== HIGH CONTRAST MODE ========== */\n@media (prefers-contrast: high) {\n  :root {\n    --dyn-focus-ring-width: 4px;\n    --dyn-focus-ring-offset: 2px;\n    --dyn-focus-outline: 4px solid var(--dyn-focus-ring-color);\n  }\n}\n\n/* ========== DARK MODE ========== */\n@media (prefers-color-scheme: dark) {\n  :root {\n    --dyn-focus-ring-color: rgba(59, 130, 246, 0.35);\n  }\n}\n", "metadata": {"type": "design_token", "category": "foundation", "name": "focus-states", "source": "dyn-ui-main-v01"}, "embedding": [-0.0346759669482708, -0.11270178109407425, -0.0747804120182991, 0.008903881534934044, -0.007570305839180946, 0.013059793971478939, 0.05099969357252121, 0.02072030119597912, 0.008727388456463814, 0.0007052537985146046, -0.021473731845617294, 0.002457838971167803, -0.018373912200331688, -0.0366511344909668, 0.04597162455320358, 0.06891807913780212, 0.0321681946516037, 0.030409181490540504, -0.042978111654520035, -0.0007166647701524198, 0.0840286910533905, -0.04979332536458969, 0.026485377922654152, -0.06680726259946823, -0.09075736999511719, 0.025682935491204262, 0.0003619233029894531, -0.03464965149760246, 0.03079862892627716, -0.05725992098450661, -0.016870815306901932, 0.013234756886959076, 0.04076588526368141, -0.018830720335245132, -0.06263753771781921, -0.020141925662755966, -0.02511375956237316, 0.04121952876448631, -0.12192116677761078, -0.06419900059700012, -0.05031299218535423, 0.03637630119919777, 0.03255974128842354, 0.022208379581570625, 0.05028174817562103, -0.02597474865615368, -0.014088699594140053, 0.05794474110007286, -0.005816281773149967, 0.007729932200163603, -0.049477070569992065, -0.07818995416164398, 0.06813462823629379, -0.07222914695739746, -0.0050159781239926815, 0.10927803814411163, -0.05710175633430481, 0.07081625610589981, 0.028435252606868744, -0.05484653264284134, -0.019466297701001167, 0.0590086430311203, 0.025865070521831512, -0.07456357777118683, 0.06849861890077591, 0.08016104996204376, 0.04627490043640137, -0.04922120273113251, -0.008710375986993313, -0.030018916353583336, 0.019205285236239433, -0.03360055759549141, 0.073813796043396, -0.0861450731754303, 0.006343093700706959, 0.01570286601781845, 0.030901623889803886, -0.035234980285167694, -0.03949425369501114, -0.11592364311218262, 0.04604930803179741, -0.020198233425617218, -0.04389655962586403, 0.08258692175149918, 0.06005537882447243, 0.12281312793493271, -0.07249029725790024, -0.07952535897493362, -0.05674021318554878, 0.012941223569214344, 0.027954531833529472, -0.11962854862213135, -0.07228297740221024, -0.026397710666060448, -0.0130145363509655, -0.07034473121166229, 0.008545869961380959, -0.019834715873003006, -0.04015820100903511, 0.03719674050807953, 0.009863476268947124, -0.016687221825122833, -0.006795251742005348, -0.08239581435918808, -0.04688922315835953, 0.001233424642123282, 0.09962248057126999, -0.017197394743561745, -0.10157814621925354, 0.039537880569696426, 0.04793224111199379, -0.04184478148818016, -0.06007971242070198, 0.02815922349691391, -0.01430448703467846, 0.06268038600683212, -0.009057258255779743, -0.06279652565717697, 0.19148945808410645, 0.0379355289041996, 0.007069735322147608, 0.024505235254764557, -0.0973801538348198, -0.017932353541254997, -0.07243956625461578, -0.03316875174641609, -0.004281950183212757, 8.765610680887919e-33, -0.011683551594614983, 0.03477126732468605, -0.10516677051782608, 0.01773567870259285, -0.013871230185031891, -0.07103047519922256, 0.025522157549858093, -0.11868616938591003, -0.10733355581760406, -0.012058624066412449, 0.012578410096466541, 0.034609053283929825, -0.019455675035715103, -0.019469227641820908, 0.04256421700119972, -0.12794172763824463, 0.05122489854693413, 0.06549281626939774, -0.10022830218076706, 0.034040357917547226, -0.035908110439777374, 0.09328274428844452, -0.07201184332370758, 0.006175790447741747, 0.06878229230642319, 0.02265961468219757, -0.01595417968928814, 0.014753595925867558, 0.0067943790927529335, 0.01806519366800785, -0.023780256509780884, 0.05560360848903656, -0.02902112901210785, 0.049434348940849304, -0.04387679696083069, 0.06579400599002838, -0.054759711027145386, -0.026038752868771553, 0.046803589910268784, -0.025425732135772705, -0.05174051970243454, 0.01334367971867323, 0.01541643962264061, -0.006948825437575579, -0.06465378403663635, 0.05581371486186981, 0.03707920387387276, 0.015006528235971928, -0.007905094884335995, 0.028649933636188507, 0.04678131639957428, -0.02436533197760582, -0.03648558631539345, -0.15115179121494293, 0.03869644179940224, -0.050593435764312744, -0.051116399466991425, 0.10757669806480408, 0.12491674721240997, 0.06461813300848007, -0.0353664755821228, -0.06911183148622513, 0.003083823947235942, 0.03737252205610275, -0.006919940933585167, 0.05213860422372818, -0.10359539836645126, -0.022035682573914528, 0.03228198364377022, -0.07892691344022751, -0.016435721889138222, 0.028498204424977303, 0.011017384007573128, 0.06366349011659622, 0.055037956684827805, -0.04402606561779976, 0.033798180520534515, -0.1094946563243866, 0.04313403740525246, -0.05797894671559334, -0.033509619534015656, 0.027807844802737236, -0.048092346638441086, 0.05471188202500343, -0.04930209368467331, 0.05905750393867493, -0.021291552111506462, 0.018351232632994652, -0.07203106582164764, -0.0544288195669651, -0.024241378530859947, -0.04223466292023659, 0.0036515342071652412, -0.09762724488973618, -0.007629482541233301, -9.259905320724721e-33, 0.012402498163282871, 0.06780562549829483, -0.0033471169881522655, 0.07116368412971497, -0.021307339891791344, 0.033964741975069046, 0.07396533340215683, -0.04793684929609299, 0.046588532626628876, -0.00524842320010066, 0.00976545363664627, 0.03273840993642807, -0.0033631925471127033, 0.008306167088449001, -0.07250738143920898, 0.02441827766597271, 0.0036043007858097553, 0.0264105424284935, 0.02465137653052807, 0.048844531178474426, -0.0070001776330173016, -0.04898594319820404, -0.03734225034713745, 0.010305514559149742, -0.06686849147081375, 0.03219990059733391, 0.009830741211771965, 0.021422037854790688, 0.02323533035814762, -0.06297393143177032, -0.03932647407054901, 0.04130228981375694, -0.03347555920481682, 0.05336496978998184, -0.018365152180194855, -0.008768674917519093, -0.031016461551189423, -0.04136279970407486, -0.06416522711515427, -0.048740074038505554, -0.013968022540211678, -0.0057267313823103905, 0.09397286921739578, -0.03551056236028671, 0.01830015890300274, 0.1193871796131134, 0.039219919592142105, 0.04902874678373337, -0.08232090622186661, -0.01572892814874649, 0.03293049335479736, -0.025019178166985512, 0.0037980107590556145, -0.03408975899219513, -0.07629257440567017, 0.07911218702793121, 0.06774493306875229, -0.015514559112489223, 0.008779031224548817, 0.07670129835605621, 0.04590694606304169, -0.011893666349351406, -0.03834948316216469, 0.04100640118122101, 0.05256808176636696, -0.027402158826589584, -0.00492224283516407, 0.011953596957027912, 0.047590989619493484, -0.03507223352789879, 0.015440419316291809, -0.003472579177469015, 0.010280081070959568, -0.0023300107568502426, 0.035515859723091125, -0.05709611251950264, 0.0853213518857956, 0.006233962252736092, 0.038497280329465866, 0.03862810507416725, 0.009244824759662151, 0.014697575010359287, 0.015006777830421925, 0.026981282979249954, 0.054606370627880096, 0.13642463088035583, -0.04511640593409538, 0.039652034640312195, 0.01771555282175541, 0.021880293264985085, -0.015110488049685955, -0.01444808579981327, 0.04635375738143921, -0.002843760419636965, -0.043194591999053955, -5.999652330501704e-08, 0.031424231827259064, 0.03701723739504814, -0.009192065335810184, -0.017016196623444557, -0.06027665361762047, -0.06808270514011383, 0.06539430469274521, -0.024324053898453712, 0.016525575891137123, -0.019131941720843315, -0.029521500691771507, 0.004724899772554636, -0.05829809606075287, -0.02092668041586876, 0.026990845799446106, 0.09403537213802338, -0.024204019457101822, 0.05890803039073944, -0.046023041009902954, 0.012142443098127842, 0.009903456084430218, -0.019265396520495415, -0.016719583421945572, 0.027763981372117996, 0.013142501935362816, 0.01896001771092415, -0.0902356505393982, 0.05827837064862251, 0.0789499506354332, -0.020756246522068977, 0.026638034731149673, 0.06898623704910278, 0.03644196316599846, -0.046316977590322495, -0.12328758090734482, -0.06423080712556839, -0.004192383959889412, 0.04783047363162041, 0.015621433965861797, 0.1204877644777298, 0.013088039122521877, -0.03684910759329796, 0.014027874916791916, 0.035415101796388626, -0.039007242769002914, -0.004980866797268391, 0.0034911339171230793, -0.061876408755779266, -0.04132028669118881, -0.014082394540309906, -0.022025803104043007, 0.010869805701076984, 0.03330602869391441, 0.04472490772604942, -0.016808433458209038, 0.04873952642083168, 0.037351980805397034, 0.06394454091787338, -0.042945537716150284, -0.015515139326453209, 0.023096904158592224, -0.006053611636161804, -0.07993603497743607, 0.06856536865234375]}, {"id": "dyn_ui_token_foundation_index", "text": "# Design Token: index\n\n/* ============================================\n   AUTO-GENERATED by Style Dictionary\n   DO NOT EDIT DIRECTLY\n   Source: tokens/**\n   ============================================ */\n\n:root {\n  --dyn-transition-none: none;\n  --dyn-transition-fast: 0.1s ease;\n  --dyn-transition-normal: 0.2s ease-in-out;\n  --dyn-transition-slow: 0.3s ease-in-out;\n  --dyn-transition-slower: 0.5s ease-in-out;\n  --dyn-transition-all: all 0.2s ease-in-out;\n  --dyn-transition-colors: color 0.2s ease, background-color 0.2s ease, border-color 0.2s ease;\n  --dyn-transition-transform: transform 0.2s ease-in-out;\n  --dyn-transition-opacity: opacity 0.2s ease-in-out;\n  --dyn-duration-instant: 0ms;\n  --dyn-duration-fast: 100ms;\n  --dyn-duration-normal: 200ms;\n  --dyn-duration-slow: 300ms;\n  --dyn-duration-slower: 500ms;\n  --dyn-duration-slowest: 1000ms;\n  --dyn-easing-linear: linear;\n  --dyn-easing-ease: ease;\n  --dyn-easing-ease-in: ease-in;\n  --dyn-easing-ease-out: ease-out;\n  --dyn-easing-ease-in-out: ease-in-out;\n  --dyn-easing-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);\n  --dyn-easing-smooth: cubic-bezier(0.4, 0, 0.2, 1);\n  --dyn-action-default: #0066cc;\n  --dyn-action-hover: #0052a3;\n  --dyn-action-pressed: #003d7a;\n  --dyn-action-disabled: #cccccc;\n  --dyn-action-focus: #0066cc;\n  --dyn-base-white: #ffffff;\n  --dyn-base-black: #000000;\n  --dyn-feedback-positive: #28a745;\n  --dyn-feedback-positive-light: #48c767;\n  --dyn-feedback-positive-dark: #1e7e34;\n  --dyn-feedback-positive-subtle: rgba(40, 167, 69, 0.1);\n  --dyn-feedback-negative-default: #dc3545;\n  --dyn-feedback-negative-light: #e4606d;\n  --dyn-feedback-negative-dark: #bd2130;\n  --dyn-feedback-negative-subtle: rgba(220, 53, 69, 0.1);\n  --dyn-feedback-warning: #ffc107;\n  --dyn-feedback-warning-light: #ffda6a;\n  --dyn-feedback-warning-dark: #d39e00;\n  --dyn-feedback-warning-subtle: rgba(255, 193, 7, 0.1);\n  --dyn-feedback-info: #17a2b8;\n  --dyn-feedback-info-light: #3fc3dc;\n  --dyn-feedback-info-dark: #117a8b;\n  --dyn-feedback-info-subtle: rgba(23, 162, 184, 0.1);\n  --dyn-neutral-light-50: #fafafa;\n  --dyn-neutral-light-100: #f4f4f5;\n  --dyn-neutral-light-200: #e4e4e7;\n  --dyn-neutral-light-300: #d4d4d8;\n  --dyn-neutral-light-white: #ffffff;\n  --dyn-neutral-mid-400: #a1a1aa;\n  --dyn-neutral-mid-500: #71717a;\n  --dyn-neutral-mid-600: #52525b;\n  --dyn-neutral-dark-700: #3f3f46;\n  --dyn-neutral-dark-800: #27272a;\n  --dyn-neutral-dark-900: #18181b;\n  --dyn-neutral-dark-950: #09090b;\n  --dyn-neutral-dark-black: #000000;\n  --dyn-semantic-background: #ffffff;\n  --dyn-semantic-surface: #fafafa;\n  --dyn-semantic-surface-muted: #f4f4f5;\n  --dyn-semantic-surface-hover: #f4f4f5;\n  --dyn-semantic-surface-active: #e4e4e7;\n  --dyn-semantic-surface-selected: #e4e4e7;\n  --dyn-semantic-text: #18181b;\n  --dyn-semantic-text-secondary: #52525b;\n  --dyn-semantic-text-muted: #a1a1aa;\n  --dyn-semantic-text-disabled: #d4d4d8;\n  --dyn-semantic-text-inverse: #ffffff;\n  --dyn-semantic-border: #e4e4e7;\n  --dyn-semantic-border-hover: #d4d4d8;\n  --dyn-semantic-border-focus: #3b82f6;\n  --dyn-semantic-input-bg: #ffffff;\n  --dyn-semantic-input-border: #a1a1aa;\n  --dyn-semantic-overlay: rgba(0, 0, 0, 0.5);\n  --dyn-semantic-danger-DEFAULT: #dc3545;\n  --dyn-semantic-danger-surface: rgba(220, 53, 69, 0.1);\n  --dyn-semantic-danger-border: #e4606d;\n  --dyn-semantic-danger-text: #bd2130;\n  --dyn-semantic-success-DEFAULT: #28a745;\n  --dyn-semantic-success-surface: rgba(40, 167, 69, 0.1);\n  --dyn-semantic-success-border: #48c767;\n  --dyn-semantic-success-text: #1e7e34;\n  --dyn-semantic-warning-DEFAULT: #ffc107;\n  --dyn-semantic-warning-surface: rgba(255, 193, 7, 0.1);\n  --dyn-semantic-warning-border: #ffda6a;\n  --dyn-semantic-warning-text: #d39e00;\n  --dyn-semantic-info-DEFAULT: #17a2b8;\n  --dyn-semantic-info-surface: rgba(23, 162, 184, 0.1);\n  --dyn-semantic-info-border: #3fc3dc;\n  --dyn-semantic-info-text: #117a8b;\n  --dyn-semantic-link: #3b82f6;\n  --dyn-semantic-link-hover: #2563eb;\n  --dyn-theme-primary: #3b82f6;\n  --dyn-theme-primary-light: #60a5fa;\n  --dyn-theme-primary-dark: #2563eb;\n  --dyn-theme-primary-subtle: rgba(37, 99, 235, 0.1);\n  --dyn-theme-secondary: #64748b;\n  --dyn-theme-secondary-light: #94a3b8;\n  --dyn-theme-secondary-dark: #475569;\n  --dyn-theme-secondary-subtle: rgba(100, 116, 139, 0.1);\n  --dyn-theme-accent: #0ea5e9;\n  --dyn-theme-accent-light: #38bdf8;\n  --dyn-theme-accent-dark: #0284c7;\n  --dyn-breakpoint-xs: 0;\n  --dyn-breakpoint-sm: 576px;\n  --dyn-breakpoint-md: 768px;\n  --dyn-breakpoint-lg: 992px;\n  --dyn-breakpoint-xl: 1200px;\n  --dyn-breakpoint-2xl: 1400px;\n  --dyn-container-xs: 320px;\n  --dyn-container-sm: 540px;\n  --dyn-container-md: 720px;\n  --dyn-container-lg: 960px;\n  --dyn-container-xl: 1140px;\n  --dyn-container-2xl: 1320px;\n  --dyn-container-full: 100%;\n  --dyn-opacity-0: 0;\n  --dyn-opacity-5: 0.05;\n  --dyn-opacity-10: 0.1;\n  --dyn-opacity-20: 0.2;\n  --dyn-opacity-25: 0.25;\n  --dyn-opacity-30: 0.3;\n  --dyn-opacity-40: 0.4;\n  --dyn-opacity-50: 0.5;\n  --dyn-opacity-60: 0.6;\n  --dyn-opacity-70: 0.7;\n  --dyn-opacity-75: 0.75;\n  --dyn-opacity-80: 0.8;\n  --dyn-opacity-90: 0.9;\n  --dyn-opacity-95: 0.95;\n  --dyn-opacity-100: 1;\n  --dyn-opacity-disabled: 0.5;\n  --dyn-z-index-hide: -1;\n  --dyn-z-index-base: 0;\n  --dyn-z-index-raised: 1;\n  --dyn-z-index-dropdown: 100;\n  --dyn-z-index-sticky: 200;\n  --dyn-z-index-fixed: 300;\n  --dyn-z-index-overlay: 400;\n  --dyn-z-index-modal: 500;\n  --dyn-z-index-popover: 600;\n  --dyn-z-index-toast: 700;\n  --dyn-z-index-max: 9999;\n  --dyn-elevation-none: none;\n  --dyn-elevation-low: 0 1px 2px 0 rgba(15, 23, 42, 0.05);\n  --dyn-elevation-medium: 0 4px 6px -1px rgba(15, 23, 42, 0.1), 0 2px 4px -1px rgba(15, 23, 42, 0.06);\n  --dyn-elevation-high: 0 10px 15px -3px rgba(15, 23, 42, 0.1), 0 4px 6px -2px rgba(15, 23, 42, 0.05);\n  --dyn-elevation-highest: 0 20px 25px -5px rgba(15, 23, 42, 0.1), 0 10px 10px -5px rgba(15, 23, 42, 0.04);\n  --dyn-elevation-focus: 0 0 0 3px rgba(0, 123, 255, 0.25);\n  --dyn-elevation-inner: inset 0 2px 4px rgba(0, 0, 0, 0.08);\n  --dyn-border-width-none: 0px;\n  --dyn-border-width-sm: 1px;\n  --dyn-border-width-md: 2px;\n  --dyn-border-width-lg: 3px;\n  --dyn-border-width-xl: 4px;\n  --dyn-border-radius-none: 0px;\n  --dyn-border-radius-xs: 2px;\n  --dyn-border-radius-sm: 4px;\n  --dyn-border-radius-md: 6px;\n  --dyn-border-radius-lg: 8px;\n  --dyn-border-radius-xl: 16px;\n  --dyn-border-radius-2xl: 24px;\n  --dyn-border-radius-3xl: 32px;\n  --dyn-border-radius-full: 9999px;\n  --dyn-font-size-2xs: 10px;\n  --dyn-font-size-xs: 12px;\n  --dyn-font-size-sm: 14px;\n  --dyn-font-size-md: 16px;\n  --dyn-font-size-lg: 18px;\n  --dyn-font-size-xl: 20px;\n  --dyn-font-size-2xl: 24px;\n  --dyn-font-size-3xl: 30px;\n  --dyn-font-size-4xl: 36px;\n  --dyn-font-size-5xl: 48px;\n  --dyn-font-size-6xl: 60px;\n  --dyn-spacing-none: 0px;\n  --dyn-spacing-3xs: 1px;\n  --dyn-spacing-2xs: 2px;\n  --dyn-spacing-xs: 4px;\n  --dyn-spacing-xs-sm: 6px;\n  --dyn-spacing-sm: 8px;\n  --dyn-spacing-sm-md: 12px;\n  --dyn-spacing-md: 16px;\n  --dyn-spacing-md-18: 18px;\n  --dyn-spacing-md-lg: 20px;\n  --dyn-spacing-lg: 24px;\n  --dyn-spacing-xl-sm: 28px;\n  --dyn-spacing-xl: 32px;\n  --dyn-spacing-xl-lg: 36px;\n  --dyn-spacing-2xl: 40px;\n  --dyn-spacing-2xl-lg: 44px;\n  --dyn-spacing-3xl: 48px;\n  --dyn-spacing-4xl: 56px;\n  --dyn-spacing-4xl-lg: 60px;\n  --dyn-spacing-5xl: 64px;\n  --dyn-spacing-6xl: 80px;\n  --dyn-spacing-7xl: 96px;\n  --dyn-spacing-8xl: 128px;\n  --dyn-spacing-8xl-lg: 150px;\n  --dyn-spacing-9xl: 256px;\n  --dyn-spacing-view-min: 200px;\n  --dyn-spacing-calendar-w: 280px;\n  --dyn-spacing-compact-bp: 480px;\n  --dyn-spacing-neg-2xs: -2px;\n  --dyn-spacing-neg-xs: -4px;\n  --dyn-spacing-neg-sm: -8px;\n  --dyn-font-family-base: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;\n  --dyn-font-family-mono: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace;\n  --dyn-font-weight-thin: 100;\n  --dyn-font-weight-light: 300;\n  --dyn-font-weight-normal: 400;\n  --dyn-font-weight-medium: 500;\n  --dyn-font-weight-semibold: 600;\n  --dyn-font-weight-bold: 700;\n  --dyn-font-weight-extrabold: 800;\n  --dyn-font-weight-black: 900;\n  --dyn-font-lineHeight-none: 1;\n  --dyn-font-lineHeight-tight: 1.25;\n  --dyn-font-lineHeight-snug: 1.375;\n  --dyn-font-lineHeight-normal: 1.5;\n  --dyn-font-lineHeight-relaxed: 1.625;\n  --dyn-font-lineHeight-loose: 2;\n  --dyn-font-letterSpacing-tighter: -0.05em;\n  --dyn-font-letterSpacing-tight: -0.025em;\n  --dyn-font-letterSpacing-normal: 0;\n  --dyn-font-letterSpacing-wide: 0.025em;\n  --dyn-font-letterSpacing-wider: 0.05em;\n  --dyn-font-letterSpacing-widest: 0.1em;\n}\n\n/* Dark Theme Support */\n@media (prefers-color-scheme: dark) {\n  :root {\n    --dyn-semantic-background: #09090b;\n    --dyn-semantic-surface: #18181b;\n    --dyn-semantic-surface-muted: #27272a;\n    --dyn-semantic-surface-hover: #27272a;\n    --dyn-semantic-surface-active: #3f3f46;\n    --dyn-semantic-surface-selected: #3f3f46;\n    --dyn-semantic-text: #fafafa;\n    --dyn-semantic-text-secondary: #a1a1aa;\n    --dyn-semantic-text-muted: #52525b;\n    --dyn-semantic-text-disabled: #71717a;\n    --dyn-semantic-text-inverse: #09090b;\n    --dyn-semantic-border: #27272a;\n    --dyn-semantic-border-hover: #52525b;\n    --dyn-semantic-border-focus: #3b82f6;\n    --dyn-semantic-input-bg: #18181b;\n    --dyn-semantic-input-border: #3f3f46;\n    --dyn-semantic-overlay: rgba(0, 0, 0, 0.8);\n    --dyn-semantic-link: #60a5fa;\n    --dyn-semantic-link-hover: #3b82f6;\n  }\n}\n\n[data-theme='dark'],\n.theme-dark {\n    --dyn-semantic-background: #09090b;\n    --dyn-semantic-surface: #18181b;\n    --dyn-semantic-surface-muted: #27272a;\n    --dyn-semantic-surface-hover: #27272a;\n    --dyn-semantic-surface-active: #3f3f46;\n    --dyn-semantic-surface-selected: #3f3f46;\n    --dyn-semantic-text: #fafafa;\n    --dyn-semantic-text-secondary: #a1a1aa;\n    --dyn-semantic-text-muted: #52525b;\n    --dyn-semantic-text-disabled: #71717a;\n    --dyn-semantic-text-inverse: #09090b;\n    --dyn-semantic-border: #27272a;\n    --dyn-semantic-border-hover: #52525b;\n    --dyn-semantic-border-focus: #3b82f6;\n    --dyn-semantic-input-bg: #18181b;\n    --dyn-semantic-input-border: #3f3f46;\n    --dyn-semantic-overlay: rgba(0, 0, 0, 0.8);\n    --dyn-semantic-link: #60a5fa;\n    --dyn-semantic-link-hover: #3b82f6;\n}\n", "metadata": {"type": "design_token", "category": "foundation", "name": "index", "source": "dyn-ui-main-v01"}, "embedding": [-0.05944819748401642, 0.03207678720355034, 0.005722138565033674, 0.024428071454167366, -0.01214502938091755, -0.021296100690960884, -0.06378733366727829, -0.005208206828683615, 0.010764675214886665, -0.03287014737725258, -0.0283405389636755, -0.009052140638232231, 0.009666819125413895, -0.06266412883996964, 0.04612918943166733, 0.08160779625177383, -0.05050979182124138, 0.06061569228768349, -0.03293384984135628, -0.014541953802108765, 0.05099789425730705, -0.0822523981332779, -0.007105200085788965, -0.02977590449154377, -0.026523228734731674, 0.05188426747918129, -0.03416707366704941, 0.023050926625728607, 0.11819453537464142, -0.0666508898139, -0.03333202749490738, 0.04650905728340149, -0.053490977734327316, 0.020799623802304268, 0.01399092748761177, -0.0032034392934292555, 0.029828453436493874, 0.08465175330638885, -0.004768787883222103, -0.013633106835186481, 0.05272471159696579, -0.0004719599965028465, 0.012361233122646809, 0.004886146169155836, 0.035772114992141724, 0.008280239999294281, -0.06542286276817322, -0.037723466753959656, -0.09476055204868317, -0.0291919969022274, 0.003677056171000004, -0.07856576889753342, -0.016462182626128197, -0.012433713302016258, -0.02684495411813259, 0.1329074203968048, 0.06407799571752548, 0.06876417249441147, 0.0791674256324768, -0.08308663964271545, 0.03687724471092224, 0.04490619897842407, 0.00036450079642236233, -0.0384533666074276, 0.025693705305457115, 0.02349424920976162, 0.04231921583414078, -0.010281767696142197, 0.0751110166311264, 0.006462925113737583, -0.015750424936413765, -0.0427275151014328, 0.056919485330581665, 0.00960263516753912, 0.003392735728994012, -0.032667189836502075, 0.06352230906486511, 0.04572417587041855, -0.09204991906881332, -0.1283283233642578, -0.020107503980398178, -0.062136098742485046, 0.013307728804647923, 0.028273914009332657, 0.005941444076597691, 0.057678062468767166, -0.03273986279964447, -0.01606692560017109, -0.026720019057393074, 0.023926859721541405, -0.03397791460156441, 0.020558807998895645, -0.0631103590130806, -0.07208175212144852, 0.0151995699852705, 0.043203577399253845, 0.02458464540541172, -0.06041491776704788, 0.05163106694817543, 0.03629617393016815, -0.004470553714782, -0.04732249677181244, 0.018083449453115463, 0.007069702725857496, -0.014508035965263844, -0.02272915653884411, 0.02536025270819664, 0.04961979389190674, -0.061253342777490616, 0.036555953323841095, 0.016611000522971153, -0.0073602646589279175, -0.027490748092532158, -0.002642150968313217, -0.017040127888321877, -0.007951987907290459, -0.038182057440280914, 0.03232410550117493, 0.13354180753231049, 0.09946437180042267, 0.12373168766498566, -0.014118865132331848, -0.09378530830144882, -0.013315231539309025, -0.09845473617315292, -0.08537772297859192, 0.011861676350235939, 1.1044543782878995e-32, 0.04295679181814194, -0.01950749009847641, -0.06228049471974373, -0.0020490505266934633, 0.05417463555932045, -0.010763749480247498, -0.030562546104192734, -0.09997590631246567, -0.12887026369571686, 0.021791215986013412, 0.04553351551294327, -0.0036509535275399685, -0.09773462265729904, -0.007371789310127497, -0.013582302257418633, -0.12455441057682037, 0.03917798772454262, -0.012982516549527645, -0.006036277394741774, -0.020024163648486137, -0.035795796662569046, 0.036976028233766556, -0.0755506083369255, -0.024151094257831573, -0.006609014701098204, 0.034534670412540436, 0.026345528662204742, 0.012467712163925171, -0.016569027677178383, -0.02545730583369732, -0.0036411392502486706, -0.033794768154621124, -0.05535358190536499, 0.047115571796894073, -0.03163856267929077, -0.0005816337070427835, -0.027764905244112015, -0.03130371868610382, 0.05568881705403328, -0.042624976485967636, -0.06698813289403915, 0.00886930339038372, -0.001826753607019782, -0.002162081189453602, -0.05819125100970268, 0.08820991218090057, 0.10475152730941772, 0.027154771611094475, -0.054825782775878906, 0.013751762919127941, 0.04194507747888565, 0.05359892174601555, -0.05182180553674698, -0.0755591168999672, 0.054046038538217545, -0.06038587540388107, 0.05925079435110092, 0.04883451759815216, 0.03633077070116997, 0.08758486062288284, 0.004809492267668247, 0.033472150564193726, 0.01134570688009262, -0.03264860436320305, 0.07060500234365463, 0.05770452693104744, -0.0549762137234211, -0.027447188273072243, 0.009303978644311428, -0.07381772994995117, -0.09668774157762527, 0.019512850791215897, 0.038860023021698, -0.040650609880685806, 0.018699385225772858, -0.07801368087530136, 0.03622147813439369, -0.052444860339164734, -0.024045972153544426, -0.043901920318603516, -0.0741405338048935, 0.040851473808288574, -0.08265280723571777, -0.004447401035577059, 0.006724804639816284, -0.002210918813943863, 0.0010560143273323774, -0.003860452678054571, -0.09278925508260727, -0.05483028292655945, -0.03728685900568962, -0.03225601464509964, 0.11435604095458984, -0.026487762108445168, -0.04541139677166939, -1.1859728544023112e-32, 0.005095839966088533, 0.018044037744402885, 0.048979952931404114, 0.10760438442230225, 0.04249412193894386, 0.0039725652895867825, -0.005869551096111536, 0.06635589152574539, 0.09557413309812546, 0.06344597786664963, 0.03854251652956009, 0.04677986353635788, -0.0873965471982956, -0.012760520912706852, -0.0712498277425766, 0.014878364279866219, 0.018998445942997932, 0.02355709671974182, 0.05357583612203598, 0.06685293465852737, -0.035511553287506104, 0.0979425385594368, -0.10865286737680435, 0.03509542718529701, -0.05634612962603569, -0.011101470328867435, -0.014306229539215565, 0.07969975471496582, -0.012302226386964321, -0.0007320244912989438, -0.042850326746702194, -0.059996455907821655, -0.030606606975197792, 0.033287208527326584, -0.03551162779331207, -0.04080767557024956, -0.04247971251606941, -0.009729627519845963, -0.08404650539159775, -0.01031523011624813, 0.030396729707717896, -0.04870155453681946, 0.020076429471373558, 0.011976197361946106, 0.00010665877198334783, 0.09233736246824265, -0.030794581398367882, 0.06508594006299973, -0.1376529484987259, 0.02325122430920601, 0.10467013716697693, 0.054495491087436676, -0.05355259031057358, -0.02786250226199627, 0.018572572618722916, -0.0007751501980237663, 0.048734016716480255, 0.010235672816634178, -0.024388207122683525, 0.06894771009683609, 0.022360267117619514, -0.046355534344911575, -0.022523144260048866, -0.03721686080098152, 0.039829980581998825, -0.0705258846282959, -0.07689715176820755, -0.008505516685545444, -0.0013870474649593234, -0.034201040863990784, 0.10250253230333328, 0.015291775576770306, -0.04262208193540573, -0.02843582257628441, 0.04705917090177536, -0.14798550307750702, 0.110371895134449, -0.08966303616762161, 0.055194564163684845, -0.000985439633950591, -0.15248483419418335, 0.06392748653888702, 0.028641147539019585, 0.06977450847625732, -0.10306370258331299, 0.041628848761320114, -0.0625096932053566, 0.08245212584733963, 0.03693002834916115, 0.0005102138384245336, 0.02095611020922661, 0.04514047130942345, 0.08998915553092957, 0.06561648100614548, -0.01594957336783409, -6.603151092576809e-08, -0.01279795914888382, -0.01244369987398386, 0.04167699068784714, 0.029746314510703087, 0.032303906977176666, 0.016062773764133453, 0.08374428749084473, 0.004016852006316185, -0.002879468956962228, -0.03044416755437851, 0.052886079996824265, 0.008021273650228977, 0.008932256139814854, 0.0025647974107414484, -0.047731947153806686, 0.06194470822811127, -0.00016614855849184096, 0.050913117825984955, -0.02510896697640419, 0.0175335556268692, -0.06583896279335022, 0.004394222516566515, -0.027931593358516693, -0.01601324789226055, -0.06046540290117264, -0.01859249919652939, 0.011285685934126377, -0.005969705525785685, 0.011267051100730896, -0.0229247584939003, -0.048975881189107895, 0.0013042163336649537, 0.07391980290412903, 0.008031709119677544, -0.04875434935092926, -0.013406817801296711, -0.07716690003871918, 0.030508501455187798, 0.04385651275515556, 0.08032812178134918, 0.006102595012634993, -0.05016224458813667, -0.03770630806684494, 0.05823221057653427, -0.11210016906261444, -0.06427811086177826, -0.006357486825436354, -0.07075347751379013, -0.026677530258893967, 0.023416347801685333, -0.011755173094570637, -0.05866115167737007, -0.0489593930542469, -0.03523804247379303, 0.008372055366635323, 0.021099956706166267, -0.007139266934245825, 0.0568089634180069, 0.025388015434145927, 0.06885311752557755, 0.0067463219165802, 0.01028185524046421, 0.04106716439127922, 0.007104239426553249]}, {"id": "dyn_ui_token_foundation_opacity", "text": "# Design Token: opacity\n\n/**\n * Design Token: Opacity\n * Domain: opacity\n * \n * Provides: Opacity values for interactive states\n * Used by: Disabled, hover, and active state styling\n * \n * Supports:\n * - Dark mode: N/A\n * - High contrast: N/A\n * - Reduced motion: N/A\n */\n\n:root {\n  /* ========== OPACITY SCALE ========== */\n  --dyn-opacity-disabled: 0.56;\n  --dyn-opacity-hover: 0.08;\n  --dyn-opacity-active: 0.16;\n  --dyn-opacity-subtle: 0.04;\n}\n", "metadata": {"type": "design_token", "category": "foundation", "name": "opacity", "source": "dyn-ui-main-v01"}, "embedding": [-0.09486265480518341, 0.00930606760084629, -0.02339206263422966, 0.05360732972621918, 0.002003098139539361, -0.10948798060417175, 0.047831691801548004, -0.002310291165485978, 0.021167168393731117, 0.006705340463668108, -0.0022483093198388815, 0.022716496139764786, -0.04290410503745079, -0.015270580537617207, 0.02435312047600746, 0.08278995752334595, 0.0705430805683136, 0.0017216556007042527, 0.004121245350688696, 0.007187820505350828, 0.027849268168210983, -0.12032808363437653, 0.014501414261758327, -0.08389674872159958, -0.022427737712860107, 0.01651068963110447, 0.012049956247210503, 0.005496733821928501, 0.031494006514549255, -0.009724377654492855, -0.009210675023496151, -0.02004369907081127, 0.05285918712615967, -0.03701554983854294, -0.04164228215813637, -0.04846934229135513, 0.05397801101207733, -0.011725501157343388, -0.0536663681268692, -0.042150385677814484, 0.04562094062566757, -0.009009837172925472, 0.03027433343231678, -0.029756806790828705, -0.00860303919762373, -0.016978293657302856, 0.010490317828953266, -0.051019489765167236, -0.02263437770307064, 0.030604897066950798, 0.04893806204199791, -0.09954029321670532, 0.06395523995161057, -0.04984939843416214, -0.004734668880701065, 0.09177625924348831, 0.004869726020842791, 0.02839781902730465, 8.844443800626323e-05, -0.02902384288609028, -0.01932307705283165, 0.07160186767578125, 0.005637279246002436, 0.003620106726884842, 0.11386509984731674, 0.03978980705142021, 0.04388178884983063, -0.08395545184612274, -0.027460934594273567, 0.0033071814104914665, -0.00343831954523921, -0.04486418887972832, 0.08176500350236893, -0.005854825954884291, 0.022697271779179573, 0.013936907984316349, -0.0007788109942339361, 0.00042638025479391217, -0.026012586429715157, -0.05324592441320419, 0.08797364681959152, -0.07721643894910812, -0.03758009523153305, 0.06048467755317688, 0.019663546234369278, 0.06561759114265442, -0.025526661425828934, -0.04376227781176567, -0.01060460228472948, 0.032789167016744614, -0.0623757541179657, -0.024199077859520912, -0.12206991016864777, -0.05908329039812088, -0.03194130212068558, -0.05570504814386368, -0.008084045723080635, -0.012326921336352825, -0.07845886051654816, 0.07447563111782074, -0.006158191245049238, -0.012321921065449715, 0.08263906091451645, 0.024504192173480988, -0.057927872985601425, 0.02737077698111534, 0.06459170579910278, 0.02175392396748066, -0.06185559555888176, 0.10064660012722015, 0.013072398491203785, -0.04010157659649849, -0.014439268968999386, -0.03084963746368885, -0.01166275143623352, 0.042228277772665024, -0.0453171469271183, 0.007048017345368862, 0.15314817428588867, -0.0519866980612278, 0.1334892213344574, -0.03480830416083336, -0.04582934081554413, -0.03374901041388512, 0.012750375084578991, -0.05010301619768143, 0.03544507548213005, 7.152016197669888e-33, 0.04343564808368683, -0.04618057981133461, -0.04692695289850235, 0.011501766741275787, 0.06569738686084747, -0.027005568146705627, 0.032263562083244324, -0.1374722570180893, -0.13006016612052917, -0.009274681098759174, 0.08055038005113602, 0.0195605605840683, -0.009256110526621342, 0.035529688000679016, -0.000636469223536551, -0.08878578245639801, 0.1079871878027916, -0.0314699225127697, 0.02404872328042984, -0.016294077038764954, -0.026837311685085297, 0.04450801759958267, -0.08786577731370926, 0.0014194682007655501, 0.011260788887739182, 0.05166609212756157, -0.005778573919087648, -0.02293303608894348, -0.04307352378964424, 0.0350879542529583, -0.0106288380920887, 0.02495814487338066, 0.002254087943583727, 0.032725706696510315, -0.009461458772420883, 0.12147060036659241, -0.09568515419960022, -0.05461546406149864, 0.09093838185071945, -0.0228977520018816, -0.07215748727321625, -0.01735084131360054, 0.007031421177089214, 0.013836788944900036, -0.06833653897047043, 0.09131205081939697, 0.09506774693727493, -0.05999882519245148, -0.04985319450497627, 0.0938970223069191, 0.017544709146022797, -0.020307239145040512, -0.10226210206747055, -0.1240466982126236, 0.04564439132809639, -0.0649784728884697, 0.02032811939716339, 0.04639790207147598, 0.030404966324567795, 0.06498227268457413, 0.005916174501180649, 0.013222227804362774, 0.0208901334553957, -0.1294080913066864, -0.03312956914305687, 0.10039467364549637, -0.08963636308908463, -0.04104704037308693, -0.001965969568118453, -0.06457752734422684, -0.05572245642542839, 0.0697229653596878, 0.027351014316082, 0.043543510138988495, -0.025394584983587265, -0.0005934368818998337, 0.06931807100772858, -0.043898534029722214, 0.027865426614880562, -0.062234241515398026, -0.030690519139170647, -0.07131992280483246, -0.06493715941905975, 0.04378320276737213, -0.028177745640277863, -0.030656563118100166, -0.01631147973239422, 0.054381005465984344, -0.10940919816493988, -0.04890763387084007, 0.029375113546848297, -0.01167306024581194, 0.04595715180039406, -0.03710998222231865, -0.023476891219615936, -8.225484985680494e-33, 0.025629259645938873, 0.054778967052698135, -0.09187246859073639, 0.08251935243606567, -0.0665401816368103, 0.021019797772169113, 0.057473137974739075, -0.022377291694283485, 0.0007302050362341106, 0.0083836130797863, 0.068609818816185, 0.02336449734866619, -0.0356685072183609, -0.024254901334643364, -0.005736827850341797, 0.05214284360408783, -0.07785440981388092, 0.025366900488734245, 0.03239218890666962, 0.0637739971280098, 0.007442159578204155, 0.04571866616606712, 0.045090120285749435, 0.0987313911318779, -0.011089424602687359, -0.021428927779197693, 0.03809872269630432, 0.006194215267896652, 0.022327424958348274, -0.05522932484745979, -0.062146954238414764, -0.022352196276187897, 0.005367604549974203, -0.031298086047172546, -0.007040678057819605, -0.00441725691780448, 0.012927944771945477, -0.04645698145031929, -0.0659235343337059, -0.05349290743470192, 0.015501772053539753, -0.042050544172525406, 0.023439187556505203, 0.010810761712491512, -0.020424824208021164, 0.12939365208148956, -0.05245736986398697, 0.044262006878852844, -0.04611876606941223, -0.0013236664235591888, 0.05251253396272659, -0.013602293096482754, 0.0034480206668376923, -0.026889754459261894, -0.020977599546313286, -0.0002099040284520015, 0.057754360139369965, 0.05104849860072136, 0.02062278240919113, 0.06834693253040314, 0.037382595241069794, 0.008424414321780205, -0.04715188220143318, 0.017789702862501144, 0.0490698516368866, 0.022909818217158318, -0.005683581344783306, 0.03936813399195671, 0.002464830409735441, -0.023435844108462334, 0.07442447543144226, 0.009746244177222252, -0.005901654250919819, -0.03058222308754921, 0.07403392344713211, -0.0670681744813919, 0.12263881415128708, -0.04678346961736679, -0.018263330683112144, 0.04260141775012016, -0.03351123631000519, 0.02813226357102394, 0.018655791878700256, 0.04132967069745064, -0.048835642635822296, 0.11729062348604202, -0.11171697825193405, 0.07141554355621338, 0.000691887631546706, 0.027704812586307526, -0.040516581386327744, 0.054312605410814285, -0.012843593023717403, 0.019408823922276497, 0.013795635662972927, -5.301870231733119e-08, -0.05840438976883888, -0.05415636673569679, 0.05947340652346611, -0.05707105994224548, -0.03913620859384537, 0.02959594316780567, 0.03211243823170662, -0.08052247017621994, -0.002186784753575921, -0.07075928151607513, 0.02050633542239666, 0.023456748574972153, 0.010580998845398426, -0.022705797106027603, -0.020406359806656837, 0.07401468604803085, -0.08861721307039261, 0.076682448387146, -0.04654619097709656, 0.07935690134763718, -0.07389509677886963, -0.0069208331406116486, -0.05926002189517021, 0.017193784937262535, -0.023711146786808968, 0.015725309029221535, -0.039543043822050095, 0.04424958676099777, 0.026582159101963043, -0.026869449764490128, 0.015738120302557945, 0.014689410105347633, 0.027755578979849815, -0.09281650185585022, -0.08621484786272049, -0.026052890345454216, -0.062421806156635284, -0.013840647414326668, -0.021412551403045654, 0.002211781684309244, -0.03634904697537422, 0.010222963988780975, -0.008834660984575748, 0.03656776621937752, -0.05100017413496971, 0.015494074672460556, 0.040582504123449326, -0.08354412019252777, -0.06730149686336517, 0.0011417573550716043, -0.006424401421099901, -0.016575602814555168, -0.00885594729334116, 0.08121702075004578, -0.023789668455719948, -0.06534990668296814, 0.010306981392204762, 0.10514086484909058, -0.0242481529712677, 0.03122277371585369, 0.09043584764003754, -0.010704576037824154, -0.010972877964377403, 0.04029408097267151]}, {"id": "dyn_ui_token_foundation_sizing", "text": "# Design Token: sizing\n\n/**\n * Design Token: Sizing\n * Domain: size\n * \n * Provides: Component sizes and touch targets\n * Used by: Size variant components, touch-target responsive design\n * \n * Supports:\n * - Dark mode: N/A\n * - High contrast: N/A\n * - Reduced motion: N/A\n */\n\n:root {\n  /* ========== COMPONENT SIZES ========== */\n  --dyn-size-xs: 1rem;            /* 16px */\n  --dyn-size-sm: 1.5rem;          /* 24px */\n  --dyn-size-md: 2.5rem;          /* 40px */\n  --dyn-size-lg: 3rem;            /* 48px */\n\n  /* ========== TOUCH TARGETS (WCAG) ========== */\n  --dyn-size-touch-target: 44px;\n  --dyn-size-touch-target-sm: 40px;\n  --dyn-size-touch-target-lg: 52px;\n\n  /* ========== ICON SIZES ========== */\n  --dyn-size-icon-sm: 1rem;       /* 16px */\n  --dyn-size-icon-md: 1.5rem;     /* 24px */\n  --dyn-size-icon-lg: 2rem;       /* 32px */\n  --dyn-size-icon-xl: 2.5rem;     /* 40px */\n}\n", "metadata": {"type": "design_token", "category": "foundation", "name": "sizing", "source": "dyn-ui-main-v01"}, "embedding": [-0.006020297762006521, 0.016346339136362076, 0.049784012138843536, -0.007631660904735327, 0.008604925125837326, -0.03794955462217331, 0.018180660903453827, 0.1280614733695984, -0.05314229056239128, 0.020659103989601135, 0.04724141210317612, -0.01331540010869503, -0.016142098233103752, 0.015956725925207138, 0.05213610827922821, 0.06185571104288101, 0.0025854844134300947, 0.05935201048851013, -0.021036693826317787, 0.07403787225484848, 0.044504281133413315, -0.1007353886961937, 0.014651523903012276, -0.10873381048440933, -0.06809151917695999, -0.012371519580483437, 0.028632231056690216, -0.04537690803408623, 0.019462713971734047, -0.08991917967796326, 0.02512982115149498, 0.11708816885948181, -0.0018232058500871062, -0.022061053663492203, -0.012705456465482712, -0.04359573498368263, -0.010358144529163837, -0.05546020343899727, -0.10224711894989014, -0.024879327043890953, 0.023222023621201515, 0.03409991040825844, 0.051717281341552734, 0.044590529054403305, -0.012825747951865196, -0.003241143422201276, -0.008093781769275665, 0.0716673731803894, -0.07827743887901306, 0.0114307114854455, 0.03554989770054817, -0.07206030935049057, 0.054050154983997345, 0.029774755239486694, -0.03866971284151077, 0.013539277017116547, -0.03956494480371475, 0.08703039586544037, 0.08372267335653305, -0.026372253894805908, 0.04168054461479187, 0.059309232980012894, -0.011658365838229656, -0.039866283535957336, 0.09042280167341232, -0.002034998033195734, 0.06296341866254807, -0.0709824413061142, -0.005397521425038576, 0.036716196686029434, 0.005602123215794563, -0.06150709092617035, 0.08474458754062653, 0.02844792976975441, 0.027181459590792656, 0.01103688683360815, 0.005825893022119999, 0.07604716718196869, -0.050998441874980927, -0.06913691759109497, -0.01185595989227295, -0.003169737523421645, -0.08514901995658875, 0.06954928487539291, 0.06662031263113022, 0.09314226359128952, 0.00545561732724309, 0.015528817661106586, -0.010615691542625427, -0.03827507048845291, -0.022812964394688606, 0.012765099294483662, -0.14174646139144897, -0.03674277290701866, -0.0038239825516939163, -0.09637928754091263, -0.05880896747112274, -0.05550474673509598, -0.10337404161691666, 0.0326724648475647, 0.016108039766550064, 0.00896701030433178, 0.01933855563402176, 0.06455621868371964, -0.02647825889289379, -0.0632484033703804, -0.07597394287586212, 0.031714171171188354, -0.07897007465362549, 0.04480905458331108, 0.0819515511393547, -0.0016432052943855524, -0.06647884845733643, 0.04033871740102768, 0.05543970316648483, -0.06391748040914536, -0.019070077687501907, 0.03744512423872948, 0.15570460259914398, -0.03205004706978798, 0.06898366659879684, -0.011289257556200027, -0.14973671734333038, -0.11198201775550842, -0.05036533251404762, 0.043162956833839417, -0.019991783425211906, 5.727667856068599e-33, -0.031212732195854187, 0.0562596321105957, -0.07500065118074417, -0.017130911350250244, 0.016356095671653748, -0.045157525688409805, 0.04330122470855713, -0.034835346043109894, -0.05358705297112465, 0.01737927831709385, 0.017069444060325623, -0.0400884672999382, -0.05862418934702873, 0.06729935854673386, 0.058841120451688766, -0.07550612837076187, 0.05425247922539711, 0.036959171295166016, -0.04693622142076492, -0.016346853226423264, -0.013889612630009651, 0.03520999476313591, -0.10381326079368591, 0.013128502294421196, 0.00458921305835247, 0.009937593713402748, 0.02546756900846958, 0.05647798255085945, -0.0341014564037323, -0.017660725861787796, -0.0447070375084877, -0.034969646483659744, 0.056040726602077484, 0.02283782884478569, -0.013873182237148285, 0.004448608495295048, -0.07593433558940887, -0.06838454306125641, 0.06843578815460205, -0.026362454518675804, -0.030582189559936523, 0.06969531625509262, 0.030878672376275063, -0.024486355483531952, -0.052951518446207047, 0.02163165993988514, 0.0207334216684103, -0.08013021945953369, 0.01492998842149973, -0.03506655618548393, 0.026397360488772392, -0.04860090836882591, 0.0324634350836277, -0.08503789454698563, 0.059348464012145996, -0.10255853831768036, -0.06673994660377502, 0.006353113334625959, 0.03543708100914955, 0.09268542379140854, -0.029087860137224197, -0.08851291984319687, -0.015081527642905712, 0.045473840087652206, 0.0020830021239817142, 0.041582632809877396, -0.016504984349012375, -0.06867879629135132, -0.05595354735851288, -0.042479999363422394, -0.014104284346103668, 0.0075521888211369514, 0.11671926081180573, 0.031368836760520935, 0.02800537832081318, -0.061825256794691086, 0.029159555211663246, 0.03821806609630585, -0.03406009078025818, -0.027312707155942917, -0.0716174840927124, 0.05118897929787636, -0.009858391247689724, 0.02433614432811737, -0.0069197299890220165, -0.08794403821229935, -0.03552019223570824, -0.03464623913168907, -0.06886488944292068, -0.05647957697510719, -0.040910083800554276, -0.044181179255247116, 0.006351592019200325, -0.06263921409845352, -0.06248759478330612, -5.5949607886745016e-33, -0.06588004529476166, 0.05771728977560997, 0.007143882568925619, 0.05074552074074745, -0.019723286852240562, -0.008524399250745773, 0.03580412268638611, 0.00482251588255167, 0.012391944415867329, 0.015333842486143112, 0.036158036440610886, 0.03621286526322365, -0.08902686089277267, -0.07563748955726624, -0.04260435700416565, 0.1406693160533905, 0.015439320355653763, -0.04850952699780464, 0.06743855774402618, -0.008478834293782711, 0.06611158698797226, 0.06753423810005188, 0.08681926876306534, 0.09783710539340973, 0.010476581752300262, -0.0415772870182991, 0.09330173581838608, 0.028487814590334892, 0.003820179495960474, -0.04519140347838402, -0.020679356530308723, -0.050836049020290375, 0.0013030070113018155, 0.054028235375881195, 0.03006075881421566, -0.10166560858488083, -0.03525984659790993, 0.028390860185027122, 0.01856769435107708, 0.0281167421489954, 0.03614954650402069, -0.05753349885344505, 0.05699653550982475, -0.0006211294676177204, -0.014695226214826107, -0.007164807058870792, 0.016600053757429123, 0.0070538208819925785, -0.04464768245816231, 0.028464797884225845, 0.023658262565732002, 0.013514294289052486, 0.026302345097064972, -0.05889638140797615, -0.03182798624038696, 0.0029799477197229862, 0.06989871710538864, -0.0069436789490282536, 0.040304940193891525, 0.04241499304771423, 0.1031523197889328, -0.029033208265900612, -0.03593534603714943, -0.06044163554906845, -0.0007185834110714495, 0.07666236907243729, -0.021006302908062935, 0.013878771103918552, 0.001620277063921094, 0.039744969457387924, -0.023192012682557106, 0.015828430652618408, 0.02655399776995182, -0.014837617054581642, -0.02970672957599163, -0.0956781730055809, 0.04159750044345856, -0.04718279466032982, 0.05049169063568115, 0.013883120380342007, -0.05560090392827988, 0.03548875451087952, 0.01822306215763092, 0.06073639914393425, 0.046822793781757355, 0.09062308818101883, -0.04978686198592186, 0.11146684736013412, 0.007976100780069828, 0.06434110552072525, -0.043920207768678665, 0.024290991947054863, 0.09080394357442856, 0.0388895608484745, 0.02258426882326603, -6.054861501070263e-08, 0.0004237918765284121, 0.001144871232099831, -0.008679683320224285, -0.05033021420240402, -0.08470570296049118, -0.024226538836956024, 0.02166104130446911, -0.04736785963177681, 0.020586233586072922, 0.026855560019612312, 0.007064097560942173, -0.02254524827003479, -0.00987312663346529, 0.07226713001728058, 0.010642418637871742, 0.0015144685748964548, -0.03140081465244293, 0.05909186229109764, -0.10381880402565002, -0.02488238550722599, -0.01785450242459774, 0.040552061051130295, 0.04010680317878723, 0.014425375498831272, 0.06313344091176987, 0.010354871861636639, -0.0270882286131382, 0.034376662224531174, 0.012895938009023666, -0.015511072240769863, 0.015746885910630226, 0.0284641794860363, 0.03283894807100296, -0.05942194536328316, -0.06288152933120728, -0.01894785277545452, -0.0359465591609478, -0.0008544542361050844, 0.09680482000112534, 0.06086718291044235, -0.04793871194124222, -0.016217943280935287, -0.004065902438014746, 0.07590317726135254, -0.006200490519404411, -0.11596475541591644, -0.0020379426423460245, -0.06044507399201393, -0.05505536124110222, 0.04939795285463333, 0.03028363548219204, -0.032668840140104294, -0.04982936754822731, -0.038249436765909195, 0.038394346833229065, -0.01726539060473442, -0.02950882911682129, 0.10004077851772308, 0.06582517921924591, 0.002896866761147976, 0.03902653232216835, -0.016993682831525803, -0.01852603070437908, 0.05017971247434616]}, {"id": "dyn_ui_token_foundation_spacing", "text": "# Design Token: spacing\n\n/**\n * Design Token: Spacing\n * Domain: spacing\n * \n * Provides: 8px base scale and layout helpers\n * Used by: Layout components, padding/margin utilities\n * \n * Supports:\n * - Dark mode: N/A\n * - High contrast: N/A\n * - Reduced motion: N/A\n */\n\n:root {\n  /* ========== SPACING SCALE (8px base) ========== */\n  --dyn-spacing-xxs: 0.125rem;    /* 2px */\n  --dyn-spacing-xs: 0.25rem;      /* 4px */\n  --dyn-spacing-sm: 0.5rem;       /* 8px */\n  --dyn-spacing-md: 0.75rem;      /* 12px */\n  --dyn-spacing-lg: 1rem;         /* 16px */\n  --dyn-spacing-xl: 1.5rem;       /* 24px */\n  --dyn-spacing-2xl: 2rem;        /* 32px */\n  --dyn-spacing-3xl: 3rem;        /* 48px */\n\n  /* ========== LAYOUT HELPERS ========== */\n  --dyn-spacing-gutter: var(--dyn-spacing-xl);      /* 24px for horizontal gutter */\n  --dyn-spacing-section: var(--dyn-spacing-3xl);    /* 48px for section spacing */\n}\n", "metadata": {"type": "design_token", "category": "foundation", "name": "spacing", "source": "dyn-ui-main-v01"}, "embedding": [-0.06846585124731064, 0.013803716748952866, 0.004591533448547125, -0.04825472831726074, -0.020899588242173195, -0.02243192307651043, -0.09888888895511627, 0.09868279844522476, 0.04587531462311745, 0.0003710442688316107, 0.003399479668587446, 0.04884771630167961, -0.007608478888869286, -0.034134238958358765, 0.040305230766534805, 0.07237140089273453, -0.03396892547607422, 0.11024847626686096, -0.014260648749768734, 0.056245192885398865, 0.03432665392756462, -0.09491584450006485, 0.002734372392296791, -0.07753092050552368, -0.041973359882831573, 0.04674753546714783, 0.00833472702652216, 0.03881484270095825, 0.03985844925045967, -0.0854477807879448, 0.08199843019247055, 0.028782417997717857, 0.015066900290548801, -0.027595864608883858, -0.005214609671384096, 0.037725646048784256, 0.03794009983539581, 0.025546666234731674, -0.0557546392083168, -0.04970232769846916, 0.020610922947525978, 0.046658724546432495, 0.051579784601926804, 0.046793241053819656, 0.005884992424398661, 0.014648129232227802, -0.04244238883256912, 0.010854240506887436, -0.06407035142183304, -0.03349408879876137, 0.017183508723974228, -0.09430675953626633, 0.05757978931069374, -0.03374699130654335, -0.025255858898162842, 0.06652320176362991, -0.060387905687093735, 0.08081810921430588, 0.09109214693307877, -0.04035404324531555, 0.08811686933040619, 0.10281957685947418, -0.0028849735390394926, 0.03293517604470253, 0.04459783807396889, 0.006199943833053112, 0.0063363974913954735, -0.04400984197854996, -0.005078877322375774, 0.0355607345700264, -0.034958142787218094, -0.05130884423851967, 0.02856433391571045, 0.00320845446549356, 0.009725760668516159, 0.012410803698003292, 0.02723715454339981, 0.020220579579472542, -0.03455902636051178, -0.07183248549699783, 0.05518834665417671, 0.05100845545530319, -0.007943177595734596, 0.1303768903017044, 0.030341273173689842, 0.008775890804827213, 0.02714773826301098, -0.033577658236026764, -0.016315611079335213, -0.02743232622742653, 0.03692805394530296, -0.02174609899520874, -0.13544508814811707, 0.006417375057935715, -0.04843788966536522, -0.06750668585300446, -0.03124922513961792, -0.01207740232348442, -0.10317925363779068, 0.08997852355241776, -0.05516916513442993, -0.02967708371579647, 0.004209444858133793, 0.031236644834280014, -0.008969927206635475, 0.01662091352045536, -0.02216019481420517, 0.03028848022222519, -0.042573802173137665, 0.013390101492404938, 0.04653317853808403, 0.02725779265165329, -0.10572201758623123, 0.04353978484869003, 0.025507068261504173, -0.050539616495370865, 0.0075279297307133675, -0.042723651975393295, 0.17038409411907196, 0.01413669716566801, 0.12866561114788055, -0.004126060754060745, -0.11728201061487198, -0.05411826819181442, -0.021104134619235992, 0.01188125554472208, -0.02789430133998394, 5.591130881142729e-33, -0.004440040327608585, 0.021452967077493668, -0.05524583160877228, 0.01870661787688732, 0.09721159189939499, 0.008607710711658001, -0.0420369915664196, 0.0013622279511764646, -0.057818103581666946, 0.04085917770862579, 0.034167561680078506, -0.05012083426117897, -0.03725433349609375, 0.020536310970783234, -0.008787003345787525, -0.08322460949420929, 0.07597280293703079, 0.06508979201316833, -0.037225060164928436, -0.06123146042227745, -0.0959588885307312, 0.022537121549248695, -0.06751364469528198, -0.007933794520795345, 0.0004559195367619395, 0.025617145001888275, 0.06825979799032211, -0.004195515066385269, -0.07476506382226944, -0.0327310711145401, -0.09148599952459335, -0.02714359760284424, 0.017524827271699905, 0.04405279830098152, -0.0007047703256830573, 0.05724411830306053, -0.03127184510231018, -0.08140694350004196, 0.01953236386179924, -0.031548675149679184, -0.10506440699100494, 0.05013960972428322, 0.005580537486821413, -0.03892165422439575, -0.07481008768081665, 0.0706995502114296, 0.08123506605625153, -0.08247748762369156, 0.02299417555332184, 0.006813453044742346, 0.04171625152230263, 0.030278190970420837, 0.0012369711184874177, -0.0820859745144844, 0.0779750719666481, -0.13261879980564117, -0.025219986215233803, 0.0447460301220417, 0.0384407676756382, 0.1172865554690361, -0.04534442350268364, -0.052693888545036316, 0.03048439882695675, -0.04236634448170662, 0.020711900666356087, 0.014951284043490887, -0.033436331897974014, -0.05818234756588936, -0.00036292648292146623, -0.07383358478546143, -0.055512070655822754, 0.026835236698389053, 0.05265209451317787, 0.05610969290137291, -0.07004278153181076, -0.03689905256032944, 0.051843270659446716, -0.025067010894417763, -0.0022668621968477964, -0.02224365621805191, -0.061267901211977005, -0.02409936487674713, -0.010700470767915249, 0.005646060686558485, -0.04693976044654846, -0.026828859001398087, 0.07028015702962875, 0.051554907113313675, -0.006814461667090654, -0.10821209847927094, -0.056711047887802124, -0.08181050419807434, 0.0736779272556305, -0.05791936442255974, 0.0074675120413303375, -5.257546155530503e-33, -0.029694845899939537, 0.04426061362028122, -0.06628426909446716, 0.05046100541949272, 0.03473885729908943, 0.025210754945874214, 0.06644683331251144, -0.01740851067006588, 0.006344705354422331, 0.06363728642463684, 0.029014594852924347, 0.03645767271518707, -0.06269296258687973, -0.056055132299661636, -0.02264019101858139, 0.060902152210474014, -0.005511849652975798, -0.038935963064432144, 0.04168567806482315, -0.013835368677973747, 0.04036935791373253, 0.1050867810845375, -0.010858356021344662, 0.048490189015865326, 0.035099804401397705, -0.0013971180887892842, 0.027021978050470352, 0.047729574143886566, -0.00622272165492177, 0.022547941654920578, 0.007769755087792873, -0.054894015192985535, 0.022851504385471344, 0.034358929842710495, 0.041984330862760544, -0.03212398290634155, -0.09933790564537048, 0.07285817712545395, -0.003265942446887493, -0.07424222677946091, 0.008683928288519382, -0.0437944270670414, 0.05650819465517998, -0.004912947304546833, -0.013955287635326385, 0.05347749590873718, 0.03997306898236275, -0.022228587418794632, -0.08418513834476471, 0.04079515486955643, 0.013037348166108131, 0.038329627364873886, 0.011847296729683876, -0.0244536604732275, -0.06493140757083893, -0.009245738387107849, 0.0014338945038616657, 0.010392843745648861, 0.004877653904259205, 0.04638604819774628, 0.05899672210216522, -0.01945962943136692, -0.018173566088080406, -0.04999696463346481, 0.03258384391665459, 0.011034018360078335, -0.03933335095643997, 0.02077239751815796, -0.05969114229083061, 0.028780793771147728, 0.0010044066002592444, 0.030417002737522125, -0.04247231408953667, 0.0580454058945179, 0.002946570049971342, -0.08138322085142136, 0.15310314297676086, -0.06531491875648499, 0.055114395916461945, 0.051899343729019165, -0.09728445112705231, 0.01428361888974905, 0.024395283311605453, 0.04306892305612564, -0.04079093411564827, 0.06996303051710129, -0.028195589780807495, 0.13821996748447418, 0.0291115902364254, 0.018531838431954384, -0.0031531094573438168, 0.04452541843056679, 0.05471039190888405, 0.027394000440835953, -0.001679059467278421, -6.44798916482614e-08, -0.0322282575070858, -0.060370612889528275, -0.0312885046005249, -0.03608051314949989, -0.09313730895519257, -0.054929476231336594, 0.05274872109293938, -0.04685443267226219, -0.0028243442066013813, -0.012296365574002266, 0.060403838753700256, 0.0034530593547970057, -0.062152206897735596, -0.006483192089945078, -0.02877741865813732, 0.008372328244149685, -0.04436060041189194, 0.06126724183559418, -0.0948055163025856, -9.433178638573736e-05, -0.029348762705922127, 0.042176153510808945, 0.0069375005550682545, -0.0549224391579628, -0.019007813185453415, 0.01218033954501152, -0.001346459030173719, 0.04926520213484764, 0.07164009660482407, -0.06687339395284653, 0.03433678299188614, 0.05726602301001549, 0.09861402958631516, -0.04923124611377716, -0.047735996544361115, -0.005433125887066126, -0.07051131129264832, 0.07988747954368591, 0.013223204761743546, 0.053899094462394714, -0.05987660959362984, -0.09473305940628052, 0.04738336056470871, 0.061420973390340805, -0.04757808521389961, -0.025741590186953545, 0.0032436074689030647, 0.018289830535650253, -0.0401080958545208, 0.00858835969120264, 0.05382569506764412, -0.01753867231309414, -0.03484184294939041, -0.043424539268016815, 0.023213651031255722, -0.010375439189374447, -0.009600942023098469, 0.09427027404308319, 0.0537136010825634, -0.05770966783165932, -0.005285631865262985, -0.015474301762878895, -0.02702389284968376, 0.011228006333112717]}, {"id": "dyn_ui_token_foundation_typography", "text": "# Design Token: typography\n\n/**\n * Design Token: Typography\n * Domain: font\n * \n * Provides: Font families, sizes, weights, line heights, letter spacing\n * Used by: All text components\n * \n * Supports:\n * - Dark mode: N/A (typography doesn't change)\n * - High contrast: N/A\n * - Reduced motion: N/A\n */\n\n@import url('https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap');\n\n:root {\n  /* ========== FONT FAMILIES ========== */\n  --dyn-font-family-base: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;\n  --dyn-font-family-mono: 'Fira Code', 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Monaco, Courier, monospace;\n\n  /* ========== FONT SIZES SCALE ========== */\n  --dyn-font-size-xs: 0.75rem;     /* 12px */\n  --dyn-font-size-sm: 0.875rem;    /* 14px */\n  --dyn-font-size-base: 1rem;      /* 16px */\n  --dyn-font-size-md: 1.125rem;    /* 18px */\n  --dyn-font-size-lg: 1.25rem;     /* 20px */\n  --dyn-font-size-xl: 1.5rem;      /* 24px */\n  --dyn-font-size-2xl: 1.75rem;    /* 28px */\n  --dyn-font-size-3xl: 2rem;       /* 32px */\n\n  /* ========== FONT WEIGHTS ========== */\n  --dyn-font-weight-normal: 400;\n  --dyn-font-weight-medium: 500;\n  --dyn-font-weight-semibold: 600;\n  --dyn-font-weight-bold: 700;\n\n  /* ========== LINE HEIGHTS ========== */\n  --dyn-line-height-tight: 1.25;\n  --dyn-line-height-normal: 1.5;\n  --dyn-line-height-relaxed: 1.75;\n\n  /* ========== LETTER SPACING ========== */\n  --dyn-letter-spacing-tight: -0.01em;\n  --dyn-letter-spacing-normal: 0;\n  --dyn-letter-spacing-wide: 0.025em;\n\n  /* ========== TYPOGRAPHY COMBINATIONS (Presets) ========== */\n  /* Small label */\n  --dyn-text-xs: var(--dyn-font-family-base) var(--dyn-font-weight-normal) var(--dyn-font-size-xs) / var(--dyn-line-height-normal);\n  \n  /* Small text */\n  --dyn-text-sm: var(--dyn-font-family-base) var(--dyn-font-weight-normal) var(--dyn-font-size-sm) / var(--dyn-line-height-normal);\n  \n  /* Body text */\n  --dyn-text-base: var(--dyn-font-family-base) var(--dyn-font-weight-normal) var(--dyn-font-size-base) / var(--dyn-line-height-normal);\n  \n  /* Medium body */\n  --dyn-text-md: var(--dyn-font-family-base) var(--dyn-font-weight-normal) var(--dyn-font-size-md) / var(--dyn-line-height-normal);\n  \n  /* Large body */\n  --dyn-text-lg: var(--dyn-font-family-base) var(--dyn-font-weight-normal) var(--dyn-font-size-lg) / var(--dyn-line-height-normal);\n}\n", "metadata": {"type": "design_token", "category": "foundation", "name": "typography", "source": "dyn-ui-main-v01"}, "embedding": [-0.09558869153261185, 0.006436273921281099, 0.016818635165691376, -0.020766621455550194, -0.036457452923059464, -0.08032996207475662, -0.010205656290054321, 0.07335738092660904, 0.006244977004826069, 0.014225061982870102, 0.02643403597176075, 0.042621780186891556, 0.03638676926493645, -0.08159592747688293, 0.0696098655462265, 0.07380134612321854, -0.029339341446757317, 0.013212805613875389, 0.03173748031258583, 0.006525925360620022, 0.07309642434120178, -0.04019330441951752, 0.0481928251683712, -0.029477441683411598, -0.035333145409822464, 0.06709451228380203, -0.02462666854262352, 0.008409084752202034, 0.015563445165753365, -0.09040527790784836, -0.028414243832230568, 0.05182092636823654, 0.037234723567962646, 0.023327892646193504, 0.0039381422102451324, 0.05890674889087677, 0.05431260168552399, -0.03732801601290703, -0.0324934646487236, 0.005772462580353022, 0.03165239468216896, -0.04618563503026962, -0.03960848227143288, 0.0004121451929677278, 0.01530411746352911, 0.040719468146562576, -0.0431794747710228, 0.040947843343019485, -0.020076308399438858, -0.02999396063387394, -0.0649896115064621, -0.07404329627752304, 0.02605382166802883, -0.04573356360197067, -0.04187452048063278, 0.0766173005104065, -0.002133073518052697, 0.02193092368543148, 0.0821506679058075, -0.015317662619054317, 0.045048266649246216, 0.060291409492492676, 0.027470611035823822, 0.01940840296447277, 0.036089133471250534, 0.02036701887845993, 0.024417053908109665, -0.03358610346913338, -0.04650549963116646, -0.02605557069182396, -0.019404569640755653, -0.016028564423322678, 0.02207869663834572, 0.05592648312449455, -0.05486493557691574, 0.034844279289245605, 0.10294639319181442, -0.012449285946786404, -0.012175767682492733, -0.051606446504592896, -0.0010181245161220431, 0.017179634422063828, 0.0331675224006176, 0.1688598245382309, 0.08776967972517014, 0.061270784586668015, -0.06425674259662628, -0.07761941850185394, -0.034498706459999084, 0.06167316809296608, 0.004846559837460518, -0.0668128952383995, 0.02380010299384594, -0.02354316972196102, -0.07699790596961975, -0.006062096916139126, -0.01961861178278923, -0.003919515293091536, -0.08071727305650711, 0.1000499576330185, -0.03375815972685814, -0.05368814617395401, 0.07523483037948608, -0.005747750401496887, -0.0673263892531395, -0.003679065266624093, 0.01269677933305502, 0.0101166982203722, 0.030404021963477135, -0.006335809826850891, 0.04984178766608238, 0.009280717931687832, -0.10317783057689667, -0.04725414887070656, -0.059358399361371994, -0.051276225596666336, -0.04696745052933693, -0.022068288177251816, 0.16542166471481323, 0.07306589186191559, 0.06067465618252754, -0.0017567784525454044, -0.08179385215044022, -0.06863398849964142, -0.05202608183026314, -0.01619122363626957, 0.025199150666594505, 7.015046861228106e-33, -0.001314274501055479, 0.10058988630771637, -0.04465281963348389, 0.01391166727989912, 0.04049704968929291, -0.02321983315050602, -0.09855569899082184, -0.021208222955465317, -0.1488998830318451, -0.03191123902797699, 0.0007851229747757316, 0.0452338270843029, -0.10292823612689972, 0.03466547280550003, -0.00757139828056097, -0.020653991028666496, 0.04353589192032814, -0.010103411041200161, 0.02368641085922718, -0.05528759956359863, -0.0641099065542221, 0.019218606874346733, -0.006215550471097231, -0.05318966507911682, -0.07478514313697815, 0.09108411520719528, 0.050452008843421936, -0.039933811873197556, -0.08417220413684845, 0.005576295778155327, -0.016237933188676834, 0.0008788476698100567, 0.055261339992284775, 0.0492609441280365, 0.03806319832801819, -0.03749843314290047, 0.01032940112054348, -0.060463957488536835, -0.05011473596096039, 0.012361516244709492, -0.10071725398302078, 0.06211184337735176, 0.021950669586658478, -0.03321772813796997, -0.003991972655057907, 0.09735420346260071, 0.09065954387187958, -0.05232056975364685, 0.054269347339868546, 0.036876995116472244, 0.015695173293352127, -0.009398640133440495, -0.043442048132419586, -0.023136354982852936, 0.026877062395215034, -0.05496445298194885, -0.026675885543227196, -0.011905252933502197, 0.022864973172545433, 0.03776106610894203, 0.02843116968870163, -0.00896309595555067, 0.05902675911784172, -0.00265235872939229, 0.060911163687705994, 0.03007335215806961, -0.012688704766333103, -0.05915338173508644, -0.05983331799507141, -0.025273405015468597, -0.011518102139234543, 0.04634096473455429, 0.04812298342585564, 0.1311555802822113, -0.11363764107227325, -0.0017415962647646666, 0.02688399888575077, -0.004041284788399935, -0.01953812502324581, -0.02428322471678257, -0.044212277978658676, -0.0627971664071083, -0.02928326092660427, -0.02549208514392376, 0.008024675771594048, 0.016361188143491745, 0.05903777852654457, -0.05435463413596153, 0.009870834648609161, -0.06618624180555344, -0.09258381277322769, -0.10828106105327606, 0.020101038739085197, -0.09610259532928467, -0.061457954347133636, -8.877646312780822e-33, -0.014133041724562645, -0.0046683913096785545, -0.07167500257492065, -0.00649118609726429, 0.01061576884239912, 0.018540959805250168, 0.10251854360103607, 0.07643501460552216, 0.08618593961000443, 0.08604574203491211, 0.07974793761968613, 0.09726712107658386, 0.016529183834791183, -0.10522986948490143, 0.011461079120635986, 0.012857133522629738, 0.03126607835292816, -0.004087681882083416, -0.060278065502643585, -0.051025450229644775, -0.037390898913145065, 0.051005829125642776, -0.02355150133371353, 0.03752937540411949, 0.016378214582800865, 0.036135729402303696, 0.006899281870573759, 0.0671200305223465, -0.07194608449935913, 0.02524583786725998, -0.00501329405233264, 0.017957348376512527, 0.019439464434981346, 0.0810038223862648, 0.03955281153321266, -0.034898366779088974, -0.06716525554656982, 0.02328428439795971, -0.0167765524238348, -0.028411999344825745, 0.04814302921295166, -0.0372912771999836, 0.056892137974500656, -0.043144796043634415, -0.03392890468239784, 0.05191166326403618, -0.11103786528110504, -0.03942704573273659, -0.021103346720337868, 0.021877234801650047, 0.08040392398834229, -0.023257320746779442, 0.02713068015873432, 0.004895288962870836, -0.031617421656847, -0.025179831311106682, 0.05608087033033371, -0.00034468845115043223, -0.10600730776786804, 0.03847365081310272, 0.03199907764792442, -0.038120344281196594, -0.054154492914676666, -0.02470862679183483, 0.05995691567659378, -0.05532737448811531, -0.10382228344678879, -0.016023246571421623, 0.004078941885381937, -0.03537283465266228, -0.004060699138790369, -0.0014115744270384312, 0.0022671292535960674, -0.001846467494033277, -0.05982598662376404, -0.053185880184173584, 0.08622956275939941, 0.03555503115057945, 0.054988689720630646, 0.03255147859454155, -0.024807296693325043, 0.04774663597345352, -0.01770869269967079, 0.04088769480586052, -0.01724773645401001, 0.04576922208070755, -0.03872733563184738, 0.1307537704706192, 0.046539485454559326, -0.025300662964582443, -0.09055495262145996, 0.0693894550204277, 0.03036258928477764, 0.009291369467973709, -0.05588509514927864, -6.686485676254961e-08, -0.030303750187158585, -0.05532587692141533, -0.01114734634757042, 0.016226623207330704, -0.04884827136993408, -0.04709763824939728, -0.021456744521856308, -0.08684776723384857, -0.04686373844742775, -0.002081632614135742, 0.019754188135266304, 0.05933823063969612, -0.02421621046960354, -0.04013631492853165, -0.05315806344151497, -0.018796192482113838, -0.04376842454075813, 0.10560067743062973, -0.07441525161266327, -0.08022326231002808, -0.01872701197862625, 0.04845404997467995, -7.662762800464407e-05, -0.03518109396100044, -0.0001196915254695341, -0.011256576515734196, -0.02604825422167778, -0.0299619659781456, -0.0015178642934188247, -0.022867592051625252, 0.014598672278225422, 0.03674895688891411, 0.00572213064879179, -0.10469580441713333, -0.07272844761610031, -0.026425568386912346, -0.0538443885743618, 0.021458961069583893, 0.059628404676914215, 0.07400660961866379, -0.031870391219854355, -0.046836793422698975, 0.017103249207139015, 0.028123870491981506, -0.04418005794286728, -0.01751783676445484, 0.06247762218117714, 0.04445665702223778, 0.001985240262001753, 0.05716870352625847, 0.02018740214407444, -0.005847304593771696, -0.06751547753810883, -0.00868876650929451, -0.027145007625222206, -0.07306843996047974, 0.020523643121123314, 0.12352073192596436, -0.0048430077731609344, -0.019606338813900948, 0.08328381925821304, -0.012677096761763096, 0.06494805216789246, 0.0023677353747189045]}, {"id": "dyn_ui_token_foundation_zindex", "text": "# Design Token: zindex\n\n/**\n * Design Token: Z-Index\n * Domain: zindex\n * \n * Provides: Z-index layering system for stacking context\n * Used by: Modals, dropdowns, tooltips, fixed/sticky elements\n * \n * Supports:\n * - Dark mode: N/A\n * - High contrast: N/A\n * - Reduced motion: N/A\n */\n\n:root {\n  /* ========== Z-INDEX SCALE ========== */\n  --dyn-zindex-base: 0;\n  --dyn-zindex-dropdown: 100;\n  --dyn-zindex-sticky: 200;\n  --dyn-zindex-fixed: 300;\n  --dyn-zindex-modal-backdrop: 900;\n  --dyn-zindex-modal: 1000;\n  --dyn-zindex-popover: 1100;\n  --dyn-zindex-tooltip: 1200;\n}\n", "metadata": {"type": "design_token", "category": "foundation", "name": "zindex", "source": "dyn-ui-main-v01"}, "embedding": [-0.1664603054523468, 0.053364403545856476, -0.00472733611240983, 0.07589316368103027, 0.07187210768461227, -0.07871601730585098, 0.02866295352578163, 0.01422534417361021, 0.020770054310560226, -0.028224647045135498, -0.03576822578907013, 0.064525306224823, 0.0419064462184906, -0.009861959144473076, 0.010985824279487133, 0.05214820057153702, -0.022204235196113586, 0.044215958565473557, 0.0022996291518211365, 0.03802225738763809, 0.07861677557229996, -0.06692332774400711, 0.029286084696650505, -0.07858812808990479, -0.030474336817860603, 0.04692180082201958, -0.028352856636047363, 0.048560403287410736, 0.08673004806041718, -0.010722097009420395, -0.020154938101768494, 0.06662115454673767, -0.022569630295038223, 0.00016025789955165237, -0.0717996135354042, -0.023132076486945152, 0.06566213071346283, 0.02015136554837227, -0.0615389421582222, 0.0008719157194718719, 0.08602096885442734, 0.051175326108932495, -0.0336548276245594, -0.02290986478328705, -0.037079066038131714, -0.01996115781366825, 0.07577237486839294, 0.005025019403547049, -0.0669318214058876, 0.05494186654686928, -0.023601189255714417, -0.09438349306583405, 0.12052521109580994, -0.01162946131080389, 0.02764056995511055, 0.07866662740707397, -0.05141910910606384, -0.054552026093006134, 0.04795844107866287, 0.014344980008900166, 0.09560975432395935, 0.07956676185131073, -0.0450948029756546, -0.018514402210712433, 0.12333659827709198, 0.028041178360581398, 0.012012874707579613, -0.06859681010246277, -0.046185851097106934, -0.052301112562417984, -0.024100374430418015, -0.0915103629231453, -0.00033294461900368333, 0.04699157923460007, -0.04730631411075592, 0.00933639332652092, 0.013477908447384834, -0.07219583541154861, -0.04161104932427406, -0.06080988422036171, 0.07191023975610733, -0.021263329312205315, 0.10740693658590317, 0.08575951308012009, 0.038657400757074356, 0.042683057487010956, 0.04801293462514877, -0.03200441226363182, -0.07683578133583069, 0.027890512719750404, 0.028876719996333122, -0.011648776941001415, -0.038557861000299454, 0.03346790373325348, 0.0016036218730732799, -0.023613572120666504, -0.016909509897232056, -0.032014284282922745, -0.08183926343917847, 0.07459250837564468, 0.028344474732875824, -0.029907846823334694, 0.03848782926797867, -0.02060784585773945, -0.08648895472288132, 0.024829089641571045, -0.009859204292297363, -0.003941064700484276, -0.1618664711713791, 0.07605351507663727, -0.035508546978235245, -0.021816907450556755, -0.007901870645582676, -0.033310916274785995, -0.035095732659101486, -0.03297649696469307, -0.007062324322760105, 0.028009289875626564, 0.0681694746017456, -0.047516416758298874, 0.08295266330242157, 0.03523008152842522, -0.11294080317020416, -0.029156578704714775, 0.03459211066365242, 0.06525138020515442, -0.04153851792216301, 5.812958052744418e-33, 0.027945205569267273, 0.030066894367337227, -0.1323145180940628, 0.02212369441986084, 0.008116812445223331, -0.008483649231493473, -0.010399260558187962, -0.014867618680000305, -0.12010206282138824, 0.0496455617249012, 0.06861460953950882, 0.007519078906625509, -0.024630671367049217, 0.004807019606232643, -0.026104247197508812, -0.12835310399532318, 0.10789960622787476, -0.005200642626732588, -0.025412114337086678, -0.04203403741121292, -0.017996734008193016, -0.017416616901755333, -0.06290978193283081, -0.023460231721401215, 0.03519660606980324, 0.06940717250108719, -0.00026792410062626004, -0.04234908148646355, -0.004889983218163252, -0.0030593557748943567, 0.00687640905380249, -0.03656546026468277, 0.022786570712924004, -0.06678138673305511, -0.012492364272475243, 0.08196279406547546, -0.07308816909790039, -0.030294407159090042, 0.05284516513347626, -0.10351449251174927, -0.056369103491306305, -0.03573187440633774, -0.07307448983192444, 0.04886988177895546, -0.0394517220556736, 0.12524212896823883, -0.02565668895840645, -0.013853807933628559, 0.00019548865384422243, -0.06963367015123367, -0.003736827289685607, -0.0010970430448651314, -0.09301076829433441, -0.06425891816616058, -0.020461196079850197, 0.017352668568491936, -0.020391706377267838, 0.054548900574445724, 0.054813601076602936, 0.052895888686180115, -0.031932152807712555, -0.02512539178133011, -0.05814485624432564, 0.027947740629315376, 0.057244595140218735, 0.06693466007709503, -0.05116893723607063, 0.01419549435377121, -0.025492502376437187, -0.018956448882818222, -0.058449529111385345, 0.08189571648836136, 0.10893350094556808, 0.08835750073194504, 0.017877697944641113, -0.04622963070869446, 0.0024260585196316242, -0.08815934509038925, 0.10463547706604004, -0.06406260281801224, -0.06493070721626282, -0.028958745300769806, 0.03283315524458885, -0.04356154054403305, 0.05397462099790573, -0.07587353885173798, -0.023285364732146263, 0.02911532111465931, -0.06934676319360733, -0.05500837415456772, -0.012660500593483448, -0.0864316001534462, 0.086150161921978, -0.07335381954908371, -0.07853931188583374, -6.205696960167883e-33, 0.027169402688741684, 0.012891442514955997, -0.07678519189357758, 0.04394284263253212, 0.008855191059410572, 0.03197389096021652, 0.03202621266245842, -0.045213233679533005, -0.03837892785668373, -0.0004410841502249241, 0.05408596992492676, 0.09177093952894211, -0.00531889358535409, 0.01713012158870697, -0.012254281900823116, 0.07518453150987625, -0.05110365152359009, -0.0016848701052367687, 0.05298389866948128, -0.03225032985210419, 0.008256983011960983, -0.01763332262635231, 0.019601264968514442, 0.06008274480700493, -0.05152122676372528, -0.02594592422246933, 0.04429364949464798, 0.02745262160897255, 0.04603506252169609, -0.010888008400797844, 0.015254145488142967, -0.041675399988889694, 0.03090387023985386, -0.06726502627134323, 0.006971884053200483, 0.03691990673542023, -0.0365326926112175, -0.03749362379312515, -0.07189691066741943, -0.03119198977947235, -0.02307923324406147, -0.0647321343421936, 0.027338426560163498, -0.03010748140513897, 0.027210693806409836, 0.01481709349900484, -0.12361283600330353, 0.01918351650238037, -0.030251717194914818, -0.00634008040651679, -0.006489932537078857, -0.0027683679945766926, 0.023956632241606712, -0.03893943503499031, 0.0023818707559257746, -0.014510149136185646, 0.014798752032220364, 0.02105499617755413, 0.0132338497787714, 0.03271416574716568, 0.036864761263132095, 0.009254385717213154, -0.029296154156327248, 0.020663028582930565, 0.07489108294248581, -0.03151420131325722, 0.005436484236270189, 0.012211997993290424, -0.049205150455236435, -0.013312512077391148, 0.052276819944381714, 0.03915390372276306, -0.021696992218494415, -0.06693634390830994, 0.032107722014188766, -0.04456287994980812, 0.12868641316890717, -0.019421478733420372, 0.013680986128747463, -0.04864298552274704, -0.029733503237366676, -0.012599465437233448, -0.020404087379574776, 0.03502234071493149, -0.07579285651445389, 0.06655096262693405, -0.06264101713895798, 0.11561539769172668, 0.03929289057850838, -0.009105307050049305, -0.043191976845264435, -0.014165443368256092, 0.08912241458892822, -0.05249243974685669, -0.032411474734544754, -5.4062937238086306e-08, 0.004183518700301647, -0.026310384273529053, 0.0556916818022728, -0.07965145260095596, -0.035019129514694214, -0.004563089460134506, 0.03817280754446983, -0.05289619043469429, 0.0018004223238676786, -0.12500673532485962, 0.07499176263809204, 0.02383165992796421, -0.016656363382935524, 0.019659165292978287, 0.04191948473453522, 0.008037340827286243, -0.08840836584568024, 0.033342860639095306, -0.0066540054976940155, 0.01332138478755951, -0.016638990491628647, 0.044174935668706894, 0.05083436518907547, 0.04892020300030708, -0.012288708239793777, -0.011917561292648315, -0.018811119720339775, -0.022912807762622833, 0.034122634679079056, 0.02109321393072605, 0.007605310995131731, 0.05414358898997307, 0.10705672949552536, -0.04138069227337837, -0.050377894192934036, 0.022088732570409775, -0.03140212595462799, -0.030225366353988647, -0.019839361310005188, 0.023030374199151993, 0.042134758085012436, -0.04278023913502693, 0.045614179223775864, 0.01661004312336445, -0.0037829044740647078, 0.003703125985339284, -0.0030155039858072996, -0.04518101364374161, 0.031281162053346634, -0.019835002720355988, -0.0522749200463295, 0.008267825469374657, -0.02956083044409752, 0.07651633769273758, 0.05457792803645134, -0.021122947335243225, -0.013143152929842472, 0.09512248635292053, 0.0578848235309124, 0.036885324865579605, 0.009325647726655006, -0.003932587336748838, -0.01766246184706688, 0.05586326867341995]}, {"id": "dyn_ui_token_theme_dark", "text": "# Design Token Theme: dark\n\n/**\n * Theme: Dark Mode\n * \n * Provides dark mode color overrides for all foundation and component tokens.\n * Automatically applied when prefers-color-scheme: dark is set.\n * \n * This file overrides foundation color tokens and dark-specific component colors.\n */\n\n@media (prefers-color-scheme: dark) {\n  :root {\n    /* ========== DARK MODE BACKGROUNDS ========== */\n    --dyn-color-background: #0f172a;\n    --dyn-color-background-secondary: #1e293b;\n    --dyn-color-background-hover: #1e293b;\n    --dyn-color-background-selected: #334155;\n    --dyn-color-surface: #1a1f35;\n    --dyn-color-surface-subtle: #2d3748;\n    --dyn-color-surface-muted: #4a5568;\n    --dyn-color-surface-disabled: #1e293b;\n    --dyn-color-surface-readonly: #1a1f2e;\n\n    /* ========== DARK MODE TEXT ========== */\n    --dyn-color-text-primary: #f1f5f9;\n    --dyn-color-text-secondary: #cbd5f5;\n    --dyn-color-text-tertiary: #a0aec0;\n    --dyn-color-text-disabled: #64748b;\n    --dyn-color-text-placeholder: #64748b;\n    --dyn-color-text-inverse: #0f172a;\n\n    /* ========== DARK MODE BORDERS ========== */\n    --dyn-color-border: #334155;\n    --dyn-color-border-light: #475569;\n    --dyn-color-border-subtle: rgba(255, 255, 255, 0.1);\n    --dyn-color-border-hover: #64748b;\n    --dyn-color-border-disabled: #334155;\n\n    /* ========== DARK MODE BRAND COLORS ========== */\n    --dyn-color-primary: #3b82f6;\n    --dyn-color-primary-hover: #2563eb;\n    --dyn-color-primary-active: #1d4ed8;\n    --dyn-color-primary-light: #60a5fa;\n    --dyn-color-primary-dark: #1e3a8a;\n    --dyn-color-primary-alpha: rgba(59, 130, 246, 0.16);\n\n    /* ========== DARK MODE STATUS COLORS ========== */\n    --dyn-color-success: #34d399;\n    --dyn-color-success-hover: #10b981;\n    --dyn-color-success-light: #6ee7b7;\n    --dyn-color-success-dark: #047857;\n    --dyn-color-success-alpha: rgba(52, 211, 153, 0.16);\n\n    --dyn-color-warning: #fbbf24;\n    --dyn-color-warning-hover: #f59e0b;\n    --dyn-color-warning-light: #fcd34d;\n    --dyn-color-warning-dark: #b45309;\n    --dyn-color-warning-alpha: rgba(251, 191, 36, 0.16);\n\n    --dyn-color-info: #38bdf8;\n    --dyn-color-info-hover: #0ea5e9;\n    --dyn-color-info-light: #7dd3fc;\n    --dyn-color-info-dark: #0369a1;\n    --dyn-color-info-alpha: rgba(56, 189, 248, 0.16);\n\n    --dyn-color-error: #f87171;\n    --dyn-color-error-hover: #ef4444;\n    --dyn-color-error-light: #fca5a5;\n    --dyn-color-error-dark: #7f1d1d;\n    --dyn-color-error-alpha: rgba(248, 113, 113, 0.16);\n\n    --dyn-color-danger: #f87171;\n    --dyn-color-danger-hover: #ef4444;\n    --dyn-color-danger-active: #dc2626;\n    --dyn-color-danger-light: #fecaca;\n    --dyn-color-danger-dark: #7f1d1d;\n    --dyn-color-danger-alpha: rgba(248, 113, 113, 0.16);\n\n    /* ========== DARK MODE ACCESSIBILITY ========== */\n    --dyn-color-focus-ring: rgba(59, 130, 246, 0.35);\n\n    /* ========== DARK MODE SHADOWS ========== */\n    --dyn-shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.3);\n    --dyn-shadow-md: 0 3px 6px rgba(0, 0, 0, 0.4);\n    --dyn-shadow-lg: 0 10px 20px rgba(0, 0, 0, 0.5);\n    --dyn-shadow-focus: 0 0 0 3px rgba(59, 130, 246, 0.35);\n  }\n}\n", "metadata": {"type": "design_token", "category": "theme", "name": "dark", "source": "dyn-ui-main-v01"}, "embedding": [0.028133738785982132, 0.00010342455789214, 0.03961075469851494, 0.018974386155605316, 0.13501261174678802, -0.025137154385447502, 0.024685755372047424, 0.01952270418405533, 0.032556720077991486, 0.04362135007977486, -0.027374310418963432, 0.03943335637450218, -0.021150857210159302, 0.027323666960000992, 0.045855749398469925, 0.05223163962364197, -0.03588617593050003, 0.013676946982741356, -0.024590210989117622, 0.018840132281184196, -0.011958954855799675, -0.05679190903902054, -0.006184421479701996, -0.07923593372106552, -0.08001460880041122, -0.006048743147403002, 0.024109141901135445, -0.006186784245073795, 0.028727037832140923, -0.06582773476839066, 0.027539482340216637, 0.06408625096082687, 0.0629865825176239, -0.023463614284992218, -0.03985995054244995, -0.03874313086271286, -0.03380889445543289, -0.03251773118972778, -0.0998888835310936, 0.003619387513026595, 0.00629161112010479, -0.02519700676202774, 0.0269020963460207, 0.005423682741820812, -0.081569604575634, -0.03386285901069641, 0.04136629030108452, -0.02598261833190918, -0.09535294771194458, 0.009150965139269829, 0.04428109899163246, -0.06213662028312683, 0.019580891355872154, -0.05194256454706192, -0.08972355723381042, 0.04852389171719551, 0.055140718817710876, 0.12319246679544449, 0.1048804223537445, -0.03252100571990013, 0.042024560272693634, -0.026656685397028923, -0.01866396702826023, -0.06485752761363983, 0.11623285710811615, 0.06374253332614899, -0.00351452617906034, -0.01624399796128273, 0.007284615654498339, -0.03553023189306259, 0.030235063284635544, 8.450673340121284e-05, 0.12142477929592133, -0.01658858172595501, 0.06023533269762993, 0.06363959610462189, 0.02951991930603981, 0.04479561373591423, -0.03325911983847618, -0.11487112194299698, 0.07107887417078018, 0.020875390619039536, -0.05996200069785118, 0.050841134041547775, 0.10644566267728806, 0.0728875920176506, -0.05463363230228424, -0.0316973477602005, -0.028942715376615524, -0.004976565483957529, -0.004370043519884348, -0.032535262405872345, -0.058914147317409515, 0.024771051481366158, -0.05311891436576843, -0.036871928721666336, -0.07252217829227448, -0.04920400679111481, 0.005439771339297295, 0.06411279737949371, -0.05906803905963898, -0.054553549736738205, 0.04239511862397194, 0.09000863879919052, 0.02670990116894245, -0.05102121829986572, -0.023306261748075485, 0.03517064079642296, -0.03407184034585953, 0.005667215213179588, 0.05527444928884506, 0.026395944878458977, -0.035333383828401566, 0.0077035981230437756, 0.006401907652616501, 0.02330496720969677, 0.06924951821565628, 0.039370425045490265, 0.024145716801285744, 0.017513103783130646, 0.07796718925237656, -0.03563830256462097, -0.08838959783315659, -0.0815676674246788, -0.04910488799214363, 0.002558170584961772, 0.02299393154680729, 7.03885796867195e-33, 0.03192563354969025, -0.030008047819137573, -0.062054913491010666, 0.019553614780306816, 0.05987372621893883, -0.05198412761092186, 0.04910782352089882, -0.0888008400797844, -0.08386902511119843, -0.011966848745942116, 0.1098727136850357, -0.004421939607709646, -0.05702221766114235, 0.03386133536696434, -0.06316918879747391, -0.05443144962191582, 0.02569613978266716, -0.032205063849687576, 0.0005867352010682225, -0.015095165930688381, 0.02301793359220028, 0.07457154244184494, -0.11853457987308502, -0.025958456099033356, 0.03623230755329132, 0.007180757354944944, 0.07066790014505386, 0.003314440604299307, -0.02018449828028679, -0.0158668365329504, 0.011692686006426811, -0.00458132429048419, 0.11500087380409241, 0.09714878350496292, -0.01905021443963051, 0.014546939171850681, -0.05706607550382614, -0.00011181036825291812, 0.0338430292904377, -0.013628273271024227, -0.07155577838420868, 0.029737714678049088, -0.004485286772251129, 0.039228178560733795, -0.05043378472328186, -0.005366020370274782, 0.09322841465473175, -0.09900035709142685, 0.03712693974375725, -0.02810322865843773, -0.014402207918465137, 0.005149806849658489, -0.025561580434441566, -0.10797283053398132, 0.04853788763284683, -0.05698526278138161, -0.013439475558698177, 0.010747524909675121, 0.04909927397966385, 0.007560191676020622, 0.06618232280015945, -0.016914186999201775, 0.03867712244391441, -0.0752917155623436, 0.017566995695233345, 0.02246628701686859, 0.017353709787130356, -0.03593545779585838, -0.05066002532839775, -0.13462711870670319, -0.04695601016283035, 0.037545133382081985, 0.014409578405320644, 0.0003218789061065763, -0.07378561794757843, -0.07453536987304688, 0.13453437387943268, 0.024731183424592018, 0.06152065843343735, -0.002974735340103507, -0.07875993102788925, 0.054439887404441833, -0.06277120113372803, 0.02912205085158348, -0.07515817135572433, 0.007627875078469515, -0.014842459000647068, -0.01748650334775448, -0.012683074921369553, -0.07085545361042023, 0.010936614125967026, -0.02148553915321827, 0.047949858009815216, -0.031270019710063934, -0.05013132095336914, -6.656944996877573e-33, -0.02075389213860035, 0.007462228182703257, -0.06477649509906769, 0.07454827427864075, 0.008228692226111889, 0.00273045152425766, 0.059645876288414, -0.011350857093930244, 0.02583179995417595, 0.012600414454936981, 0.0993584543466568, 0.021091047674417496, -0.09600487351417542, -0.01907004974782467, -0.02422589436173439, 0.07252972573041916, 0.00582033721730113, 0.06267744302749634, 0.01259496808052063, 0.03283455967903137, -0.045495547354221344, 0.049897998571395874, -0.013600082136690617, 0.05813818424940109, 0.0003951631661038846, -0.010889149270951748, 0.00656530074775219, 0.029619531705975533, 0.007915133610367775, -0.01984618417918682, -0.029354555532336235, -0.01696850173175335, -0.020935073494911194, 0.006568464916199446, 0.04539724811911583, -0.058773472905159, -0.08200301975011826, -0.010735435411334038, -0.12476885318756104, 0.010510518215596676, 0.03515370190143585, -0.0060305409133434296, 0.01804092898964882, -0.004916575271636248, -0.01639777421951294, 0.040925610810518265, -0.014418513514101505, -0.002738991752266884, -0.006117286626249552, -0.019400151446461678, 0.08718156814575195, -0.060030583292245865, 0.07043741643428802, 0.020561113953590393, -0.006305978167802095, 0.02858532778918743, 0.13272283971309662, 0.07819218188524246, 0.028136689215898514, 0.13490334153175354, 0.0956515520811081, 0.0019010801333934069, -0.06978273391723633, -0.04383077844977379, -0.01789904199540615, 0.025415915995836258, -0.02483191527426243, 0.055443618446588516, -0.00922538060694933, -0.03588271141052246, 0.03413534536957741, -0.03371310979127884, 0.008188687264919281, -0.01320988405495882, 0.047356799244880676, -0.04984035715460777, 0.08089625835418701, -0.007254991214722395, -0.03153681010007858, 0.013594789430499077, -0.06134311854839325, 0.01846398040652275, 0.004350332543253899, 0.04712223634123802, 0.02320382371544838, 0.06982946395874023, -0.045013293623924255, 0.08309891819953918, 0.021373780444264412, -0.011890524998307228, -0.04852461442351341, 0.002387736225500703, 0.09350468218326569, 0.005317489616572857, 0.018970603123307228, -5.658652213469395e-08, -0.039925068616867065, -0.09209387004375458, 0.027221979573369026, -0.045208144932985306, -0.05392178148031235, -0.06912727653980255, 0.07524511963129044, -0.0914807841181755, 0.007016096729785204, 0.02290104143321514, -0.02374126948416233, 0.03012722171843052, -0.024704953655600548, -0.06260095536708832, -0.027708258479833603, 0.07539907842874527, -0.05497067794203758, 0.054955750703811646, -0.04002361372113228, 0.0265237707644701, -0.12481414526700974, 0.031388841569423676, -0.020727146416902542, -0.06555116921663284, 0.014506074599921703, 0.07279489189386368, 0.041958749294281006, 0.004128774628043175, 0.07543998956680298, 0.017500923946499825, -0.03444470092654228, 0.028136126697063446, -0.006765098311007023, -0.11982659250497818, -0.1094641238451004, 0.047542739659547806, -0.001734287478029728, -0.03313977271318436, -0.006677454803138971, 0.0260173249989748, -0.012749153189361095, -0.010415250435471535, -0.060241688042879105, 0.018791601061820984, -0.05547880381345749, -0.03226650506258011, 0.005690151359885931, 0.060159265995025635, -0.03534618392586708, 0.0061289467848837376, -0.013827268034219742, -0.023585572838783264, -0.04936136305332184, 0.06321939080953598, 0.02832048200070858, -0.0735958144068718, 0.00031232330366037786, 0.11904899030923843, 0.04737388715147972, -0.025071552023291588, 0.057515889406204224, -0.09317728877067566, 0.0028912918642163277, 0.01993059180676937]}, {"id": "dyn_ui_token_theme_high-contrast", "text": "# Design Token Theme: high-contrast\n\n/**\n * Theme: High Contrast Mode\n * \n * Provides higher contrast overrides for accessibility.\n * Automatically applied when prefers-contrast: high is set.\n * \n * This file increases borders, focus rings, and text contrast.\n */\n\n@media (prefers-contrast: high) {\n  :root {\n    /* ========== HIGH CONTRAST BORDERS ========== */\n    --dyn-border-width-hairline: 1px;\n    --dyn-border-width-thin: 2px;\n    --dyn-border-width-thick: 4px;\n\n    /* ========== HIGH CONTRAST FOCUS ========== */\n    --dyn-focus-ring-width: 4px;\n    --dyn-focus-ring-offset: 2px;\n    --dyn-focus-outline: 4px solid var(--dyn-focus-ring-color);\n\n    /* ========== HIGH CONTRAST SHADOWS ========== */\n    /* Shadows may be less prominent in high contrast mode */\n    --dyn-shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.15);\n    --dyn-shadow-md: 0 3px 6px rgba(0, 0, 0, 0.2);\n    --dyn-shadow-lg: 0 10px 20px rgba(0, 0, 0, 0.25);\n  }\n}\n", "metadata": {"type": "design_token", "category": "theme", "name": "high-contrast", "source": "dyn-ui-main-v01"}, "embedding": [0.0366022028028965, -0.013925219886004925, -0.016233457252383232, -0.010875976644456387, 0.04758845269680023, -0.0018505139742046595, 0.01862848922610283, 0.03229964151978493, 0.02109464630484581, 0.008956990204751492, -0.047089584171772, 0.12162208557128906, -0.05132171884179115, -0.01777157373726368, 0.020321642979979515, 0.07600105553865433, 0.044967591762542725, 0.007922849617898464, -0.04129091650247574, 0.03300658240914345, 0.01585714891552925, -0.09890817105770111, -0.03346560150384903, -0.09662508219480515, -0.05821722373366356, 0.013294645585119724, 0.010725687257945538, 0.04274347051978111, 0.021933313459157944, -0.09751012921333313, 0.010053850710391998, 0.058003898710012436, 0.09825543314218521, -0.01307632401585579, -0.06117939203977585, -0.01318975631147623, -0.027515502646565437, 0.012149437330663204, -0.13094966113567352, -0.0028047850355505943, -0.045198310166597366, -0.0005650333478115499, 0.033036235719919205, 0.010100997053086758, -0.01853019744157791, -0.10522082448005676, -0.03010396473109722, 0.029610613361001015, 0.014617410488426685, -0.033485136926174164, -0.04617168754339218, -0.08126848191022873, 0.003935668151825666, -0.07100922614336014, -0.04353347048163414, 0.08786487579345703, -0.020715048536658287, 0.08020196855068207, 0.0950135737657547, -0.05273870751261711, -0.030297914519906044, 0.05449814721941948, 0.030072005465626717, -0.04880380257964134, 0.13416729867458344, 0.06730755418539047, 0.03600692003965378, -0.0011863989057019353, -0.02033890411257744, -0.004494357388466597, 0.04980212450027466, 0.01012518908828497, 0.03798520565032959, -0.04781003296375275, 0.015036067925393581, -0.023501846939325333, -0.004801727831363678, 0.009485865011811256, -0.03274444490671158, -0.07387790083885193, 0.01627407968044281, -0.028169799596071243, -0.07810420542955399, 0.049038708209991455, 0.04216723144054413, 0.09735120832920074, -0.0537714809179306, -0.11381752789020538, -0.043262723833322525, 0.03758706524968147, 0.01241871528327465, -0.04599742963910103, -0.12647247314453125, 0.057840943336486816, -0.053338393568992615, -0.05847356468439102, -0.015428291633725166, -0.05659271031618118, 0.011104940436780453, 0.0753253623843193, 0.00941622443497181, -0.08297500759363174, -0.007526420522481203, -0.0150991789996624, 0.01655125990509987, -0.07291623950004578, 0.06330928951501846, 0.00705678528174758, -0.10572825372219086, -0.023889029398560524, 0.03757516294717789, 0.010238864459097385, -0.10280115902423859, -0.006139848381280899, 0.012095154263079166, 0.0036520161665976048, 0.026111317798495293, -0.049337372183799744, 0.07883933931589127, -0.01916903629899025, 0.0616062767803669, 0.0209334846585989, -0.12218552082777023, -0.07324481755495071, 0.0023814167361706495, -0.035197194665670395, -0.004572312347590923, 1.0159425924068583e-32, 0.03966565802693367, 0.024141794070601463, -0.059724271297454834, 0.06582114845514297, -0.001512128277681768, -0.07093919068574905, 0.03186635300517082, -0.05687360465526581, -0.14493340253829956, -0.01225659903138876, 0.06835556775331497, 0.042006831616163254, -0.03063051961362362, -0.026064874604344368, -0.014610384590923786, -0.12921935319900513, 0.02649281732738018, 0.0014679518062621355, -0.0392267145216465, 0.04568485543131828, -0.07308204472064972, 0.05843234434723854, -0.07805261015892029, 0.014287304133176804, -0.03748588263988495, 0.04364567995071411, 0.06723577529191971, -0.015969224274158478, 0.004932056181132793, 0.022208962589502335, -0.026721475645899773, 0.040066320449113846, 0.05776873230934143, 0.04950839281082153, -0.06351971626281738, 0.05475917086005211, -0.07745618373155594, -0.01417973730713129, 0.07388416677713394, 0.019953835755586624, -0.07887501269578934, 0.06261052191257477, -0.0036881582345813513, 0.02537558041512966, -0.014912913553416729, 0.0671224445104599, 0.010668928734958172, -0.00905422680079937, 0.02206386812031269, 0.03184224292635918, 0.0032849241979420185, -0.010321814566850662, 0.007412287872284651, -0.07139064371585846, -0.013797694817185402, -0.041296664625406265, -0.024387167766690254, 0.08181476593017578, 0.08489289879798889, 0.05044853687286377, 0.08626619726419449, -0.059192340821027756, -0.012490752153098583, 0.04854479059576988, 0.02266862243413925, 0.0196856539696455, -0.050202060490846634, -0.029896873980760574, -0.027791419997811317, -0.10549866408109665, -0.016504770144820213, 0.008550802245736122, 0.08299827575683594, 0.051301829516887665, 0.027195455506443977, -0.04461909458041191, 0.029891612008213997, 0.0006132957059890032, 0.054363273084163666, -0.06415680050849915, -0.09365483373403549, 0.10986361652612686, -0.034484751522541046, -0.031115993857383728, -0.07277057319879532, 0.03028169274330139, -0.014127716422080994, -0.03629791736602783, -0.0514962375164032, -0.044389545917510986, 0.0002520487760193646, -0.01961255818605423, 0.06455864012241364, -0.10942865163087845, -0.006712013389915228, -1.0296595094550005e-32, 0.03181038051843643, 0.02113298512995243, -0.03659138083457947, 0.08412230014801025, 0.019382767379283905, 0.04928865283727646, 0.07865726202726364, 0.03773731365799904, 0.03124867007136345, 0.003087006974965334, 0.10750612616539001, 0.021505417302250862, -0.060260284692049026, -0.05428193137049675, -0.06517340242862701, -0.009700329042971134, 0.027287302538752556, 0.003367032390087843, -0.005953613203018904, 0.06670302152633667, -0.010059970431029797, 0.004452226217836142, 0.02252563275396824, 0.041564520448446274, -0.05194868519902229, -0.03885617107152939, -0.018407898023724556, -0.017015308141708374, -0.012202314101159573, -0.037469249218702316, -0.03576483950018883, -0.0006374548538587987, -0.04043814539909363, 0.027727719396352768, -0.010043198242783546, -0.04065656289458275, -0.026332372799515724, -0.05205948278307915, -0.06857449561357498, -0.03338876739144325, 0.0018837746465578675, 0.001469261129386723, 0.042473204433918, -0.048140205442905426, -0.013819003477692604, 0.10617221146821976, 0.0159318707883358, -0.02803461253643036, -0.023352060467004776, 0.0013398963492363691, 0.03454963490366936, -0.07088064402341843, 0.08571150153875351, -0.024998599663376808, -0.043391477316617966, -0.014515703544020653, 0.03993763029575348, 0.004789006430655718, 0.049876511096954346, 0.15732724964618683, 0.07603824883699417, 0.017240893095731735, -0.11699928343296051, -0.05322111025452614, 0.02116909995675087, 0.03144730627536774, 0.01512785442173481, -0.006408425979316235, 0.017425216734409332, 0.012485907413065434, -0.02968602254986763, -0.033714670687913895, -0.02024945244193077, 0.007693674881011248, 0.02411038987338543, -0.022230911999940872, 0.040271203964948654, 0.024100828915834427, -0.0009593066060915589, 0.04796166718006134, -0.0530722513794899, 0.02858256921172142, -0.048848628997802734, 0.04253397136926651, 0.0015298165380954742, 0.08714988827705383, -0.054529063403606415, 0.01786230318248272, -0.013968618586659431, -0.015090033411979675, -0.06880944222211838, 0.028406552970409393, 0.08908297121524811, -0.08428653329610825, -0.04845359921455383, -6.72563018611072e-08, -0.014496643096208572, -0.058291468769311905, 0.010361392982304096, 0.008504081517457962, -0.06479060649871826, -0.12359718978404999, 0.07389754801988602, -0.014706701971590519, 0.028111638501286507, -0.014448736794292927, -0.013408299535512924, 0.002869225339964032, -0.02527627907693386, -0.0673818364739418, -0.0020911889150738716, 0.06506163626909256, -0.031585149466991425, 0.12045811116695404, -0.04400297999382019, -0.008150285109877586, -0.00366786471568048, 0.02414998970925808, 0.03686141222715378, -0.02024936117231846, 0.029290232807397842, 0.07943593710660934, -0.010510345920920372, -0.005983229260891676, 0.08306778222322464, -0.0013556645717471838, 0.04170069098472595, 0.034269366413354874, 0.023142708465456963, -0.06215028092265129, -0.1020583063364029, -0.013675385154783726, -0.032152626663446426, 0.03381788730621338, 0.020608682185411453, 0.06888127326965332, 0.007233646232634783, -0.06316380947828293, -0.0010160194942727685, 0.04390199854969978, -0.017466848716139793, -0.03062206320464611, 0.0425274521112442, -0.003672179067507386, -0.05740815028548241, -0.0386582650244236, 0.019799642264842987, 0.006754810456186533, 0.008010892197489738, -0.012893044389784336, 0.03946896269917488, -0.011683790013194084, 0.062315307557582855, 0.1506771445274353, -0.007104386109858751, -0.04166436567902565, 0.050683606415987015, 0.029140988364815712, -0.07169030606746674, 0.08230616897344589]}, {"id": "dyn_ui_token_theme_index", "text": "# Design Token Theme: index\n\n/**\n * Theme Layer Index\n * Imports all theme overrides in correct order\n * \n * This layer supports multiple visual themes while maintaining token structure.\n * Theme overrides are applied via media queries.\n * \n * Order:\n * 1. Dark mode (prefers-color-scheme: dark)\n * 2. High contrast mode (prefers-contrast: high)\n */\n\n@import './dark.css';\n@import './high-contrast.css';\n", "metadata": {"type": "design_token", "category": "theme", "name": "index", "source": "dyn-ui-main-v01"}, "embedding": [0.013329150155186653, 0.05563146993517876, 0.05646597594022751, 0.04716296121478081, 0.07428339868783951, 0.007298375479876995, 0.010060161352157593, -0.026257885619997978, 0.03058967925608158, -0.018578970804810524, -0.06444733589887619, 0.09931178390979767, -0.009446188807487488, -0.0753428041934967, 0.007977187633514404, 0.005460667889565229, 0.0013584760017693043, 0.0789831355214119, 0.02246016636490822, 0.02438453957438469, 0.05244746804237366, -0.02254248410463333, -0.03472903370857239, -0.0987800657749176, -0.09341103583574295, 0.07106722146272659, -0.007648630067706108, 0.023486778140068054, 0.027283968403935432, -0.10001441836357117, -0.0592360720038414, 0.0855453833937645, 0.06813441962003708, 0.0707176923751831, -0.10995437204837799, -0.006304749753326178, -0.00677340105175972, -0.08742059022188187, -0.05338753014802933, 0.015613876283168793, -0.01761266216635704, 0.017375752329826355, -0.04802980273962021, -0.01569213904440403, -0.045121852308511734, -0.026819316670298576, -0.028765033930540085, 0.0082743214443326, -0.048867665231227875, -0.052068982273340225, -0.03596142679452896, -0.027439886704087257, -0.0342431478202343, 0.01333243865519762, -0.02758868597447872, 0.09815512597560883, -0.0017953811911866069, 0.047702763229608536, 0.08689330518245697, -0.02479982189834118, 0.007747000548988581, 0.08028148114681244, 0.012398315593600273, 0.01200859248638153, 0.11888590455055237, 0.013170428574085236, -0.017136307433247566, 0.03901997208595276, 0.029777241870760918, -0.0030750895384699106, 0.040258970111608505, 0.010828029364347458, 0.050799112766981125, -0.03128253296017647, -0.00015773858467582613, 0.05634224787354469, 0.011954795569181442, 0.03273226320743561, -0.08912671357393265, -0.1548212468624115, 0.03441791236400604, -0.03448144719004631, 0.022907761856913567, 0.04588376730680466, 0.11656202375888824, 0.02942514792084694, -0.09810733050107956, -0.06461113691329956, -0.029732977971434593, 0.0782429426908493, 0.001956222578883171, -0.06356961280107498, -0.020053794607520103, 0.000723359058611095, -0.04306468367576599, -0.0064928168430924416, -0.02309945411980152, -0.024023305624723434, -0.0004891058779321611, 0.07891988009214401, -0.059228915721178055, -0.10496358573436737, 0.06559769064188004, 0.03423196077346802, 0.03607558086514473, 0.006434534210711718, -0.0025282450951635838, -0.04615512862801552, -0.014977187849581242, -0.05641079694032669, 0.038204994052648544, 0.014791252091526985, -0.03750927746295929, -0.10954878479242325, 0.02430690824985504, -0.0044173672795295715, -0.001578662428073585, 0.01021499466150999, 0.040874745696783066, 0.09187714755535126, 0.08480311185121536, -0.044407669454813004, -0.03222664073109627, -0.06448039412498474, -0.029726969078183174, 0.03127429634332657, -0.010753982700407505, 1.934924680222934e-33, 0.0015101085882633924, 0.027028106153011322, -0.019124647602438927, 0.046030111610889435, 0.03327581286430359, -0.06616588681936264, 0.07576583325862885, -0.04990439489483833, -0.15898293256759644, 0.018283158540725708, 0.056657202541828156, 0.06490659713745117, -0.10118419677019119, 0.10886401683092117, -0.029483987018465996, -0.059528108686208725, 0.010374356992542744, 0.0038952080067247152, 0.037576042115688324, -0.06011227145791054, -0.04951152577996254, 0.005192402750253677, -0.041673388332128525, -0.03830514848232269, -0.043033417314291, 0.06258583813905716, 0.05043473839759827, -0.0003856145776808262, -0.0138440215960145, -0.0006762851262465119, 0.06367135792970657, 0.024066448211669922, 0.10559336841106415, 0.06631917506456375, -0.02566276304423809, 0.07128819823265076, -0.014002242125570774, 0.029171278700232506, 0.05512011796236038, -0.007604069542139769, -0.10610261559486389, 0.06741074472665787, -0.0653073638677597, 0.04815828055143356, -0.00013456727901939303, 0.07737001776695251, 0.03520318493247032, -0.09380381554365158, 0.07690132409334183, 0.010946794413030148, -0.04489274322986603, -0.035334598273038864, 0.016296690329909325, -0.04863046109676361, 0.024493176490068436, -0.08341285586357117, -0.0014954503858461976, 0.06524323672056198, 0.047361258417367935, -0.0002806720440275967, 0.07242182642221451, -0.04770461097359657, -0.03203749656677246, -0.010028095915913582, 0.03769047558307648, 0.061076439917087555, 0.03423791006207466, -0.009531596675515175, -0.013104851357638836, -0.08934672176837921, -0.04738716036081314, 0.05580323562026024, 0.0399043895304203, 0.022237420082092285, -0.049577321857213974, -0.020659103989601135, 0.021013662219047546, 0.019894983619451523, 0.02524506486952305, -0.025945544242858887, -0.11015764623880386, 0.0844140350818634, -0.012004592455923557, -0.03847523406147957, -0.04014316946268082, 0.03547177463769913, 0.002335603814572096, -0.03161931782960892, 0.05657537654042244, -0.07867391407489777, 0.017937179654836655, -0.025368312373757362, 0.05736181512475014, -0.07575032114982605, -0.014283728785812855, -2.296413254000781e-33, 0.015928693115711212, 0.030109461396932602, -0.030741216614842415, 0.06000145524740219, -0.047602806240320206, -0.015589394606649876, -0.001622471958398819, 0.012807159684598446, -0.00481524970382452, 0.0549946054816246, 0.11588195711374283, 0.030671965330839157, 0.014392688870429993, -0.0677790492773056, 0.006644743494689465, 0.06658108532428741, 0.012666520662605762, 0.02619585581123829, -0.06035330891609192, -0.04432700574398041, -0.08689124882221222, -0.024676771834492683, -0.01868773065507412, 0.00014173386443872005, -0.0550786517560482, 0.02101971209049225, -0.0037976240273565054, 0.01417260430753231, 0.032750580459833145, -0.042041145265102386, 0.01764904335141182, -0.03863311558961868, -0.005886462517082691, 0.053864866495132446, 0.02579433098435402, 0.02038709633052349, -0.06940847635269165, 0.004301091656088829, -0.07228085398674011, 0.04195859283208847, 0.005307639483362436, -0.008362341672182083, 0.06456805765628815, -0.008745686151087284, -0.01167384535074234, 0.028267638757824898, -0.03851108253002167, -0.01714993268251419, -0.0392552949488163, -0.08704622834920883, 0.06365346908569336, -0.056352365761995316, -0.0015119957970455289, -0.0683446079492569, -0.015722226351499557, 0.0074552311562001705, 0.09149109572172165, 0.09527017921209335, -0.004543095827102661, 0.07191598415374756, 0.12087322771549225, 0.022149719297885895, -0.06594258546829224, -0.09383564442396164, -0.032966699451208115, 0.02166512981057167, -0.03310849145054817, -0.025499295443296432, -0.03521563857793808, -0.02132655866444111, 0.00042718087206594646, -0.05241810902953148, -0.02968689240515232, -0.010310279205441475, 0.01585245132446289, -0.0770721510052681, 0.10201296955347061, 0.08448891341686249, -0.05340445786714554, 0.015614314936101437, -0.054229892790317535, 0.022542444989085197, -0.009091687388718128, 0.03711187466979027, -0.0054223244078457355, 0.08443659543991089, -0.014415234327316284, 0.1031695157289505, 0.011606757529079914, 0.0030733607709407806, -0.08609657734632492, 0.056036803871393204, 0.10757211595773697, -0.03984395042061806, -0.01593659818172455, -3.983657848039002e-08, -0.0653354600071907, -0.1265392303466797, 0.05186440050601959, -0.05399836599826813, -0.03802952542901039, -0.002500140108168125, 0.017284801229834557, 0.006413470953702927, -0.03420788049697876, -0.0050788819789886475, -0.039018746465444565, 0.05116444453597069, 0.017217470332980156, -0.049893442541360855, -0.02936686761677265, 0.0342235267162323, -0.05652013421058655, 0.06823578476905823, -0.057892873883247375, -0.02411709353327751, -0.053136229515075684, 0.11848422139883041, 0.06045769900083542, -0.03402360528707504, 0.05838724225759506, 0.05430590733885765, -0.0014317580498754978, -0.023188933730125427, 0.027343805879354477, 0.0428462028503418, 0.0010286126052960753, 0.08050743490457535, -0.025696836411952972, -0.08519671857357025, -0.010584519244730473, 0.023069124668836594, -0.06495297700166702, 0.02465198189020157, -0.002557288622483611, -0.019062843173742294, -0.02978864684700966, -0.07300383597612381, 0.004384858068078756, 0.03331610932946205, 0.002714486327022314, -0.023793550208210945, -0.015051247552037239, -0.007504794746637344, -0.03889099135994911, 0.00020929287711624056, -0.037738505750894547, -0.0320235900580883, -0.08352146297693253, 0.05967201292514801, -0.013084751553833485, -0.03517897427082062, -0.003657424822449684, 0.08839388936758041, 0.04186597093939781, -0.08313586562871933, 0.025708094239234924, -0.019533414393663406, -0.0022612884640693665, 0.002241419395431876]}, {"id": "dyn_ui_component_DynAccordion", "text": "# Component: DynAccordion\n\n--- Types (DynAccordion.types.ts) ---\nimport type { BaseComponentProps, AccessibilityProps, SizeProps } from '../../types';\nimport type { ReactNode } from 'react';\n\nexport interface AccordionItem {\n    id: string;\n    title: ReactNode;\n    content: ReactNode;\n    disabled?: boolean;\n    /**\n     * Optional icon to display for this item (replaces default chevron)\n     */\n    icon?: ReactNode;\n    /**\n     * Whether the item is in a loading state\n     */\n    loading?: boolean;\n}\n\nexport interface DynAccordionProps extends BaseComponentProps, AccessibilityProps, SizeProps {\n    /**\n     * Array of accordion items\n     */\n    items: AccordionItem[];\n\n    /**\n     * Whether multiple items can be expanded simultaneously\n     * @default false\n     */\n    multiple?: boolean;\n\n    /**\n     * IDs of items that are expanded by default\n     */\n    defaultExpanded?: string[];\n\n    /**\n     * Controlled expanded items IDs\n     */\n    expanded?: string[];\n\n    /**\n     * Callback when expanded items change\n     */\n    onChange?: (expandedIds: string[]) => void;\n\n    /**\n     * Variant for styling\n     * @default 'default'\n     */\n    variant?: 'default' | 'bordered';\n\n    /**\n     * Whether the entire accordion is in a loading state\n     */\n    loading?: boolean;\n\n    /**\n     * Optional default icon for all items\n     */\n    expandIcon?: ReactNode;\n}\n\n/**\n * Default props for DynAccordion component\n */\nexport const DYN_ACCORDION_DEFAULT_PROPS: Partial<DynAccordionProps> = {\n    multiple: false,\n    variant: 'default',\n    defaultExpanded: [],\n    size: 'md',\n};\n\nexport interface DynAccordionItemProps extends AccordionItem {\n    isExpanded: boolean;\n    onToggle: () => void;\n    variant?: 'default' | 'bordered';\n    size?: DynAccordionProps['size'];\n    expandIcon?: ReactNode;\n}\n\n\n--- Component (DynAccordion.tsx) ---\nimport React, { useState, forwardRef } from 'react';\nimport { cn } from '../../utils/classNames';\nimport { DynAccordionProps, DYN_ACCORDION_DEFAULT_PROPS } from './DynAccordion.types';\nimport { DynAccordionItem } from './DynAccordionItem';\nimport styles from './DynAccordion.module.css';\n\nexport const DynAccordion = forwardRef<HTMLDivElement, DynAccordionProps>((\n    {\n        items,\n        multiple = DYN_ACCORDION_DEFAULT_PROPS.multiple,\n        defaultExpanded = DYN_ACCORDION_DEFAULT_PROPS.defaultExpanded,\n        expanded: controlledExpanded,\n        onChange,\n        className,\n        variant = DYN_ACCORDION_DEFAULT_PROPS.variant,\n        size = DYN_ACCORDION_DEFAULT_PROPS.size,\n        loading = false,\n        expandIcon,\n        id,\n        style,\n        'data-testid': dataTestId,\n        ...rest\n    },\n    ref\n) => {\n    const [internalExpanded, setInternalExpanded] = useState<string[]>(defaultExpanded ?? []);\n\n    const isControlled = controlledExpanded !== undefined;\n    const expandedIds = isControlled ? controlledExpanded : internalExpanded;\n\n    const handleToggle = (id: string) => {\n        let newExpanded: string[];\n\n        if (expandedIds.includes(id)) {\n            newExpanded = expandedIds.filter((itemId) => itemId !== id);\n        } else {\n            newExpanded = multiple ? [...expandedIds, id] : [id];\n        }\n\n        if (!isControlled) {\n            setInternalExpanded(newExpanded);\n        }\n\n        onChange?.(newExpanded);\n    };\n\n    return (\n        <div\n            ref={ref}\n            id={id}\n            style={style}\n            data-testid={dataTestId || 'dyn-accordion'}\n            className={cn(\n                styles.accordion,\n                { [styles.accordionBordered]: variant === 'bordered' },\n                className\n            )}\n            {...rest}\n        >\n            {items.map((item) => (\n                <DynAccordionItem\n                    key={item.id}\n                    {...item}\n                    variant={variant}\n                    size={size}\n                    expandIcon={expandIcon}\n                    loading={loading || item.loading}\n                    isExpanded={expandedIds.includes(item.id)}\n                    onToggle={() => handleToggle(item.id)}\n                />\n            ))}\n        </div>\n    );\n});\n\nDynAccordion.displayName = 'DynAccordion';\n\n\n--- Usage Examples (DynAccordion.stories.tsx) ---\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { DynAccordion } from './DynAccordion';\n\nconst meta: Meta<typeof DynAccordion> = {\n    title: 'Data Display/DynAccordion',\n    component: DynAccordion,\n    parameters: {\n        layout: 'padded',\n    },\n    tags: ['autodocs'],\n    argTypes: {\n        variant: {\n            control: 'select',\n            options: ['default', 'bordered'],\n        },\n        multiple: {\n            control: 'boolean',\n        },\n    },\n};\n\nexport default meta;\ntype Story = StoryObj<typeof DynAccordion>;\n\nconst defaultItems = [\n    {\n        id: '1',\n        title: 'Accordion Item 1',\n        content: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.',\n    },\n    {\n        id: '2',\n        title: 'Accordion Item 2',\n        content: 'Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.',\n    },\n    {\n        id: '3',\n        title: 'Accordion Item 3',\n        content: 'Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.',\n    },\n];\n\nexport const Default: Story = {\n    args: {\n        items: defaultItems,\n    },\n};\n\nexport const Bordered: Story = {\n    args: {\n        items: defaultItems,\n        variant: 'bordered',\n    },\n};\n\nexport const Multiple: Story = {\n    args: {\n        items: defaultItems,\n        multiple: true,\n    },\n};\n\nexport const DefaultExpanded: Story = {\n    args: {\n        items: defaultItems,\n        defaultExpanded: ['1'],\n    },\n};\n\nexport const WithDisabledItem: Story = {\n    args: {\n        items: [\n            ...defaultItems.slice(0, 2),\n            {\n                id: '3',\n                title: 'Disabled Item',\n                content: 'This item cannot be opened.',\n                disabled: true,\n            },\n        ],\n    },\n};\n\n\n--- Styles (DynAccordion.module.css) ---\n/**\n * DynAccordion Component Styles\n * 100% Design Token Compliance\n */\n\n.accordion {\n  /* Component Tokens - 3-level fallback */\n  --dyn-accordion-bg: var(--dyn-accordion-background, var(--dyn-semantic-surface, #ffffff));\n  --dyn-accordion-border: var(--dyn-accordion-border-color, var(--dyn-semantic-border, #e5e7eb));\n  --dyn-accordion-radius: var(--dyn-accordion-border-radius, var(--dyn-border-radius-md, 0.375rem));\n\n  /* Header */\n  --dyn-accordion-header-bg: var(--dyn-accordion-header-background, transparent);\n  --dyn-accordion-header-bg-hover: var(--dyn-accordion-header-hover, var(--dyn-semantic-surface-hover, #f3f4f6));\n  --dyn-accordion-header-color: var(--dyn-accordion-header-text, var(--dyn-semantic-text, #111827));\n  --dyn-accordion-header-padding: var(--dyn-accordion-header-spacing, var(--dyn-spacing-md, 1rem));\n  --dyn-accordion-header-font-size: var(--dyn-accordion-header-size, var(--dyn-font-size-base, 1rem));\n  --dyn-accordion-header-font-weight: var(--dyn-accordion-header-weight, var(--dyn-font-weight-medium, 500));\n\n  /* Icon */\n  --dyn-accordion-icon-color: var(--dyn-accordion-icon, var(--dyn-semantic-text-secondary, #6b7280));\n  \n  /* Content */\n  --dyn-accordion-content-color: var(--dyn-accordion-content-text, var(--dyn-semantic-text-secondary, #6b7280));\n  --dyn-accordion-content-padding: var(--dyn-accordion-content-spacing, var(--dyn-spacing-md, 1rem));\n\n  /* Base styles */\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  border-radius: var(--dyn-accordion-radius);\n  background-color: var(--dyn-accordion-bg);\n}\n\n.accordionBordered {\n  border: var(--dyn-border-width-sm, 1px) solid var(--dyn-accordion-border);\n  overflow: hidden;\n}\n\n.item {\n  border-bottom: var(--dyn-border-width-sm, 1px) solid var(--dyn-accordion-border);\n}\n\n.item:last-child {\n  border-bottom: none;\n}\n\n.headerContent {\n  display: flex;\n  align-items: center;\n  gap: var(--dyn-spacing-sm, 0.5rem);\n}\n\n.loadingSpinner {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: var(--dyn-spacing-md);\n  height: var(--dyn-spacing-md);\n}\n\n/* ============================================\n   SIZE VARIANTS\n   ============================================ */\n\n.sizeSm {\n  --dyn-accordion-header-padding: var(--dyn-spacing-sm, 0.5rem);\n  --dyn-accordion-header-font-size: var(--dyn-font-size-sm, 0.875rem);\n  --dyn-accordion-content-padding: var(--dyn-spacing-sm, 0.5rem);\n}\n\n.sizeMd {\n  --dyn-accordion-header-padding: var(--dyn-spacing-md, 1rem);\n  --dyn-accordion-header-font-size: var(--dyn-font-size-base, 1rem);\n  --dyn-accordion-content-padding: var(--dyn-spacing-md, 1rem);\n}\n\n.sizeLg {\n  --dyn-accordion-header-padding: var(--dyn-spacing-lg, 1.5rem);\n  --dyn-accordion-header-font-size: var(--dyn-font-size-lg, 1.125rem);\n  --dyn-accordion-content-padding: var(--dyn-spacing-lg, 1.5rem);\n}\n\n.header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n  padding: var(--dyn-accordion-header-padding);\n  background: var(--dyn-accordion-header-bg);\n  border: none;\n  cursor: pointer;\n  text-align: left;\n  color: var(--dyn-accordion-header-color);\n  font-weight: var(--dyn-accordion-header-font-weight);\n  font-size: var(--dyn-accordion-header-font-size);\n  transition: background-color 0.2s, color 0.2s;\n}\n\n.header:hover:not(.disabled) {\n  background-color: var(--dyn-accordion-header-bg-hover);\n}\n\n.header:focus-visible {\n  outline: var(--dyn-border-width-md, 2px) solid var(--dyn-action-focus, #3b82f6);\n  outline-offset: -2px;\n}\n\n.disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n  pointer-events: none;\n}\n\n/* Added to match usage in DynAccordionItem.tsx */\n.title {\n  font-weight: inherit;\n}\n\n.icon {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  color: var(--dyn-accordion-icon-color);\n}\n\n.expanded .icon {\n  transform: rotate(180deg);\n}\n\n.contentWrapper {\n  display: grid;\n  grid-template-rows: 0fr;\n  transition: grid-template-rows 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n.expanded .contentWrapper {\n  grid-template-rows: 1fr;\n}\n\n.content {\n  overflow: hidden;\n}\n\n.contentInner {\n  padding: var(--dyn-accordion-content-padding);\n  padding-top: 0;\n  color: var(--dyn-accordion-content-color);\n  line-height: var(--dyn-line-height-normal, 1.5);\n}\n", "metadata": {"type": "ui_component", "name": "DynAccordion", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynAccordion"}, "embedding": [-0.02239356003701687, 0.03556778281927109, 0.023620929569005966, 0.10064090043306351, -0.033484138548374176, 0.05318273976445198, 0.008019207045435905, 0.031039537861943245, 0.049685146659612656, -0.01243213377892971, -0.06760621070861816, 0.011451163329184055, -0.059128060936927795, -0.013784420676529408, 0.03555133566260338, 0.04967700317502022, -0.021435340866446495, -0.04963547736406326, -0.04338061064481735, -0.01409770268946886, 0.08613312989473343, -0.08933685719966888, -0.032061196863651276, -0.05598338693380356, -0.03160187229514122, 0.02795860543847084, -0.03203330934047699, -0.014497680589556694, 0.04343397915363312, -0.014769304543733597, -0.024643875658512115, -0.010099305771291256, -0.06636672466993332, 0.010660078376531601, -0.003672272665426135, 0.059522051364183426, -0.0514417439699173, 0.032391257584095, -0.010724639520049095, 0.052344296127557755, 0.08311999589204788, 0.07207044214010239, -0.0017721230397000909, -0.07431027293205261, -0.031048882752656937, -0.04057876393198967, -0.10174926370382309, -0.012483515776693821, -0.051039811223745346, -0.0007801150786690414, 0.036617107689380646, -0.022051626816391945, 0.08506132662296295, -0.03384624794125557, 0.017122631892561913, -0.020349794998764992, -0.011599406599998474, 0.04356208071112633, 0.03934533894062042, 0.0010810955427587032, 0.059051647782325745, 0.013891740702092648, 0.031371451914310455, -0.06425100564956665, 0.02782033570110798, 0.09630005806684494, 0.036720987409353256, -0.04277588799595833, -0.023074384778738022, -0.0398312471807003, 0.013481399044394493, -0.0483236238360405, 0.10337872058153152, 0.03314581885933876, 0.10547087341547012, -0.10388153791427612, -0.02111910656094551, -0.05794593691825867, 0.013106297701597214, -0.03193770349025726, -0.019100409001111984, 0.08092144131660461, -0.036255914717912674, -0.054810602217912674, 0.011643639765679836, 0.1267261505126953, -0.05845479667186737, -0.05739448219537735, -0.07102634012699127, 0.00405924441292882, 0.013160239905118942, -0.1396092027425766, 0.016313821077346802, 0.041628915816545486, 0.06090952083468437, 0.008161468431353569, -0.04364630579948425, 0.012905408628284931, -0.05939255282282829, 0.018515795469284058, 0.04227111488580704, 0.06622215360403061, 0.034351885318756104, 0.05582061782479286, -0.03709804266691208, -0.03272422403097153, 0.006379816215485334, -0.0918104350566864, -0.07514858990907669, 0.06576355546712875, -0.007505240384489298, 0.03794777765870094, -0.019120218232274055, -0.03344937786459923, -0.07400355488061905, -0.04266783222556114, -0.0246645025908947, -0.036149609833955765, 0.030743194743990898, -0.026832466945052147, 0.07074045389890671, -0.0786973387002945, 0.026032771915197372, 0.03357778117060661, 0.02855648659169674, 0.03217645734548569, 0.031240131705999374, 3.725256575797019e-33, -0.08538128435611725, -0.05011817812919617, -0.01599733531475067, 0.09387016296386719, 0.046006396412849426, -0.07546820491552353, -0.004855819512158632, 0.0185264702886343, -0.07559522241353989, 0.028015805408358574, 0.019908161833882332, 0.10589823126792908, -0.07762680947780609, -0.02286609821021557, -0.03029843233525753, -0.022573495283722878, 0.056329477578401566, 0.06055142730474472, 0.03831497207283974, -0.04209909588098526, 0.011237315833568573, -0.012724733911454678, -0.05423778295516968, 0.0003271519672125578, 0.07526877522468567, -0.020454928278923035, -0.06144290044903755, 0.08571282029151917, -0.0411110557615757, -0.044179316610097885, 0.02041511982679367, -0.029031595215201378, -0.0034344724845141172, -0.005175337195396423, -0.060462672263383865, -0.059548474848270416, -0.1061185970902443, -0.004941551014780998, -0.05615748465061188, -0.0600004680454731, 0.020736195147037506, -0.02045109122991562, 0.04216302931308746, 0.039506834000349045, -0.05321318656206131, 0.04194452613592148, 0.07924272865056992, -0.006963056046515703, -0.013598566874861717, -0.077928327023983, 0.010039444081485271, 0.10250698775053024, -0.020456507802009583, -0.10396407544612885, 0.018223783001303673, -0.019235998392105103, -0.053646061569452286, -0.015913376584649086, 0.06731612980365753, 0.017140867188572884, -0.020527862012386322, 0.022152790799736977, 0.03613700345158577, 0.028460046276450157, 0.0023178700357675552, 0.07969687879085541, -0.01649090088903904, 0.017833968624472618, 0.06489786505699158, -0.04522429034113884, -0.0074235256761312485, 0.0027284056413918734, 0.0479423888027668, 0.016269627958536148, 0.08545010536909103, 0.024390991777181625, 0.008127355016767979, -0.05919451266527176, 0.0024235937744379044, -0.07791250944137573, -0.029226450249552727, -0.09358470141887665, 0.07476507872343063, 0.10343406349420547, 0.04975125566124916, -0.07161086052656174, -0.05796780064702034, -0.046237312257289886, 0.009190889075398445, 0.008228391408920288, -0.0814480111002922, 0.004024337977170944, 0.005667106248438358, -0.03931164741516113, 0.005808610003441572, -6.28969190900589e-33, 0.10581526905298233, -0.017113450914621353, -0.024587953463196754, -0.12088114023208618, 0.0031311647035181522, -0.025085262954235077, -0.04781349003314972, 0.06747884303331375, -0.020422721281647682, -0.008595006540417671, 0.09260718524456024, 0.019813677296042442, 0.08992724120616913, -0.07043791562318802, -0.11327642947435379, 0.15618009865283966, -0.06595190614461899, 0.013729122467339039, 0.0693245679140091, -0.0070815859362483025, 0.04616733640432358, 0.012308265082538128, 0.03291351720690727, 0.04691804200410843, -0.06304731965065002, 0.034612588584423065, 0.044254329055547714, -0.002876114100217819, 0.03679889440536499, 0.028529809787869453, 0.04906164109706879, -0.04424015060067177, 0.00464879535138607, 0.027939079329371452, -0.009037747979164124, -0.055195994675159454, -0.019726786762475967, 0.05051471292972565, -0.03126103803515434, 0.008837989531457424, -0.0007749482756480575, 0.019068628549575806, 0.01658305898308754, 0.025081200525164604, -0.03914027288556099, -0.05214549973607063, 0.05107615143060684, -0.001082892413251102, -0.03661268576979637, -0.007644030265510082, -0.009646382182836533, -0.04735236614942551, -0.034553222358226776, 0.032526109367609024, 0.012387126684188843, 0.12730003893375397, 0.02257714234292507, -0.0017166638281196356, -0.011459985747933388, -0.03185455501079559, -0.010560212656855583, -0.08702932298183441, -0.03516076132655144, -0.029095686972141266, 0.03867111727595329, -0.04593240097165108, -0.10930141806602478, -0.04047126695513725, 0.018297921866178513, 0.017070898786187172, 0.08192101866006851, 0.0603637658059597, 0.033324457705020905, -0.07640363276004791, 0.007742233574390411, -0.04595409333705902, 0.11965975910425186, -0.03661101311445236, 0.08045588433742523, 0.00972502026706934, -0.022018512710928917, -0.02277023158967495, 0.027250338345766068, -0.011107353493571281, -0.028365204110741615, 0.044064782559871674, 0.02778465487062931, 0.06967620551586151, 0.020228344947099686, 0.11423595994710922, 0.00598245719447732, -0.009359821677207947, 0.015240541659295559, 0.011454643681645393, -0.06899768114089966, -5.4120839365623397e-08, -0.02651176229119301, -0.01899578422307968, -0.010109925642609596, -0.11312808096408844, -0.0019683039281517267, -0.10788934677839279, -0.050093378871679306, -0.01728477142751217, -0.12087211012840271, -0.030262168496847153, 0.012711110524833202, 0.08261338621377945, -0.05795876309275627, 0.02741953171789646, 0.0781405046582222, -0.034678295254707336, -0.10448576509952545, 0.006567976903170347, -0.03705060854554176, -0.02016124688088894, -0.04611430689692497, -0.03778881952166557, 0.01529010385274887, 0.02633136324584484, 0.06704922765493393, -0.009359958581626415, -0.022543925791978836, -0.0535028800368309, 0.01777072623372078, 0.07812061160802841, -0.03871389850974083, 0.0036000139079988003, -0.030126983299851418, -0.013101579621434212, 0.03348371013998985, 0.0027211715932935476, -0.004559189081192017, -0.037117794156074524, -0.00978077296167612, 0.013725250959396362, 0.053195610642433167, -0.0888601765036583, -0.03345588967204094, 0.0787787139415741, -0.015291517600417137, -0.026015689596533775, -0.11491689831018448, 0.04946562275290489, 0.044558633118867874, 0.05145597830414772, 0.011206069961190224, -0.04114716127514839, -0.056424275040626526, 0.03183950483798981, 0.011483784765005112, -0.046876922249794006, -0.032125040888786316, 0.08521666377782822, 0.0005685848882421851, 0.04145281761884689, 0.031021026894450188, 0.01855936273932457, 0.09209480881690979, -0.02983977645635605]}, {"id": "dyn_ui_component_DynAppbar", "text": "# Component: DynAppbar\n\n--- Types (DynAppbar.types.ts) ---\nimport { BaseComponentProps, AccessibilityProps, SizeProps } from '../../types';\nimport { ReactNode } from 'react';\n\nexport interface DynAppbarProps extends BaseComponentProps, AccessibilityProps, SizeProps {\n    /**\n     * Content to be placed on the left side (e.g., logo, menu button)\n     */\n    leftContent?: ReactNode;\n\n    /**\n     * Content to be placed on the rights side (e.g., profile, actions)\n     */\n    rightContent?: ReactNode;\n\n    /**\n     * Title text or element to be displayed in the center or left depending on layout\n     */\n    title?: ReactNode;\n\n    /**\n     * Center content\n     */\n    centerContent?: ReactNode;\n\n    /**\n     * Whether the appbar is sticky or fixed\n     */\n    position?: 'static' | 'sticky' | 'fixed';\n\n    /**\n     * Whether the appbar is in a loading state. \n     * If true, shows a progress bar at the bottom.\n     */\n    loading?: boolean;\n\n    /**\n     * Color variant for the appbar\n     * @default 'primary'\n     */\n    variant?: 'primary' | 'secondary' | 'surface' | 'inverse';\n}\n\n/**\n * Default props for DynAppbar component\n */\nexport const DYN_APPBAR_DEFAULT_PROPS: Partial<DynAppbarProps> = {\n    position: 'static',\n    size: 'md',\n    variant: 'primary',\n};\n\n\n--- Component (DynAppbar.tsx) ---\nimport React, { forwardRef } from 'react';\nimport { cn } from '../../utils/classNames';\nimport { DynAppbarProps, DYN_APPBAR_DEFAULT_PROPS } from './DynAppbar.types';\nimport styles from './DynAppbar.module.css';\n\n// Explicit position mapping for type safety\nconst POSITION_MAP: Record<'sticky' | 'fixed', string> = {\n    sticky: styles.sticky,\n    fixed: styles.fixed,\n};\n\nexport const DynAppbar = forwardRef<HTMLDivElement, DynAppbarProps>(\n    (\n        {\n            leftContent,\n            rightContent,\n            title,\n            centerContent,\n            position = DYN_APPBAR_DEFAULT_PROPS.position,\n            size = DYN_APPBAR_DEFAULT_PROPS.size,\n            variant = DYN_APPBAR_DEFAULT_PROPS.variant,\n            loading = false,\n            className,\n            children,\n            id,\n            style,\n            'data-testid': dataTestId,\n            ...rest\n        },\n        ref\n    ) => {\n        const rootClasses = cn(\n            styles.container,\n            position !== 'static' && POSITION_MAP[position as 'sticky' | 'fixed'],\n            styles[variant!],\n            styles[`size${size!.charAt(0).toUpperCase()}${size!.slice(1)}`],\n            className\n        );\n\n        return (\n            <header\n                ref={ref}\n                id={id}\n                style={style}\n                data-testid={dataTestId || 'dyn-appbar'}\n                className={rootClasses}\n                aria-busy={loading}\n                {...rest}\n            >\n                <div className={styles.content}>\n                    {(leftContent || title) && (\n                        <div className={styles.left}>\n                            {leftContent}\n                            {title && (\n                                <div className={styles.title}>\n                                    {typeof title === 'string' ? <h3>{title}</h3> : title}\n                                </div>\n                            )}\n                        </div>\n                    )}\n\n                    {centerContent && <div className={styles.center}>{centerContent}</div>}\n\n                    {children && <div className={styles.center}>{children}</div>}\n\n                    {rightContent && <div className={styles.right}>{rightContent}</div>}\n                </div>\n\n                {loading && (\n                    <div className={styles.loadingBar} role=\"progressbar\" aria-hidden=\"true\">\n                        <div className={styles.loadingProgress} />\n                    </div>\n                )}\n            </header>\n        );\n    }\n);\n\nDynAppbar.displayName = 'DynAppbar';\n\nexport default DynAppbar;\n\n\n--- Usage Examples (DynAppbar.stories.tsx) ---\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { DynAppbar } from './DynAppbar';\nimport { DynButton } from '../DynButton';\n\nconst meta: Meta<typeof DynAppbar> = {\n    title: 'Components/DynAppbar',\n    component: DynAppbar,\n    tags: ['autodocs'],\n    parameters: {\n        layout: 'fullscreen',\n    },\n};\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\nexport const Default: Story = {\n    args: {\n        title: 'Application Title',\n        leftContent: <DynButton icon=\"menu\" kind=\"tertiary\" aria-label=\"Menu\" style={{ color: 'white' }} />,\n        rightContent: (\n            <div style={{ display: 'flex', gap: '8px' }}>\n                <DynButton icon=\"search\" kind=\"tertiary\" aria-label=\"Search\" style={{ color: 'white' }} />\n                <DynButton icon=\"notifications\" kind=\"tertiary\" aria-label=\"Notifications\" style={{ color: 'white' }} />\n                <DynButton label=\"Login\" kind=\"secondary\" style={{ color: 'white', borderColor: 'white' }} />\n            </div>\n        ),\n    },\n};\n\nexport const WithCenterContent: Story = {\n    args: {\n        title: 'Dashboard',\n        centerContent: <span style={{ color: 'white', opacity: 0.8 }}>Last updated: Just now</span>,\n        rightContent: <DynButton label=\"Logout\" kind=\"secondary\" style={{ color: 'white', borderColor: 'white' }} />,\n    },\n};\n\n\n--- Styles (DynAppbar.module.css) ---\n/**\n * DynAppbar Component Styles\n * 100% Design Token Compliance\n */\n\n:root {\n  /* Component Tokens */\n  --dyn-appbar-height: 4rem;\n  /* 64px */\n  --dyn-appbar-padding-x: var(--dyn-spacing-lg, 1.5rem);\n  --dyn-appbar-gap: var(--dyn-spacing-lg, 1.5rem);\n  --dyn-appbar-bg: var(--dyn-theme-primary, #007bff);\n  --dyn-appbar-color: var(--dyn-semantic-text-inverse, #ffffff);\n  --dyn-appbar-border: var(--dyn-semantic-border, #e2e8f0);\n  --dyn-appbar-shadow: var(--dyn-elevation-medium, 0 4px 6px -1px rgba(0, 0, 0, 0.1));\n  --dyn-appbar-transition: var(--dyn-transition-fast, 0.15s ease);\n  --dyn-appbar-title-size: var(--dyn-font-size-lg, 1.125rem);\n  --dyn-appbar-title-weight: var(--dyn-font-weight-semibold, 600);\n\n  /* Responsive tokens */\n  --dyn-appbar-height-mobile: 3.5rem;\n  /* 56px */\n  --dyn-appbar-padding-mobile: var(--dyn-spacing-md, 1rem);\n  --dyn-appbar-gap-mobile: var(--dyn-spacing-md, 1rem);\n  --dyn-appbar-title-size-mobile: var(--dyn-font-size-md, 1rem);\n\n  /* Variants */\n  --dyn-appbar-bg-primary: var(--dyn-theme-primary, #3b82f6);\n  --dyn-appbar-color-primary: var(--dyn-semantic-text-inverse, #ffffff);\n  \n  --dyn-appbar-bg-secondary: var(--dyn-theme-secondary, #64748b);\n  --dyn-appbar-color-secondary: var(--dyn-semantic-text-inverse, #ffffff);\n  \n  --dyn-appbar-bg-surface: var(--dyn-semantic-surface, #ffffff);\n  --dyn-appbar-color-surface: var(--dyn-semantic-text, #18181b);\n  --dyn-appbar-border-surface: var(--dyn-semantic-border, #e4e4e7);\n\n  --dyn-appbar-bg-inverse: var(--dyn-semantic-text, #18181b);\n  --dyn-appbar-color-inverse: var(--dyn-semantic-text-inverse, #ffffff);\n}\n\n.container {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  position: relative;\n  min-height: var(--dyn-appbar-height);\n  background-color: var(--dyn-appbar-bg);\n  border-bottom: var(--dyn-border-width-sm, 1px) solid var(--dyn-appbar-border);\n  box-shadow: var(--dyn-appbar-shadow);\n  font-family: inherit;\n  color: var(--dyn-appbar-color);\n  width: 100%;\n  box-sizing: border-box;\n  z-index: var(--dyn-z-index-sticky);\n}\n\n.content {\n  display: flex;\n  align-items: center;\n  padding: 0 var(--dyn-appbar-padding-x);\n  gap: var(--dyn-appbar-gap);\n  flex: 1;\n  width: 100%;\n  box-sizing: border-box;\n}\n\n/* Size Variants */\n.sizeSm {\n  --dyn-appbar-height: 3.5rem;\n  --dyn-appbar-padding-x: var(--dyn-spacing-md);\n  --dyn-appbar-title-size: var(--dyn-font-size-md);\n}\n\n.sizeMd {\n  --dyn-appbar-height: 4rem;\n  --dyn-appbar-padding-x: var(--dyn-spacing-lg);\n  --dyn-appbar-title-size: var(--dyn-font-size-lg);\n}\n\n.sizeLg {\n  --dyn-appbar-height: 5rem;\n  --dyn-appbar-padding-x: var(--dyn-spacing-xl);\n  --dyn-appbar-title-size: var(--dyn-font-size-xl);\n}\n\n/* Color Variants */\n.primary {\n  --dyn-appbar-bg: var(--dyn-appbar-bg-primary);\n  --dyn-appbar-color: var(--dyn-appbar-color-primary);\n  --dyn-appbar-border: transparent;\n}\n\n.secondary {\n  --dyn-appbar-bg: var(--dyn-appbar-bg-secondary);\n  --dyn-appbar-color: var(--dyn-appbar-color-secondary);\n  --dyn-appbar-border: transparent;\n}\n\n.surface {\n  --dyn-appbar-bg: var(--dyn-appbar-bg-surface);\n  --dyn-appbar-color: var(--dyn-appbar-color-surface);\n  --dyn-appbar-border: var(--dyn-appbar-border-surface);\n}\n\n.inverse {\n  --dyn-appbar-bg: var(--dyn-appbar-bg-inverse);\n  --dyn-appbar-color: var(--dyn-appbar-color-inverse);\n  --dyn-appbar-border: transparent;\n}\n\n/* Position Variants */\n.sticky {\n  position: sticky;\n  top: 0;\n  z-index: var(--dyn-z-index-sticky, 1000);\n}\n\n.fixed {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: var(--dyn-z-index-fixed, 1000);\n}\n\n/* Layout Elements */\n.title {\n  font-size: var(--dyn-appbar-title-size);\n  font-weight: var(--dyn-appbar-title-weight);\n  color: inherit;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  flex: 1;\n}\n\n.left,\n.center,\n.right {\n  display: flex;\n  align-items: center;\n  gap: var(--dyn-appbar-gap);\n}\n\n.left {\n  flex: 1;\n  justify-content: flex-start;\n  min-width: 0;\n}\n\n.center {\n  flex: 0 0 auto;\n  justify-content: center;\n}\n\n.right {\n  flex: 1;\n  justify-content: flex-end;\n  min-width: 0;\n}\n\n/* Responsive */\n@media (max-width: 767px) {\n  .container {\n    height: var(--dyn-appbar-height-mobile);\n    padding: 0 var(--dyn-appbar-padding-mobile);\n    gap: var(--dyn-appbar-gap-mobile);\n  }\n\n  .title {\n    font-size: var(--dyn-appbar-title-size-mobile);\n  }\n}\n\n/* Loading State */\n.loadingBar {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 3px;\n  background-color: rgba(255, 255, 255, 0.2);\n  overflow: hidden;\n}\n\n.surface .loadingBar {\n  background-color: var(--dyn-semantic-surface-muted);\n}\n\n.loadingProgress {\n  width: 40%;\n  height: 100%;\n  background-color: currentColor;\n  animation: loading-animation 1.5s infinite ease-in-out;\n}\n\n@keyframes loading-animation {\n  0% {\n    transform: translateX(-100%);\n  }\n  100% {\n    transform: translateX(250%);\n  }\n}\n\n/* Accessibility */\n@media (prefers-reduced-motion: reduce) {\n  .container {\n    transition: none;\n  }\n}", "metadata": {"type": "ui_component", "name": "DynAppbar", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynAppbar"}, "embedding": [-0.05843350291252136, 0.022607875987887383, 0.023310614749789238, -0.005440001375973225, -0.006163107231259346, 0.06480325013399124, 0.0007447240059264004, 0.11604329198598862, -0.046704091131687164, 0.05060197040438652, -0.07449614256620407, 0.04910539835691452, -0.0003244375984650105, 0.02189340442419052, -0.00420452980324626, -0.004568903241306543, 0.010152154602110386, -0.06729058176279068, 0.031017227098345757, 0.07207395881414413, 0.06157918646931648, -0.06853526085615158, 0.017909886315464973, -0.08271655440330505, -0.006726505700498819, 0.05015047267079353, 0.024105027318000793, 0.017065033316612244, 0.05959181860089302, -0.003971470519900322, -0.03556257113814354, -0.030498016625642776, 0.0081329345703125, -0.019647838547825813, -0.13741490244865417, 0.00022171407181303948, -0.01034996286034584, -0.014738515950739384, 0.014125456102192402, 0.006781435571610928, 0.018433427438139915, 0.0740281268954277, -0.06231692060828209, 0.014957007020711899, 0.047558847814798355, -0.018248312175273895, 0.01738111488521099, 0.02885464020073414, -0.01565180905163288, -0.02132531814277172, 0.05014529824256897, -0.03257584571838379, 0.09017643332481384, 0.07301231473684311, -0.01683047227561474, 0.0435049906373024, 0.005041472613811493, -0.039049774408340454, 0.07475250959396362, 0.008330878801643848, 0.08956917375326157, 0.030254531651735306, 0.03300616890192032, -0.06145213916897774, 0.10957064479589462, 0.02751472033560276, 0.04763159528374672, 0.10799693316221237, 0.03951632231473923, -0.05120474845170975, 0.008858193643391132, 0.008695927448570728, 0.05691058188676834, -0.021042175590991974, 0.04263951629400253, -0.18850727379322052, 0.04529549181461334, 0.061726368963718414, -0.02623627707362175, -0.018851203843951225, 0.014365814626216888, 0.007440655492246151, 0.020431365817785263, 0.0457635372877121, -0.021429304033517838, 0.04470741003751755, -0.03130757436156273, 0.012298570945858955, 0.001714610611088574, 0.00917736254632473, -0.015327825210988522, -0.09701639413833618, 0.03638077899813652, 0.02870003506541252, 0.06425556540489197, -0.013433434069156647, -0.1444278210401535, 0.07836265116930008, -0.0676216259598732, -0.0035375135485082865, 0.0666508823633194, 0.03829263895750046, -0.03117537498474121, 0.047566160559654236, -0.019202137365937233, 0.008350543677806854, -0.040522340685129166, -0.06263286620378494, -0.0610557459294796, 0.066786028444767, 0.009985807351768017, 0.015855129808187485, -0.06683693081140518, 0.018389608711004257, -0.056127581745386124, -0.0859316810965538, -0.021620774641633034, -0.007551340386271477, -0.007657842710614204, -0.08603274822235107, 0.0374821200966835, 0.032852042466402054, 0.031885839998722076, 0.02576756849884987, 0.05851176753640175, 0.04775584116578102, 0.013295849785208702, 2.2008777057025843e-33, -0.08087088167667389, -0.03290020301938057, -0.031723733991384506, 0.11905289441347122, -0.01740960031747818, -0.0036118871066719294, -0.02656310796737671, 0.03700312227010727, -0.06163181737065315, -0.023325540125370026, -0.0008763477671891451, 0.039597734808921814, -0.08175195753574371, -0.0022932146675884724, -0.033157993108034134, -0.05595808103680611, -0.0019344798056408763, 0.024878237396478653, 0.005968024488538504, -0.04076128825545311, -0.030587652698159218, -0.00689358776435256, -0.09392683953046799, 0.0031227085273712873, 0.06313957273960114, 0.012718846090137959, 0.0020620054565370083, 0.0396299734711647, -0.09013036638498306, -0.0353064127266407, 0.006625758484005928, -0.06625077873468399, 0.08281676471233368, -0.003229253925383091, 0.03287437558174133, -0.0832233652472496, -0.08512287586927414, 0.007711626123636961, -0.05543449521064758, 0.004701482132077217, -0.03405119851231575, -0.013325081206858158, -0.06275777518749237, 0.046189162880182266, -0.03450753539800644, 0.08114048838615417, 0.06630177795886993, -0.025526607409119606, 0.06010571867227554, -0.02875647507607937, -0.030984841287136078, 0.07691043615341187, 0.04186021164059639, -0.10555921494960785, 0.011198805645108223, -0.005196166690438986, -0.02211715281009674, 0.05753462389111519, 0.09830312430858612, -0.047857530415058136, -0.03439334034919739, 0.006263405084609985, 0.02268606424331665, -0.03602675721049309, -0.02335813082754612, 0.09360793977975845, -0.07430943101644516, -0.017068762332201004, 0.057445596903562546, -0.04792133346199989, -0.029604189097881317, 0.010672344826161861, 0.06457347422838211, 0.07388073205947876, 0.015723396092653275, 0.02162569761276245, -0.06422533839941025, 0.02254500798881054, -0.0846257284283638, 0.006855449639260769, 0.011594509705901146, -0.08315501362085342, -0.004277531988918781, 0.05805152282118797, 0.07783693075180054, -0.07814687490463257, 0.016794387251138687, -0.09966426342725754, -0.003993436228483915, 0.009339069947600365, -0.03714311122894287, -0.08411574363708496, 0.03412932530045509, 0.02274734526872635, 0.017178619280457497, -4.974593277686055e-33, 0.020753053948283195, -0.06157395616173744, -0.04670162498950958, -0.03828104957938194, -0.0635848268866539, 0.01250891387462616, -0.03268561512231827, 0.03783523291349411, -0.004414661321789026, 0.03622441738843918, -0.006679483689367771, 0.046653516590595245, -0.008320358581840992, -0.023671098053455353, -0.08690038323402405, 0.19571879506111145, -0.026911437511444092, 0.06840898096561432, -0.004713122732937336, -0.02981414645910263, -0.008783220313489437, -0.07463030517101288, 0.008082764223217964, 0.11214544624090195, -0.03663235530257225, 0.04107503220438957, 0.10366302728652954, -0.009872266091406345, 0.009519888088107109, -0.05419638007879257, 0.007610773202031851, -0.06405647844076157, -0.01092626340687275, -0.054005276411771774, -0.08695685118436813, -0.028564453125, -0.07289368659257889, 0.01906181499361992, -0.009116901084780693, 0.01937519572675228, 0.03209324926137924, 0.08168071508407593, 0.03522858768701553, -0.029818706214427948, -0.07166668027639389, 0.04102526977658272, 0.016335681080818176, -0.0812450721859932, -0.061489906162023544, 0.002657454228028655, 0.08592746406793594, 0.01927991583943367, 0.03411569073796272, -0.0339474231004715, 0.11044232547283173, 0.04652358219027519, -0.04745474457740784, 0.08210799843072891, -0.0006844244780950248, 0.02585652656853199, 0.0519123412668705, -0.07138737291097641, -0.029986748471856117, -0.034457121044397354, -0.02144942805171013, 0.0029798017349094152, -0.04133041575551033, 0.026067454367876053, -0.0484083853662014, 0.06439239531755447, 0.035947322845458984, -0.010759302414953709, 0.01585491932928562, -0.06264673173427582, -0.0010637249797582626, 0.0424036979675293, 0.0822843536734581, -0.042910560965538025, -0.01644935831427574, -0.008961659856140614, -0.06817157566547394, -0.048938289284706116, 0.03346534073352814, -0.015745092183351517, -0.038931187242269516, -0.0186995230615139, -0.0258131455630064, 0.02320251613855362, 0.05842161551117897, 0.00973521452397108, -0.002549596130847931, 0.06307753175497055, -0.00562755623832345, -0.09732820838689804, -0.004861199762672186, -5.506953826284189e-08, 0.08154581487178802, -0.10658270120620728, 0.005440647713840008, -0.06930238008499146, -0.05960100144147873, -0.03537503629922867, -0.017272531986236572, -0.08521587401628494, -0.08982007950544357, 0.010842124000191689, -0.03424116224050522, 0.035176608711481094, -0.11252743750810623, -0.004223376978188753, 0.048361413180828094, 0.004371166694909334, -0.0746830627322197, 0.042588189244270325, -0.046452369540929794, -0.060278501361608505, -0.037292417138814926, -0.012101295404136181, 0.05556689202785492, 0.059508778154850006, 0.046971678733825684, -0.010654664598405361, 0.011983053758740425, -0.02895256318151951, 0.05320902541279793, -0.03460777550935745, -0.027594052255153656, -0.026349922642111778, -0.012239458039402962, -0.07343883812427521, 0.038342371582984924, -0.005706367548555136, 0.031109033152461052, -0.022520076483488083, 0.009223828092217445, 0.0603228434920311, 0.0641586109995842, -0.05766883119940758, 0.04138720780611038, 0.09464409202337265, -0.005322402808815241, 0.038395918905735016, -0.032261528074741364, 0.06531886011362076, 0.01809161715209484, -0.024139652028679848, 0.039769869297742844, -0.012744780629873276, -0.07379275560379028, -0.008511616848409176, -0.025178715586662292, 0.0729217380285263, -0.09263297915458679, -0.009884175844490528, 0.0472712405025959, -0.037761807441711426, -0.024074586108326912, 0.06888420134782791, -0.029458262026309967, -0.024607766419649124]}, {"id": "dyn_ui_component_DynAvatar", "text": "# Component: DynAvatar\n\n--- Types (DynAvatar.types.ts) ---\n\ufeffimport { type ImgHTMLAttributes, type ReactNode } from 'react';\nimport type { BaseComponentProps, AccessibilityProps, SizeProps } from '../../types';\nimport type { DynBadgeProps } from '../DynBadge/DynBadge.types';\n\n// Direct type definitions - no external dependencies\nexport type DynAvatarSize = 'xs' | 'sm' | 'md' | 'lg' | 'xl';\nexport type DynAvatarShape = 'circle' | 'square' | 'rounded';\nexport type DynAvatarStatus = 'online' | 'offline' | 'away' | 'busy';\n\n/**\n * Token-based avatar size map that mirrors CSS module sizing\n */\nexport const AVATAR_SIZES = {\n  xs: '1.5rem',\n  sm: '2rem',\n  md: '2.5rem',\n  lg: '3rem',\n  xl: '4rem',\n} as const satisfies Record<DynAvatarSize, string>;\n\n/**\n * Badge configuration for avatar badge overlay\n * Accepts either a React node or full DynBadge props for customization\n */\nexport type DynAvatarBadgeConfig =\n  | ReactNode\n  | (Omit<DynBadgeProps, 'position'> & {\n    /** Badge content (number, text, or icon) */\n    content?: ReactNode;\n  });\n\n/**\n * Props interface for DynAvatar component\n * Clean TypeScript implementation without external namespace dependencies\n */\nexport interface DynAvatarProps extends\n  Omit<BaseComponentProps, 'children'>,\n  AccessibilityProps,\n  SizeProps,\n  Omit<React.HTMLAttributes<HTMLDivElement>, keyof BaseComponentProps | keyof AccessibilityProps | 'onClick' | 'children'> {\n\n  /** Image source URL */\n  src?: string;\n\n  /** Alt text for image (required for accessibility) */\n  alt: string;\n\n  /** Avatar size using design token scale */\n  size?: DynAvatarSize;\n\n  /** Avatar shape variant */\n  shape?: DynAvatarShape;\n\n  /** Manual initials override */\n  initials?: string;\n\n  /** Status indicator */\n  status?: DynAvatarStatus;\n\n  /**\n   * Badge overlay configuration\n   * \n   * Can be used for:\n   * - Notification counts\n   * - Status indicators\n   * - Icons or custom content\n   * \n   * @example\n   * // Simple count badge\n   * <DynAvatar badge={5} />\n   * \n   * @example\n   * // Custom badge with DynBadge props\n   * <DynAvatar badge={{ content: \"3\", color: \"danger\", variant: \"solid\" }} />\n   * \n   * @example\n   * // Custom React node\n   * <DynAvatar badge={<CustomIcon />} />\n   */\n  badge?: DynAvatarBadgeConfig;\n\n  /** Loading state */\n  loading?: boolean;\n\n  /** Error state */\n  error?: boolean;\n\n  /** Click handler for interactive avatars */\n  onClick?: (event: React.MouseEvent<HTMLDivElement>) => void;\n\n  /** Custom fallback content */\n  fallback?: ReactNode;\n\n  /** Children content */\n  children?: ReactNode;\n\n  /** Image loading strategy */\n  imageLoading?: 'eager' | 'lazy';\n\n  /** Custom image properties */\n  imageProps?: Omit<ImgHTMLAttributes<HTMLImageElement>, 'src' | 'alt' | 'loading'> & {\n    'data-testid'?: string;\n  };\n\n  /**\n   * Maximum time (ms) to wait for image to load before falling back\n   * If the image doesn't load within this time, it will be treated as an error\n   * and the fallback content will be shown.\n   * \n   * @default 10000 (10 seconds)\n   * @example\n   * // Quick timeout for critical UI\n   * <DynAvatar loadTimeout={3000} />\n   */\n  loadTimeout?: number;\n\n  /**\n   * Callback when the image fails to load or times out\n   * Useful for logging, analytics, or showing custom error states\n   * \n   * @example\n   * <DynAvatar \n   *   src=\"/avatar.jpg\"\n   *   onError={(e) => console.log('Avatar failed:', e)}\n   * />\n   */\n  onImageError?: (event: React.SyntheticEvent<HTMLImageElement> | { type: 'timeout' }) => void;\n\n  /**\n   * Text announced to screen readers when avatar fails to load\n   * @default 'Avatar failed to load'\n   */\n  errorMessage?: string;\n\n  /**\n   * Text announced to screen readers when avatar is loading\n   * @default 'Loading avatar'\n   */\n  loadingLabel?: string;\n}\n\n/**\n * Default props for DynAvatar component\n */\nexport const DYN_AVATAR_DEFAULT_PROPS: Partial<DynAvatarProps> = {\n  size: 'md',\n  shape: 'circle',\n  loading: false,\n  error: false,\n  imageLoading: 'eager',\n  loadTimeout: 10000,\n  errorMessage: 'Avatar failed to load',\n  loadingLabel: 'Loading avatar',\n};\n\n/**\n * Ref type for DynAvatar component\n */\nexport type DynAvatarRef = HTMLDivElement;\n\n/**\n * Status accessibility labels\n */\nexport const DYN_AVATAR_STATUS_LABELS: Record<DynAvatarStatus, string> = {\n  online: 'Online',\n  offline: 'Offline',\n  away: 'Away',\n  busy: 'Busy',\n} as const;\n\n\n--- Component (DynAvatar.tsx) ---\nimport React, { forwardRef, useState, useMemo, useCallback, useRef, useEffect, useId } from 'react';\nimport { cn } from '../../utils/classNames';\nimport { DynBadge } from '../DynBadge';\nimport { DynLoading } from '../DynLoading';\nimport { DynAvatarProps, DynAvatarRef, DYN_AVATAR_STATUS_LABELS, DynAvatarSize, DYN_AVATAR_DEFAULT_PROPS } from './DynAvatar.types';\nimport styles from './DynAvatar.module.css';\n\n// Default image loading timeout (10 seconds)\nconst DEFAULT_LOAD_TIMEOUT = 10000;\n\n// Default fallback icon\nconst DefaultFallbackIcon = () => (\n  <svg\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    aria-hidden=\"true\"\n  >\n    <path\n      d=\"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n);\n\n/**\n * Generate initials from a name string\n */\nconst generateInitials = (name: string): string => {\n  return name\n    .trim()\n    .split(/\\s+/)\n    .filter(Boolean)\n    .slice(0, 2)\n    .map(word => word.charAt(0).toUpperCase())\n    .join('');\n};\n\nconst SIZE_CLASS_MAP: Record<DynAvatarSize, string> = {\n  xs: styles.sizeXs,\n  sm: styles.sizeSm,\n  md: styles.sizeMd,\n  lg: styles.sizeLg,\n  xl: styles.sizeXl,\n};\n\n/**\n * DynAvatar Component\n */\nexport const DynAvatar = forwardRef<DynAvatarRef, DynAvatarProps>(\n  (\n    {\n      src,\n      alt,\n      size = DYN_AVATAR_DEFAULT_PROPS.size,\n      shape = DYN_AVATAR_DEFAULT_PROPS.shape,\n      initials,\n      status,\n      badge,\n      loading = DYN_AVATAR_DEFAULT_PROPS.loading,\n      error = DYN_AVATAR_DEFAULT_PROPS.error,\n      onClick,\n      fallback,\n      imageLoading = DYN_AVATAR_DEFAULT_PROPS.imageLoading,\n      imageProps,\n      loadTimeout = DYN_AVATAR_DEFAULT_PROPS.loadTimeout,\n      onImageError,\n      errorMessage = DYN_AVATAR_DEFAULT_PROPS.errorMessage,\n      loadingLabel = DYN_AVATAR_DEFAULT_PROPS.loadingLabel,\n      className,\n      id,\n      'aria-label': ariaLabel,\n      'aria-describedby': ariaDescribedBy,\n      'aria-labelledby': ariaLabelledBy,\n      'data-testid': dataTestId,\n      role,\n      children,\n      ...rest\n    },\n    ref\n  ) => {\n    const [imageLoaded, setImageLoaded] = useState(false);\n    const [imageError, setImageError] = useState(false);\n    const generatedId = useId();\n    const internalId = id || generatedId;\n    const timeoutRef = useRef<NodeJS.Timeout | null>(null);\n\n    const isInteractive = Boolean(onClick);\n\n    const displayInitials = useMemo(() => {\n      if (initials) return initials.slice(0, 2).toUpperCase();\n      if (alt && alt !== 'Avatar') return generateInitials(alt);\n      return '';\n    }, [initials, alt]);\n\n    const showImage = src && !imageError && imageLoaded;\n    const showFallback = !src || imageError || !imageLoaded;\n    const isLoadingState = loading || (src && !imageLoaded && !imageError);\n\n    const handleImageLoad = useCallback(() => {\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n        timeoutRef.current = null;\n      }\n      setImageLoaded(true);\n      setImageError(false);\n    }, []);\n\n    const handleImageError = useCallback((event?: React.SyntheticEvent<HTMLImageElement>) => {\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n        timeoutRef.current = null;\n      }\n      setImageError(true);\n      setImageLoaded(false);\n      if (event && onImageError) {\n        onImageError(event);\n      }\n    }, [onImageError]);\n\n    const handleClick = useCallback((event: React.MouseEvent<HTMLDivElement>) => {\n      if (!isInteractive) return;\n      onClick?.(event);\n    }, [isInteractive, onClick]);\n\n    const handleKeyDown = useCallback((event: React.KeyboardEvent<HTMLDivElement>) => {\n      if (!isInteractive) return;\n\n      if (event.key === 'Enter' || event.key === ' ') {\n        event.preventDefault();\n        onClick?.(event as any);\n      }\n    }, [isInteractive, onClick]);\n\n    useEffect(() => {\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n        timeoutRef.current = null;\n      }\n\n      if (src && !imageLoaded && !imageError) {\n        timeoutRef.current = setTimeout(() => {\n          setImageError(true);\n          setImageLoaded(false);\n          timeoutRef.current = null;\n          if (onImageError) {\n            onImageError({ type: 'timeout' });\n          }\n        }, loadTimeout);\n      }\n\n      return () => {\n        if (timeoutRef.current) {\n          clearTimeout(timeoutRef.current);\n          timeoutRef.current = null;\n        }\n      };\n    }, [src, imageLoaded, imageError, loadTimeout, onImageError]);\n\n    const statusLabel = status ? DYN_AVATAR_STATUS_LABELS[status] : undefined;\n    const accessibleLabelBase = ariaLabel || (isInteractive ? `Avatar for ${alt}` : alt);\n    const accessibleLabel = statusLabel\n      ? `${accessibleLabelBase} (${statusLabel})`\n      : accessibleLabelBase;\n\n    const avatarClasses = cn(\n      styles.container,\n      (size && SIZE_CLASS_MAP[size]) || styles.sizeMd,\n      styles[shape || 'circle'],\n      {\n        [styles.clickable]: isInteractive,\n        [styles.loading]: isLoadingState,\n        [styles.error]: error || imageError,\n      },\n      className\n    );\n\n    const imageClasses = cn(\n      styles.image,\n      {\n        [styles.imageLoading]: !imageLoaded,\n        [styles.imageLoaded]: imageLoaded,\n      }\n    );\n\n    const badgeSize = useMemo(() => {\n      switch (size) {\n        case 'xs': return 'xs';\n        case 'sm': return 'xs';\n        case 'md': return 'xs';\n        case 'lg': return 'sm'; // Was 'md', scaled down\n        case 'xl': return 'md'; // Was 'lg', scaled down\n        default: return 'xs';\n      }\n    }, [size]);\n\n    const loadingSize = useMemo(() => {\n      switch (size) {\n        case 'xs': return 'xs'; // Loading XS is 1rem (Avatar XS is 1.5rem)\n        case 'sm': return 'xs'; // Loading XS is 1rem (Avatar SM is 2rem)\n        case 'md': return 'sm'; // Loading SM is 1.5rem (Avatar MD is 2.5rem)\n        case 'lg': return 'md'; // Loading MD is 2rem (Avatar LG is 3rem)\n        case 'xl': return 'lg'; // Loading LG is 3rem (Avatar XL is 4rem)\n        default: return 'sm';\n      }\n    }, [size]);\n\n    return (\n      <div\n        ref={ref}\n        id={internalId}\n        className={avatarClasses}\n        role={isInteractive ? 'button' : (role || 'img')}\n        tabIndex={isInteractive ? 0 : undefined}\n        aria-label={accessibleLabel}\n        aria-describedby={ariaDescribedBy}\n        aria-labelledby={ariaLabelledBy}\n        aria-busy={isLoadingState ? 'true' : undefined}\n        data-status={status}\n        data-testid={dataTestId || 'dyn-avatar'}\n        onClick={handleClick}\n        onKeyDown={handleKeyDown}\n        {...rest}\n      >\n        <div className={styles.content}>\n          {/* Image */}\n          {src && !imageError && (\n            <img\n              src={src}\n              alt={showImage ? alt : ''}\n              loading={imageLoading}\n              className={imageClasses}\n              data-testid=\"dyn-avatar-image\"\n              onLoad={handleImageLoad}\n              onError={handleImageError}\n              {...imageProps}\n            />\n          )}\n\n          {/* Hidden image to trigger error handling if src exists but img is hidden */}\n          {src && imageError && (\n            <span style={{ display: 'none' }}>\n              <img src={src} onError={handleImageError} alt=\"\" />\n            </span>\n          )}\n\n\n          {/* Fallback content */}\n          {showFallback && (\n            <div\n              className={styles.initials}\n              aria-hidden={showImage ? 'true' : undefined}\n            >\n              {fallback || children || (\n                displayInitials ? (\n                  <span data-testid=\"dyn-avatar-initials\">\n                    {displayInitials}\n                  </span>\n                ) : (\n                  <span data-testid=\"dyn-avatar-icon\">\n                    <DefaultFallbackIcon />\n                  </span>\n                )\n              )}\n            </div>\n          )}\n\n        </div>\n\n        {/* Status Indicator */}\n        {status && (\n          <DynBadge\n            variant=\"dot\"\n            color={status}\n            position=\"bottomRight\"\n            size={badgeSize}\n\n            aria-label={statusLabel}\n            aria-live=\"off\"\n            data-testid=\"dyn-avatar-status\"\n            className={styles.status}\n          />\n        )}\n\n        {/* Custom Badge Overlay */}\n        {badge && (\n          <div\n            className={styles.badgeContainer}\n            data-testid=\"dyn-avatar-badge\"\n          >\n            {React.isValidElement(badge) ? (\n              badge\n            ) : typeof badge === 'object' && badge !== null && 'content' in badge ? (\n              <DynBadge\n                variant={(badge as any).variant || 'solid'}\n                color={(badge as any).color || 'primary'}\n                size={badgeSize}\n                className={styles.customBadge}\n                aria-label={(badge as any)['aria-label']}\n              >\n                {(badge as any).content}\n              </DynBadge>\n            ) : (\n              <DynBadge\n                variant=\"solid\"\n                color=\"primary\"\n                size={badgeSize}\n                className={styles.customBadge}\n              >\n                {badge as React.ReactNode}\n              </DynBadge>\n            )}\n          </div>\n        )}\n\n        {/* Loading Spinner */}\n        {isLoadingState && (\n          <div className={styles.loadingOverlay} aria-hidden=\"true\">\n            <DynLoading\n              variant=\"spinner\"\n              color=\"primary\"\n              size={loadingSize as any}\n            />\n          </div>\n        )}\n\n        {/* Loading announcement for screen readers */}\n        {isLoadingState && (\n          <span className=\"dyn-sr-only\" aria-live=\"polite\">\n            {loadingLabel}\n          </span>\n        )}\n\n        {/* Error announcement for screen readers */}\n        {(error || imageError) && (\n          <span className=\"dyn-sr-only\" aria-live=\"assertive\">\n            {errorMessage}\n          </span>\n        )}\n\n      </div>\n    );\n  }\n);\n\nDynAvatar.displayName = 'DynAvatar';\n\n--- Usage Examples (DynAvatar.stories.tsx) ---\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { fn } from '@storybook/test';\nimport { DynAvatar } from './DynAvatar';\nimport type { DynAvatarProps } from './DynAvatar.types';\n\nconst meta: Meta<typeof DynAvatar> = {\n  title: 'Components/DynAvatar',\n  component: DynAvatar,\n  parameters: {\n    layout: 'centered',\n    docs: {\n      description: {\n        component: 'Avatar component aligned with design token system.',\n      },\n    },\n  },\n  tags: ['autodocs'],\n  argTypes: {\n    alt: {\n      control: { type: 'text' },\n      description: 'Alt text for accessibility',\n    },\n    size: {\n      control: { type: 'select' },\n      options: ['xs', 'sm', 'md', 'lg', 'xl'],\n      description: 'Avatar size using design token scale',\n    },\n    shape: {\n      control: { type: 'select' },\n      options: ['circle', 'square', 'rounded'],\n      description: 'Avatar shape variant',\n    },\n    status: {\n      control: { type: 'select' },\n      options: ['online', 'offline', 'busy', 'away'],\n      description: 'Status indicator',\n    },\n    loading: {\n      control: { type: 'boolean' },\n      description: 'Loading state - shows only spinner',\n    },\n    error: {\n      control: { type: 'boolean' },\n      description: 'Error state',\n    },\n    errorMessage: {\n      control: { type: 'text' },\n      description: 'Text announced to screen readers when avatar fails to load',\n    },\n    loadingLabel: {\n      control: { type: 'text' },\n      description: 'Text announced to screen readers when avatar is loading',\n    },\n  },\n  args: {\n    alt: 'User Avatar',\n    size: 'md',\n    shape: 'circle',\n    onClick: fn(),\n    onImageError: fn(),\n  }\n};\n\nexport default meta;\ntype Story = StoryObj<DynAvatarProps>;\n\nexport const Default: Story = {\n  args: {\n    alt: 'John Doe',\n    initials: 'JD',\n  },\n};\n\nexport const WithImage: Story = {\n  args: {\n    ...Default.args,\n    src: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face',\n  },\n};\n\nexport const Interactive: Story = {\n  args: {\n    initials: 'CU',\n    onClick: () => alert('Avatar clicked!'),\n  },\n};\n\nexport const Loading: Story = {\n  args: {\n    loading: true,\n  },\n};\n\nexport const AllSizes: Story = {\n  render: (args) => (\n    <div style={{ display: 'flex', gap: '1rem', alignItems: 'center' }}>\n      <DynAvatar {...args} size=\"xs\" alt=\"XS\" initials=\"XS\" />\n      <DynAvatar {...args} size=\"sm\" alt=\"SM\" initials=\"SM\" />\n      <DynAvatar {...args} size=\"md\" alt=\"MD\" initials=\"MD\" />\n      <DynAvatar {...args} size=\"lg\" alt=\"LG\" initials=\"LG\" />\n      <DynAvatar {...args} size=\"xl\" alt=\"XL\" initials=\"XL\" />\n    </div>\n  ),\n};\n\nexport const AllStatuses: Story = {\n  render: (args) => (\n    <div style={{ display: 'flex', gap: '1rem', alignItems: 'center' }}>\n      <DynAvatar {...args} status=\"online\" alt=\"Online\" initials=\"ON\" />\n      <DynAvatar {...args} status=\"away\" alt=\"Away\" initials=\"AW\" />\n      <DynAvatar {...args} status=\"busy\" alt=\"Busy\" initials=\"BU\" />\n      <DynAvatar {...args} status=\"offline\" alt=\"Offline\" initials=\"OF\" />\n    </div>\n  ),\n  args: {\n    size: 'lg',\n  },\n};\n\nexport const LoadingStates: Story = {\n  render: (args) => (\n    <div style={{ display: 'flex', gap: '1rem', alignItems: 'center' }}>\n      <DynAvatar {...args} alt=\"Loading XS\" loading size=\"xs\" />\n      <DynAvatar {...args} alt=\"Loading SM\" loading size=\"sm\" />\n      <DynAvatar {...args} alt=\"Loading MD\" loading size=\"md\" />\n      <DynAvatar {...args} alt=\"Loading LG\" loading size=\"lg\" />\n      <DynAvatar {...args} alt=\"Loading XL\" loading size=\"xl\" />\n    </div>\n  ),\n};\n\nexport const AllShapes: Story = {\n  render: (args) => (\n    <div style={{ display: 'flex', gap: '1.5rem', alignItems: 'center' }}>\n      <div style={{ textAlign: 'center' }}>\n        <DynAvatar\n          {...args}\n          shape=\"circle\"\n        />\n        <div style={{ marginTop: '0.5rem', fontSize: '12px', color: '#666' }}>circle</div>\n      </div>\n      <div style={{ textAlign: 'center' }}>\n        <DynAvatar\n          {...args}\n          shape=\"rounded\"\n        />\n        <div style={{ marginTop: '0.5rem', fontSize: '12px', color: '#666' }}>rounded</div>\n      </div>\n      <div style={{ textAlign: 'center' }}>\n        <DynAvatar\n          {...args}\n          shape=\"square\"\n        />\n        <div style={{ marginTop: '0.5rem', fontSize: '12px', color: '#666' }}>square</div>\n      </div>\n    </div>\n  ),\n  args: {\n    src: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face',\n    size: 'lg',\n  }\n};\n\nexport const WithBadge: Story = {\n  render: (args) => (\n    <div style={{ display: 'flex', gap: '2rem', alignItems: 'center' }}>\n      <div style={{ textAlign: 'center' }}>\n        <DynAvatar\n          {...args}\n          alt=\"Notifications\"\n          initials=\"JD\"\n          badge={5}\n        />\n        <div style={{ marginTop: '0.5rem', fontSize: '12px', color: '#666' }}>Simple number</div>\n      </div>\n      <div style={{ textAlign: 'center' }}>\n        <DynAvatar\n          {...args}\n          src=\"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face\"\n          alt=\"Messages\"\n          badge={{ content: '99+', color: 'danger', variant: 'solid' }}\n        />\n        <div style={{ marginTop: '0.5rem', fontSize: '12px', color: '#666' }}>Config object</div>\n      </div>\n      <div style={{ textAlign: 'center' }}>\n        <DynAvatar\n          {...args}\n          src=\"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face\"\n          alt=\"Verified\"\n          badge={<span style={{ fontSize: '10px' }}>\u2713</span>}\n        />\n        <div style={{ marginTop: '0.5rem', fontSize: '12px', color: '#666' }}>Custom element</div>\n      </div>\n    </div>\n  ),\n  args: {\n    size: 'lg',\n  }\n};\n\nexport const ErrorState: Story = {\n  render: (args) => (\n    <div style={{ display: 'flex', gap: '1.5rem', alignItems: 'center' }}>\n      <DynAvatar {...args} alt=\"Error\" error initials=\"ER\" />\n      <DynAvatar {...args} alt=\"Error Large\" error size=\"lg\" initials=\"EL\" />\n      <DynAvatar\n        {...args}\n        src=\"https://invalid-url-that-will-fail.jpg\"\n        alt=\"Failed Image\"\n        size=\"lg\"\n      />\n    </div>\n  ),\n};\n\nexport const CustomFallback: Story = {\n  render: (args) => (\n    <div style={{ display: 'flex', gap: '1.5rem', alignItems: 'center' }}>\n      <div style={{ textAlign: 'center' }}>\n        <DynAvatar\n          {...args}\n          alt=\"Custom Icon\"\n          fallback={\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n              <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z\" />\n            </svg>\n          }\n        />\n        <div style={{ marginTop: '0.5rem', fontSize: '12px', color: '#666' }}>Custom SVG</div>\n      </div>\n      <div style={{ textAlign: 'center' }}>\n        <DynAvatar\n          {...args}\n          alt=\"Emoji\"\n          fallback={<span style={{ fontSize: '24px' }}>\ud83d\udc64</span>}\n        />\n        <div style={{ marginTop: '0.5rem', fontSize: '12px', color: '#666' }}>Emoji</div>\n      </div>\n      <div style={{ textAlign: 'center' }}>\n        <DynAvatar {...args} alt=\"Children\">\n          <span style={{ fontSize: '20px', fontWeight: 'bold' }}>?</span>\n        </DynAvatar>\n        <div style={{ marginTop: '0.5rem', fontSize: '12px', color: '#666' }}>Children prop</div>\n      </div>\n    </div>\n  ),\n  args: {\n    size: 'lg',\n  }\n};\n\nexport const AvatarGroup: Story = {\n  render: (args) => (\n    <div style={{ display: 'flex', alignItems: 'center' }}>\n      <div style={{ display: 'flex' }}>\n        {[1, 2, 3, 4].map((i) => (\n          <div key={i} style={{ marginLeft: i === 1 ? 0 : '-12px' }}>\n            <DynAvatar\n              {...args}\n              src={`https://i.pravatar.cc/150?img=${i + 10}`}\n              alt={`User ${i}`}\n              style={{\n                border: '2px solid white',\n                boxShadow: '0 0 0 1px rgba(0,0,0,0.1)'\n              }}\n            />\n          </div>\n        ))}\n        <div style={{ marginLeft: '-12px' }}>\n          <DynAvatar\n            {...args}\n            alt=\"+3 more\"\n            initials=\"+3\"\n            style={{\n              border: '2px solid white',\n              boxShadow: '0 0 0 1px rgba(0,0,0,0.1)'\n            }}\n          />\n        </div>\n      </div>\n    </div>\n  ),\n};\n\n\n--- Styles (DynAvatar.module.css) ---\n/**\n * DynAvatar Component Styles\n * 100% Design Token Compliance\n */\n\n:root {\n  /* Component Tokens - Defaults */\n  --dyn-avatar-bg-val: var(--dyn-avatar-bg, var(--dyn-semantic-surface-muted, #f1f5f9));\n  --dyn-avatar-text-val: var(--dyn-avatar-text, var(--dyn-semantic-text, #1e293b));\n  --dyn-avatar-border-val: var(--dyn-avatar-border-color, var(--dyn-semantic-background, #ffffff));\n  \n  /* Shared defaults */\n  --dyn-avatar-border-width-val: var(--dyn-avatar-border-width, 2px);\n  --dyn-avatar-shadow-val: var(--dyn-avatar-shadow, 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06));\n  --dyn-avatar-transition-val: var(--dyn-avatar-transition, 200ms cubic-bezier(0.4, 0, 0.2, 1));\n  \n  /* Status Indicator Defaults */\n  --dyn-avatar-status-border-val: var(--dyn-avatar-status-border-color, var(--dyn-semantic-background, #ffffff));\n}\n\n.container {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  \n  /* Dimensions derived from size classes */\n  width: var(--dyn-avatar-size-val);\n  height: var(--dyn-avatar-size-val);\n  \n  background-color: var(--dyn-avatar-bg-val);\n  border: var(--dyn-avatar-border-width-val) solid var(--dyn-avatar-border-val);\n  border-radius: var(--dyn-avatar-radius-val);\n  \n  color: var(--dyn-avatar-text-val);\n  font-family: inherit;\n  font-size: var(--dyn-avatar-font-size-val);\n  font-weight: 600;\n  \n  user-select: none;\n  flex-shrink: 0;\n  box-shadow: var(--dyn-avatar-shadow-val);\n  transition: all var(--dyn-avatar-transition-val);\n  position: relative;\n  box-sizing: border-box;\n}\n\n/* ==========================================================================\n   CONTENT ELEMENTS\n   ========================================================================== */\n\n.content {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: inherit;\n  overflow: hidden;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.image {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.imageLoading {\n  opacity: 0;\n}\n\n.imageLoaded {\n  opacity: 1;\n}\n\n.initials {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  text-transform: uppercase;\n  letter-spacing: 0.02em;\n}\n\n/* ==========================================================================\n   SIZE VARIANTS\n   Direct mappings to external tokens or fixed fallbacks\n   ========================================================================== */\n\n.sizeXs {\n  --dyn-avatar-size-val: var(--dyn-avatar-size-xs, 1.5rem);\n  --dyn-avatar-font-size-val: var(--dyn-avatar-font-size-xs, 0.625rem);\n  --dyn-avatar-status-size-val: var(--dyn-avatar-status-size-xs, 0.5rem);\n}\n\n.sizeSm {\n  --dyn-avatar-size-val: var(--dyn-avatar-size-sm, 2rem);\n  --dyn-avatar-font-size-val: var(--dyn-avatar-font-size-sm, 0.75rem);\n  --dyn-avatar-status-size-val: var(--dyn-avatar-status-size-sm, 0.625rem);\n}\n\n.sizeMd {\n  --dyn-avatar-size-val: var(--dyn-avatar-size-md, 2.5rem);\n  --dyn-avatar-font-size-val: var(--dyn-avatar-font-size-md, 0.875rem);\n  --dyn-avatar-status-size-val: var(--dyn-avatar-status-size-md, 0.75rem);\n}\n\n.sizeLg {\n  --dyn-avatar-size-val: var(--dyn-avatar-size-lg, 3rem);\n  --dyn-avatar-font-size-val: var(--dyn-avatar-font-size-lg, 1rem);\n  --dyn-avatar-status-size-val: var(--dyn-avatar-status-size-lg, 0.875rem);\n}\n\n.sizeXl {\n  --dyn-avatar-size-val: var(--dyn-avatar-size-xl, 4rem);\n  --dyn-avatar-font-size-val: var(--dyn-avatar-font-size-xl, 1.25rem);\n  --dyn-avatar-status-size-val: var(--dyn-avatar-status-size-xl, 1rem);\n}\n\n/* ==========================================================================\n   SHAPE VARIANTS\n   ========================================================================== */\n\n.circle {\n  --dyn-avatar-radius-val: var(--dyn-avatar-radius-circle, 50%);\n}\n\n.square {\n  --dyn-avatar-radius-val: var(--dyn-avatar-radius-square, 0);\n}\n\n.rounded {\n  --dyn-avatar-radius-val: var(--dyn-avatar-radius-rounded, 0.25rem);\n}\n\n/* ==========================================================================\n   STATUS INDICATOR\n   ========================================================================== */\n\n.status {\n  position: absolute;\n  z-index: 1;\n  bottom: 0px;\n  right: 0px;\n  border-radius: 50%;\n  transform: translate(15%, 15%);\n  box-shadow: 0 0 0 2px var(--dyn-avatar-status-border-val);\n}\n\n/* ==========================================================================\n   BADGE CONTAINER\n   ========================================================================== */\n\n.badgeContainer {\n  position: absolute;\n  top: -2px;\n  right: -2px;\n  z-index: 2;\n  transform: translate(25%, -25%);\n}\n\n.customBadge {\n  box-shadow: 0 0 0 2px var(--dyn-semantic-background, #ffffff);\n}\n\n/* ==========================================================================\n   INTERACTIVE STATES\n   ========================================================================== */\n\n.clickable {\n  cursor: pointer;\n}\n\n.clickable:hover {\n  filter: brightness(1.05);\n}\n\n.clickable:active {\n  transform: translateY(0);\n}\n\n.clickable:focus-visible {\n  outline: 2px solid var(--dyn-semantic-border-focus, #3b82f6);\n  outline-offset: 2px;\n}\n\n/* ==========================================================================\n   LOADING & ERROR STATES\n   ========================================================================== */\n\n.container.loading {\n  pointer-events: none;\n}\n\n.container.loading .content {\n  opacity: 0.3;\n}\n\n.loadingOverlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: var(--dyn-avatar-bg-val);\n  opacity: 0.8;\n  z-index: 5;\n  border-radius: inherit;\n}\n\n.error {\n  border-color: var(--dyn-feedback-negative-default, #ef4444);\n}\n\n/* ==========================================================================\n   ACCESSIBILITY & UTILITIES\n   ========================================================================== */\n\n@media (prefers-reduced-motion: reduce) {\n  .clickable:hover { transform: none; }\n}\n\n@media (prefers-contrast: high) {\n  .container {\n    border-width: 3px;\n  }\n  .status {\n    box-shadow: 0 0 0 3px var(--dyn-avatar-status-border-val);\n  }\n}\n\n/* Responsive Overrides - Example */\n@media (max-width: 640px) {\n  .sizeXl {\n    /* Scale down XL on mobile */\n    --dyn-avatar-size-val: var(--dyn-avatar-size-lg, 3rem);\n    --dyn-avatar-font-size-val: var(--dyn-avatar-font-size-lg, 1rem);\n  }\n}", "metadata": {"type": "ui_component", "name": "DynAvatar", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynAvatar"}, "embedding": [0.006831910461187363, 0.07829097658395767, 0.07182703167200089, 0.029183629900217056, 0.010276509448885918, 0.05266207456588745, 0.03318188339471817, 0.14400604367256165, -0.036794357001781464, 0.02603207901120186, -0.03620799258351326, -0.0449981763958931, -0.03506186231970787, -0.003968670032918453, 0.07956717163324356, 0.027509063482284546, -0.045976947993040085, -0.0104041937738657, -0.009500714018940926, 0.02721950225532055, 0.04912856966257095, -0.0699293315410614, 0.014151917770504951, -0.019973456859588623, 0.004110575187951326, 0.01124703697860241, -0.01000488642603159, -0.007567607797682285, 0.04881326109170914, -0.07026680558919907, -0.0544736422598362, 0.05261315405368805, -0.04757019504904747, 0.008099401369690895, -0.022941727191209793, 0.12965913116931915, -0.016341598704457283, 0.04314364492893219, -0.01707756146788597, -0.03891010209918022, 0.047409623861312866, 0.1005660891532898, 0.03402728959918022, -0.05985109508037567, 0.010894346050918102, -0.00275715091265738, -0.06216192990541458, 0.05352550745010376, -0.12195662409067154, 0.005320325028151274, -0.0429268404841423, -0.029432961717247963, 0.02671862207353115, 0.018169045448303223, 0.046775683760643005, -0.011097031645476818, -6.367000605678186e-05, -0.017406893894076347, 0.0955452248454094, -0.01727217622101307, -0.03520673140883446, -0.003582337638363242, 0.08235086500644684, -0.09353930503129959, 0.016235971823334694, 0.0519854873418808, 0.026594849303364754, -0.019095366820693016, 0.016882769763469696, -0.008304622024297714, -0.02717936970293522, -0.025042599067091942, -0.01887461356818676, 0.0020175434183329344, 0.0012461304431781173, -0.1145617738366127, 0.028144970536231995, 0.059800613671541214, 0.06687688082456589, 0.006119276396930218, -0.05480899661779404, 0.028995925560593605, 0.01191224716603756, 0.04988439381122589, 0.016880905255675316, 0.11195702850818634, -0.013368536718189716, -0.06775259226560593, -0.025849943980574608, -0.023347200825810432, -0.01717705838382244, -0.05407434701919556, 0.01413768995553255, 0.07741813361644745, 0.06145980954170227, -0.06531412899494171, -0.06258589029312134, 0.027055446058511734, -0.011293673887848854, 0.016591254621744156, 0.03180379047989845, 0.009241650812327862, 0.03743016719818115, 0.044773828238248825, -0.023518238216638565, -0.02755812555551529, 0.010044329799711704, -0.06541749835014343, 0.004127649124711752, 0.006989426910877228, 0.016223857179284096, -0.02243606559932232, -0.021633416414260864, 0.028039293363690376, -0.030720015987753868, -0.01762218028306961, 0.001171814277768135, -0.07144106924533844, 0.08631634712219238, -0.018322516232728958, 0.11692824214696884, 0.0012766708387061954, 0.07342778146266937, -0.039934173226356506, 0.026137065142393112, 0.03981831669807434, 0.028305981308221817, 6.89080665923779e-33, -0.04794184863567352, 0.06229144334793091, 0.011249644681811333, 0.10423257201910019, 0.041330285370349884, -0.007694694213569164, -0.01626594364643097, -0.010997800156474113, -0.036270156502723694, -0.005417565815150738, -0.08687670528888702, 0.09270144999027252, -0.14895667135715485, 0.0806475281715393, 0.016808724030852318, -0.0074106561951339245, 0.09155508130788803, 0.013130266219377518, -0.0331728532910347, -0.06533939391374588, 0.028940223157405853, 0.02972620166838169, -0.07144035398960114, 0.06425874680280685, 0.06880451738834381, -0.01583382673561573, -0.003700948553159833, 0.08921437710523605, -0.07524783909320831, -0.054018136113882065, 0.08197425305843353, -0.0695287436246872, 0.07912559062242508, 0.04657994955778122, 0.012463640421628952, -0.07877158373594284, -0.10095309466123581, 0.02118111401796341, -0.10569437593221664, 0.024916891008615494, 0.012751640751957893, 0.00045956249232403934, -0.07217651605606079, 0.03653358668088913, -0.04999252036213875, 0.04549381136894226, 0.12351340800523758, -0.032692939043045044, 0.018729567527770996, -0.039325837045907974, -0.01777932420372963, 0.05808671936392784, 0.018290555104613304, -0.1395917385816574, -0.0038005250971764326, -0.039910249412059784, -0.02875792793929577, 0.005288540385663509, 0.038051266223192215, -0.01915738731622696, -0.06326329708099365, -0.029717562720179558, 0.07787127047777176, 0.00024623805074952543, -0.005633109249174595, -0.034512780606746674, -0.025909963995218277, -0.021051563322544098, -0.006735542323440313, -0.049298837780952454, 0.04778601601719856, 0.051036007702350616, 0.031324200332164764, 0.019188854843378067, 0.00886401068419218, 0.011487736366689205, -0.05364201217889786, 0.023477774113416672, -0.024288369342684746, -0.014966851100325584, -0.03250599652528763, 0.03201501443982124, 0.019092310220003128, 0.012495109811425209, 0.08101379871368408, -0.16579578816890717, 0.015176624990999699, 0.009541495703160763, 0.04369428753852844, -0.0006825380260124803, -0.04640737548470497, -0.036088377237319946, -0.0417138934135437, -0.03265077620744705, -0.10711047798395157, -7.050208101313108e-33, -0.051372598856687546, -0.035016100853681564, -0.0179580245167017, 0.003600361756980419, -0.014477450400590897, 0.010224375873804092, 0.040610916912555695, 0.07778764516115189, -0.003280492266640067, -0.003941510803997517, -0.041063372045755386, 0.04509637504816055, 0.028569621965289116, -0.06349842250347137, -0.02222059853374958, 0.10327699035406113, -0.04536036029458046, 0.0005093328072689474, -0.022467520087957382, -0.02490943856537342, 0.057039301842451096, 0.002183974953368306, -0.0033228087704628706, 0.0786575898528099, -0.044879086315631866, 0.0985976904630661, 0.05117632448673248, -0.0029870113357901573, -0.03131681680679321, 0.003653458086773753, -0.050110768526792526, -0.020587023347616196, -0.02112247236073017, 0.03601831942796707, -0.006285546813160181, -0.0925242230296135, -0.04504074901342392, 0.04393322393298149, -0.05913272500038147, 0.03816898539662361, -0.04023583233356476, -0.029977044090628624, -0.035199008882045746, -0.07168534398078918, -0.00040607774280942976, -0.027173912152647972, 0.06987850368022919, -0.053363386541604996, -0.015810281038284302, 0.023467564955353737, 0.05814583972096443, -0.0014754225267097354, 0.016590863466262817, 0.02350570820271969, -0.03174803778529167, -0.03376526013016701, -0.005201234947890043, 0.043264806270599365, 0.023909077048301697, 0.06835543364286423, 0.017415596172213554, -0.1867254674434662, -0.010569224134087563, -0.0029622334986925125, -0.04199659824371338, -0.04360348731279373, -0.10476596653461456, -0.04455987736582756, -0.0030306000262498856, 0.04550407454371452, 0.028594613075256348, 0.03834737464785576, 0.02856949344277382, -0.025539586320519447, -0.048624344170093536, -0.08126749843358994, 0.08411774039268494, 0.03645096719264984, 0.12970173358917236, -0.011137882247567177, -0.07640089094638824, 0.022413082420825958, 0.0758272334933281, 0.04981040954589844, 0.009043066762387753, 0.04240334779024124, 0.03520677238702774, 0.08485738933086395, 0.01666082628071308, 0.07860048860311508, -0.06406101584434509, 0.01252809539437294, -0.044521089643239975, 0.03035709820687771, -0.007106971926987171, -6.35931840520243e-08, 0.021618414670228958, -0.022616364061832428, -0.017006130889058113, -0.02830880507826805, -0.034115277230739594, -0.0911131426692009, -0.005795089993625879, -0.010527797974646091, -0.04151152819395065, 0.08571182191371918, 0.005650643724948168, 0.08312174677848816, 0.007728962227702141, -0.017377616837620735, 0.09174168109893799, -0.08140632510185242, -0.04984746128320694, 0.06930944323539734, -0.056319113820791245, -0.0431223139166832, -0.01748749054968357, -0.007951600477099419, -0.02377239428460598, 0.025375597178936005, 0.05167171731591225, -0.09931538999080658, -0.02121507190167904, -0.01832297071814537, 0.013566527515649796, 0.025539493188261986, -0.05025865510106087, 0.033467650413513184, 0.014094130136072636, -0.0934239849448204, -0.05881427228450775, -0.09749487042427063, -0.012481891550123692, -0.05165225267410278, 0.04819808900356293, 0.06028221175074577, 0.017256692051887512, -0.06711294502019882, 0.0035805851221084595, 0.02359890192747116, 0.038015320897102356, -0.0007750674267299473, -0.021357974037528038, 0.03413679823279381, 0.001363223185762763, 0.060133274644613266, 0.05396075174212456, -0.08065660297870636, -0.07320694625377655, 0.041512127965688705, 0.012081325054168701, -0.06698756664991379, -0.0011319734621793032, 0.08608461916446686, 0.044882070273160934, -0.041251350194215775, -0.013181941583752632, 0.0058097816072404385, -0.007133569568395615, -0.08994225412607193]}, {"id": "dyn_ui_component_DynBadge", "text": "# Component: DynBadge\n\n--- Types (DynBadge.types.ts) ---\nimport type { ReactNode, MouseEvent, KeyboardEvent } from 'react';\nimport type { BaseComponentProps, AccessibilityProps, SizeProps } from '../../types';\n\n/**\n * Available visual variants for the badge\n */\nexport type DynBadgeVariant = 'solid' | 'soft' | 'outline' | 'dot' | 'ghost';\n\n/**\n * Array of all available badge variants\n */\nexport const DYN_BADGE_VARIANTS: DynBadgeVariant[] = [\n  'solid',\n  'soft',\n  'outline',\n  'dot',\n  'ghost'\n];\n\n/**\n * Reference type for the badge element\n */\nexport type DynBadgeRef = HTMLSpanElement;\n\n/**\n * Available semantic colors for the badge\n */\nexport type DynBadgeSemanticColor =\n  | 'primary'\n  | 'secondary'\n  | 'success'\n  | 'danger'\n  | 'warning'\n  | 'info'\n  | 'neutral'\n  | 'online'\n  | 'offline'\n  | 'away'\n  | 'busy';\n\n/**\n * Array of all available badge colors\n */\nexport const DYN_BADGE_COLORS: DynBadgeSemanticColor[] = [\n  'primary',\n  'secondary',\n  'success',\n  'danger',\n  'warning',\n  'info',\n  'neutral',\n  'online',\n  'offline',\n  'away',\n  'busy'\n];\n\n/**\n * Available sizes for the badge\n */\nexport type DynBadgeSize = 'xs' | 'sm' | 'md' | 'lg' | 'xl';\n\n/**\n * Array of all available badge sizes\n */\nexport const DYN_BADGE_SIZES: DynBadgeSize[] = [\n  'xs',\n  'sm',\n  'md',\n  'lg',\n  'xl'\n];\n\n/**\n * Available positions for the badge relative to parent\n */\nexport type DynBadgePosition = 'topRight' | 'topLeft' | 'bottomRight' | 'bottomLeft' | 'center';\n\n/**\n * Array of all available badge positions\n */\nexport const DYN_BADGE_POSITIONS: DynBadgePosition[] = [\n  'topRight',\n  'topLeft',\n  'bottomRight',\n  'bottomLeft',\n  'center'\n];\n\n/**\n * Props for the DynBadge component\n */\nexport interface DynBadgeProps extends BaseComponentProps, AccessibilityProps, SizeProps {\n  /**\n   * Numeric value or text label to be displayed.\n   * If provided, overrides `children`.\n   */\n  count?: number | string;\n\n  /**\n   * Legacy prop for count, kept for backward compatibility.\n   * @deprecated Use `count` instead.\n   */\n  value?: number | string;\n\n  /**\n   * Visual style variant of the badge.\n   * @default 'solid'\n   */\n  variant?: DynBadgeVariant;\n\n  /**\n   * Semantic color of the badge.\n   * @default 'primary'\n   */\n  color?: DynBadgeSemanticColor;\n\n  /**\n   * Size of the badge.\n   * @default 'md'\n   */\n  size?: DynBadgeSize;\n\n  /**\n   * Maximum number to display before showing suffix (e.g. 99+).\n   * Only applies when `count` or `value` is used.\n   * @default 999\n   */\n  maxCount?: number;\n\n  /**\n   * Legacy prop for maxCount\n   * @deprecated Use `maxCount` instead.\n   */\n  max?: number;\n\n  /**\n   * Optional icon to display before the text/count.\n   */\n  icon?: ReactNode;\n\n  /**\n   * Icon to display before content\n   */\n  startIcon?: ReactNode;\n\n  /**\n   * Icon to display after content\n   */\n  endIcon?: ReactNode;\n\n  /**\n   * Whether the badge should have an entrance animation.\n   * @default false\n   */\n  animated?: boolean;\n\n  /**\n   * Whether the badge should have a pulsing animation.\n   * @default false\n   */\n  pulse?: boolean;\n\n  /**\n   * Whether the badge is in a loading state. \n   * If true, shows a pulsing effect.\n   */\n  loading?: boolean;\n\n  /**\n   * Absolute position of the badge relative to its parent container.\n   * Parent container must have `position: relative`.\n   */\n  position?: DynBadgePosition;\n\n  /**\n   * Content to display when count is 0 and showZero is false (or undefined).\n   * Usually undefined to hide the badge, or a specific fallback content.\n   */\n  fallback?: ReactNode;\n\n  /**\n   * Whether to display the badge when count is 0.\n   * @default false\n   */\n  showZero?: boolean;\n\n  /**\n   * Whether the badge is invisible but still in DOM\n   */\n  invisible?: boolean;\n\n  /**\n   * Accessible description for the count (e.g. \"unread messages\")\n   */\n  countDescription?: string;\n\n  /**\n   * Accessibility live region behavior\n   */\n  'aria-live'?: 'off' | 'assertive' | 'polite';\n\n  /**\n   * Click handler\n   */\n  onClick?: (e: MouseEvent<HTMLSpanElement>) => void;\n\n  /**\n   * Key down handler\n   */\n  onKeyDown?: (e: KeyboardEvent<HTMLSpanElement>) => void;\n}\n\n/**\n * Default props for DynBadge component\n */\nexport const DYN_BADGE_DEFAULT_PROPS: Partial<DynBadgeProps> = {\n  maxCount: 999,\n  size: 'md',\n  variant: 'solid',\n  color: 'primary',\n  invisible: false,\n  animated: false,\n  pulse: false,\n  showZero: false,\n  'aria-live': 'polite',\n  role: 'status',\n};\n\n\n--- Component (DynBadge.tsx) ---\n/**\n * DynBadge Component\n * \n * A flexible, accessible badge component for displaying counts, status indicators,\n * and notifications. Supports multiple variants (solid, soft, outline, dot),\n * sizes, colors, and positions.\n * \n * Token Compliant: \u2705 Full --dyn-badge-* pattern with 3-level fallback\n * \n * @component\n * @module DynBadge\n * @version 1.0.0\n */\n\nimport React, { forwardRef, useMemo, useCallback } from 'react';\nimport { cn } from '../../utils/classNames';\nimport { generateId } from '../../utils/accessibility';\nimport {\n  DynBadgeProps,\n  DynBadgeRef,\n  DynBadgeVariant,\n  DynBadgeSemanticColor,\n  DYN_BADGE_COLORS,\n  DYN_BADGE_SIZES,\n  DYN_BADGE_VARIANTS,\n  DYN_BADGE_DEFAULT_PROPS,\n} from './DynBadge.types';\nimport styles from './DynBadge.module.css';\n\n/**\n * DynBadge Component\n * \n * Fully accessible badge component with rich customization options.\n * Used throughout the system for counters, status indicators, and notifications.\n * \n * \u2705 Full accessibility support:\n * - Semantic HTML (span, with proper role)\n * - ARIA attributes (aria-label, aria-live for dynamic updates)\n * - Screen reader friendly text content\n * - Keyboard accessible when interactive\n * - Color contrast WCAG AA compliant\n * \n * \u2705 Token Compliant (Design System):\n * - All colors use --dyn-badge-* tokens\n * - 3-level fallback pattern for all tokens\n * - Dark mode support (@media prefers-color-scheme: dark)\n * - High contrast support (@media prefers-contrast: more)\n * - Reduced motion support (@media prefers-reduced-motion: reduce)\n * \n * \u2705 Variants:\n * - solid: Filled background (default)\n * - soft: Light background with darker text\n * - outline: Bordered with transparent background\n * - dot: Small circular indicator\n * \n * \u2705 Used in:\n * - DynAvatar: Status indicator (dot variant, positioned topRight/bottomRight)\n * - DynNotification: Badge counter\n * - DynAlert: Status indicator\n * - DynTag: Count badges\n * \n * @component\n * @param {DynBadgeProps} props - Component props\n * @param {React.ReactNode} [props.children] - Content to display in badge\n * @param {string} [props.className] - Additional CSS classes\n * @param {number | string} [props.count] - Counter value (replaces children if provided)\n * @param {number} [props.maxCount=99] - Maximum count value (shows 99+ when exceeded)\n * @param {string} [props.size=\"md\"] - Badge size: xs, sm, md, lg, xl\n * @param {DynBadgeVariant} [props.variant=\"solid\"] - Style variant: solid, soft, outline, dot\n * @param {DynBadgeSemanticColor} [props.color=\"primary\"] - Color: primary, secondary, success, danger, warning, info, neutral\n * @param {string} [props.position] - Position for overlay badges: topRight, topLeft, bottomRight, bottomLeft, center\n * @param {boolean} [props.invisible=false] - Hide badge while keeping DOM accessible\n * @param {React.SVGProps<SVGSVGElement>} [props.icon] - Optional icon element\n * @param {boolean} [props.animated=false] - Enable entrance animation\n * @param {boolean} [props.pulse=false] - Enable pulsing animation for attention\n * @param {string} [props.id] - HTML id attribute\n * @param {string} [props.aria-label] - ARIA label for badge content\n * @param {string} [props.aria-live=\"polite\"] - ARIA live region setting\n * @param {string} [props.role=\"status\"] - ARIA role\n * @param {string} [props.data-testid] - Test ID for testing\n * @param {React.ReactNode} [props.fallback] - Fallback content if no children/count\n * @param {HTMLSpanElement} ref - Forwarded ref\n * @returns {JSX.Element} Badge component\n */\nexport const DynBadge = forwardRef<DynBadgeRef, DynBadgeProps>(\n  (\n    {\n      // Content props\n      children,\n      count,\n      maxCount = DYN_BADGE_DEFAULT_PROPS.maxCount,\n      fallback = null,\n\n      // Style props\n      size = DYN_BADGE_DEFAULT_PROPS.size,\n      variant = DYN_BADGE_DEFAULT_PROPS.variant,\n      color = DYN_BADGE_DEFAULT_PROPS.color,\n      position,\n\n      // Interaction props\n      invisible = DYN_BADGE_DEFAULT_PROPS.invisible,\n      icon,\n      startIcon,\n      endIcon,\n      animated = DYN_BADGE_DEFAULT_PROPS.animated,\n      pulse = DYN_BADGE_DEFAULT_PROPS.pulse,\n      loading = false,\n      showZero = DYN_BADGE_DEFAULT_PROPS.showZero,\n      onKeyDown,\n\n      // Accessibility props\n      id,\n      'aria-label': ariaLabel,\n      'aria-live': ariaLive = DYN_BADGE_DEFAULT_PROPS['aria-live'],\n      role = DYN_BADGE_DEFAULT_PROPS.role,\n      countDescription,\n\n      // HTML props\n      className,\n      'data-testid': dataTestId,\n\n      // Legacy prop support\n      value,\n      onClick,\n      ...rest\n    },\n    ref\n  ) => {\n\n    // ====================================\n    // PHASE 0: State & Initial Identifiers\n    // ====================================\n\n    /**\n     * Generate unique implementation ID if none provided\n     * Stable across re-renders via useState\n     */\n    const generatedId = React.useId();\n    const internalId = id || generatedId;\n\n    // ====================================\n    // PHASE 1: Input Validation & Fallback\n    // ====================================\n\n    /**\n     * Handle legacy 'value' prop for backward compatibility\n     * Newer code should use 'count' prop instead\n     */\n    const normalizedCount = count ?? value;\n\n    /**\n     * Validate variant is supported\n     * Falls back to 'solid' if invalid variant provided\n     */\n    const validVariant: DynBadgeVariant = variant && DYN_BADGE_VARIANTS.includes(variant) ? variant : 'solid';\n\n    /**\n     * Validate color is supported\n     * Falls back to 'primary' if invalid color provided\n     */\n    const validColor: DynBadgeSemanticColor = color && DYN_BADGE_COLORS.includes(color) ? color : 'primary';\n\n    /**\n     * Validate size is supported\n     * Falls back to 'md' if invalid size provided\n     */\n    const validSize = size && DYN_BADGE_SIZES.includes(size) ? size : 'md';\n\n    // ====================================\n    // PHASE 2: Content Computation\n    // ====================================\n\n    /**\n     * Determine if component should act as a wrapper\n     * We act as a wrapper if children are provided AND there's badge-specific content or explicit positioning\n     */\n    const isWrapper = useMemo(() => {\n      // If no children, definitely not a wrapper\n      if (!children) return false;\n\n      // If count/value is provided, children must be the wrapped element\n      if (normalizedCount !== undefined) return true;\n\n      // If it's a dot variant with children, it's a wrapper context\n      if (validVariant === 'dot') return true;\n\n      // If children is an object (React element), we assume it's a target container\n      // If it is a string/number, we treat it as the badge's own label (standalone mode)\n      return typeof children === 'object';\n    }, [children, normalizedCount, validVariant]);\n\n    /**\n     * Compute final badge content with memoization for performance\n     * Priority: count > children (if not wrapping) > icon > fallback\n     */\n    const displayContent = useMemo(() => {\n      // Show count if provided\n      if (normalizedCount !== undefined) {\n        // Don't show if count is 0 and showZero is false\n        if (normalizedCount === 0 && !showZero) {\n          return null;\n        }\n\n        if (typeof normalizedCount === 'number' && maxCount !== undefined && normalizedCount > maxCount) {\n          return `${maxCount}+`;\n        }\n        return String(normalizedCount);\n      }\n\n      // Show children as content ONLY if we are not in wrapper mode\n      if (children && !isWrapper) {\n        return children;\n      }\n\n      // Show icon if provided and no text\n      if (icon) {\n        return icon;\n      }\n\n      // Fallback to fallback prop or empty\n      return fallback;\n    }, [normalizedCount, maxCount, children, isWrapper, icon, fallback, showZero]);\n\n    /**\n     * Determine if badge itself (the bubble) should be visible\n     */\n    const isBadgeVisible = !invisible && (displayContent !== null || validVariant === 'dot');\n\n    // ====================================\n    // PHASE 3: Accessibility Attributes\n    // ====================================\n\n    /**\n     * Generate appropriate ARIA label if not provided\n     * Describes badge content and purpose for screen readers\n     */\n    const computedAriaLabel = useMemo(() => {\n      if (ariaLabel) return ariaLabel;\n\n      // Build context-aware label\n      let label = '';\n\n      // Add status/role context\n      if (validColor === 'danger') label += 'Alert: ';\n      if (validColor === 'success') label += 'Success: ';\n      if (validColor === 'warning') label += 'Warning: ';\n      if (validColor === 'info') label += 'Information: ';\n\n      // Add content\n      if (normalizedCount !== undefined) {\n        const description = countDescription || (normalizedCount === 1 ? 'item' : 'items');\n        label += `${displayContent} ${description}`;\n      } else if (typeof displayContent === 'string') {\n        label += displayContent;\n      }\n\n      return label || undefined;\n    }, [ariaLabel, validColor, displayContent, normalizedCount, countDescription]);\n\n    // ====================================\n    // PHASE 4: Class Computation\n    // ====================================\n\n    /**\n     * Determine if a custom color (hex/rgb) is provided\n     */\n    const isCustomColor = useMemo(() => {\n      if (!color) return false;\n      return !DYN_BADGE_COLORS.includes(color as any);\n    }, [color]);\n\n    /**\n     * Compute inline styles for custom colors\n     */\n    const inlineStyles = useMemo<React.CSSProperties>(() => {\n      const styles: any = {};\n      if (isCustomColor) {\n        styles['--dyn-badge-bg'] = color;\n        styles['--dyn-badge-color'] = '#ffffff'; // Default to white text for custom badges\n        styles['--dyn-badge-border'] = color;\n      }\n      return styles;\n    }, [isCustomColor, color]);\n\n    /**\n     * Compute root element classes\n     * Combines module styles with variant, color, size, and custom classes\n     */\n    const badgeClasses = useMemo(() => {\n      // Convert variant/color/size to camelCase class names\n      const variantClass = `badge${validVariant.charAt(0).toUpperCase()}${validVariant.slice(1)}`;\n      const colorClass = `badge${validColor.charAt(0).toUpperCase()}${validColor.slice(1)}`;\n      const sizeClass = `size${validSize.charAt(0).toUpperCase()}${validSize.slice(1)}`;\n\n      // Default position to topRight if wrapping but no position specified\n      const finalPosition = position || (isWrapper ? 'topRight' : null);\n      const positionClass = finalPosition ? `badge${finalPosition.charAt(0).toUpperCase()}${finalPosition.slice(1)}` : null;\n\n      return cn(\n        styles.badge,\n\n        // Variant styles (camelCase)\n        styles[variantClass],\n\n        // Color styles (camelCase)\n        styles[colorClass],\n\n        // Size styles (camelCase)\n        styles[sizeClass],\n\n        // Position styles (camelCase)\n        positionClass && styles[positionClass],\n        (finalPosition || positionClass) && styles.badgePositioned,\n\n        // State classes (camelCase)\n        {\n          [styles.badgeInvisible]: invisible,\n          [styles.badgeAnimated]: animated,\n          [styles.badgePulse]: pulse || loading,\n          [styles.badgeClickable]: !!onClick,\n          [styles.badgeCircle]: typeof displayContent === 'string' && displayContent.length === 1,\n        },\n\n        // Custom classes\n        !isWrapper && className\n      );\n    }, [validVariant, validColor, validSize, position, isWrapper, invisible, animated, pulse, loading, onClick, className, displayContent]);\n\n    // ====================================\n    // PHASE 5: Event Handlers\n    // ====================================\n\n    const handleClick = useCallback(\n      (e: React.MouseEvent<HTMLSpanElement>) => {\n        e.stopPropagation();\n        onClick?.(e);\n      },\n      [onClick]\n    );\n\n    const handleKeyDown = useCallback(\n      (e: React.KeyboardEvent<HTMLSpanElement>) => {\n        if (onClick && (e.key === 'Enter' || e.key === ' ')) {\n          e.preventDefault();\n          handleClick(e as any);\n        }\n        onKeyDown?.(e);\n      },\n      [onClick, handleClick, onKeyDown]\n    );\n\n    // ====================================\n    // PHASE 6: Render\n    // ====================================\n\n    // The actual badge bubble element\n    const badgeElement = isBadgeVisible || invisible ? (\n      <span\n        ref={isWrapper ? undefined : ref}\n        id={isWrapper ? undefined : internalId}\n        className={badgeClasses}\n        role={onClick ? 'button' : (role || 'status')}\n        tabIndex={onClick ? 0 : undefined}\n        aria-label={computedAriaLabel}\n        aria-live={ariaLive}\n        aria-busy={loading}\n        aria-hidden={invisible ? 'true' : undefined}\n        data-testid={dataTestId || 'dyn-badge'}\n        data-variant={validVariant}\n        data-color={validColor}\n        data-size={validSize}\n        data-position={position}\n        onClick={handleClick}\n        onKeyDown={handleKeyDown}\n        key={animated ? `${internalId}-${normalizedCount ?? 'no-count'}` : undefined}\n        style={{ ...inlineStyles, ...(!isWrapper ? rest.style : {}) } as React.CSSProperties}\n        {...(!isWrapper ? rest : {})}\n      >\n        <span className={styles.badgeContent}>\n          {validVariant === 'dot' && (\n            <span className={styles.badgeDotIndicator} aria-hidden=\"true\" />\n          )}\n\n          {displayContent && (\n            <>\n              {(startIcon || (icon && !startIcon)) && (\n                <span className={styles.badgeIcon} aria-hidden=\"true\">\n                  {startIcon || icon}\n                </span>\n              )}\n\n              {typeof displayContent === 'string' ? (\n                <span className={styles.badgeText}>{displayContent}</span>\n              ) : (\n                displayContent\n              )}\n\n              {endIcon && (\n                <span className={styles.badgeIcon} aria-hidden=\"true\">\n                  {endIcon}\n                </span>\n              )}\n            </>\n          )}\n        </span>\n      </span>\n    ) : null;\n\n    // If we are in wrapper mode, return the children wrapped with the badge\n    if (isWrapper) {\n      return (\n        <span\n          ref={ref}\n          id={internalId}\n          className={cn(styles.wrapper, className)}\n          style={rest.style}\n          {...rest}\n        >\n          {children}\n          {badgeElement}\n        </span>\n      );\n    }\n\n    // Otherwise just return the badge element\n    return badgeElement;\n  }\n);\n\nDynBadge.displayName = 'DynBadge';\n\n/**\n * Export the component for use in other modules\n */\nexport default DynBadge;\n\n--- Usage Examples (DynBadge.stories.tsx) ---\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { DynIcon } from '../DynIcon';\nimport { DynBadge } from './DynBadge';\n\nconst meta: Meta<typeof DynBadge> = {\n  title: 'Components/DynBadge',\n  component: DynBadge,\n  parameters: {\n    layout: 'centered',\n    docs: {\n      description: {\n        component:\n          'DynBadge displays counts, status indicators, and semantic labels using design tokens and accessibility best practices. Follows enterprise-grade standards for consistency and maintainability.'\n      }\n    }\n  },\n  tags: ['autodocs'],\n  argTypes: {\n    children: {\n      control: 'text',\n      description: 'Badge content'\n    },\n    variant: {\n      control: 'select',\n      options: ['solid', 'soft', 'outline', 'dot'],\n      description: 'Visual variant of the badge'\n    },\n    color: {\n      control: 'select',\n      options: ['primary', 'secondary', 'success', 'warning', 'danger', 'info', 'neutral'],\n      description: 'Semantic color token'\n    },\n    size: {\n      control: 'select',\n      options: ['sm', 'md', 'lg'],\n      description: 'Badge size variant'\n    },\n    count: {\n      control: 'number',\n      description: 'Numeric value to display when using counter badges'\n    },\n    countDescription: {\n      control: 'text',\n      description: 'Accessible description announced for count badges'\n    },\n    maxCount: {\n      control: 'number',\n      description: 'Maximum value before showing the + indicator'\n    },\n    showZero: {\n      control: 'boolean',\n      description: 'Whether to display the badge when the count is 0'\n    },\n    position: {\n      control: 'select',\n      options: ['topRight', 'topLeft', 'bottomRight', 'bottomLeft', 'center'],\n      description: 'Position of the badge when used as an overlay'\n    },\n    animated: {\n      control: 'boolean',\n      description: 'Apply appear animation to the badge'\n    },\n    pulse: {\n      control: 'boolean',\n      description: 'Apply pulse animation for notifications'\n    },\n    role: {\n      control: 'text',\n      description: 'ARIA role for the badge'\n    },\n    onClick: {\n      action: 'clicked',\n      description: 'Click handler for interactive badges'\n    },\n    'aria-label': {\n      control: 'text',\n      description: 'Accessible label for screen readers'\n    },\n    startIcon: {\n      control: false,\n      description: 'Icon element to display before badge text (use WithIcons story for examples)'\n    },\n    endIcon: {\n      control: false,\n      description: 'Icon element to display after badge text (use WithIcons story for examples)'\n    },\n    icon: {\n      control: false,\n      description: 'Legacy icon prop (use startIcon instead)'\n    }\n  },\n  args: {\n    children: 'New',\n    variant: 'solid',\n    color: 'primary',\n    size: 'md',\n    maxCount: 99\n  }\n};\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\nexport const Default: Story = {\n  args: {\n    children: (\n      <div style={{\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        width: '120px',\n        height: '120px',\n        backgroundColor: 'var(--dyn-semantic-surface-muted)',\n        border: '1px dashed var(--dyn-semantic-border)',\n        borderRadius: 'var(--dyn-border-radius-md)',\n        color: 'var(--dyn-semantic-text-secondary)',\n        fontSize: '0.75rem'\n      }}>\n        Wrapped Content\n      </div>\n    ),\n    count: 5,\n    position: 'topRight',\n    variant: 'solid',\n    color: 'primary',\n  }\n};\n\nexport const Standalone: Story = {\n  args: {\n    children: 'New',\n    variant: 'solid',\n    color: 'primary',\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: 'Badge used without children to display as a standalone label.'\n      }\n    }\n  }\n};\n\nexport const Variants: Story = {\n  name: 'All Variants',\n  render: () => (\n    <div style={{ display: 'flex', gap: '0.5rem', flexDirection: 'column', alignItems: 'flex-start' }}>\n      <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap' }}>\n        <DynBadge variant=\"solid\">Solid</DynBadge>\n        <DynBadge variant=\"soft\">Soft</DynBadge>\n        <DynBadge variant=\"outline\">Outline</DynBadge>\n        <DynBadge variant=\"dot\" />\n      </div>\n    </div>\n  ),\n  parameters: {\n    docs: {\n      description: {\n        story: 'Different visual variants: solid, soft, outline, and dot.'\n      }\n    }\n  }\n};\n\nexport const Sizes: Story = {\n  name: 'Size Variants',\n  render: () => (\n    <div style={{ display: 'flex', gap: '0.5rem', alignItems: 'center' }}>\n      <DynBadge size=\"sm\">Small</DynBadge>\n      <DynBadge size=\"md\">Medium</DynBadge>\n      <DynBadge size=\"lg\">Large</DynBadge>\n    </div>\n  ),\n  parameters: {\n    docs: {\n      description: {\n        story: 'Available size variants following design token scale.'\n      }\n    }\n  }\n};\n\nexport const Colors: Story = {\n  name: 'Color Variants',\n  render: () => (\n    <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap' }}>\n      <DynBadge color=\"primary\">Primary</DynBadge>\n      <DynBadge color=\"secondary\">Secondary</DynBadge>\n      <DynBadge color=\"success\">Success</DynBadge>\n      <DynBadge color=\"warning\">Warning</DynBadge>\n      <DynBadge color=\"danger\">Danger</DynBadge>\n      <DynBadge color=\"info\">Info</DynBadge>\n      <DynBadge color=\"neutral\">Neutral</DynBadge>\n    </div>\n  ),\n  parameters: {\n    docs: {\n      description: {\n        story: 'Semantic color variants using design tokens.'\n      }\n    }\n  }\n};\n\nexport const CountBadges: Story = {\n  name: 'Count Display',\n  render: () => (\n    <div style={{ display: 'flex', gap: '1rem', alignItems: 'center' }}>\n      <DynBadge count={3} />\n      <DynBadge count={99} />\n      <DynBadge count={150} maxCount={99} />\n      <DynBadge count={0} showZero />\n    </div>\n  ),\n  parameters: {\n    docs: {\n      description: {\n        story: 'Count badges with maxCount limits and zero display options.'\n      }\n    }\n  }\n};\n\nexport const WithIcons: Story = {\n  name: 'Icon Integration',\n  render: () => (\n    <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap' }}>\n      <DynBadge startIcon={<DynIcon icon=\"star\" />}>Featured</DynBadge>\n      <DynBadge endIcon={<DynIcon icon=\"arrow-right\" />}>Next</DynBadge>\n      <DynBadge startIcon={<DynIcon icon=\"check\" />} color=\"success\">\n        Verified\n      </DynBadge>\n    </div>\n  ),\n  parameters: {\n    docs: {\n      description: {\n        story: 'Badges with start and end icons for enhanced visual communication.'\n      }\n    }\n  }\n};\n\nexport const StatusIndicators: Story = {\n  name: 'Status Overlays',\n  render: () => (\n    <div style={{ display: 'flex', gap: '2rem', alignItems: 'center', flexWrap: 'wrap' }}>\n      {/* Wrapper Pattern: Wrapping an element (e.g. Avatar/Box) */}\n      <DynBadge variant=\"dot\" color=\"success\" position=\"topRight\">\n        <div style={{ width: 64, height: 64, background: 'var(--dyn-semantic-surface-muted)', borderRadius: 8, display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n          <DynIcon icon=\"home\" size=\"lg\" />\n        </div>\n      </DynBadge>\n\n      <DynBadge count={3} color=\"danger\" position=\"topRight\" countDescription=\"Alerts\">\n        <div style={{ width: 64, height: 64, background: 'var(--dyn-semantic-surface-muted)', borderRadius: 8, display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n          <DynIcon icon=\"bar-chart\" size=\"lg\" />\n        </div>\n      </DynBadge>\n\n      <DynBadge variant=\"dot\" color=\"warning\" position=\"center\">\n        <div style={{ width: 64, height: 64, background: 'var(--dyn-semantic-surface-muted)', borderRadius: 8, display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n          <DynIcon icon=\"settings\" size=\"lg\" />\n        </div>\n      </DynBadge>\n\n      <DynBadge count=\"New\" color=\"info\" position=\"bottomRight\">\n        <div style={{ width: 100, height: 40, background: 'var(--dyn-semantic-surface-muted)', borderRadius: 4, display: 'flex', alignItems: 'center', justifyContent: 'center', fontSize: '0.875rem' }}>\n          Banner Item\n        </div>\n      </DynBadge>\n    </div>\n  ),\n  parameters: {\n    docs: {\n      description: {\n        story: 'Positioned badges using the wrapper pattern. The badge automatically anchors itself to the wrapped child element.'\n      }\n    }\n  }\n};\n\nexport const Interactive: Story = {\n  name: 'Interactive Behavior',\n  render: () => (\n    <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap' }}>\n      <DynBadge onClick={() => alert('Badge clicked!')} aria-label=\"Clickable badge\">Clickable</DynBadge>\n      <DynBadge\n        count={5}\n        onClick={() => alert('5 notifications')}\n        countDescription=\"Notifications\"\n        aria-label=\"View notifications\"\n      />\n    </div>\n  ),\n  parameters: {\n    docs: {\n      description: {\n        story: 'Interactive badges with click handlers and proper keyboard navigation support.'\n      }\n    }\n  }\n};\n\nexport const Animated: Story = {\n  name: 'Animation Effects',\n  render: (args) => (\n    <div style={{ display: 'flex', gap: '0.5rem', alignItems: 'center' }}>\n      <DynBadge {...args} animated={args.animated ?? true}>Animated</DynBadge>\n      <DynBadge {...args} pulse={args.pulse ?? true} color=\"danger\">\n        Pulsing\n      </DynBadge>\n      <DynBadge {...args} animated={args.animated ?? true} pulse={args.pulse ?? true} count={1} color=\"info\" children={null} />\n    </div>\n  ),\n  parameters: {\n    docs: {\n      description: {\n        story: 'Animation effects for attention-grabbing notifications.'\n      }\n    }\n  }\n};\n\nexport const DarkTheme: Story = {\n  name: 'Dark Theme Support',\n  parameters: {\n    backgrounds: { default: 'dark' },\n    docs: {\n      description: {\n        story: 'Badge appearance in dark theme using CSS custom properties and media queries.'\n      }\n    }\n  },\n  render: () => (\n    <div data-theme=\"dark\" style={{ padding: '2rem', background: '#1a1a1a' }}>\n      <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap' }}>\n        <DynBadge color=\"primary\">Primary</DynBadge>\n        <DynBadge variant=\"soft\" color=\"success\">\n          Soft Success\n        </DynBadge>\n        <DynBadge variant=\"outline\" color=\"warning\">\n          Outline Warning\n        </DynBadge>\n        <DynBadge variant=\"dot\" color=\"danger\" />\n        <DynBadge count={9} color=\"info\" />\n      </div>\n    </div>\n  )\n};\n\nexport const Accessibility: Story = {\n  name: 'Accessibility Features',\n  render: () => (\n    <div style={{ display: 'flex', gap: '1rem', flexDirection: 'column', alignItems: 'flex-start' }}>\n      <DynBadge\n        count={12}\n        countDescription=\"Unread messages\"\n        aria-describedby=\"message-description\"\n        aria-label=\"12 unread messages\"\n      />\n      <p id=\"message-description\" style={{ margin: 0, fontSize: '0.875rem', color: '#666' }}>\n        You have 12 unread messages in your inbox.\n      </p>\n      <DynBadge aria-label=\"Active status indicator\">Active</DynBadge>\n      <DynBadge\n        onClick={() => alert('Accessible click!')}\n        aria-label=\"Interactive badge with keyboard support\"\n        onKeyDown={(e) => console.log('Key pressed:', e.key)}\n      >\n        Keyboard Accessible\n      </DynBadge>\n    </div>\n  ),\n  parameters: {\n    docs: {\n      description: {\n        story: 'Comprehensive accessibility features including ARIA attributes, screen reader announcements, and keyboard navigation.'\n      }\n    }\n  }\n};\n\nexport const Playground: Story = {\n  name: 'Interactive Playground',\n  args: {\n    count: 8,\n    countDescription: 'Notifications',\n    animated: true\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: 'Interactive playground to experiment with different badge configurations.'\n      }\n    }\n  }\n};\n\n--- Styles (DynBadge.module.css) ---\n/**\n * DynBadge Component Styles\n * 100% Design Token Compliance\n * Unified Token Strategy: 3-Level Fallback Pattern\n */\n\n:root {\n  /* Color tokens */\n  --dyn-badge-bg: var(--dyn-badge-color-neutral-background, var(--dyn-neutral-light-100, #f5f5f5));\n  --dyn-badge-color: var(--dyn-badge-color-neutral-text, var(--dyn-semantic-text, #1e293b));\n  --dyn-badge-border: transparent;\n  --dyn-badge-radius: var(--dyn-badge-spacing-borderRadius, var(--dyn-border-radius-full, 9999px));\n  --dyn-badge-font-size: var(--dyn-badge-size-fontSize, var(--dyn-font-size-xs, 0.75rem));\n  --dyn-badge-font-weight: var(--dyn-badge-size-fontWeight, var(--dyn-font-weight-semibold, 600));\n  --dyn-badge-padding-y: var(--dyn-spacing-2xs, 0.125rem);\n  --dyn-badge-padding-x: var(--dyn-badge-spacing-padding, var(--dyn-spacing-xs, 0.25rem));\n  --dyn-badge-gap: var(--dyn-spacing-2xs, 0.125rem);\n  \n  /* Animation Tokens */\n  --dyn-badge-transition: var(--dyn-badge-animation-transition-duration, var(--dyn-duration-fast, 150ms)) var(--dyn-badge-animation-transition-timing-function, var(--dyn-easing-ease-in-out, ease-in-out));\n  --dyn-badge-duration-slow: var(--dyn-duration-slow, 300ms);\n  --dyn-badge-duration-pulse: var(--dyn-duration-slowest, 2s);\n  --dyn-badge-easing: var(--dyn-easing-ease-in-out, ease-in-out);\n\n  /* Dot sizing */\n  --dyn-badge-dot-size: var(--dyn-badge-variant-dot-size, 0.75rem);\n\n  /* Position transform variable to prevent animation conflicts */\n  --dyn-badge-pos-transform: translate(0, 0);\n}\n\n.badge {\n  /* ==========================================================================\n     BASE STYLES\n     ========================================================================== */\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  gap: var(--dyn-badge-gap);\n  padding: var(--dyn-badge-padding-y) var(--dyn-badge-padding-x);\n  font-size: var(--dyn-badge-font-size);\n  font-weight: var(--dyn-badge-font-weight);\n  line-height: var(--dyn-badge-typography-lineHeight, 1);\n  border-radius: var(--dyn-badge-radius);\n  border: var(--dyn-border-width-sm, 1px) solid var(--dyn-badge-border);\n  background-color: var(--dyn-badge-bg);\n  color: var(--dyn-badge-color);\n  white-space: nowrap;\n  transition: background-color var(--dyn-badge-transition), color var(--dyn-badge-transition), border-color var(--dyn-badge-transition), opacity var(--dyn-badge-transition);\n  cursor: default;\n  /* Ensure circle for single digits */\n  min-width: var(--dyn-badge-font-size);\n  min-height: var(--dyn-badge-font-size);\n}\n\n\n/* ==========================================================================\n   CONTEXT VARIANTS (Color Schemes)\n   ========================================================================== */\n\n.badgePrimary {\n  --dyn-badge-bg: var(--dyn-badge-color-primary-background, var(--dyn-theme-primary, #3b82f6));\n  --dyn-badge-color: var(--dyn-badge-color-primary-text, var(--dyn-semantic-text-inverse, #ffffff));\n}\n\n.badgeSecondary {\n  --dyn-badge-bg: var(--dyn-badge-color-secondary-background, var(--dyn-theme-secondary, #6b7280));\n  --dyn-badge-color: var(--dyn-badge-color-secondary-text, var(--dyn-semantic-text-inverse, #ffffff));\n}\n\n.badgeSuccess {\n  --dyn-badge-bg: var(--dyn-badge-color-success-background, var(--dyn-feedback-positive, #22c55e));\n  --dyn-badge-color: var(--dyn-badge-color-success-text, var(--dyn-semantic-text-inverse, #ffffff));\n}\n\n.badgeDanger {\n  --dyn-badge-bg: var(--dyn-badge-color-danger-background, var(--dyn-feedback-negative-default, #ef4444));\n  --dyn-badge-color: var(--dyn-badge-color-danger-text, var(--dyn-semantic-text-inverse, #ffffff));\n}\n\n.badgeWarning {\n  --dyn-badge-bg: var(--dyn-badge-color-warning-background, var(--dyn-feedback-warning, #f59e0b));\n  --dyn-badge-color: var(--dyn-badge-color-warning-text, var(--dyn-semantic-text, #111827));\n}\n\n.badgeInfo {\n  --dyn-badge-bg: var(--dyn-badge-color-info-background, var(--dyn-feedback-info, #0ea5e9));\n  --dyn-badge-color: var(--dyn-badge-color-info-text, var(--dyn-semantic-text-inverse, #ffffff));\n}\n\n.badgeNeutral {\n  --dyn-badge-bg: var(--dyn-badge-color-neutral-background, var(--dyn-neutral-light-100, #f3f4f6));\n  --dyn-badge-color: var(--dyn-badge-color-neutral-text, var(--dyn-semantic-text, #374151));\n}\n\n/* Status variants */\n.badgeOnline {\n  --dyn-badge-bg: var(--dyn-badge-status-online-background, var(--dyn-feedback-positive, #22c55e));\n}\n\n.badgeOffline {\n  --dyn-badge-bg: var(--dyn-badge-status-offline-background, var(--dyn-theme-secondary, #6b7280));\n}\n\n.badgeAway {\n  --dyn-badge-bg: var(--dyn-badge-status-away-background, var(--dyn-feedback-warning, #f59e0b));\n}\n\n.badgeBusy {\n  --dyn-badge-bg: var(--dyn-badge-status-busy-background, var(--dyn-feedback-negative-default, #ef4444));\n}\n\n/* ==========================================================================\n   STYLE VARIANTS\n   ========================================================================== */\n\n.badgeSolid {\n  color: inherit;\n}\n\n.badgeSoft {\n  background-color: color-mix(in srgb, var(--dyn-badge-bg) calc(var(--dyn-badge-variant-soft-opacity, 0.2) * 100%), transparent);\n  color: var(--dyn-badge-bg);\n  border-color: transparent;\n}\n\n.badgeOutline {\n  background-color: transparent;\n  border-color: var(--dyn-badge-bg);\n  color: var(--dyn-badge-bg);\n  border-width: var(--dyn-badge-variant-outline-borderWidth, 1px);\n}\n\n.badgeDot {\n  padding: 0;\n  border-radius: var(--dyn-badge-spacing-dotRadius, 50%);\n  min-width: unset;\n  border-color: transparent;\n  background-color: transparent;\n  --dyn-badge-color: var(--dyn-semantic-text);\n  gap: var(--dyn-spacing-sm, 0.5rem);\n}\n\n.badgeDotIndicator {\n  display: block;\n  width: var(--dyn-badge-dot-size);\n  height: var(--dyn-badge-dot-size);\n  background-color: var(--dyn-badge-bg);\n  border-radius: 50%;\n  flex-shrink: 0;\n}\n\n/* ==========================================================================\n   SIZE VARIANTS\n   ========================================================================== */\n\n.sizeXs {\n  --dyn-badge-font-size: var(--dyn-badge-size-xs-fontSize, 0.625rem);\n  --dyn-badge-padding-y: var(--dyn-badge-size-xs-paddingY, 0.0625rem);\n  --dyn-badge-padding-x: var(--dyn-badge-size-xs-paddingX, 0.25rem);\n  --dyn-badge-dot-size: var(--dyn-badge-size-xs-dotSize, 0.375rem);\n}\n\n.sizeSm {\n  --dyn-badge-font-size: var(--dyn-badge-size-sm-fontSize, 0.6875rem);\n  --dyn-badge-padding-x: var(--dyn-badge-size-sm-paddingX, 0.25rem);\n  --dyn-badge-dot-size: var(--dyn-badge-size-sm-dotSize, 0.5rem);\n}\n\n.sizeMd {\n  /* Medium uses default values - explicitly set for clarity */\n  --dyn-badge-font-size: var(--dyn-badge-size-md-fontSize, 0.75rem);\n  --dyn-badge-padding-y: var(--dyn-badge-size-md-paddingY, 0.125rem);\n  --dyn-badge-padding-x: var(--dyn-badge-size-md-paddingX, 0.5rem);\n  --dyn-badge-dot-size: var(--dyn-badge-size-md-dotSize, 0.625rem);\n}\n\n.sizeLg {\n  --dyn-badge-font-size: var(--dyn-badge-size-lg-fontSize, 0.875rem);\n  --dyn-badge-padding-y: var(--dyn-badge-size-lg-paddingY, 0.25rem);\n  --dyn-badge-padding-x: var(--dyn-badge-size-lg-paddingX, 0.75rem);\n  --dyn-badge-dot-size: var(--dyn-badge-size-lg-dotSize, 0.75rem);\n}\n\n.sizeXl {\n  --dyn-badge-font-size: var(--dyn-badge-size-xl-fontSize, 1rem);\n  --dyn-badge-padding-y: var(--dyn-badge-size-xl-paddingY, 0.375rem);\n  --dyn-badge-padding-x: var(--dyn-badge-size-xl-paddingX, 1rem);\n  --dyn-badge-dot-size: var(--dyn-badge-size-xl-dotSize, 1rem);\n}\n\n/* ==========================================================================\n   POSITIONED VARIANTS\n   ========================================================================== */\n\n.badgePositioned {\n  position: absolute;\n  z-index: var(--dyn-z-index-dropdown, 1000);\n}\n\n.badgeTopRight {\n  top: 0;\n  right: 0;\n  --dyn-badge-pos-transform: translate(50%, -50%);\n  transform: var(--dyn-badge-pos-transform);\n}\n\n.badgeTopLeft {\n  top: 0;\n  left: 0;\n  --dyn-badge-pos-transform: translate(-50%, -50%);\n  transform: var(--dyn-badge-pos-transform);\n}\n\n.badgeBottomRight {\n  bottom: 0;\n  right: 0;\n  --dyn-badge-pos-transform: translate(50%, 50%);\n  transform: var(--dyn-badge-pos-transform);\n}\n\n.badgeBottomLeft {\n  bottom: 0;\n  left: 0;\n  --dyn-badge-pos-transform: translate(-50%, 50%);\n  transform: var(--dyn-badge-pos-transform);\n}\n\n.badgeCenter {\n  top: 50%;\n  left: 50%;\n  --dyn-badge-pos-transform: translate(-50%, -50%);\n  transform: var(--dyn-badge-pos-transform);\n}\n\n/* ==========================================================================\n   ANIMATIONS & UTILITIES\n   ========================================================================== */\n\n.badgeInvisible {\n  opacity: 0;\n  pointer-events: none;\n}\n\n.badgeAnimated {\n  animation-name: dynBadgeEnter !important;\n  animation-duration: var(--dyn-badge-duration-slow) !important;\n  animation-timing-function: var(--dyn-badge-easing) !important;\n  animation-fill-mode: forwards !important;\n  will-change: transform, opacity;\n  transition: none !important; /* Prevent fighting with animation */\n}\n\n@keyframes dynBadgeEnter {\n  0% {\n    opacity: 0;\n    transform: var(--dyn-badge-pos-transform) scale(0.5);\n  }\n\n  100% {\n    opacity: 1;\n    transform: var(--dyn-badge-pos-transform) scale(1);\n  }\n}\n\n.badgePulse {\n  animation-name: dynBadgePulse !important;\n  animation-duration: var(--dyn-badge-duration-pulse) !important;\n  animation-timing-function: var(--dyn-badge-easing) !important;\n  animation-iteration-count: infinite !important;\n  will-change: opacity, transform, box-shadow;\n  transition: none !important; /* Prevent fighting with animation */\n}\n\n@keyframes dynBadgePulse {\n  0% {\n    box-shadow: 0 0 0 0 color-mix(in srgb, var(--dyn-badge-bg) 60%, transparent);\n    transform: var(--dyn-badge-pos-transform) scale(1);\n  }\n\n  50% {\n    box-shadow: 0 0 0 12px transparent;\n    transform: var(--dyn-badge-pos-transform) scale(1.15);\n  }\n\n  100% {\n    box-shadow: 0 0 0 0 transparent;\n    transform: var(--dyn-badge-pos-transform) scale(1);\n  }\n}\n\n.badgeClickable {\n  cursor: pointer;\n  pointer-events: auto;\n  user-select: none;\n}\n\n.badgeClickable:hover {\n  filter: brightness(1.1);\n  transform: var(--dyn-badge-pos-transform) translateY(-1px);\n}\n\n.badgeClickable:active {\n  transform: var(--dyn-badge-pos-transform) translateY(0) scale(0.95);\n  filter: brightness(0.9);\n}\n\n/* CONTENT ELEMENTS */\n\n.badgeContent {\n  display: inline-flex;\n  align-items: center;\n  gap: var(--dyn-badge-gap);\n}\n\n.badgeIcon {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n  width: var(--dyn-badge-icon-size, 1em);\n  height: var(--dyn-badge-icon-size, 1em);\n}\n\n/* Force children (like DynIcon/SVG) to fit the container */\n.badgeIcon > * {\n  width: 100% !important;\n  height: 100% !important;\n  min-width: 0 !important;\n  min-height: 0 !important;\n  font-size: 1em !important;\n}\n\n.badgeIcon svg {\n  width: 100%;\n  height: 100%;\n}\n\n\n@media (prefers-contrast: high) {\n  .badge {\n    border-width: var(--dyn-border-width-md, 2px);\n  }\n\n  .badgeOutline {\n    border-width: var(--dyn-border-width-lg, 3px);\n  }\n}\n\n.badgeClickable:focus-visible {\n  outline: var(--dyn-border-width-md, 0.125rem) solid var(--dyn-semantic-border-focus);\n  outline-offset: var(--dyn-spacing-2xs, 0.125rem);\n}\n\n.badgeCircle {\n  padding: 0;\n  width: calc(var(--dyn-badge-font-size) + var(--dyn-badge-padding-x) * 2);\n  height: calc(var(--dyn-badge-font-size) + var(--dyn-badge-padding-x) * 2);\n  border-radius: 50%;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  padding-left: 0 !important;\n  padding-right: 0 !important;\n  min-width: unset;\n  aspect-ratio: 1/1;\n}\n\n.wrapper {\n  position: relative;\n  display: inline-flex;\n  vertical-align: middle;\n}\n", "metadata": {"type": "ui_component", "name": "DynBadge", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynBadge"}, "embedding": [-0.007010987494140863, 0.026744091883301735, 0.04028625413775444, 0.05210532620549202, 0.027719255536794662, 0.10161394625902176, 0.06903160363435745, 0.037900008261203766, -0.03930133581161499, -0.02343762293457985, -0.07700295001268387, -0.01751905493438244, -0.014840071089565754, 0.02664116956293583, 0.031232330948114395, 0.055794861167669296, -0.07445339113473892, -0.014578593894839287, -0.007918349467217922, -0.004640342202037573, 0.024639399722218513, -0.08430732786655426, -0.008481393568217754, -0.0007557177450507879, -0.009056426584720612, 0.038955360651016235, 0.031955767422914505, -0.008900757879018784, 0.061590176075696945, 0.0018179742619395256, -0.017310498282313347, 0.039318691939115524, -0.04324018582701683, 0.01780654676258564, -0.07635989785194397, 0.050676457583904266, -0.02179269678890705, 0.06158635765314102, -0.012225891463458538, 0.01670761965215206, 0.04069387912750244, 0.05643035098910332, -0.000709161045961082, 0.02265692874789238, 0.04385390132665634, -0.00017386516265105456, -0.04604960232973099, 0.015430155210196972, -0.1015976071357727, -0.007488621864467859, -0.003962628077715635, -0.02757515199482441, 0.012093791738152504, -0.032686471939086914, 0.05278478562831879, -0.0002178853319492191, 0.012259474955499172, -0.008593152277171612, 0.025876520201563835, 0.014876141212880611, 0.010930129326879978, -0.0076432665809988976, 0.05971614271402359, -0.0751529112458229, -0.01565353386104107, 0.08496203273534775, -0.032912638038396835, 0.016084495931863785, 0.04333962872624397, -0.05145729333162308, -0.00727126793935895, -0.00628576148301363, 0.05270631983876228, -0.00419082585722208, -0.0065777976997196674, -0.07724077254533768, 0.007448576390743256, 0.01135582011193037, 0.032140281051397324, -0.07349785417318344, -0.06565319746732712, 0.015262026339769363, -0.03988765552639961, 0.08640830963850021, 0.11312372237443924, 0.11492899805307388, -0.04558013379573822, -0.04178434982895851, -0.05733831226825714, 0.02166036143898964, -0.021356629207730293, -0.09149088710546494, -0.02613721787929535, 0.0740397498011589, -0.04376981034874916, 0.034729085862636566, -0.008949389681220055, 0.030874604359269142, -0.00503257242962718, 0.02218043804168701, 0.016255687922239304, -0.007674380671232939, -0.017031947150826454, -0.0002830939192790538, -0.032693784683942795, -0.04733341187238693, 0.013321036472916603, -0.08037858456373215, -0.05048404633998871, -0.018669404089450836, -0.000930342823266983, 0.040249284356832504, -0.015436599962413311, -0.01690363697707653, -0.08018467575311661, 0.014119979925453663, -0.07616285979747772, -0.009685157798230648, 0.10143808275461197, 0.04945960268378258, 0.082000233232975, -0.04032151401042938, 0.03548021987080574, 0.019482223317027092, -0.0028838340658694506, 0.011810027994215488, 0.02518969401717186, 4.422289093662126e-33, 0.0012452355585992336, 0.03235012665390968, -0.024356242269277573, 0.07838977873325348, 0.043084628880023956, -0.009655436500906944, 0.018142729997634888, -0.11854533851146698, -0.08279124647378922, 0.008902276866137981, 0.00760639738291502, 0.056217074394226074, -0.10498129576444626, 0.0175956841558218, 0.004783474840223789, -0.04272591322660446, 0.04076649248600006, -0.03761603683233261, -0.019674336537718773, -0.0030333870090544224, 0.012048847042024136, 0.07135828584432602, -0.11490599811077118, 0.050387904047966, 0.06150481477379799, 0.013169916346669197, 0.016100335866212845, 0.15658439695835114, -0.023113420233130455, -0.02157704159617424, 0.049928028136491776, -0.039229005575180054, 0.0757572278380394, 0.04558546096086502, -0.05101155862212181, -0.08280772715806961, -0.07228811830282211, -0.029197994619607925, -0.031602490693330765, -0.028478937223553658, 0.02184893935918808, 0.010255000554025173, -0.08123178035020828, 0.037358131259679794, -0.017562849447131157, 0.10051225870847702, 0.12492833286523819, -0.021776484325528145, 0.06692731380462646, -0.059572093188762665, -0.03474310040473938, 0.06126532703638077, 0.0758545994758606, -0.09585262089967728, 0.011063636280596256, -0.017405463382601738, 0.001340212649665773, 0.050193462520837784, 0.07176536321640015, -0.032570455223321915, -0.00859571248292923, 0.03802110627293587, 0.08067838847637177, -0.07133478671312332, 0.01591692864894867, 0.03232337534427643, -0.05376619100570679, -0.012072332203388214, -0.014960713684558868, -0.1003345400094986, 0.06525161862373352, 0.040121279656887054, -0.03630700707435608, -0.03597952052950859, 0.04852569103240967, 0.023517107591032982, 0.0055312528274953365, 0.03356548398733139, -0.01631936803460121, -0.1210145428776741, -0.1286633163690567, 0.02210569940507412, -0.028933746740221977, 0.05818198621273041, 0.0950814038515091, -0.002059763064607978, -0.021680645644664764, -0.020499639213085175, -0.034421321004629135, 0.006066756322979927, -0.04449501633644104, -0.02055790089070797, -0.023911328986287117, -0.05667979270219803, -0.09747088700532913, -5.6769581318000795e-33, -0.08814096450805664, 0.013969947583973408, -0.026005255058407784, -0.024130482226610184, 0.006042002700269222, -0.030353330075740814, -0.0470048263669014, 0.0693308636546135, 0.05391380935907364, 0.07352777570486069, 0.027450302615761757, 0.046760864555835724, -0.06103689596056938, -0.001802682876586914, -0.08607279509305954, 0.08103268593549728, -0.05353265628218651, 0.1324464976787567, -0.006409528199583292, -0.021459538489580154, 0.015272216871380806, 0.06334885209798813, -0.041615959256887436, 0.04940798133611679, -0.12621288001537323, 0.10909373313188553, 0.03508210554718971, 0.029839273542165756, -0.0024812566116452217, -0.06510641425848007, 0.0516824796795845, -0.0021212638821452856, -0.045654792338609695, 0.07234305143356323, -0.019969305023550987, -0.10039860755205154, 0.008707416243851185, -0.07021822035312653, -0.07878047972917557, 0.0815635547041893, -0.036423563957214355, -0.025581231340765953, -0.00028649513842538, -0.012923533096909523, -0.004226794932037592, -0.009932231158018112, 0.02115492895245552, -0.008675452321767807, 0.0017194338142871857, 0.021535998210310936, 0.060373883694410324, -0.03952955827116966, -0.025753580033779144, 0.03539949655532837, -0.1022496223449707, -0.009595698677003384, -0.0012185722589492798, 0.014016304165124893, 0.02733369544148445, 0.05438227206468582, 0.01725788041949272, -0.09124968945980072, -0.061590440571308136, 0.004964664112776518, -0.028896285220980644, -0.10694082826375961, -0.0911155566573143, 0.049566127359867096, 0.020394373685121536, 0.04417465627193451, 0.005491579417139292, 0.11943525820970535, -0.021902816370129585, -0.03592921420931816, 0.04742671921849251, -0.053942613303661346, 0.04937601462006569, 0.033916573971509933, 0.07929927855730057, 0.0225264523178339, -0.06231313571333885, 0.04224579036235809, 0.029974879696965218, 0.044751446694135666, 0.005546495318412781, 0.02281210944056511, -0.008929642848670483, 0.08051367849111557, 0.05011441931128502, -0.020830050110816956, 0.009860196150839329, 0.02484256774187088, 0.005251254886388779, 0.005677056964486837, -0.040313225239515305, -5.815772041728451e-08, 0.013530704192817211, -0.017566082999110222, -0.05403757840394974, -0.08697723597288132, -0.03234808146953583, -0.08093014359474182, -0.021388787776231766, -0.07995215058326721, -0.03315253183245659, 0.037935301661491394, -2.9768121748929843e-05, 0.034223269671201706, -0.054988011717796326, -0.07954283803701401, 0.045696765184402466, -0.016325386241078377, -0.08068736642599106, 0.05265302583575249, -0.03264641761779785, 0.020205439999699593, 0.1079844981431961, -0.03973759710788727, -0.02545645833015442, 0.05868024006485939, 0.04961144179105759, -0.09788412600755692, 0.00273347576148808, -0.05260991305112839, 0.025242356583476067, 0.012086532078683376, -0.028254205361008644, 0.04065854474902153, 0.05852912366390228, -0.05799676850438118, -0.009687057696282864, -0.0028420097660273314, -0.015303646214306355, -0.0631965771317482, 0.05604349821805954, 0.128956601023674, 0.012659593485295773, -0.11346232146024704, -0.028375867754220963, 0.05667293816804886, -0.02813136577606201, -0.025453688576817513, -0.06070833280682564, 0.0034491191618144512, 0.018778368830680847, 0.03187692165374756, 0.005811528768390417, -0.06318803131580353, -0.08437272906303406, 0.019799796864390373, -0.04868543893098831, -0.04319050908088684, -0.05943215638399124, 0.0825561136007309, 0.04521384462714195, -0.04648946225643158, 0.035809341818094254, -0.0129226790741086, 0.001186524285003543, -0.039407361298799515]}, {"id": "dyn_ui_component_DynBox", "text": "# Component: DynBox\n\n--- Types (DynBox.types.ts) ---\nimport type {\n  ComponentPropsWithoutRef,\n  ComponentRef,\n  ElementType,\n  KeyboardEventHandler,\n  MouseEventHandler,\n} from 'react';\nimport type { AccessibilityProps, BaseComponentProps } from '../../types/theme';\n\nexport type BoxDisplay =\n  | 'block'\n  | 'inline'\n  | 'inline-block'\n  | 'flex'\n  | 'inline-flex'\n  | 'grid'\n  | 'inline-grid'\n  | 'none';\n\nexport type BoxPosition = 'static' | 'relative' | 'absolute' | 'fixed' | 'sticky';\nexport type SpacingSize = 'none' | '0' | '2xs' | 'xs' | 'sm' | 'md' | 'lg' | 'xl' | '2xl' | '3xl' | '4xl' | 'auto';\n\nexport type BackgroundVariant =\n  | 'surface'\n  | 'primary'\n  | 'secondary'\n  | 'tertiary'\n  | 'success'\n  | 'success-surface'\n  | 'warning'\n  | 'warning-surface'\n  | 'danger'\n  | 'danger-surface'\n  | 'info'\n  | 'info-surface'\n  | 'none'\n  | string;\nexport type BorderRadius = 'none' | 'xs' | 'sm' | 'md' | 'lg' | 'xl' | 'full' | string;\nexport type BorderVariant =\n  | 'none'\n  | 'default'\n  | 'subtle'\n  | 'strong'\n  | 'danger'\n  | 'danger-border'\n  | 'success'\n  | 'success-border'\n  | 'warning'\n  | 'warning-border'\n  | 'info'\n  | 'info-border'\n  | string;\n\nexport type ColorVariant =\n  | 'primary'\n  | 'secondary'\n  | 'tertiary'\n  | 'danger'\n  | 'danger-text'\n  | 'success'\n  | 'success-text'\n  | 'warning'\n  | 'warning-text'\n  | 'info'\n  | 'info-text'\n  | string;\nexport type Shadow = 'none' | 'sm' | 'md' | 'lg' | string;\nexport type TextAlign = 'left' | 'center' | 'right' | 'justify';\nexport type Overflow = 'visible' | 'hidden' | 'auto' | 'scroll';\n\nexport type FlexDirection = 'row' | 'row-reverse' | 'column' | 'column-reverse';\nexport type FlexWrap = 'nowrap' | 'wrap' | 'wrap-reverse';\nexport type JustifyContent =\n  | 'flex-start'\n  | 'flex-end'\n  | 'center'\n  | 'space-between'\n  | 'space-around'\n  | 'space-evenly';\nexport type AlignItems = 'stretch' | 'flex-start' | 'flex-end' | 'center' | 'baseline';\nexport type AlignContent = 'stretch' | 'flex-start' | 'flex-end' | 'center' | 'space-between' | 'space-around';\n\nexport interface ResponsiveVisibilityProps {\n  hideOnMobile?: boolean;\n  hideOnTablet?: boolean;\n  hideOnDesktop?: boolean;\n  mobileOnly?: boolean;\n  tabletOnly?: boolean;\n  desktopOnly?: boolean;\n}\n\ntype PolymorphicComponentProps<E extends ElementType, P> = P &\n  Omit<ComponentPropsWithoutRef<E>, keyof P>;\n\nexport type DynColSpan =\n  | 'full'\n  | 'half'\n  | 'third'\n  | 'quarter'\n  | 'auto'\n  | number;\n\nexport type ResponsiveColSpan = {\n  mobile?: DynColSpan;\n  tablet?: DynColSpan;\n  desktop?: DynColSpan;\n};\n\nexport interface DynBoxOwnProps\n  extends BaseComponentProps,\n  AccessibilityProps,\n  ResponsiveVisibilityProps {\n  display?: BoxDisplay;\n  position?: BoxPosition;\n\n  // Primary spacing API\n  padding?: SpacingSize;\n  p?: SpacingSize; // alias for padding\n  px?: SpacingSize;\n  py?: SpacingSize;\n  pt?: SpacingSize;\n  pr?: SpacingSize;\n  pb?: SpacingSize;\n  pl?: SpacingSize;\n\n  m?: SpacingSize;\n  mx?: SpacingSize;\n  my?: SpacingSize;\n  mt?: SpacingSize;\n  mr?: SpacingSize;\n  mb?: SpacingSize;\n  ml?: SpacingSize;\n\n  width?: string | number;\n  height?: string | number;\n  minWidth?: string | number;\n  minHeight?: string | number;\n  maxWidth?: string | number;\n  maxHeight?: string | number;\n\n  // Color API\n  background?: BackgroundVariant;\n  bg?: BackgroundVariant; // alias for background\n  backgroundColor?: string;\n  color?: ColorVariant;\n\n  // Border API\n  border?: BorderVariant;\n  borderTop?: boolean;\n  borderRight?: boolean;\n  borderBottom?: boolean;\n  borderLeft?: boolean;\n  radius?: BorderRadius;\n  borderRadius?: BorderRadius; // alias for radius\n  customBorderRadius?: string;\n\n  // Effects\n  shadow?: Shadow;\n\n  textAlign?: TextAlign;\n\n  // Overflow\n  overflow?: Overflow;\n  overflowX?: Overflow;\n  overflowY?: Overflow;\n\n\n\n  // Flex/Grid\n  direction?: FlexDirection;\n  flexDirection?: FlexDirection; // alias for direction\n  wrap?: FlexWrap;\n  justify?: JustifyContent;\n  align?: AlignItems;\n  alignContent?: AlignContent;\n  gap?: SpacingSize;\n  rowGap?: SpacingSize;\n  columnGap?: SpacingSize;\n\n  gridTemplateColumns?: string;\n  gridTemplateRows?: string;\n  gridTemplateAreas?: string;\n\n  /**\n   * Grid item column span\n   */\n  colSpan?: DynColSpan | ResponsiveColSpan;\n  /**\n   * Grid item row span\n   */\n  rowSpan?: number;\n  /**\n   * Grid item column start line\n   */\n  colStart?: number | string;\n  /**\n   * Grid item row start line\n   */\n  rowStart?: number | string;\n\n  // Positioning\n  top?: string | number;\n  right?: string | number;\n  bottom?: string | number;\n  left?: string | number;\n  zIndex?: number;\n\n  interactive?: boolean;\n\n  cssVars?: Record<string, string | number>;\n\n  ariaLiveMessage?: string;\n  ariaLivePoliteness?: 'polite' | 'assertive' | 'off';\n\n  focusOnMount?: boolean;\n}\n\nexport type DynBoxProps<E extends ElementType = 'div'> = PolymorphicComponentProps<\n  E,\n  DynBoxOwnProps\n> & {\n  as?: E;\n  onClick?: MouseEventHandler<any>;\n  onKeyDown?: KeyboardEventHandler<any>;\n};\n\nexport type DynBoxRef<E extends ElementType = 'div'> = ComponentRef<E>;\n\nexport interface DynBoxDefaultProps {\n  'data-testid': string;\n}\n\nexport const DYN_BOX_DEFAULT_PROPS: DynBoxDefaultProps = {\n  'data-testid': 'dyn-box',\n};\n\n\n--- Component (DynBox.tsx) ---\nimport React, { forwardRef, useMemo, useId } from 'react';\nimport { cn } from '../../utils/classNames';\nimport type { DynBoxProps, DynBoxRef } from './DynBox.types';\nimport styles from './DynBox.module.css';\n\n\n// Props to filter out before spreading to the DOM element\nconst FILTERED_PROPS = new Set([\n  'as', 'padding', 'p', 'px', 'py', 'pt', 'pr', 'pb', 'pl', 'm', 'mx', 'my', 'mt', 'mr', 'mb', 'ml',\n  'radius', 'borderRadius', 'customBorderRadius', 'shadow', 'border', 'background', 'bg', 'backgroundColor', 'color',\n  'align', 'justify', 'direction', 'flexDirection', 'wrap', 'gap', 'rowGap', 'columnGap',\n  'gridTemplateColumns', 'gridTemplateRows', 'gridTemplateAreas', 'top', 'right', 'bottom', 'left', 'zIndex',\n  'interactive', 'cssVars', 'ariaLiveMessage', 'ariaLivePoliteness', 'focusOnMount', 'display', 'position', 'textAlign', 'overflow', 'overflowX', 'overflowY',\n  'alignContent', 'width', 'height', 'minWidth', 'minHeight', 'maxWidth', 'maxHeight', 'hideOnMobile', 'hideOnTablet', 'hideOnDesktop', 'mobileOnly', 'tabletOnly', 'desktopOnly',\n  'colSpan', 'rowSpan', 'colStart', 'rowStart'\n]);\n\nconst TOKEN_KEYS = ['none', '0', '2xs', 'xs', 'sm', 'md', 'lg', 'xl', '2xl', '3xl', '4xl', 'auto'];\nconst isToken = (v?: string | number) => v !== undefined && TOKEN_KEYS.includes(String(v));\n\n// Strictly map tokens to component-specific CSS variables\nconst resolvePaddingToken = (v: string | number) => {\n  const sv = String(v);\n  if (sv === '0' || sv === 'none') return 'var(--dyn-box-spacing-padding-none)';\n  return isToken(v) ? `var(--dyn-box-spacing-padding-${sv})` : sv;\n};\n\nconst resolveMarginToken = (v: string | number) => {\n  const sv = String(v);\n  if (sv === '0' || sv === 'none') return 'var(--dyn-box-spacing-margin-none)';\n  if (sv === 'auto') return 'var(--dyn-box-spacing-margin-auto)';\n  return isToken(v) ? `var(--dyn-box-spacing-margin-${sv})` : sv;\n};\n\n// Helper to resolve grid span values (semantic to variable)\nconst resolveGridSpan = (val: string | number) => {\n  if (typeof val === 'string' && ['full', 'half', 'third', 'quarter'].includes(val)) {\n    return `var(--dyn-grid-span-${val})`;\n  }\n  return val;\n};\n\nconst resolveGapToken = (v: string | number) => {\n  if (isToken(v)) return `var(--dyn-box-spacing-gap-${v})`;\n  return typeof v === 'number' ? `${v}px` : v;\n};\n\nconst toPascalCase = (s: string) => s ? s.replace(/(^\\w|-\\w)/g, (c) => c.replace('-', '').toUpperCase()) : '';\n\nfunction DynBoxInner<E extends React.ElementType = 'div'>(props: DynBoxProps<E>, ref: React.ForwardedRef<any>) {\n  const {\n    as, padding, p, px, py, pt, pr, pb, pl,\n    m, mx, my, mt, mr, mb, ml,\n    radius, borderRadius, customBorderRadius,\n    shadow, border,\n    background, bg, backgroundColor, color,\n    align, justify,\n    direction, flexDirection, wrap,\n    gap, rowGap, columnGap,\n    gridTemplateColumns, gridTemplateRows, gridTemplateAreas,\n    colSpan, rowSpan, colStart, rowStart,\n    alignContent, display = 'block', position, textAlign, overflow, overflowX, overflowY,\n    width, height, maxWidth, maxHeight, minWidth, minHeight,\n    top, right, bottom, left, zIndex,\n    className, style, id, role,\n    'aria-label': ariaLabel,\n    'aria-describedby': ariaDescribedBy,\n    'aria-labelledby': ariaLabelledBy,\n    'data-testid': dataTestId = 'dyn-box',\n    focusOnMount, interactive,\n    ariaLiveMessage, ariaLivePoliteness = 'polite',\n    cssVars,\n    hideOnMobile, hideOnTablet, hideOnDesktop, mobileOnly, tabletOnly, desktopOnly,\n    children, ...rest\n  } = props;\n\n  const Component = (as ?? 'div') as React.ElementType;\n  const generatedId = useId();\n  const internalId = useMemo(() => id || generatedId, [id, generatedId]);\n\n  // Filter props for DOM\n  const domProps = Object.fromEntries(Object.entries(rest).filter(([k]) => !FILTERED_PROPS.has(k)));\n\n  // Forward ref logic\n  const elementRef = React.useRef<HTMLElement | null>(null);\n  const setRefs = (node: any) => {\n    elementRef.current = node;\n    if (typeof ref === 'function') ref(node);\n    else if (ref && 'current' in (ref as any)) (ref as any).current = node;\n  };\n\n  const finalDirection = flexDirection || direction;\n  const finalBackground = bg || background;\n  const finalRadius = borderRadius || customBorderRadius || radius;\n  const basePadding = p ?? padding;\n\n  // Generate class names - prefer utility classes for token keys where available (p, m)\n  const classes = cn(\n    styles.box,\n    // Padding classes\n    basePadding && isToken(basePadding) && styles[`boxP${toPascalCase(String(basePadding))}` as keyof typeof styles],\n    // Margin classes\n    m && isToken(m) && styles[`boxM${toPascalCase(String(m))}` as keyof typeof styles],\n\n    // Semantic Background classes\n    finalBackground && ['primary', 'secondary', 'tertiary', 'success', 'warning', 'danger', 'info', 'surface', 'muted', 'danger-surface', 'success-surface', 'warning-surface', 'info-surface'].includes(finalBackground as string) && styles[`boxBg${toPascalCase(finalBackground as string)}` as keyof typeof styles],\n\n    // Layout classes\n    display && styles[`box${toPascalCase(display)}` as keyof typeof styles],\n    position && styles[`box${toPascalCase(position)}` as keyof typeof styles],\n\n    // Border Radius classes (utility)\n    finalRadius && isToken(finalRadius as string) && ['none', 'sm', 'md', 'lg', 'full'].includes(finalRadius as string) && styles[`boxRounded${toPascalCase(finalRadius as string)}` as keyof typeof styles],\n\n    // Shadow classes\n    shadow && ['sm', 'md', 'lg'].includes(shadow) && styles[`boxShadow${toPascalCase(shadow)}` as keyof typeof styles],\n\n    // Text Align & Overflow\n    textAlign && styles[`boxText${toPascalCase(textAlign)}` as keyof typeof styles],\n    overflow && styles[`boxOverflow${toPascalCase(overflow)}` as keyof typeof styles],\n\n    // Border Variants\n    border && ['default', 'danger', 'success', 'warning', 'info'].includes(String(border)) && styles[`boxBorder${toPascalCase(String(border))}` as keyof typeof styles],\n    // Handle suffixed border variants if needed, e.g. \"danger-border\" -> \"BorderDanger\" (handled via toPascalCase(\"danger-border\") -> \"DangerBorder\")\n    border && ['danger-border', 'success-border', 'warning-border', 'info-border'].includes(String(border)) && styles[`boxBorder${toPascalCase(String(border).replace('-border', ''))}` as keyof typeof styles],\n\n    // Color Variants\n    color && ['danger-text', 'success-text', 'warning-text', 'info-text'].includes(String(color)) && styles[`boxColor${toPascalCase(String(color))}` as keyof typeof styles],\n\n    interactive && styles.boxInteractive,\n\n    // Responsive utilities\n    hideOnMobile && styles.boxMobileHidden,\n    hideOnTablet && styles.boxTabletHidden,\n    hideOnDesktop && styles.boxDesktopHidden,\n    mobileOnly && [styles.boxTabletHidden, styles.boxDesktopHidden],\n    tabletOnly && [styles.boxMobileHidden, styles.boxDesktopHidden],\n    desktopOnly && [styles.boxMobileHidden, styles.boxTabletHidden],\n\n    className\n  );\n\n  // Style variables for dynamic overrides\n  const styleVars: React.CSSProperties = {\n    // Dimensions\n    ...(width !== undefined ? { '--dyn-box-width': typeof width === 'number' ? (width === 0 ? '0' : `${width}px`) : width } : {}),\n    ...(height !== undefined ? { '--dyn-box-height': typeof height === 'number' ? (height === 0 ? '0' : `${height}px`) : height } : {}),\n    ...(minWidth !== undefined ? { '--dyn-box-min-width': typeof minWidth === 'number' ? (minWidth === 0 ? '0' : `${minWidth}px`) : minWidth } : {}),\n    ...(minHeight !== undefined ? { '--dyn-box-min-height': typeof minHeight === 'number' ? (minHeight === 0 ? '0' : `${minHeight}px`) : minHeight } : {}),\n    ...(maxWidth !== undefined ? { '--dyn-box-max-width': typeof maxWidth === 'number' ? (maxWidth === 0 ? '0' : `${maxWidth}px`) : maxWidth } : {}),\n    ...(maxHeight !== undefined ? { '--dyn-box-max-height': typeof maxHeight === 'number' ? (maxHeight === 0 ? '0' : `${maxHeight}px`) : maxHeight } : {}),\n\n    // Positioning\n    ...(top !== undefined ? { '--dyn-box-top': typeof top === 'number' ? (top === 0 ? '0' : `${top}px`) : top } : {}),\n    ...(right !== undefined ? { '--dyn-box-right': typeof right === 'number' ? (right === 0 ? '0' : `${right}px`) : right } : {}),\n    ...(bottom !== undefined ? { '--dyn-box-bottom': typeof bottom === 'number' ? (bottom === 0 ? '0' : `${bottom}px`) : bottom } : {}),\n    ...(left !== undefined ? { '--dyn-box-left': typeof left === 'number' ? (left === 0 ? '0' : `${left}px`) : left } : {}),\n    ...(zIndex !== undefined ? { '--dyn-box-z-index': zIndex } : {}),\n\n    // Appearance (Overrides)\n    ...(backgroundColor ? { '--dyn-box-bg': backgroundColor } : {}),\n    // Only apply color variable if it's NOT one of the handled classes\n    ...(color && !['danger-text', 'success-text', 'warning-text', 'info-text'].includes(String(color)) ? { '--dyn-box-color': color } : {}),\n    // Custom Background (non-semantic)\n    ...(finalBackground && !['primary', 'secondary', 'tertiary', 'success', 'warning', 'danger', 'info', 'surface', 'muted', 'danger-surface', 'success-surface', 'warning-surface', 'info-surface'].includes(finalBackground as string) ? { '--dyn-box-bg': finalBackground } : {}),\n\n    // Radius (Tokens or raw)\n    ...(finalRadius && !['none', 'sm', 'md', 'lg', 'full'].includes(finalRadius as string) ? {\n      '--dyn-box-radius': isToken(finalRadius as string) ? `var(--dyn-box-border-radius-${finalRadius})` : finalRadius\n    } : {}),\n\n    // Padding (Directional or Custom)\n    ...(basePadding && !isToken(basePadding) ? { '--dyn-box-padding': basePadding } : {}),\n    ...(px ? { '--dyn-box-padding-left': resolvePaddingToken(px), '--dyn-box-padding-right': resolvePaddingToken(px) } : {}),\n    ...(py ? { '--dyn-box-padding-top': resolvePaddingToken(py), '--dyn-box-padding-bottom': resolvePaddingToken(py) } : {}),\n    ...(pt ? { '--dyn-box-padding-top': resolvePaddingToken(pt) } : {}),\n    ...(pr ? { '--dyn-box-padding-right': resolvePaddingToken(pr) } : {}),\n    ...(pb ? { '--dyn-box-padding-bottom': resolvePaddingToken(pb) } : {}),\n    ...(pl ? { '--dyn-box-padding-left': resolvePaddingToken(pl) } : {}),\n\n    // Margin (Directional or Custom)\n    ...(m && !isToken(m) ? { '--dyn-box-margin': m } : {}),\n    ...(mx ? { '--dyn-box-margin-left': resolveMarginToken(mx), '--dyn-box-margin-right': resolveMarginToken(mx) } : {}),\n    ...(my ? { '--dyn-box-margin-top': resolveMarginToken(my), '--dyn-box-margin-bottom': resolveMarginToken(my) } : {}),\n    ...(mt ? { '--dyn-box-margin-top': resolveMarginToken(mt) } : {}),\n    ...(mr ? { '--dyn-box-margin-right': resolveMarginToken(mr) } : {}),\n    ...(mb ? { '--dyn-box-margin-bottom': resolveMarginToken(mb) } : {}),\n    ...(ml ? { '--dyn-box-margin-left': resolveMarginToken(ml) } : {}),\n\n    // Layout Specifics\n    ...(align ? { '--dyn-box-align-items': align } : {}),\n    ...(justify ? { '--dyn-box-justify-content': justify } : {}),\n    ...(alignContent ? { '--dyn-box-align-content': alignContent } : {}),\n    ...(finalDirection ? { '--dyn-box-flex-direction': finalDirection } : {}),\n    ...(wrap ? { '--dyn-box-flex-wrap': wrap } : {}),\n    ...(gap ? { '--dyn-box-gap': resolveGapToken(gap) } : {}),\n    ...(rowGap ? { '--dyn-box-row-gap': resolveGapToken(rowGap) } : {}),\n    ...(columnGap ? { '--dyn-box-column-gap': resolveGapToken(columnGap) } : {}),\n    ...(gridTemplateColumns ? { '--dyn-box-grid-columns': gridTemplateColumns } : {}),\n    ...(gridTemplateRows ? { '--dyn-box-grid-rows': gridTemplateRows } : {}),\n    ...(gridTemplateAreas ? { '--dyn-box-grid-areas': gridTemplateAreas } : {}),\n\n    // Grid Item Logic\n    ...(colSpan && typeof colSpan !== 'object' ? { '--dyn-box-grid-col-span': resolveGridSpan(colSpan) } : {}),\n    ...(rowSpan !== undefined ? { '--dyn-box-grid-row-span': rowSpan } : {}),\n    ...(colStart !== undefined ? { '--dyn-box-grid-col-start': colStart } : {}),\n    ...(rowStart !== undefined ? { '--dyn-box-grid-row-start': rowStart } : {}),\n\n    // Display override (Fix for inheritance issues)\n    ...(display ? { '--dyn-box-display': display } : {}),\n\n    // Responsive spans (via CSS vars for brevity, though classes preferred for standard breakpoints)\n    ...(colSpan && typeof colSpan === 'object' && colSpan.mobile ? { '--dyn-box-grid-col-span-mobile': resolveGridSpan(colSpan.mobile) } : {}),\n    ...(colSpan && typeof colSpan === 'object' && colSpan.tablet ? { '--dyn-box-grid-col-span-tablet': resolveGridSpan(colSpan.tablet) } : {}),\n    ...(colSpan && typeof colSpan === 'object' && colSpan.desktop ? { '--dyn-box-grid-col-span-desktop': resolveGridSpan(colSpan.desktop) } : {}),\n\n    ...(cssVars || {}),\n    ...style\n  } as React.CSSProperties;\n  // ...\n\n  // accessibility focus management\n  React.useEffect(() => {\n    if (focusOnMount && interactive) {\n      // Use microtask to ensure DOM is ready\n      queueMicrotask(() => {\n        try { elementRef.current?.focus?.(); } catch { /* ignore */ }\n      });\n    }\n  }, [focusOnMount, interactive]);\n\n  const liveRegionId = ariaLiveMessage ? `${internalId}-liveregion` : undefined;\n  const describedBy = [ariaDescribedBy, liveRegionId].filter(Boolean).join(' ') || undefined;\n\n  return React.createElement(\n    Component,\n    {\n      ...domProps,\n      ref: setRefs,\n      id: internalId,\n      role: interactive ? (role ?? 'button') : role,\n      className: classes,\n      style: styleVars,\n      'aria-label': ariaLabel,\n      'aria-describedby': describedBy,\n      'aria-labelledby': ariaLabelledBy,\n      'data-testid': dataTestId,\n      tabIndex: interactive ? ((domProps as any).tabIndex ?? 0) : (domProps as any).tabIndex,\n      onKeyDown: (e: React.KeyboardEvent) => {\n        (domProps as any).onKeyDown?.(e);\n        if (!interactive) return;\n        if (e.key === 'Enter' || e.key === ' ') {\n          (domProps as any).onClick?.(e);\n          if (e.key === ' ') e.preventDefault();\n        }\n      },\n    },\n    children,\n    ariaLiveMessage && (\n      <span id={`${internalId}-liveregion`} aria-live={ariaLivePoliteness} aria-atomic=\"true\" className=\"dyn-sr-only\">{ariaLiveMessage}</span>\n    )\n  );\n}\n\nconst _DynBox = forwardRef(DynBoxInner) as React.NamedExoticComponent<any>;\nexport const DynBox = _DynBox as <E extends React.ElementType = 'div'>(\n  props: DynBoxProps<E> & { ref?: DynBoxRef<E> }\n) => React.ReactElement | null;\n\n(_DynBox as React.NamedExoticComponent).displayName = 'DynBox';\n\n\n--- Usage Examples (DynBox.stories.tsx) ---\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { DynBox } from './DynBox';\n\nconst meta: Meta<typeof DynBox> = {\n  title: 'Components/DynBox',\n  component: DynBox,\n  parameters: {\n    docs: {\n      description: {\n        component:\n          'DynBox is the polymorphic, design-token aware layout primitive that serves as the foundational building block of the dyn-ui design system. It provides a consistent API for spacing, colors, borders, shadows, and layout properties while maintaining full accessibility compliance and type safety. Built following the DynAvatar gold standard template with comprehensive JSDoc documentation, extensive test coverage, and optimized performance.',\n      },\n    },\n  },\n  argTypes: {\n    as: {\n      control: { type: 'select' },\n      options: ['div', 'section', 'article', 'main', 'aside', 'header', 'footer', 'nav', 'button'],\n      description: 'The HTML element to render',\n    },\n    p: {\n      control: { type: 'select' },\n      options: [undefined, '0', 'xs', 'sm', 'md', 'lg', 'xl', '2xl'],\n      description: 'Padding on all sides using design tokens',\n    },\n    m: {\n      control: { type: 'select' },\n      options: [undefined, '0', 'xs', 'sm', 'md', 'lg', 'xl', '2xl', 'auto'],\n      description: 'Margin on all sides using design tokens',\n    },\n    bg: {\n      control: { type: 'select' },\n      options: [undefined, 'primary', 'secondary', 'tertiary', 'success', 'warning', 'danger'],\n      description: 'Background color variant',\n    },\n    display: {\n      control: { type: 'select' },\n      options: [undefined, 'block', 'inline', 'inline-block', 'flex', 'inline-flex', 'grid', 'inline-grid', 'none'],\n      description: 'CSS display property',\n    },\n    borderRadius: {\n      control: { type: 'select' },\n      options: [undefined, 'none', 'sm', 'md', 'lg', 'xl', 'full'],\n      description: 'Border radius using design tokens',\n    },\n    shadow: {\n      control: { type: 'select' },\n      options: [undefined, 'sm', 'md', 'lg'],\n      description: 'Box shadow using design tokens',\n    },\n    interactive: {\n      control: { type: 'boolean' },\n      description: 'Enable interactive styles and keyboard navigation',\n    },\n    onClick: {\n      action: 'clicked',\n      description: 'Click handler for interactive boxes',\n    },\n  },\n};\n\nexport default meta;\n\ntype Story = StoryObj<typeof DynBox>;\n\n/**\n * Playground story - full control over all DynBox properties.\n * Use this to test display, as, and all other props interactively.\n */\nexport const Playground: Story = {\n  args: {\n    as: 'div',\n    display: 'flex',\n    p: 'md',\n    bg: 'tertiary',\n    borderRadius: 'md',\n    shadow: 'sm',\n    children: (\n      <>\n        <strong style={{ marginRight: '0.5rem' }}>DynBox Playground</strong>\n        <span>Change controls to test behavior</span>\n      </>\n    ),\n  },\n};\n\n/**\n * Default DynBox configuration showing basic usage with design tokens\n */\nexport const Default: Story = {\n  args: {\n    p: 'md',\n    borderRadius: 'md',\n    bg: 'tertiary',\n    shadow: 'sm',\n    children: (\n      <>\n        <strong style={{ display: 'block', marginBottom: '0.5rem' }}>DynBox</strong>\n        <span>Token-aware container with spacing, border radius, and shadow applied through design tokens.</span>\n      </>\n    ),\n  },\n};\n\n/**\n * Various background variants and visual styles available in DynBox\n */\nexport const Variants: Story = {\n  render: (args) => (\n    <DynBox\n      {...args}\n      display=\"grid\"\n      gap=\"sm\"\n      gridTemplateColumns=\"repeat(auto-fit, minmax(180px, 1fr))\"\n      aria-label=\"DynBox variants showcase\"\n    >\n      <DynBox bg=\"primary\" borderRadius=\"md\" shadow=\"md\" p=\"sm\" color=\"#ffffff\">\n        <strong>Primary</strong>\n        <br />Surface with primary theming\n      </DynBox>\n      <DynBox bg=\"secondary\" borderRadius=\"md\" shadow=\"sm\" p=\"sm\" color=\"#ffffff\">\n        <strong>Secondary</strong>\n        <br />Secondary themed surface\n      </DynBox>\n      <DynBox bg=\"success\" borderRadius=\"md\" shadow=\"sm\" p=\"sm\" color=\"#ffffff\">\n        <strong>Success</strong>\n        <br />Success state indication\n      </DynBox>\n      <DynBox bg=\"warning\" borderRadius=\"md\" shadow=\"sm\" p=\"sm\" color=\"#ffffff\">\n        <strong>Warning</strong>\n        <br />Warning state indication\n      </DynBox>\n      <DynBox bg=\"danger\" borderRadius=\"md\" shadow=\"sm\" p=\"sm\" color=\"#ffffff\">\n        <strong>Danger</strong>\n        <br />Error state indication\n      </DynBox>\n      <DynBox border=\"default\" borderRadius=\"md\" p=\"sm\">\n        <strong>Neutral</strong>\n        <br />Border-only variant\n      </DynBox>\n    </DynBox>\n  ),\n  args: {\n    p: 'lg',\n    borderRadius: 'lg',\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: 'Demonstrates all available background variants with consistent spacing and border radius tokens.',\n      },\n    },\n  },\n};\n\n/**\n * Showcase of the new \"Light\" Semantic tokens (Surface/Border/Text).\n * These variants provide accessible, high-contrast combinations.\n */\nexport const SemanticLight: Story = {\n  render: (args) => (\n    <DynBox\n      {...args}\n      display=\"grid\"\n      gap=\"md\"\n      gridTemplateColumns=\"repeat(auto-fit, minmax(200px, 1fr))\"\n    >\n      {/* Danger */}\n      <DynBox\n        bg=\"danger-surface\"\n        border=\"danger-border\"\n        color=\"danger-text\"\n        p=\"md\"\n        borderRadius=\"md\"\n      >\n        <strong>Danger Surface</strong>\n        <p style={{ margin: 0 }}>Critical alert with light background.</p>\n      </DynBox>\n\n      {/* Success */}\n      <DynBox\n        bg=\"success-surface\"\n        border=\"success-border\"\n        color=\"success-text\"\n        p=\"md\"\n        borderRadius=\"md\"\n      >\n        <strong>Success Surface</strong>\n        <p style={{ margin: 0 }}>Operation completed successfully.</p>\n      </DynBox>\n\n      {/* Warning */}\n      <DynBox\n        bg=\"warning-surface\"\n        border=\"warning-border\"\n        color=\"warning-text\"\n        p=\"md\"\n        borderRadius=\"md\"\n      >\n        <strong>Warning Surface</strong>\n        <p style={{ margin: 0 }}>Action requires attention.</p>\n      </DynBox>\n\n      {/* Info */}\n      <DynBox\n        bg=\"info-surface\"\n        border=\"info-border\"\n        color=\"info-text\"\n        p=\"md\"\n        borderRadius=\"md\"\n      >\n        <strong>Info Surface</strong>\n        <p style={{ margin: 0 }}>Helpful information note.</p>\n      </DynBox>\n    </DynBox>\n  ),\n  args: {\n    p: 'lg',\n  },\n};\n\n/**\n * Interactive DynBox with keyboard navigation and click handlers\n */\nexport const Interactive: Story = {\n  render: (args) => (\n    <DynBox display=\"flex\" flexDirection=\"column\" gap=\"md\" p=\"lg\">\n      <DynBox\n        {...args}\n        interactive\n        aria-label=\"Interactive primary button\"\n        bg=\"primary\"\n        color=\"#ffffff\"\n        onClick={() => console.log('Primary clicked')}\n      >\n        Primary Interactive Box - Click or press Enter/Space\n      </DynBox>\n\n      <DynBox\n        interactive\n        aria-label=\"Interactive secondary button\"\n        bg=\"secondary\"\n        color=\"#ffffff\"\n        p=\"md\"\n        borderRadius=\"md\"\n        onClick={() => console.log('Secondary clicked')}\n      >\n        Secondary Interactive Box - Focus with Tab\n      </DynBox>\n\n      <DynBox\n        interactive\n        role=\"tab\"\n        aria-label=\"Custom tab element\"\n        border=\"default\"\n        p=\"md\"\n        borderRadius=\"md\"\n        onClick={() => console.log('Tab clicked')}\n        focusOnMount\n      >\n        Custom Role Interactive Box (Tab) - Auto-focused\n      </DynBox>\n\n      <DynBox\n        interactive\n        aria-label=\"Interactive with live announcements\"\n        bg=\"tertiary\"\n        p=\"md\"\n        borderRadius=\"md\"\n        ariaLiveMessage=\"Status updated successfully\"\n        ariaLivePoliteness=\"assertive\"\n        onClick={() => console.log('Live message clicked')}\n      >\n        Box with Live Region Announcements - Screen reader accessible\n      </DynBox>\n    </DynBox>\n  ),\n  args: {\n    p: 'md',\n    borderRadius: 'md',\n    display: 'flex',\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: 'Shows interactive DynBox components with proper keyboard navigation, ARIA attributes, and screen reader support. Try using Tab, Enter, and Space keys. Use the display control to change layout behavior.',\n      },\n    },\n  },\n};\n\n/**\n * Comprehensive accessibility features and WCAG compliance demonstration\n */\nexport const Accessibility: Story = {\n  render: (args) => (\n    <DynBox {...args} display=\"flex\" flexDirection=\"column\" gap=\"md\" role=\"main\">\n      <DynBox\n        as=\"section\"\n        bg=\"tertiary\"\n        p=\"md\"\n        borderRadius=\"md\"\n        role=\"region\"\n        aria-labelledby=\"responsive-heading\"\n        aria-describedby=\"responsive-description\"\n      >\n        <h3 id=\"responsive-heading\" style={{ margin: '0 0 0.5rem 0' }}>Responsive Visibility</h3>\n        <p id=\"responsive-description\" style={{ margin: '0' }}>\n          This content adapts to different screen sizes. Resize your viewport to see responsive helpers in action.\n        </p>\n      </DynBox>\n\n      <DynBox\n        as=\"section\"\n        bg=\"primary\"\n        color=\"#ffffff\"\n        p=\"md\"\n        borderRadius=\"md\"\n        ariaLiveMessage=\"Background processes completed successfully\"\n        ariaLivePoliteness=\"polite\"\n        role=\"status\"\n        aria-label=\"System status updates\"\n      >\n        <h3 style={{ margin: '0 0 0.5rem 0' }}>Live Region Support</h3>\n        <p style={{ margin: '0' }}>\n          Screen readers receive real-time updates via the aria-live region. Status changes are announced automatically.\n        </p>\n      </DynBox>\n\n      <DynBox\n        as=\"section\"\n        border=\"default\"\n        p=\"md\"\n        borderRadius=\"md\"\n        role=\"complementary\"\n        aria-label=\"Keyboard navigation example\"\n      >\n        <h3 style={{ margin: '0 0 0.5rem 0' }}>Keyboard Navigation</h3>\n        <DynBox display=\"flex\" gap=\"sm\" mt=\"sm\">\n          <DynBox\n            interactive\n            as=\"button\"\n            bg=\"success\"\n            color=\"#ffffff\"\n            p=\"sm\"\n            borderRadius=\"sm\"\n            aria-label=\"Confirm action\"\n            onClick={() => console.log('Confirm')}\n          >\n            Confirm\n          </DynBox>\n          <DynBox\n            interactive\n            as=\"button\"\n            bg=\"danger\"\n            color=\"#ffffff\"\n            p=\"sm\"\n            borderRadius=\"sm\"\n            aria-label=\"Cancel action\"\n            onClick={() => console.log('Cancel')}\n          >\n            Cancel\n          </DynBox>\n        </DynBox>\n      </DynBox>\n\n      <DynBox\n        as=\"section\"\n        bg=\"warning\"\n        color=\"#ffffff\"\n        p=\"md\"\n        borderRadius=\"md\"\n        role=\"alert\"\n        aria-live=\"assertive\"\n      >\n        <h3 style={{ margin: '0 0 0.5rem 0' }}>Alert Region</h3>\n        <p style={{ margin: '0' }}>\n          Important notifications are announced immediately to screen readers using role=\"alert\".\n        </p>\n      </DynBox>\n    </DynBox>\n  ),\n  args: {\n    'aria-label': 'Accessibility demonstration',\n    hideOnMobile: false,\n    tabletOnly: false,\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: 'Comprehensive accessibility features including ARIA attributes, live regions, semantic HTML, keyboard navigation, and screen reader support. All components pass WCAG 2.1 AA compliance.',\n      },\n    },\n  },\n};\n\n/**\n * Layout system demonstration with flex and grid capabilities\n */\nexport const LayoutSystem: Story = {\n  render: (args) => (\n    <DynBox {...args} display=\"flex\" flexDirection=\"column\" gap=\"lg\">\n      {/* Flexbox Layout */}\n      <DynBox as=\"section\">\n        <h3 style={{ margin: '0 0 1rem 0' }}>Flexbox Layout</h3>\n        <DynBox\n          display=\"flex\"\n          flexDirection=\"row\"\n          justify=\"space-between\"\n          align=\"center\"\n          gap=\"md\"\n          bg=\"tertiary\"\n          p=\"md\"\n          borderRadius=\"md\"\n        >\n          <DynBox bg=\"primary\" color=\"#ffffff\" p=\"sm\" borderRadius=\"sm\">Item 1</DynBox>\n          <DynBox bg=\"secondary\" color=\"#ffffff\" p=\"sm\" borderRadius=\"sm\">Item 2</DynBox>\n          <DynBox bg=\"success\" color=\"#ffffff\" p=\"sm\" borderRadius=\"sm\">Item 3</DynBox>\n        </DynBox>\n      </DynBox>\n\n      {/* Grid Layout */}\n      <DynBox as=\"section\">\n        <h3 style={{ margin: '0 0 1rem 0' }}>Grid Layout</h3>\n        <DynBox\n          display=\"grid\"\n          gridTemplateColumns=\"repeat(auto-fit, minmax(120px, 1fr))\"\n          gap=\"sm\"\n          bg=\"tertiary\"\n          p=\"md\"\n          borderRadius=\"md\"\n        >\n          {[1, 2, 3, 4, 5, 6].map(num => (\n            <DynBox\n              key={num}\n              bg={num % 2 === 0 ? 'primary' : 'secondary'}\n              color=\"#ffffff\"\n              p=\"sm\"\n              borderRadius=\"sm\"\n              textAlign=\"center\"\n            >\n              Grid {num}\n            </DynBox>\n          ))}\n        </DynBox>\n      </DynBox>\n\n      {/* Complex Layout */}\n      <DynBox as=\"section\">\n        <h3 style={{ margin: '0 0 1rem 0' }}>Complex Layout</h3>\n        <DynBox\n          display=\"grid\"\n          gridTemplateAreas=\"'header header header' 'sidebar content content' 'footer footer footer'\"\n          gridTemplateRows=\"auto 1fr auto\"\n          gap=\"sm\"\n          height={300}\n          bg=\"tertiary\"\n          p=\"sm\"\n          borderRadius=\"md\"\n        >\n          <DynBox\n            bg=\"primary\"\n            color=\"#ffffff\"\n            p=\"sm\"\n            borderRadius=\"sm\"\n            style={{ gridArea: 'header' }}\n            textAlign=\"center\"\n          >\n            Header\n          </DynBox>\n          <DynBox\n            bg=\"secondary\"\n            color=\"#ffffff\"\n            p=\"sm\"\n            borderRadius=\"sm\"\n            style={{ gridArea: 'sidebar' }}\n          >\n            Sidebar\n          </DynBox>\n          <DynBox\n            bg=\"success\"\n            color=\"#ffffff\"\n            p=\"sm\"\n            borderRadius=\"sm\"\n            style={{ gridArea: 'content' }}\n          >\n            Main Content Area\n          </DynBox>\n          <DynBox\n            bg=\"warning\"\n            color=\"#ffffff\"\n            p=\"sm\"\n            borderRadius=\"sm\"\n            style={{ gridArea: 'footer' }}\n            textAlign=\"center\"\n          >\n            Footer\n          </DynBox>\n        </DynBox>\n      </DynBox>\n    </DynBox>\n  ),\n  parameters: {\n    docs: {\n      description: {\n        story: 'Demonstrates the powerful layout capabilities of DynBox including flexbox, grid, and complex layouts with CSS Grid Areas.',\n      },\n    },\n  },\n};\n\n\n/**\n * 12-Column Semantic Grid Demonstration\n */\nexport const TwelveColumnGrid: Story = {\n  render: (args) => (\n    <DynBox display=\"grid\" gridTemplateColumns=\"repeat(12, 1fr)\" gap=\"md\" bg=\"surface\" p=\"lg\" borderRadius=\"md\" border=\"default\">\n      <DynBox colSpan=\"full\" bg=\"primary\" color=\"#fff\" p=\"md\" borderRadius=\"sm\" textAlign=\"center\">\n        Full Width (span 12)\n      </DynBox>\n\n      <DynBox colSpan=\"half\" bg=\"secondary\" color=\"#fff\" p=\"md\" borderRadius=\"sm\" textAlign=\"center\">\n        Half (span 6)\n      </DynBox>\n      <DynBox colSpan=\"half\" bg=\"secondary\" color=\"#fff\" p=\"md\" borderRadius=\"sm\" textAlign=\"center\">\n        Half (span 6)\n      </DynBox>\n\n      <DynBox colSpan=\"third\" bg=\"tertiary\" p=\"md\" borderRadius=\"sm\" textAlign=\"center\">\n        Third (span 4)\n      </DynBox>\n      <DynBox colSpan=\"third\" bg=\"tertiary\" p=\"md\" borderRadius=\"sm\" textAlign=\"center\">\n        Third (span 4)\n      </DynBox>\n      <DynBox colSpan=\"third\" bg=\"tertiary\" p=\"md\" borderRadius=\"sm\" textAlign=\"center\">\n        Third (span 4)\n      </DynBox>\n\n      <DynBox colSpan=\"quarter\" bg=\"success\" color=\"#fff\" p=\"md\" borderRadius=\"sm\" textAlign=\"center\">\n        Quarter (span 3)\n      </DynBox>\n      <DynBox colSpan=\"quarter\" bg=\"success\" color=\"#fff\" p=\"md\" borderRadius=\"sm\" textAlign=\"center\">\n        Quarter (span 3)\n      </DynBox>\n      <DynBox colSpan=\"quarter\" bg=\"success\" color=\"#fff\" p=\"md\" borderRadius=\"sm\" textAlign=\"center\">\n        Quarter (span 3)\n      </DynBox>\n      <DynBox colSpan=\"quarter\" bg=\"success\" color=\"#fff\" p=\"md\" borderRadius=\"sm\" textAlign=\"center\">\n        Quarter (span 3)\n      </DynBox>\n\n      <DynBox colSpan={{ mobile: 'full', desktop: 'half' }} bg=\"warning-surface\" border=\"warning\" color=\"warning-text\" p=\"md\" borderRadius=\"sm\" textAlign=\"center\">\n        Responsive: Full on Mobile, Half on Desktop\n      </DynBox>\n      <DynBox colSpan={{ mobile: 'full', desktop: 'half' }} bg=\"warning-surface\" border=\"warning\" color=\"warning-text\" p=\"md\" borderRadius=\"sm\" textAlign=\"center\">\n        Responsive: Full on Mobile, Half on Desktop\n      </DynBox>\n\n      <DynBox colStart={2} colSpan={10} bg=\"danger-surface\" border=\"danger\" color=\"danger-text\" p=\"md\" borderRadius=\"sm\" textAlign=\"center\">\n        Centered 10-col span (Start 2, Span 10)\n      </DynBox>\n    </DynBox>\n  ),\n  parameters: {\n    docs: {\n      description: {\n        story: 'Demonstrates the 12-column semantic grid system. Usage of `colSpan` with semantic values (\"full\", \"half\", \"third\", \"quarter\") and responsive objects.',\n      },\n    }\n  }\n};\n\n/**\n * Polymorphic rendering capabilities with different HTML elements\n */\nexport const Polymorphic: Story = {\n  render: (args) => (\n    <DynBox {...args} display=\"flex\" flexDirection=\"column\" gap=\"md\">\n      <DynBox as=\"header\" bg=\"primary\" color=\"#ffffff\" p=\"md\" borderRadius=\"md\">\n        <h1 style={{ margin: 0 }}>Header Element</h1>\n        <p style={{ margin: '0.5rem 0 0 0', opacity: 0.9 }}>Rendered as &lt;header&gt;</p>\n      </DynBox>\n\n      <DynBox as=\"nav\" bg=\"secondary\" color=\"#ffffff\" p=\"md\" borderRadius=\"md\">\n        <h2 style={{ margin: '0 0 0.5rem 0', fontSize: '1.2rem' }}>Navigation</h2>\n        <p style={{ margin: 0, opacity: 0.9 }}>Rendered as &lt;nav&gt; with proper semantics</p>\n      </DynBox>\n\n      <DynBox as=\"main\" bg=\"tertiary\" p=\"md\" borderRadius=\"md\">\n        <h2 style={{ margin: '0 0 0.5rem 0' }}>Main Content</h2>\n        <p style={{ margin: 0 }}>Rendered as &lt;main&gt; for primary content</p>\n      </DynBox>\n\n      <DynBox as=\"aside\" bg=\"success\" color=\"#ffffff\" p=\"md\" borderRadius=\"md\">\n        <h3 style={{ margin: '0 0 0.5rem 0' }}>Sidebar Content</h3>\n        <p style={{ margin: 0, opacity: 0.9 }}>Rendered as &lt;aside&gt; for supplementary content</p>\n      </DynBox>\n\n      <DynBox as=\"footer\" bg=\"warning\" color=\"#ffffff\" p=\"md\" borderRadius=\"md\">\n        <h3 style={{ margin: '0 0 0.5rem 0' }}>Footer Information</h3>\n        <p style={{ margin: 0, opacity: 0.9 }}>Rendered as &lt;footer&gt; with footer semantics</p>\n      </DynBox>\n    </DynBox>\n  ),\n  parameters: {\n    docs: {\n      description: {\n        story: 'Shows how DynBox can render as different HTML elements while maintaining consistent styling and functionality.',\n      },\n    },\n  },\n};\n\n/**\n * Dark theme and theming support\n */\nexport const DarkTheme: Story = {\n  render: (args) => (\n    <div data-theme=\"dark\" style={{ padding: '2rem', backgroundColor: '#1f2937', minHeight: '100%' }}>\n      <DynBox {...args} display=\"flex\" flexDirection=\"column\" gap=\"md\" p=\"lg\">\n        <DynBox bg=\"primary\" shadow=\"md\" color=\"#ffffff\" p=\"md\" borderRadius=\"md\">\n          <h3 style={{ margin: '0 0 0.5rem 0' }}>Primary Theme</h3>\n          <p style={{ margin: 0 }}>DynBox adapts to dark mode using CSS custom properties and design tokens.</p>\n        </DynBox>\n\n        <DynBox bg=\"secondary\" shadow=\"sm\" color=\"#ffffff\" p=\"md\" borderRadius=\"md\">\n          <h3 style={{ margin: '0 0 0.5rem 0' }}>Secondary Theme</h3>\n          <p style={{ margin: 0 }}>Automatic theme switching based on user preferences.</p>\n        </DynBox>\n\n        <DynBox bg=\"tertiary\" shadow=\"sm\" p=\"md\" borderRadius=\"md\">\n          <h3 style={{ margin: '0 0 0.5rem 0' }}>Adaptive Colors</h3>\n          <p style={{ margin: 0 }}>Text and background colors automatically adjust for optimal contrast.</p>\n        </DynBox>\n\n        <DynBox\n          interactive\n          bg=\"success\"\n          color=\"#ffffff\"\n          shadow=\"md\"\n          p=\"md\"\n          borderRadius=\"md\"\n          onClick={() => console.log('Dark theme interaction')}\n          aria-label=\"Interactive element in dark theme\"\n        >\n          <h3 style={{ margin: '0 0 0.5rem 0' }}>Interactive Elements</h3>\n          <p style={{ margin: 0 }}>Interactive states maintain proper contrast ratios in dark mode.</p>\n        </DynBox>\n      </DynBox>\n    </div>\n  ),\n  parameters: {\n    layout: 'fullscreen',\n    docs: {\n      description: {\n        story: 'Demonstrates how DynBox components automatically adapt to dark themes using data-theme=\"dark\" attribute.',\n      },\n    },\n  },\n};\n\n/**\n * Performance and edge cases demonstration\n */\nexport const Performance: Story = {\n  render: (args) => (\n    <DynBox {...args} display=\"flex\" flexDirection=\"column\" gap=\"md\">\n      <DynBox bg=\"tertiary\" p=\"md\" borderRadius=\"md\">\n        <h3 style={{ margin: '0 0 1rem 0' }}>Performance Optimized</h3>\n        <p style={{ margin: '0 0 1rem 0' }}>DynBox is optimized for performance with:</p>\n        <ul style={{ margin: 0, paddingLeft: '1.5rem' }}>\n          <li>Memoized CSS variable generation</li>\n          <li>Efficient class name composition</li>\n          <li>Minimal re-renders</li>\n          <li>Type-safe prop handling</li>\n        </ul>\n      </DynBox>\n\n      {/* Large number of boxes to test performance */}\n      <DynBox bg=\"primary\" color=\"#ffffff\" p=\"md\" borderRadius=\"md\">\n        <h3 style={{ margin: '0 0 1rem 0' }}>Stress Test Grid</h3>\n        <DynBox\n          display=\"grid\"\n          gridTemplateColumns=\"repeat(auto-fill, minmax(60px, 1fr))\"\n          gap=\"xs\"\n          p=\"sm\"\n          bg=\"rgba(255,255,255,0.1)\"\n          borderRadius=\"sm\"\n        >\n          {Array.from({ length: 50 }, (_, i) => (\n            <DynBox\n              key={i}\n              bg={i % 4 === 0 ? 'secondary' : i % 4 === 1 ? 'success' : i % 4 === 2 ? 'warning' : 'danger'}\n              color=\"#ffffff\"\n              p=\"xs\"\n              borderRadius=\"xs\"\n              textAlign=\"center\"\n              style={{ fontSize: '0.75rem' }}\n            >\n              {i + 1}\n            </DynBox>\n          ))}\n        </DynBox>\n      </DynBox>\n\n      {/* Edge cases */}\n      <DynBox border=\"default\" p=\"md\" borderRadius=\"md\">\n        <h3 style={{ margin: '0 0 1rem 0' }}>Edge Cases Handled</h3>\n        <DynBox display=\"flex\" flexDirection=\"column\" gap=\"sm\">\n          <DynBox bg=\"tertiary\" p=\"sm\" borderRadius=\"sm\" minWidth={100}>\n            Minimum dimensions handled gracefully\n          </DynBox>\n          <DynBox\n            p=\"xl\" m=\"auto\"\n            backgroundColor=\"rgba(255, 0, 0, 0.1)\"\n            customBorderRadius=\"20px\"\n          >\n            Custom CSS values override tokens\n          </DynBox>\n          <DynBox\n            hideOnMobile\n            tabletOnly\n            desktopOnly={false}\n            style={{ backgroundColor: 'var(--custom-color, #f0f0f0)' }}\n            p=\"sm\"\n            borderRadius=\"sm\"\n          >\n            Responsive visibility with fallback CSS\n          </DynBox>\n        </DynBox>\n      </DynBox>\n    </DynBox>\n  ),\n  parameters: {\n    docs: {\n      description: {\n        story: 'Tests performance with many components and demonstrates handling of edge cases, custom CSS properties, and responsive behavior.',\n      },\n    },\n  },\n};\n\n\n--- Styles (DynBox.module.css) ---\n/**\n * DynBox Component Styles - Unified Component Token Strategy\n * Supports both component tokens and dynamic overrides\n */\n\n.box {\n  /* Base styles with isolation and override capability */\n  display: var(--dyn-box-display, var(--dyn-box-display-block));\n  position: var(--dyn-box-position, relative);\n  box-sizing: border-box;\n  font-family: inherit;\n\n  /* Layout basics with overrides */\n  width: var(--dyn-box-width, 100%);\n  height: var(--dyn-box-height, auto);\n  min-width: var(--dyn-box-min-width, auto);\n  min-height: var(--dyn-box-min-height, auto);\n  max-width: var(--dyn-box-max-width, none);\n  max-height: var(--dyn-box-max-height, none);\n\n  /* Spacing (Longhand with Fallbacks) */\n  padding-top: var(--dyn-box-padding-top, var(--dyn-box-padding, var(--dyn-box-spacing-padding-none)));\n  padding-right: var(--dyn-box-padding-right, var(--dyn-box-padding, var(--dyn-box-spacing-padding-none)));\n  padding-bottom: var(--dyn-box-padding-bottom, var(--dyn-box-padding, var(--dyn-box-spacing-padding-none)));\n  padding-left: var(--dyn-box-padding-left, var(--dyn-box-padding, var(--dyn-box-spacing-padding-none)));\n\n  margin-top: var(--dyn-box-margin-top, var(--dyn-box-margin, var(--dyn-box-spacing-margin-none)));\n  margin-right: var(--dyn-box-margin-right, var(--dyn-box-margin, var(--dyn-box-spacing-margin-none)));\n  margin-bottom: var(--dyn-box-margin-bottom, var(--dyn-box-margin, var(--dyn-box-spacing-margin-none)));\n  margin-left: var(--dyn-box-margin-left, var(--dyn-box-margin, var(--dyn-box-spacing-margin-none)));\n\n  gap: var(--dyn-box-gap, var(--dyn-box-spacing-gap-default));\n\n  /* Colors and effects with overrides */\n  /* Colors and effects with overrides */\n  background-color: var(--dyn-box-bg, transparent);\n  color: var(--dyn-box-color, var(--dyn-semantic-text));\n\n  border: var(--dyn-box-border, none);\n  border-radius: var(--dyn-box-radius, var(--dyn-border-radius-none, 0));\n  box-shadow: var(--dyn-box-shadow, none);\n\n  text-align: var(--dyn-box-text-align, inherit);\n  overflow: var(--dyn-box-overflow, visible);\n  overflow-x: var(--dyn-box-overflow-x, visible);\n  overflow-y: var(--dyn-box-overflow-y, visible);\n\n  /* Grid & Gap Specifics */\n  grid-template-columns: var(--dyn-box-grid-columns, none);\n  grid-template-rows: var(--dyn-box-grid-rows, none);\n  grid-template-areas: var(--dyn-box-grid-areas, none);\n  row-gap: var(--dyn-box-row-gap, normal);\n  column-gap: var(--dyn-box-column-gap, normal);\n  align-content: var(--dyn-box-align-content, normal);\n  align-items: var(--dyn-box-align-items, normal);\n  justify-content: var(--dyn-box-justify-content, normal);\n  flex-direction: var(--dyn-box-flex-direction, row);\n  flex-wrap: var(--dyn-box-flex-wrap, nowrap);\n\n  transition: var(--dyn-box-transition, var(--dyn-box-transition-default));\n\n  /* Grid Item styles */\n  grid-column: var(--dyn-box-grid-col-span, auto);\n  grid-row: var(--dyn-box-grid-row-span, auto);\n  grid-column-start: var(--dyn-box-grid-col-start, auto);\n  grid-row-start: var(--dyn-box-grid-row-start, auto);\n}\n\n/* Base Variable Definitions */\n:root {\n  --dyn-box-display-block: block;\n  --dyn-box-display-inline: inline;\n  --dyn-box-display-inline-block: inline-block;\n  --dyn-box-display-flex: flex;\n  --dyn-box-display-inline-flex: inline-flex;\n  --dyn-box-display-grid: grid;\n  --dyn-box-display-none: none;\n}\n\n/* Ensure block-level displays fill width unless overridden */\n.boxGrid, .boxFlex, .box {\n  width: var(--dyn-box-width, auto);\n}\n\n/* Grid Span Definitions (Fallbacks until Phase 2) */\n:root {\n  --dyn-grid-span-full: span 12;\n  --dyn-grid-span-half: span 6;\n  --dyn-grid-span-third: span 4;\n  --dyn-grid-span-quarter: span 3;\n\n  /* Spacing Tokens for Gap */\n  --dyn-box-spacing-gap-none: 0;\n  --dyn-box-spacing-gap-0: 0;\n  --dyn-box-spacing-gap-2xs: var(--dyn-spacing-2xs, 2px);\n  --dyn-box-spacing-gap-xs: var(--dyn-spacing-xs, 4px);\n  --dyn-box-spacing-gap-sm: var(--dyn-spacing-sm, 8px);\n  --dyn-box-spacing-gap-md: var(--dyn-spacing-md, 16px);\n  --dyn-box-spacing-gap-lg: var(--dyn-spacing-lg, 24px);\n  --dyn-box-spacing-gap-xl: var(--dyn-spacing-xl, 32px);\n  --dyn-box-spacing-gap-2xl: var(--dyn-spacing-2xl, 40px);\n  --dyn-box-spacing-gap-3xl: var(--dyn-spacing-3xl, 48px);\n  --dyn-box-spacing-gap-4xl: var(--dyn-spacing-4xl, 56px);\n  --dyn-box-spacing-gap-default: var(--dyn-box-spacing-gap-sm);\n\n  /* Spacing Tokens for Padding */\n  --dyn-box-spacing-padding-none: 0;\n  --dyn-box-spacing-padding-2xs: var(--dyn-spacing-2xs, 2px);\n  --dyn-box-spacing-padding-xs: var(--dyn-spacing-xs, 4px);\n  --dyn-box-spacing-padding-sm: var(--dyn-spacing-sm, 8px);\n  --dyn-box-spacing-padding-md: var(--dyn-spacing-md, 16px);\n  --dyn-box-spacing-padding-lg: var(--dyn-spacing-lg, 24px);\n  --dyn-box-spacing-padding-xl: var(--dyn-spacing-xl, 32px);\n  --dyn-box-spacing-padding-2xl: var(--dyn-spacing-2xl, 40px);\n  --dyn-box-spacing-padding-3xl: var(--dyn-spacing-3xl, 48px);\n  --dyn-box-spacing-padding-4xl: var(--dyn-spacing-4xl, 56px);\n  --dyn-box-spacing-padding-default: var(--dyn-box-spacing-padding-xs);\n\n  /* Spacing Tokens for Margin */\n  --dyn-box-spacing-margin-none: 0;\n  --dyn-box-spacing-margin-2xs: var(--dyn-spacing-2xs, 2px);\n  --dyn-box-spacing-margin-xs: var(--dyn-spacing-xs, 4px);\n  --dyn-box-spacing-margin-sm: var(--dyn-spacing-sm, 8px);\n  --dyn-box-spacing-margin-md: var(--dyn-spacing-md, 16px);\n  --dyn-box-spacing-margin-lg: var(--dyn-spacing-lg, 24px);\n  --dyn-box-spacing-margin-xl: var(--dyn-spacing-xl, 32px);\n  --dyn-box-spacing-margin-2xl: var(--dyn-spacing-2xl, 40px);\n  --dyn-box-spacing-margin-3xl: var(--dyn-spacing-3xl, 48px);\n  --dyn-box-spacing-margin-4xl: var(--dyn-spacing-4xl, 56px);\n  --dyn-box-spacing-margin-auto: auto;\n}\n\n/* Responsive Grid Spans */\n@media (max-width: 767px) {\n  .box {\n    grid-column: var(--dyn-box-grid-col-span-mobile, var(--dyn-box-grid-col-span, auto));\n  }\n}\n\n@media (min-width: 768px) and (max-width: 1023px) {\n  .box {\n    grid-column: var(--dyn-box-grid-col-span-tablet, var(--dyn-box-grid-col-span-mobile, var(--dyn-box-grid-col-span, auto)));\n  }\n}\n\n@media (min-width: 1024px) {\n  .box {\n    grid-column: var(--dyn-box-grid-col-span-desktop, var(--dyn-box-grid-col-span-tablet, var(--dyn-box-grid-col-span-mobile, var(--dyn-box-grid-col-span, auto))));\n  }\n}\n\n/* ============================================\n   DISPLAY VARIANTS\n   ============================================ */\n\n.boxBlock {\n  --dyn-box-display: var(--dyn-box-display-block);\n}\n\n.boxInline {\n  --dyn-box-display: var(--dyn-box-display-inline);\n}\n\n.boxInlineBlock {\n  --dyn-box-display: var(--dyn-box-display-inline-block);\n}\n\n.boxNone {\n  --dyn-box-display: var(--dyn-box-display-none);\n}\n\n.boxFlex {\n  --dyn-box-display: var(--dyn-box-display-flex);\n}\n\n.boxInlineFlex {\n  --dyn-box-display: var(--dyn-box-display-inline-flex);\n}\n\n.boxGrid {\n  --dyn-box-display: var(--dyn-box-display-grid);\n}\n\n/* ============================================\n   POSITION VARIANTS\n   ============================================ */\n.boxAbsolute {\n  --dyn-box-position: absolute;\n}\n\n.boxRelative {\n  --dyn-box-position: relative;\n}\n\n.boxFixed {\n  --dyn-box-position: fixed;\n}\n\n.boxSticky {\n  --dyn-box-position: sticky;\n}\n\n/* ============================================\n   PADDING VARIANTS (Component Tokens)\n   ============================================ */\n.boxP0 {\n  --dyn-box-padding: var(--dyn-box-spacing-padding-none);\n}\n\n.boxP2xs {\n  --dyn-box-padding: var(--dyn-box-spacing-padding-2xs);\n}\n\n.boxPXs {\n  --dyn-box-padding: var(--dyn-box-spacing-padding-xs);\n}\n\n.boxPSm {\n  --dyn-box-padding: var(--dyn-box-spacing-padding-sm);\n}\n\n.boxPMd {\n  --dyn-box-padding: var(--dyn-box-spacing-padding-md);\n}\n\n.boxPLg {\n  --dyn-box-padding: var(--dyn-box-spacing-padding-lg);\n}\n\n.boxPXl {\n  --dyn-box-padding: var(--dyn-box-spacing-padding-xl);\n}\n\n.boxP2xl {\n  --dyn-box-padding: var(--dyn-box-spacing-padding-2xl);\n}\n\n.boxP3xl {\n  --dyn-box-padding: var(--dyn-box-spacing-padding-3xl);\n}\n\n.boxP4xl {\n  --dyn-box-padding: var(--dyn-box-spacing-padding-4xl);\n}\n\n/* ============================================\n   MARGIN VARIANTS (Component Tokens)\n   ============================================ */\n.boxM0 {\n  --dyn-box-margin: var(--dyn-box-spacing-margin-none);\n}\n\n.boxM2xs {\n  --dyn-box-margin: var(--dyn-box-spacing-margin-2xs);\n}\n\n.boxMXs {\n  --dyn-box-margin: var(--dyn-box-spacing-margin-xs);\n}\n\n.boxMSm {\n  --dyn-box-margin: var(--dyn-box-spacing-margin-sm);\n}\n\n.boxMMd {\n  --dyn-box-margin: var(--dyn-box-spacing-margin-md);\n}\n\n.boxMLg {\n  --dyn-box-margin: var(--dyn-box-spacing-margin-lg);\n}\n\n.boxMXl {\n  --dyn-box-margin: var(--dyn-box-spacing-margin-xl);\n}\n\n.boxM2xl {\n  --dyn-box-margin: var(--dyn-box-spacing-margin-2xl);\n}\n\n.boxM3xl {\n  --dyn-box-margin: var(--dyn-box-spacing-margin-3xl);\n}\n\n.boxM4xl {\n  --dyn-box-margin: var(--dyn-box-spacing-margin-4xl);\n}\n\n.boxMAuto {\n  --dyn-box-margin: var(--dyn-box-spacing-margin-auto);\n}\n\n/* ============================================\n   BACKGROUND VARIANTS (Component Tokens)\n   ============================================ */\n.boxBgPrimary {\n  --dyn-box-bg: var(--dyn-box-color-bg-primary, var(--dyn-theme-primary, #3b82f6));\n  --dyn-box-color: var(--dyn-box-text-inverse, var(--dyn-semantic-text-inverse, #ffffff));\n}\n\n.boxBgSecondary {\n  --dyn-box-bg: var(--dyn-box-color-bg-secondary, var(--dyn-theme-secondary, #6b7280));\n  --dyn-box-color: var(--dyn-box-text-inverse, var(--dyn-semantic-text-inverse, #ffffff));\n}\n\n.boxBgTertiary {\n  --dyn-box-bg: var(--dyn-box-color-bg-tertiary, var(--dyn-semantic-surface-muted, #f8fafc));\n  --dyn-box-color: var(--dyn-box-text-default, var(--dyn-semantic-text, #0f172a));\n}\n\n/* ... existing background classes ... */\n.boxBgSurface {\n  --dyn-box-bg: var(--dyn-box-color-bg-surface, var(--dyn-semantic-surface, #ffffff));\n}\n\n.boxBgMuted {\n  --dyn-box-bg: var(--dyn-box-color-bg-muted, var(--dyn-semantic-surface-muted, #f1f5f9));\n}\n\n.boxBgSuccess {\n  --dyn-box-bg: var(--dyn-box-color-bg-success, var(--dyn-feedback-positive, #22c55e));\n  --dyn-box-color: var(--dyn-box-text-inverse, var(--dyn-semantic-text-inverse, #ffffff));\n}\n\n.boxBgSuccessSurface {\n  --dyn-box-bg: var(--dyn-semantic-success-surface);\n  --dyn-box-color: var(--dyn-semantic-success-text);\n  --dyn-box-border: 1px solid var(--dyn-semantic-success-border);\n}\n\n.boxBgWarning {\n  --dyn-box-bg: var(--dyn-box-color-bg-warning, var(--dyn-feedback-warning, #f59e0b));\n  --dyn-box-color: var(--dyn-box-text-default, var(--dyn-semantic-text, #0f172a));\n}\n\n.boxBgWarningSurface {\n  --dyn-box-bg: var(--dyn-semantic-warning-surface);\n  --dyn-box-color: var(--dyn-semantic-warning-text);\n  --dyn-box-border: 1px solid var(--dyn-semantic-warning-border);\n}\n\n.boxBgDanger {\n  --dyn-box-bg: var(--dyn-box-color-bg-danger, var(--dyn-feedback-negative-default, #ef4444));\n  --dyn-box-color: var(--dyn-box-text-inverse, var(--dyn-semantic-text-inverse, #ffffff));\n}\n\n.boxBgDangerSurface {\n  --dyn-box-bg: var(--dyn-semantic-danger-surface);\n  --dyn-box-color: var(--dyn-semantic-danger-text);\n  --dyn-box-border: 1px solid var(--dyn-semantic-danger-border);\n}\n\n.boxBgInfo {\n  --dyn-box-bg: var(--dyn-semantic-info-DEFAULT);\n  --dyn-box-color: var(--dyn-semantic-text-inverse);\n}\n\n.boxBgInfoSurface {\n  --dyn-box-bg: var(--dyn-semantic-info-surface);\n  --dyn-box-color: var(--dyn-semantic-info-text);\n  --dyn-box-border: 1px solid var(--dyn-semantic-info-border);\n}\n\n/* Color Variants */\n.boxColorDangerText {\n  --dyn-box-color: var(--dyn-semantic-danger-text);\n}\n\n.boxColorSuccessText {\n  --dyn-box-color: var(--dyn-semantic-success-text);\n}\n\n.boxColorWarningText {\n  --dyn-box-color: var(--dyn-semantic-warning-text);\n}\n\n.boxColorInfoText {\n  --dyn-box-color: var(--dyn-semantic-info-text);\n}\n\n/* Border Variants */\n.boxBorderDanger {\n  --dyn-box-border: var(--dyn-box-border-width-sm) solid var(--dyn-semantic-danger-border);\n}\n\n.boxBorderSuccess {\n  --dyn-box-border: var(--dyn-box-border-width-sm) solid var(--dyn-semantic-success-border);\n}\n\n.boxBorderWarning {\n  --dyn-box-border: var(--dyn-box-border-width-sm) solid var(--dyn-semantic-warning-border);\n}\n\n.boxBorderInfo {\n  --dyn-box-border: var(--dyn-box-border-width-sm) solid var(--dyn-semantic-info-border);\n}\n\n/* ============================================\n   RADIUS VARIANTS\n   ============================================ */\n.boxRoundedNone {\n  --dyn-box-radius: var(--dyn-box-border-radius-none, var(--dyn-border-radius-none, 0));\n}\n\n.boxRoundedSm {\n  --dyn-box-radius: var(--dyn-box-border-radius-sm, var(--dyn-border-radius-sm, 0.25rem));\n}\n\n.boxRoundedMd {\n  --dyn-box-radius: var(--dyn-box-border-radius-md, var(--dyn-border-radius-md, 0.375rem));\n}\n\n.boxRoundedLg {\n  --dyn-box-radius: var(--dyn-box-border-radius-lg, var(--dyn-border-radius-lg, 0.5rem));\n}\n\n.boxRoundedFull {\n  --dyn-box-radius: var(--dyn-box-border-radius-full, var(--dyn-border-radius-full, 9999px));\n}\n\n/* ============================================\n   SHADOW VARIANTS\n   ============================================ */\n.boxShadowSm {\n  --dyn-box-shadow: var(--dyn-box-shadow-sm, var(--dyn-shadow-sm, 0 1px 3px 0 rgba(0, 0, 0, 0.1)));\n}\n\n.boxShadowMd {\n  --dyn-box-shadow: var(--dyn-box-shadow-md, var(--dyn-shadow-md, 0 4px 6px -1px rgba(0, 0, 0, 0.1)));\n}\n\n.boxShadowLg {\n  --dyn-box-shadow: var(--dyn-box-shadow-lg, var(--dyn-shadow-lg, 0 10px 15px -3px rgba(0, 0, 0, 0.1)));\n}\n\n/* ============================================\n   TEXT ALIGN & OVERFLOW\n   ============================================ */\n.boxTextLeft {\n  --dyn-box-text-align: left;\n}\n\n.boxTextCenter {\n  --dyn-box-text-align: center;\n}\n\n.boxTextRight {\n  --dyn-box-text-align: right;\n}\n\n.boxOverflowHidden {\n  --dyn-box-overflow: hidden;\n}\n\n.boxOverflowAuto {\n  --dyn-box-overflow: auto;\n}\n\n.boxOverflowScroll {\n  --dyn-box-overflow: scroll;\n}\n\n/* ============================================\n   MISC\n   ============================================ */\n.boxBorder {\n  --dyn-box-border: var(--dyn-box-border-width-sm) solid var(--dyn-box-color-border-default);\n}\n\n.boxInteractive {\n  cursor: pointer;\n}\n\n.boxInteractive:hover {\n  transform: translateY(var(--dyn-box-hover-lift, -1px));\n  box-shadow: var(--dyn-box-shadow-md);\n}\n\n.boxInteractive:focus-visible {\n  outline: var(--dyn-border-width-md, 2px) solid var(--dyn-box-color-border-focus);\n  outline-offset: var(--dyn-spacing-2xs, 2px);\n}\n\n/* ============================================\n   ACCESSIBILITY\n   ============================================ */\n.dynSrOnly {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  margin: -1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0 0 0 0);\n  white-space: nowrap;\n  border: 0;\n}\n\n@media (prefers-reduced-motion: reduce) {\n\n  .box,\n  .boxInteractive {\n    transition: none;\n  }\n}", "metadata": {"type": "ui_component", "name": "DynBox", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynBox"}, "embedding": [0.01773780584335327, -0.035961609333753586, 0.00802636332809925, 0.06801288574934006, 0.034508511424064636, 0.11786146461963654, 0.011104976758360863, 0.06213606521487236, -0.016422836109995842, 0.021358590573072433, -0.08655262738466263, 0.025454647839069366, -0.05868171527981758, 0.01779770478606224, 0.012934799306094646, 0.013217446394264698, -0.02044827491044998, -0.03204546496272087, -0.011162085458636284, 0.07880164682865143, 0.0054955813102424145, -0.0726374089717865, 0.0815531462430954, -0.07167267799377441, -0.042326316237449646, 0.03000081144273281, 0.02483225427567959, 0.016920965164899826, 0.1033465787768364, -0.028032545000314713, -0.09527701139450073, 0.0651775673031807, -0.04550283029675484, 0.021233797073364258, -0.03554942458868027, 0.06230359151959419, -0.0736083835363388, 0.05505453795194626, -0.0007508933776989579, -0.05429082736372948, 0.047925181686878204, 0.03167136013507843, 0.06375327706336975, -0.10148810595273972, 0.022879958152770996, -0.03839234635233879, -0.013840730302035809, -0.05244537442922592, -0.05010543763637543, 0.007261727470904589, -0.00043977235327474773, 0.03554640710353851, 0.07948493957519531, 0.013538042083382607, 0.004364187829196453, 0.017492782324552536, 0.06630829721689224, 0.027303140610456467, 0.0780968964099884, -0.012283648364245892, 0.034675098955631256, 0.033967308700084686, 0.038043320178985596, -0.07055075466632843, 0.039177630096673965, 0.07803813368082047, -0.0800367072224617, 0.0650521069765091, -0.025474583730101585, -0.05441848188638687, -0.038162440061569214, -0.012637968175113201, 0.022349433973431587, -0.022774573415517807, 0.0702117532491684, -0.13358113169670105, -0.028480289503932, 0.012996903620660305, 0.017086626961827278, 0.04055536538362503, 0.014022359624505043, -0.006207945290952921, -0.06493537127971649, 0.03675251826643944, -0.03474714234471321, 0.05427408218383789, 0.0017150732455775142, 0.021857282146811485, -0.08201517164707184, -0.026274923235177994, -0.0034383838064968586, -0.06111010164022446, 0.046645842492580414, 0.08202096074819565, 0.015087775886058807, 0.0002541675348766148, -0.11268250644207001, 0.07108481228351593, -0.02807912975549698, -0.04193325713276863, 0.021223517134785652, 0.008759346790611744, -0.019891412928700447, 0.04360562562942505, -0.016285380348563194, -0.06548889726400375, -0.016161104664206505, -0.1105164960026741, -0.045448705554008484, -0.011378479190170765, -0.012094558216631413, 0.01618308201432228, -0.08925340324640274, 0.053988080471754074, -0.05492071434855461, -0.056048255413770676, -0.010407058522105217, -0.0557207353413105, 0.07802122831344604, -0.0739893764257431, 0.14926967024803162, -0.010612145997583866, 0.04198218509554863, -0.004744059406220913, 0.064431332051754, 0.0553925558924675, 0.06253321468830109, 3.9884942093262696e-33, -0.013468687422573566, -0.0019554286263883114, -0.060631535947322845, 0.050066303461790085, 0.09359869360923767, -0.009196561761200428, 0.03272520378232002, -0.03772120177745819, 0.022359484806656837, 0.0685926228761673, -0.05560287460684776, 0.05958092212677002, -0.09423419088125229, -0.034002259373664856, -0.03578788414597511, -0.08121320605278015, 0.03789089247584343, -0.02452973462641239, -0.06561629474163055, 0.04037624970078468, 0.035063501447439194, 0.06565901637077332, -0.08795224130153656, 0.035967350006103516, 0.028249187394976616, -0.016760749742388725, -0.023842861875891685, 0.08295492082834244, -0.0127884391695261, -0.05302850902080536, 0.023624438792467117, -0.04185216873884201, 0.04195800796151161, 0.062188707292079926, -0.03839962184429169, -0.0804082602262497, -0.05719828978180885, -0.020858414471149445, 0.014687473885715008, 0.02808552421629429, -0.04764516279101372, -0.02293933555483818, -0.008936799131333828, 0.011205118149518967, 0.0400029793381691, 0.010355541482567787, 0.04402291402220726, 0.02879253402352333, 0.029662255197763443, -0.02864677459001541, -0.01477726548910141, 0.055329829454422, 0.022566737607121468, -0.13147388398647308, 0.04326703026890755, -0.038021184504032135, -0.04447510093450546, 0.07469049841165543, 0.13575316965579987, 0.06491842865943909, -0.04040771722793579, -0.02879420481622219, 0.03496205434203148, -0.0714842677116394, 0.021952994167804718, 0.045434530824422836, -0.05353341996669769, -0.03298752382397652, -0.009657657705247402, -0.07036147266626358, 0.07977509498596191, -0.031010011211037636, -0.010392047464847565, 0.01712081767618656, 0.058196261525154114, 0.0033384752459824085, -0.04563732445240021, 0.0011010628659278154, -0.00637189531698823, -0.07269083708524704, -0.07253418862819672, 0.03790712356567383, -0.0012533245608210564, 0.08504868298768997, 0.027528446167707443, -0.043497152626514435, -0.09213815629482269, 0.007328904699534178, 0.046851545572280884, -0.033355388790369034, -0.07424316555261612, -0.08337485790252686, -0.004588359035551548, -0.07900692522525787, -0.06488028913736343, -5.850237386712808e-33, -0.013993211090564728, 0.025457344949245453, -0.05760999396443367, -0.00042219297029078007, 0.0016880836337804794, 0.013014297001063824, -0.03131662309169769, 0.019454630091786385, 0.033644501119852066, 0.03308265283703804, -0.03111010603606701, 0.059131089597940445, -0.00219117384403944, 0.003688710043206811, -0.1074800044298172, 0.12357596307992935, -0.05759963393211365, 0.0895678699016571, -0.005444786045700312, -0.04999112710356712, 0.06661764532327652, -0.010073195211589336, -0.03151829168200493, 0.15032431483268738, -0.05812625586986542, 0.01043770369142294, 0.08961717039346695, 0.02123282477259636, -0.02745088003575802, 0.021173128858208656, -0.011861691251397133, 0.023644709959626198, -0.023656541481614113, 0.052250176668167114, 0.002182820113375783, -0.07249655574560165, -0.05939647927880287, 0.003916359040886164, -0.09432957321405411, -0.018849175423383713, -0.06912127882242203, -0.030476810410618782, -0.03241059184074402, -0.06211862340569496, -0.01971171423792839, 0.04536282643675804, -0.04042774438858032, 0.0020145101007074118, -0.0048839920200407505, 0.048883043229579926, 0.001378833083435893, -0.05078064650297165, 0.025278687477111816, -0.0651998221874237, -0.021452154964208603, -0.0024540401063859463, -0.011569873429834843, -0.03290657699108124, 0.05211350694298744, 0.02351214736700058, 0.050311312079429626, -0.09466245025396347, 0.002038937294855714, -0.0019454897847026587, 0.02803664281964302, -0.011621309444308281, -0.08129779994487762, -0.014255809597671032, 0.02246333658695221, 0.024627694860100746, 0.013997716829180717, 0.07860486209392548, 0.018352190032601357, -0.006832723971456289, 0.007721570786088705, 0.008745645172894001, 0.09459000825881958, -0.0028213525656610727, 0.13844873011112213, 0.014113962650299072, -0.02108871378004551, 0.0028134144376963377, 0.02749161422252655, -0.046187371015548706, -0.0809972956776619, -0.005784441251307726, -0.023160452023148537, 0.07212237268686295, 0.04393920674920082, 0.016948511824011803, -0.04864535108208656, -0.021880004554986954, 0.006493424531072378, -0.017822761088609695, 0.022301966324448586, -6.397769425348088e-08, -0.0006370868650265038, -0.0014081242261454463, 0.002681753598153591, -0.05746904015541077, -0.08166781067848206, -0.06094649061560631, 0.013841190375387669, -0.06704790145158768, -0.002980999881401658, -0.02625473402440548, -0.04167240113019943, 0.007493885699659586, -0.005223644897341728, -0.03216511011123657, 0.09208854287862778, 0.1017119288444519, -0.06098247319459915, 0.1063547432422638, -0.051158320158720016, 0.0027311770245432854, 0.08451775461435318, -0.02909347042441368, 0.049451958388090134, 0.08302175253629684, 0.03571630269289017, -0.06609489768743515, -0.0491565465927124, -0.0046949139796197414, 0.0732460543513298, 0.020383043214678764, -0.03736714646220207, -0.024930104613304138, 0.0330534465610981, -0.057042524218559265, -0.06832099705934525, -0.03431910648941994, 0.017576148733496666, -0.08131638169288635, 0.040738072246313095, 0.06960604339838028, 0.018096694722771645, -0.05547512322664261, 0.00043794128578156233, -0.014907943084836006, -0.03023139387369156, -0.026725292205810547, -0.042829643934965134, 0.051669612526893616, 0.004406260326504707, 0.016833307221531868, 0.025967292487621307, -0.030188115313649178, -0.03713066503405571, 0.028890011832118034, 0.015463130548596382, -0.022254986688494682, -0.058924075216054916, 0.05954768881201744, 0.07227008044719696, -0.0353732705116272, -0.08804181218147278, 0.11448986828327179, 0.013639557175338268, -0.03853096812963486]}, {"id": "dyn_ui_component_DynBreadcrumb", "text": "# Component: DynBreadcrumb\n\n--- Types (DynBreadcrumb.types.ts) ---\nimport type {\n  AnchorHTMLAttributes,\n  ElementType,\n  HTMLAttributes,\n  MouseEvent as ReactMouseEvent,\n  ReactNode,\n} from 'react';\nimport type { AccessibilityProps, BaseComponentProps, ComponentSize } from '../../types';\n\nexport type BreadcrumbSeparator = 'slash' | 'chevron' | 'arrow' | 'dot' | 'custom';\n\nexport interface BreadcrumbItem {\n  /** Unique identifier for the item */\n  id?: string;\n\n  /** Label text to display */\n  label: string;\n\n  /** URL to navigate to (if not provided, item is treated as current) */\n  href?: string;\n\n  /** Whether this item is the current page */\n  current?: boolean;\n\n  /** Whether to show this item when collapsed */\n  showWhenCollapsed?: boolean;\n\n  /** Custom icon before label */\n  icon?: ReactNode;\n\n  /** Additional props for the link element */\n  linkProps?: Omit<AnchorHTMLAttributes<HTMLAnchorElement>, 'href' | 'aria-current'>;\n}\n\nexport interface DynBreadcrumbProps\n  extends BaseComponentProps,\n    AccessibilityProps,\n    Omit<HTMLAttributes<HTMLElement>, keyof BaseComponentProps | keyof AccessibilityProps> {\n  /** Array of breadcrumb items */\n  items: BreadcrumbItem[];\n\n  /** Size variant */\n  size?: ComponentSize;\n\n  /** Separator style */\n  separator?: BreadcrumbSeparator;\n\n  /** Custom separator element (when separator is 'custom') */\n  customSeparator?: ReactNode;\n\n  /** Maximum number of items to show before collapsing */\n  maxItems?: number;\n\n  /** Whether to show ellipsis button when collapsed */\n  showEllipsis?: boolean;\n\n  /** Navigation aria-label */\n  navigationLabel?: string;\n\n  /** Click handler for breadcrumb items */\n  onItemClick?: (item: BreadcrumbItem, event: ReactMouseEvent<HTMLAnchorElement>) => void;\n\n  /** Expand handler for ellipsis button */\n  onEllipsisClick?: () => void;\n\n  /** Whether breadcrumb is currently expanded (controlled) */\n  expanded?: boolean;\n\n  /** Custom link component (for router integration) */\n  linkComponent?: ElementType;\n\n  /** Schema.org structured data support */\n  enableStructuredData?: boolean;\n}\n\nexport type DynBreadcrumbRef = HTMLElement;\n\n\n--- Component (DynBreadcrumb.tsx) ---\nimport React, {\n  forwardRef,\n  useCallback,\n  useEffect,\n  useMemo,\n  useState,\n  useId,\n} from 'react';\nimport { cn } from '../../utils/classNames';\nimport type {\n  BreadcrumbItem,\n  DynBreadcrumbProps,\n  DynBreadcrumbRef,\n} from './DynBreadcrumb.types';\nimport styles from './DynBreadcrumb.module.css';\n\ntype VisibleItem = {\n  item: BreadcrumbItem;\n  originalIndex: number;\n};\n\nexport const DynBreadcrumb = forwardRef<DynBreadcrumbRef, DynBreadcrumbProps>(\n  (\n    {\n      className,\n      items,\n      size = 'medium',\n      separator = 'slash',\n      customSeparator,\n      maxItems = 0,\n      showEllipsis = true,\n      navigationLabel = 'Breadcrumb',\n      onItemClick,\n      onEllipsisClick,\n      expanded: controlledExpanded,\n      linkComponent: LinkComponent = 'a',\n      enableStructuredData = false,\n      id,\n      children,\n      'data-testid': dataTestId,\n      'aria-label': ariaLabel,\n      ...rest\n    },\n    ref\n  ) => {\n    const [internalExpanded, setInternalExpanded] = useState(false);\n    const generatedId = useId();\n    const internalId = id || generatedId;\n    const itemsSignature = useMemo(\n      () =>\n        items\n          .map(item => `${item.id ?? item.label}:${item.href ?? ''}:${item.current ? '1' : '0'}`)\n          .join('|'),\n      [items]\n    );\n\n    useEffect(() => {\n      if (controlledExpanded === undefined) {\n        setInternalExpanded(false);\n      }\n    }, [controlledExpanded, itemsSignature]);\n\n    const expanded = controlledExpanded ?? internalExpanded;\n    const navId = id ?? generatedId;\n    const totalItems = items.length;\n    const shouldCollapse = maxItems > 0 && totalItems > maxItems && !expanded;\n\n    const visibleItems = useMemo<VisibleItem[]>(() => {\n      if (!shouldCollapse) {\n        return items.map((item, originalIndex) => ({ item, originalIndex }));\n      }\n\n      if (items.length === 0) {\n        return [];\n      }\n\n      const firstItem = items[0];\n      const lastItem = items[items.length - 1];\n\n      if (!firstItem || !lastItem) {\n        return [];\n      }\n\n      const firstEntry: VisibleItem = { item: firstItem, originalIndex: 0 };\n      const middleEntries = items\n        .slice(1, -1)\n        .map<VisibleItem>((item, index) => ({ item, originalIndex: index + 1 }))\n        .filter(({ item }) => item && item.showWhenCollapsed);\n      const lastEntry: VisibleItem = {\n        item: lastItem,\n        originalIndex: items.length - 1,\n      };\n\n      return [firstEntry, ...middleEntries, lastEntry];\n    }, [items, shouldCollapse]);\n\n    const hiddenItemCount = shouldCollapse ? totalItems - visibleItems.length : 0;\n    const hasHiddenItems = hiddenItemCount > 0;\n\n    const handleEllipsisClick = useCallback(() => {\n      if (controlledExpanded === undefined) {\n        setInternalExpanded(true);\n      }\n      onEllipsisClick?.();\n    }, [controlledExpanded, onEllipsisClick]);\n\n    const handleItemClick = useCallback(\n      (item: BreadcrumbItem) => (event: React.MouseEvent<HTMLAnchorElement>) => {\n        onItemClick?.(item, event);\n      },\n      [onItemClick]\n    );\n\n    const renderSeparator = useCallback(\n      (index: number) => {\n        if (separator === 'custom' && !customSeparator) {\n          return null;\n        }\n\n        // Map separator type to camelCase class name (matching CSS modules)\n        const separatorClassMap: Record<string, string | undefined> = {\n          slash: styles.breadcrumbSeparatorSlash,\n          chevron: styles.breadcrumbSeparatorChevron,\n          arrow: styles.breadcrumbSeparatorArrow,\n          dot: styles.breadcrumbSeparatorDot,\n          custom: styles.breadcrumbSeparatorCustom,\n        };\n\n        const separatorClasses = cn(\n          styles.breadcrumbSeparator,\n          separatorClassMap[separator]\n        );\n\n        return (\n          <span\n            key={`separator-${index}`}\n            className={separatorClasses}\n            aria-hidden=\"true\"\n            data-separator={separator}\n          >\n            {separator === 'custom' ? customSeparator : null}\n          </span>\n        );\n      },\n      [customSeparator, separator]\n    );\n\n    const renderItemContent = useCallback(\n      (item: BreadcrumbItem, labelProps?: React.HTMLAttributes<HTMLSpanElement>) => (\n        <>\n          {item.icon ? (\n            <span className={styles.breadcrumbIcon} aria-hidden=\"true\">\n              {item.icon}\n            </span>\n          ) : null}\n          <span className={styles.breadcrumbText} {...labelProps}>\n            {item.label}\n          </span>\n        </>\n      ),\n      []\n    );\n\n    const renderItem = useCallback(\n      (visibleItem: VisibleItem, index: number, array: VisibleItem[]) => {\n        const { item } = visibleItem;\n        const isLast = index === array.length - 1;\n        const isCurrent = Boolean(item.current) || (isLast && !item.href);\n        const isLink = Boolean(item.href) && !isCurrent;\n        const listItemClasses = cn(\n          styles.breadcrumbItem,\n          item.showWhenCollapsed && styles.breadcrumbItemShow\n        );\n\n        const listItemProps = enableStructuredData\n          ? {\n            itemProp: 'itemListElement' as const,\n            itemScope: true,\n            itemType: 'https://schema.org/ListItem',\n          }\n          : undefined;\n\n        const itemContent = isLink ? (\n          <LinkComponent\n            href={item.href}\n            className={styles.breadcrumbLink}\n            onClick={handleItemClick(item)}\n            {...item.linkProps}\n            {...(enableStructuredData ? { itemProp: 'item' } : undefined)}\n          >\n            {enableStructuredData\n              ? renderItemContent(item, { itemProp: 'name' })\n              : renderItemContent(item)}\n          </LinkComponent>\n        ) : (\n          <span\n            className={isCurrent ? styles.breadcrumbCurrent : styles.breadcrumbStatic}\n            {...(isCurrent ? { 'aria-current': 'page' as const } : undefined)}\n            {...(enableStructuredData ? { itemProp: 'name' } : undefined)}\n          >\n            {renderItemContent(item)}\n          </span>\n        );\n\n        return (\n          <li\n            key={item.id ?? `breadcrumb-item-${visibleItem.originalIndex}`}\n            className={listItemClasses}\n            {...listItemProps}\n          >\n            {itemContent}\n            {enableStructuredData ? (\n              <meta itemProp=\"position\" content={String(index + 1)} />\n            ) : null}\n            {!isLast && renderSeparator(visibleItem.originalIndex)}\n          </li>\n        );\n      },\n      [enableStructuredData, handleItemClick, renderItemContent, renderSeparator]\n    );\n\n    const renderEllipsis = useCallback(() => {\n      if (!hasHiddenItems || !showEllipsis) {\n        return null;\n      }\n\n      return (\n        <>\n          <li\n            key=\"ellipsis\"\n            className={cn(styles.breadcrumbItem, styles.breadcrumbItemEllipsis)}\n          >\n            <button\n              type=\"button\"\n              className={styles.breadcrumbItemEllipsis}\n              onClick={handleEllipsisClick}\n              aria-label={`Show ${hiddenItemCount} hidden breadcrumb items`}\n              aria-expanded={expanded}\n            >\n              \u2026\n            </button>\n          </li>\n          {renderSeparator(-1)}\n        </>\n      );\n    }, [expanded, handleEllipsisClick, hasHiddenItems, hiddenItemCount, renderSeparator, showEllipsis]);\n\n    if (visibleItems.length === 0) {\n      return null;\n    }\n\n    const SIZE_MAP: Record<string, string> = {\n      sm: 'sizeSm',\n      md: 'sizeMd',\n      lg: 'sizeLg',\n      medium: 'sizeMd', // Support legacy default\n      small: 'sizeSm',\n      large: 'sizeLg'\n    };\n\n    const breadcrumbClasses = cn(\n      styles.breadcrumb,\n      styles[SIZE_MAP[size] as keyof typeof styles] || styles.sizeMd,\n      shouldCollapse && showEllipsis && styles.breadcrumbCollapsed,\n      className\n    );\n\n    const navStructuredDataProps = enableStructuredData\n      ? {\n        itemScope: true,\n        itemType: 'https://schema.org/BreadcrumbList',\n      }\n      : undefined;\n\n    return (\n      <nav\n        ref={ref}\n        id={navId}\n        className={breadcrumbClasses}\n        aria-label={ariaLabel ?? navigationLabel}\n        data-testid={dataTestId}\n        {...navStructuredDataProps}\n        {...rest}\n      >\n        <ol className={styles.breadcrumbList}>\n          {visibleItems[0] && renderItem(visibleItems[0], 0, visibleItems)}\n          {visibleItems.length > 1 ? (\n            <>\n              {renderEllipsis()}\n              {visibleItems.slice(1).map((visibleItem, index) =>\n                renderItem(visibleItem, index + 1, visibleItems)\n              )}\n            </>\n          ) : null}\n        </ol>\n        {children}\n      </nav>\n    );\n  }\n);\n\nDynBreadcrumb.displayName = 'DynBreadcrumb';\n\nexport default DynBreadcrumb;\n\n\n--- Usage Examples (DynBreadcrumb.stories.tsx) ---\nimport React from 'react';\nimport type { Meta, StoryObj } from '@storybook/react';\n\nimport { DynBreadcrumb } from './DynBreadcrumb';\nimport type { BreadcrumbItem } from './DynBreadcrumb.types';\n\nconst meta = {\n  title: 'Components/DynBreadcrumb',\n  component: DynBreadcrumb,\n  parameters: {\n    layout: 'centered',\n    docs: {\n      description: {\n        component: 'Navigation breadcrumb component with accessibility support and responsive behavior.',\n      },\n    },\n  },\n  argTypes: {\n    size: {\n      control: 'select',\n      options: ['sm', 'md', 'lg'],\n      description: 'Size variant',\n    },\n    separator: {\n      control: 'select',\n      options: ['slash', 'chevron', 'arrow', 'dot', 'custom'],\n      description: 'Separator style',\n    },\n    maxItems: {\n      control: { type: 'number', min: 0, max: 10 },\n      description: 'Maximum items before collapsing',\n    },\n    showEllipsis: {\n      control: 'boolean',\n      description: 'Show ellipsis when collapsed',\n    },\n    enableStructuredData: {\n      control: 'boolean',\n      description: 'Enable Schema.org structured data',\n    },\n  },\n  tags: ['autodocs'],\n} satisfies Meta<typeof DynBreadcrumb>;\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\nconst basicItems: BreadcrumbItem[] = [\n  { id: 'home', label: 'Home', href: '/' },\n  { id: 'products', label: 'Products', href: '/products' },\n  { id: 'current', label: 'Current Page', current: true },\n];\n\nconst longItems: BreadcrumbItem[] = [\n  { id: 'home', label: 'Home', href: '/' },\n  { id: 'category', label: 'Category', href: '/category' },\n  { id: 'subcategory', label: 'Subcategory', href: '/category/subcategory' },\n  { id: 'type', label: 'Product Type', href: '/category/subcategory/type' },\n  { id: 'brand', label: 'Brand', href: '/category/subcategory/type/brand' },\n  { id: 'model', label: 'Model', href: '/category/subcategory/type/brand/model' },\n  { id: 'current', label: 'Current Product', current: true },\n];\n\nconst itemsWithIcons: BreadcrumbItem[] = [\n  { id: 'home', label: 'Home', href: '/', icon: '\ud83c\udfe0' },\n  { id: 'docs', label: 'Documentation', href: '/docs', icon: '\ud83d\udcda' },\n  { id: 'api', label: 'API Reference', href: '/docs/api', icon: '\u2699\ufe0f' },\n  { id: 'current', label: 'Components', current: true, icon: '\ud83e\udde9' },\n];\n\nexport const Default: Story = {\n  args: {\n    items: basicItems,\n  },\n};\n\nexport const Separators: Story = {\n  args: {\n    items: basicItems,\n  },\n  render: () => (\n    <div style={{ display: 'flex', flexDirection: 'column', gap: '2rem', minWidth: '320px' }}>\n      <div>\n        <h3>Slash (Default)</h3>\n        <DynBreadcrumb items={basicItems} separator=\"slash\" />\n      </div>\n      <div>\n        <h3>Chevron</h3>\n        <DynBreadcrumb items={basicItems} separator=\"chevron\" />\n      </div>\n      <div>\n        <h3>Arrow</h3>\n        <DynBreadcrumb items={basicItems} separator=\"arrow\" />\n      </div>\n      <div>\n        <h3>Dot</h3>\n        <DynBreadcrumb items={basicItems} separator=\"dot\" />\n      </div>\n      <div>\n        <h3>Custom</h3>\n        <DynBreadcrumb\n          items={basicItems}\n          separator=\"custom\"\n          customSeparator={<span style={{ color: '#475569' }}>\u2192</span>}\n        />\n      </div>\n    </div>\n  ),\n};\n\nexport const Sizes: Story = {\n  args: {\n    items: basicItems,\n  },\n  render: () => (\n    <div style={{ display: 'flex', flexDirection: 'column', gap: '2rem', minWidth: '320px' }}>\n      <div>\n        <h3>Small</h3>\n        <DynBreadcrumb items={basicItems} size=\"sm\" />\n      </div>\n      <div>\n        <h3>Medium</h3>\n        <DynBreadcrumb items={basicItems} size=\"md\" />\n      </div>\n      <div>\n        <h3>Large</h3>\n        <DynBreadcrumb items={basicItems} size=\"lg\" />\n      </div>\n    </div>\n  ),\n};\n\nexport const WithIcons: Story = {\n  args: {\n    items: itemsWithIcons,\n  },\n};\n\nexport const LongPath: Story = {\n  args: {\n    items: longItems,\n  },\n};\n\nexport const CollapsedPath: Story = {\n  args: {\n    items: longItems,\n    maxItems: 4,\n    showEllipsis: true,\n  },\n};\n\nexport const WithoutEllipsis: Story = {\n  args: {\n    items: longItems,\n    maxItems: 4,\n    showEllipsis: false,\n  },\n};\n\nexport const StructuredData: Story = {\n  args: {\n    items: basicItems,\n    enableStructuredData: true,\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: 'Includes Schema.org structured data for better SEO.',\n      },\n    },\n  },\n};\n\nexport const DarkTheme: Story = {\n  args: {\n    items: basicItems,\n  },\n  render: args => (\n    <div data-theme=\"dark\" style={{ padding: '2rem', backgroundColor: '#1f2937', color: '#ffffff', minHeight: '100vh', width: '100%' }}>\n      <DynBreadcrumb {...args} />\n    </div>\n  ),\n  parameters: {\n    layout: 'fullscreen',\n    backgrounds: { default: 'dark' },\n  },\n};\n\nexport const ResponsiveBehavior: Story = {\n  args: {\n    items: longItems,\n    maxItems: 5,\n  },\n  parameters: {\n    viewport: {\n      defaultViewport: 'mobile1',\n    },\n    docs: {\n      description: {\n        story: 'Automatically collapses on smaller screens and maintains comfortable touch targets.',\n      },\n    },\n  },\n};\n\nexport const Accessibility: Story = {\n  args: {\n    items: [\n      { id: 'home', label: 'Home', href: '/' },\n      { id: 'section', label: 'Accessible Section', href: '/accessible' },\n      { id: 'current', label: 'Current Accessible Page', current: true },\n    ],\n    navigationLabel: 'Main page navigation',\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: 'Demonstrates accessible navigation labeling and semantic markup.',\n      },\n    },\n  },\n};\n\nexport const Interactive: Story = {\n  args: {\n    items: longItems,\n    maxItems: 3,\n  },\n  render: (args) => {\n    const [expanded, setExpanded] = React.useState(false);\n\n    return (\n      <DynBreadcrumb\n        {...args}\n        expanded={expanded}\n        onEllipsisClick={() => setExpanded(true)}\n        onItemClick={(item, event) => {\n          event.preventDefault();\n          // eslint-disable-next-line no-alert\n          alert(`Navigating to: ${item.label}`);\n        }}\n      />\n    );\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: 'Interactive example with controlled expansion and custom click handling.',\n      },\n    },\n  },\n};\n\n\n--- Styles (DynBreadcrumb.module.css) ---\n/**\n * DynBreadcrumb Component Styles - Option B: Full Token Integration\n * 100% Design Token Compliance\n */\n\n/* ============================================\n   COMPONENT TOKENS\n   ============================================ */\n\n.breadcrumb {\n  /* Color tokens - semantic for auto theme switching */\n  --dyn-breadcrumb-color-text: var(--dyn-semantic-text-secondary, #64748b);\n  --dyn-breadcrumb-color-text-current: var(--dyn-semantic-text, #0f172a);\n  /* Updated to neutral style by default, primary on hover */\n  /*--dyn-breadcrumb-color-link: var(--dyn-semantic-text-secondary, #64748b);*/\n  /*--dyn-breadcrumb-color-link-hover: var(--dyn-theme-primary, #2563eb);*/\n  --dyn-breadcrumb-color-link: var(--dyn-theme-primary, #2563eb);\n  --dyn-breadcrumb-color-link-hover: var(--dyn-action-hover, #1d4ed8);\n\n  --dyn-breadcrumb-color-separator: var(--dyn-semantic-text-muted, #94a3b8);\n  --dyn-breadcrumb-color-ellipsis-bg: var(--dyn-semantic-surface-muted, #f1f5f9);\n  --dyn-breadcrumb-color-ellipsis-hover: var(--dyn-semantic-surface-hover, #e2e8f0);\n  --dyn-breadcrumb-focus-ring-color: var(--dyn-semantic-border-focus, #3b82f6);\n\n  /* Spacing tokens */\n  --dyn-breadcrumb-gap: var(--dyn-spacing-xs, 0.25rem);\n  --dyn-breadcrumb-icon-gap: var(--dyn-spacing-xs, 0.25rem);\n\n  /* Typography */\n  --dyn-breadcrumb-font-size: var(--dyn-font-size-sm, 0.875rem);\n  --dyn-breadcrumb-font-weight: var(--dyn-font-weight-medium, 500);\n\n  /* Border */\n  --dyn-breadcrumb-border-radius: var(--dyn-border-radius-sm, 0.25rem);\n\n  /* Transition */\n  --dyn-breadcrumb-transition: var(--dyn-transition-fast, 0.15s ease);\n\n  display: block;\n  font-family: inherit;\n  font-size: var(--dyn-breadcrumb-font-size);\n  line-height: 1.5;\n}\n\n/* ============================================\n   BREADCRUMB LIST\n   ============================================ */\n\n.breadcrumbList {\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  gap: var(--dyn-breadcrumb-gap);\n  margin: 0;\n  padding: 0;\n  list-style: none;\n}\n\n/* ============================================\n   SIZE VARIANTS\n   ============================================ */\n\n.sizeSm {\n  font-size: var(--dyn-font-size-xs);\n}\n\n.sizeMd {\n  font-size: var(--dyn-font-size-sm);\n}\n\n.sizeLg {\n  font-size: var(--dyn-font-size-md);\n}\n\n.breadcrumbCollapsed .breadcrumbList {\n  flex-wrap: nowrap;\n}\n\n/* ============================================\n   BREADCRUMB ITEM\n   ============================================ */\n\n.breadcrumbItem {\n  display: inline-flex;\n  align-items: center;\n  gap: var(--dyn-breadcrumb-gap);\n  color: var(--dyn-breadcrumb-color-text);\n}\n\n.breadcrumbItemShow {\n  display: inline-flex;\n}\n\n/* ============================================\n   BREADCRUMB LINK\n   ============================================ */\n\n.breadcrumbLink {\n  display: inline-flex;\n  align-items: center;\n  gap: var(--dyn-breadcrumb-icon-gap);\n  color: var(--dyn-breadcrumb-color-link);\n  text-decoration: none;\n  font-weight: var(--dyn-breadcrumb-font-weight);\n  border-radius: var(--dyn-breadcrumb-border-radius);\n  transition: color var(--dyn-breadcrumb-transition);\n  cursor: pointer;\n  outline: none;\n}\n\n.breadcrumbLink:hover {\n  color: var(--dyn-breadcrumb-color-link-hover);\n  text-decoration: underline;\n}\n\n.breadcrumbLink:focus-visible {\n  outline: var(--dyn-border-width-md, 0.125rem) solid var(--dyn-breadcrumb-focus-ring-color);\n  outline-offset: var(--dyn-border-width-md, 0.125rem);\n}\n\n/* ============================================\n   CURRENT PAGE\n   ============================================ */\n\n.breadcrumbCurrent {\n  display: inline-flex;\n  align-items: center;\n  gap: var(--dyn-breadcrumb-icon-gap);\n  color: var(--dyn-breadcrumb-color-text-current);\n  font-weight: var(--dyn-breadcrumb-font-weight);\n  cursor: default;\n}\n\n/* ============================================\n   STATIC ITEM\n   ============================================ */\n\n.breadcrumbStatic {\n  display: inline-flex;\n  align-items: center;\n  gap: var(--dyn-breadcrumb-icon-gap);\n  color: var(--dyn-breadcrumb-color-text);\n}\n\n/* ============================================\n   ICON & TEXT\n   ============================================ */\n\n.breadcrumbIcon {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n}\n\n.breadcrumbText {\n  display: inline-block;\n}\n\n/* ============================================\n   SEPARATOR\n   ============================================ */\n\n.breadcrumbSeparator {\n  display: inline-flex;\n  align-items: center;\n  color: var(--dyn-breadcrumb-color-separator);\n  user-select: none;\n  pointer-events: none;\n}\n\n.breadcrumbSeparator::before {\n  content: '/';\n}\n\n.breadcrumbSeparatorSlash::before {\n  content: '/';\n}\n\n.breadcrumbSeparatorChevron::before {\n  content: '\u203a';\n  font-size: var(--dyn-breadcrumb-separator-size, 1.2em);\n}\n\n.breadcrumbSeparatorArrow::before {\n  content: '\u2192';\n}\n\n.breadcrumbSeparatorDot::before {\n  content: '\u2022';\n}\n\n.breadcrumbSeparatorCustom::before {\n  content: none;\n}\n\n/* ============================================\n   ELLIPSIS BUTTON\n   ============================================ */\n\n.breadcrumbItemEllipsis {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  min-width: var(--dyn-breadcrumb-ellipsis-size, 2rem);\n  height: var(--dyn-breadcrumb-ellipsis-size, 2rem);\n  padding: var(--dyn-spacing-xs);\n  background-color: var(--dyn-breadcrumb-color-ellipsis-bg);\n  color: var(--dyn-breadcrumb-color-text);\n  border: none;\n  border-radius: var(--dyn-breadcrumb-border-radius);\n  font-size: inherit;\n  font-family: inherit;\n  cursor: pointer;\n  transition: background-color var(--dyn-breadcrumb-transition);\n  outline: none;\n}\n\n.breadcrumbItemEllipsis:hover {\n  background-color: var(--dyn-breadcrumb-color-ellipsis-hover);\n}\n\n.breadcrumbItemEllipsis:focus-visible {\n  outline: var(--dyn-border-width-md, 0.125rem) solid var(--dyn-breadcrumb-focus-ring-color);\n  outline-offset: var(--dyn-border-width-md, 0.125rem);\n}\n\n.breadcrumbItemEllipsis:active {\n  transform: scale(0.95);\n}\n\n/* ============================================\n   ACCESSIBILITY\n   ============================================ */\n\n@media (prefers-contrast: high) {\n  .breadcrumbLink {\n    text-decoration: underline;\n  }\n\n  .breadcrumbLink:focus-visible,\n  .breadcrumbItemEllipsis:focus-visible {\n    outline-width: var(--dyn-border-width-lg, 3px);\n  }\n}\n\n@media (prefers-reduced-motion: reduce) {\n\n  .breadcrumbLink,\n  .breadcrumbItemEllipsis {\n    transition: none;\n  }\n\n  .breadcrumbItemEllipsis:active {\n    transform: none;\n  }\n}\n\n/* ============================================\n   RESPONSIVE\n   ============================================ */\n\n@media (max-width: 640px) {\n  .breadcrumbList {\n    gap: var(--dyn-spacing-xs);\n  }\n}\n\n/* ============================================\n   DARK MODE\n   Note: Handled automatically via semantic tokens!\n   ============================================ */", "metadata": {"type": "ui_component", "name": "DynBreadcrumb", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynBreadcrumb"}, "embedding": [-0.0038571422919631004, -0.03217817470431328, 0.0540851354598999, 0.04451502859592438, 0.007257211022078991, 0.0790540799498558, -0.004805068019777536, 0.10144732147455215, -0.017626792192459106, 0.043546758592128754, -0.04757022112607956, 0.0010573602048680186, -0.0682666003704071, 0.012377307750284672, -0.042737286537885666, 0.04782422259449959, -0.005739531479775906, 0.003162459470331669, 0.02547505870461464, -0.016889695078134537, 0.08056595176458359, -0.07505959272384644, 0.07589276880025864, -0.02378227561712265, -0.028790472075343132, 0.01605548895895481, 0.03517661616206169, -0.060596808791160583, -0.004795073065906763, -0.013980050571262836, 0.026125270873308182, 0.001542985555715859, -0.01786525547504425, -0.039988093078136444, 0.02223362773656845, -0.026826195418834686, -0.01179453730583191, 0.021854694932699203, 0.053100552409887314, -0.018523091450333595, 0.09074699133634567, 0.006466147489845753, 0.0489356592297554, -0.0824495479464531, 0.021301867440342903, -0.04735078662633896, 0.022974498569965363, -0.018935559317469597, -0.06840196251869202, 0.08084090799093246, 0.03663051500916481, -0.005831105634570122, 0.03766453266143799, -0.07585477828979492, 0.03451215475797653, 0.028989866375923157, 0.046616386622190475, -0.029761744663119316, 0.023211736232042313, 0.009514941833913326, 0.07867481559515, -0.022397667169570923, 0.03548816218972206, -0.07345212996006012, 0.08403059095144272, 0.03753838315606117, -0.010079586878418922, -0.017128469422459602, -0.008042930625379086, 0.030611198395490646, -0.05741819366812706, -0.0308748260140419, 0.0934797152876854, 0.014179608784615993, 0.017099564895033836, -0.10010939091444016, 0.03920036926865578, 0.006596734747290611, 0.04153565689921379, -0.05033836141228676, 0.03668646141886711, 0.01775308884680271, -0.008524635806679726, 0.025374947115778923, 0.07970038056373596, 0.09492053091526031, 0.0019367282511666417, -0.0016696806997060776, -0.05979229882359505, -0.05970523878931999, -0.025344688445329666, -0.12267716228961945, 0.008405959233641624, 0.050360117107629776, 0.00805704016238451, -0.03510546684265137, -0.10184244811534882, 0.055454038083553314, -0.050199247896671295, -0.016465507447719574, -0.020270366221666336, 0.03821491450071335, 0.008461598306894302, -0.020919496193528175, -0.035919517278671265, 0.03763868287205696, -0.005260867066681385, -0.08520129323005676, -0.06471548974514008, 0.08517858386039734, -0.004319119267165661, 0.013216931372880936, -0.07711757719516754, 0.03921406343579292, -0.07650671154260635, -0.055129360407590866, -0.008779549971222878, -0.0381142795085907, 0.10530607402324677, -0.021570399403572083, 0.030330076813697815, 0.013651281595230103, 0.044182781130075455, 0.0076066371984779835, -0.01570669375360012, 0.05830394849181175, 0.014932950958609581, 2.1315160084933844e-33, -0.018214214593172073, 0.07381480187177658, -0.061563294380903244, -0.0657036080956459, 0.013702033087611198, -0.09056160598993301, 0.031181003898382187, -0.08730357140302658, -0.05207782983779907, 0.03194153308868408, 0.019948342815041542, 0.019577812403440475, -0.023804975673556328, 0.027573853731155396, -0.020904937759041786, -0.0024022141005843878, 0.018115850165486336, -0.029632199555635452, -0.05248504504561424, -0.11735454201698303, -0.06379316002130508, 0.062460266053676605, -0.10239168256521225, -0.058068741112947464, 0.1281173825263977, -0.09072452038526535, -0.04951696842908859, 0.06735985726118088, -0.038107436150312424, -0.02781056985259056, 0.10490419715642929, 0.01241722609847784, 0.0042714569717645645, -0.02741996943950653, -0.014287860132753849, -0.023762917146086693, -0.028075633570551872, -0.03457030653953552, -0.01855936460196972, -0.005950641352683306, 0.007417931687086821, -0.06434616446495056, -0.007631110493093729, 0.008885371498763561, -0.06618846207857132, -0.009398605674505234, 0.07442765682935715, 0.0004253490478731692, 0.011260048486292362, -0.027242841199040413, -0.005902966484427452, -0.028367599472403526, 0.04768168926239014, -0.09922049194574356, 0.027721010148525238, -0.018498923629522324, -0.046432435512542725, -0.006031207740306854, 0.09842421859502792, 0.05957610532641411, -0.07835377007722855, 0.005950759164988995, 0.07796252518892288, -0.07913301885128021, -0.036434002220630646, 0.09824543446302414, 0.0655708909034729, 0.009755629114806652, -0.007244129665195942, -0.04270458593964577, -0.015468756668269634, -0.043448928743600845, 0.026678429916501045, -0.016915002837777138, 0.04455683380365372, 0.025790410116314888, -0.08708569407463074, -0.04154076799750328, 0.04763273894786835, -0.06119334325194359, 0.05210435017943382, -0.12330049276351929, 0.038157869130373, 0.04061673954129219, 0.04363204911351204, -0.0283981803804636, -0.02395336888730526, -0.05290689319372177, -0.017787162214517593, 0.05885392427444458, -0.04047107696533203, -0.056644901633262634, -0.012883136048913002, 0.029207082465291023, -0.008552774786949158, -4.063706011311726e-33, 0.017499200999736786, 0.07774751633405685, -0.035335373133420944, 0.04383580759167671, -0.1393475979566574, 0.016472788527607918, 0.007571820635348558, -0.03148152679204941, -0.0851735845208168, -0.00804402120411396, -0.00965913012623787, 0.07073914259672165, 0.09424372762441635, -0.016665928065776825, -0.03595580905675888, 0.08680450171232224, -0.03496762365102768, 0.05995647981762886, 0.0827372744679451, -0.06572391837835312, 0.10473323613405228, 0.005196466576308012, 0.013452108018100262, 0.0694301649928093, -0.029698219150304794, 0.0356149785220623, 0.16393838822841644, 0.0226909089833498, 0.029294416308403015, -0.11197460442781448, 0.025817057117819786, 0.023043792694807053, 0.045264650136232376, -0.03297875076532364, -0.030179833993315697, 0.031496018171310425, -0.0501549057662487, -0.01624547317624092, -0.024990806356072426, -0.002365024760365486, -0.056730933487415314, -0.058213382959365845, 0.0538003034889698, -0.01685660146176815, -0.052314355969429016, -0.053190577775239944, -0.007742409128695726, 0.04944338649511337, 0.019540714100003242, 0.06080085411667824, 0.024874623864889145, -0.01412499975413084, 0.017349962145090103, -0.03126628324389458, -0.011325563304126263, 0.1098766177892685, -0.07121766358613968, -0.07067708671092987, -0.021876122802495956, 0.0008079814724624157, 0.027044588699936867, -0.07866942137479782, -0.027771856635808945, 0.0657767578959465, 0.08063659071922302, -0.07384462654590607, -0.12509077787399292, -0.004793773405253887, -0.04299602285027504, 0.061745211482048035, 0.047878142446279526, 0.07725133746862411, 0.08320111036300659, -0.06561736017465591, 0.041231669485569, -0.013337942771613598, 0.07834862172603607, 0.041484005749225616, 0.06159482151269913, -0.06677646934986115, -0.0001976949570234865, -0.009050363674759865, 0.07149471342563629, -0.06999707967042923, -0.016687316820025444, 0.044030819088220596, -0.06414363533258438, 0.07439439743757248, 0.02483697235584259, -0.00023474122281186283, 0.0055840760469436646, -0.007464056834578514, -0.06045636162161827, -0.018183015286922455, -0.029979757964611053, -5.4015700357012975e-08, 0.018363473936915398, 0.018038496375083923, -0.014200286008417606, -0.06775970757007599, 0.002321899402886629, -0.03469984605908394, 0.012437098659574986, -0.07258317619562149, -0.06135617196559906, 0.04398895055055618, -0.04424823820590973, 0.09831418842077255, -0.08351194113492966, 0.080555260181427, 0.008900311775505543, 0.039945900440216064, -0.05247161164879799, 0.021684054285287857, -0.0440610833466053, 0.08410760015249252, -0.04413606971502304, -0.026066584512591362, -0.01991034857928753, 0.058243997395038605, 0.03731897473335266, 0.0014688163064420223, 0.017444968223571777, 0.03727046400308609, 0.05363208055496216, 0.038959477096796036, -0.0102405846118927, -0.007238233927637339, -0.03146255016326904, -0.044746965169906616, -0.06843452155590057, 0.0486028790473938, 0.038066565990448, -0.060687530785799026, 0.032093632966279984, 0.0315588116645813, 0.056310463696718216, -0.046763062477111816, 0.06477966159582138, 0.037424612790346146, -0.07192311435937881, 0.0058940197341144085, -0.07059744000434875, 0.04319062456488609, -0.028848260641098022, -0.004423366393893957, -0.05102381482720375, -0.02965007908642292, -0.060003861784935, 0.0006911830278113484, -0.014303172938525677, 0.011448021046817303, -0.05545203760266304, 0.06468544155359268, 0.055826764553785324, 0.06450358033180237, 0.06524672359228134, -0.07367495447397232, -0.02145242877304554, -0.01208679098635912]}, {"id": "dyn_ui_component_DynButton", "text": "# Component: DynButton\n\n--- Types (DynButton.types.ts) ---\nimport type {\n  ButtonHTMLAttributes,\n  FocusEventHandler,\n  KeyboardEventHandler,\n  MouseEventHandler,\n  ReactNode,\n} from 'react';\nimport type { BaseComponentProps, AccessibilityProps } from '../../types';\n\n/**\n * Button kind/variant types following design system standards\n */\nexport type DynButtonKind = 'primary' | 'secondary' | 'tertiary' | 'soft' | 'outline';\n\n/**\n * Button semantic colors\n */\nexport type DynButtonColor = 'primary' | 'secondary' | 'success' | 'warning' | 'danger' | 'info' | 'neutral';\n\n/**\n * Button size variants using design token scale\n */\nexport type DynButtonSize = 'xs' | 'sm' | 'md' | 'lg';\n\n/**\n * Props interface for DynButton component\n * Follows DynAvatar's standardized pattern with BaseComponentProps and AccessibilityProps\n */\nexport interface DynButtonProps\n  extends BaseComponentProps,\n  AccessibilityProps,\n  Omit<\n    ButtonHTMLAttributes<HTMLButtonElement>,\n    | 'type'\n    | 'onBlur'\n    | 'onClick'\n    | 'onKeyDown'\n    | 'children'\n    | 'aria-label'\n    | 'aria-expanded'\n    | 'aria-controls'\n    | 'aria-describedby'\n    | 'aria-pressed'\n    | keyof BaseComponentProps\n    | keyof AccessibilityProps\n  > {\n\n  /** Button text label */\n  label?: string;\n\n  /** Icon - can be string (icon name) or React node */\n  icon?: string | ReactNode;\n\n  /** HTML button type */\n  type?: 'button' | 'submit' | 'reset';\n\n  /** Loading state indicator */\n  loading?: boolean;\n\n  /** Text announced to assistive technologies while loading */\n  loadingText?: string;\n\n  /** Danger/destructive state styling (legacy, use color=\"danger\") */\n  danger?: boolean;\n\n  /** Button semantic color */\n  color?: DynButtonColor;\n\n  /** Button kind/variant */\n  kind?: DynButtonKind;\n\n  /** Button size */\n  size?: DynButtonSize;\n\n  /** Disabled state */\n  disabled?: boolean;\n\n  /** Expand button to full width */\n  fullWidth?: boolean;\n\n  /** Hide button on viewports narrower than 768px */\n  hideOnMobile?: boolean;\n\n  /** Display as icon-only on mobile while keeping the label accessible */\n  iconOnlyOnMobile?: boolean;\n\n  /** Accessible expanded state (for dropdown buttons, etc.) */\n  'aria-expanded'?: boolean;\n\n  /** ID reference of the element controlled by the button */\n  'aria-controls'?: string;\n\n  /** Pressed/toggled state for ARIA toggle buttons */\n  'aria-pressed'?: boolean;\n\n  /** Blur event handler */\n  onBlur?: FocusEventHandler<HTMLButtonElement>;\n\n  /** Click event handler */\n  onClick?: MouseEventHandler<HTMLButtonElement>;\n\n  /** Key down handler */\n  onKeyDown?: KeyboardEventHandler<HTMLButtonElement>;\n}\n\n/**\n * Ref type for DynButton component\n */\nexport type DynButtonRef = HTMLButtonElement;\n\n/**\n * Default props type for DynButton\n */\nexport type DynButtonDefaultProps = Required<\n  Pick<\n    DynButtonProps,\n    | 'type'\n    | 'kind'\n    | 'size'\n    | 'color'\n    | 'loading'\n    | 'loadingText'\n    | 'danger'\n    | 'disabled'\n    | 'fullWidth'\n    | 'hideOnMobile'\n    | 'iconOnlyOnMobile'\n  >\n>;\n\n/**\n * Default props values for DynButton component\n * Provides sensible defaults for all optional props\n */\nexport const DYN_BUTTON_DEFAULT_PROPS: DynButtonDefaultProps = {\n  type: 'button',\n  kind: 'primary',\n  size: 'md',\n  color: 'primary',\n  loading: false,\n  loadingText: 'Loading\u2026',\n  danger: false,\n  disabled: false,\n  fullWidth: false,\n  hideOnMobile: false,\n  iconOnlyOnMobile: false,\n} as const;\n\n--- Component (DynButton.tsx) ---\nimport React, { forwardRef, useMemo, useId } from 'react';\nimport type {\n  FocusEventHandler,\n  KeyboardEventHandler,\n  MouseEventHandler,\n} from 'react';\nimport { cn } from '../../utils/classNames';\nimport { DynIcon } from '../DynIcon';\nimport { DynLoading } from '../DynLoading';\nimport type {\n  DynButtonDefaultProps,\n  DynButtonProps,\n  DynButtonRef,\n  DynButtonSize,\n} from './DynButton.types';\nimport { DYN_BUTTON_DEFAULT_PROPS } from './DynButton.types';\nimport styles from './DynButton.module.css';\n\n\n/**\n * Normalize ARIA label values\n */\nconst normalizeAriaLabel = (value: string | undefined): string | undefined =>\n  value?.trim() ? value.trim() : undefined;\n\n/**\n * Generate appropriate ARIA label for icon-only buttons\n */\nconst generateIconAriaLabel = (icon: string | React.ReactNode): string | undefined => {\n  if (typeof icon !== 'string') return undefined;\n  return icon\n    .replace(/[-_]+/g, ' ')\n    .replace(/\\s+/g, ' ')\n    .trim();\n};\n\ntype DynButtonComponentProps = DynButtonProps & DynButtonDefaultProps;\n\n/**\n * DynButton\n *\n * Enterprise-grade button component following the DynAvatar gold standard for architecture,\n * accessibility, and composability.\n */\nexport const DynButton = forwardRef<DynButtonRef, DynButtonProps>(\n  (\n    {\n      label,\n      icon,\n      type = DYN_BUTTON_DEFAULT_PROPS.type,\n      kind = DYN_BUTTON_DEFAULT_PROPS.kind,\n      size = DYN_BUTTON_DEFAULT_PROPS.size,\n      color = DYN_BUTTON_DEFAULT_PROPS.color,\n      loading = DYN_BUTTON_DEFAULT_PROPS.loading,\n      loadingText = DYN_BUTTON_DEFAULT_PROPS.loadingText,\n      danger = DYN_BUTTON_DEFAULT_PROPS.danger,\n      disabled = DYN_BUTTON_DEFAULT_PROPS.disabled,\n      fullWidth = DYN_BUTTON_DEFAULT_PROPS.fullWidth,\n      hideOnMobile = DYN_BUTTON_DEFAULT_PROPS.hideOnMobile,\n      iconOnlyOnMobile = DYN_BUTTON_DEFAULT_PROPS.iconOnlyOnMobile,\n      onClick,\n      onBlur,\n      onKeyDown: userOnKeyDown,\n      children,\n      className,\n      id,\n      'aria-label': ariaLabel,\n      'aria-describedby': ariaDescribedBy,\n      'aria-labelledby': ariaLabelledBy,\n      'aria-expanded': ariaExpanded,\n      'aria-controls': ariaControls,\n      'aria-pressed': ariaPressed,\n      'data-testid': dataTestId,\n      role,\n      ...rest\n    },\n    ref\n  ) => {\n    // Generate stable ID using React's useId hook\n    const generatedId = useId();\n    const internalId = id || generatedId;\n\n    // Memoized computations\n    const trimmedLabel = useMemo(() => (typeof label === 'string' ? label.trim() : ''), [label]);\n    const hasLabel = trimmedLabel.length > 0;\n    const childrenCount = React.Children.count(children);\n    const hasChildrenContent = childrenCount > 0;\n    const isIconOnly = Boolean(icon) && !hasLabel && !hasChildrenContent;\n    const isDisabled = disabled || loading;\n\n    // Generate appropriate ARIA label for accessibility\n    const iconAriaLabel = useMemo(() => generateIconAriaLabel(icon), [icon]);\n    const computedAriaLabel = useMemo(\n      () => normalizeAriaLabel(\n        ariaLabel ?? (isIconOnly ? (trimmedLabel || iconAriaLabel || 'Button') : undefined)\n      ),\n      [ariaLabel, isIconOnly, trimmedLabel, iconAriaLabel]\n    );\n\n    // Normalize loading text\n    const normalizedLoadingText = useMemo(() => {\n      if (typeof loadingText !== 'string') return DYN_BUTTON_DEFAULT_PROPS.loadingText;\n      const trimmed = loadingText.trim();\n      return trimmed || DYN_BUTTON_DEFAULT_PROPS.loadingText;\n    }, [loadingText]);\n\n    // Icon size - direct mapping (size is already 'small' | 'medium' | 'large')\n    const iconSizeToken = size;\n\n    // Render icon element\n    const iconElement = useMemo(() => {\n      if (!icon) return null;\n      if (typeof icon === 'string') {\n        return <DynIcon icon={icon} aria-hidden=\"true\" className={styles.icon} size={iconSizeToken} />;\n      }\n      return <span className={styles.icon} aria-hidden=\"true\">{icon}</span>;\n    }, [icon, iconSizeToken]);\n\n    // Render children content\n    const childrenContent = useMemo(() => {\n      if (!hasChildrenContent) return null;\n      if (typeof children === 'string') {\n        const trimmedChildren = children.trim();\n        if (!trimmedChildren) return null;\n        return <span className={styles.label}>{trimmedChildren}</span>;\n      }\n      return children;\n    }, [children, hasChildrenContent]);\n\n    // Render label element (primary text)\n    const labelElement = hasLabel ? (\n      <span className={styles.label}>{trimmedLabel}</span>\n    ) : null;\n\n    // Generate CSS classes safely (DynAvatar pattern)\n    // Map props to Full Word CSS classes as per Technical Documentation\n    const SIZE_MAP: Record<DynButtonSize, string> = {\n      xs: 'sizeXs',\n      sm: 'sizeSm',\n      md: 'sizeMd',\n      lg: 'sizeLg'\n    };\n\n\n    const buttonClassName = cn(\n      styles.root,\n      styles[`kind${kind.charAt(0).toUpperCase() + kind.slice(1)}` as keyof typeof styles],\n      styles[`color${color.charAt(0).toUpperCase() + color.slice(1)}` as keyof typeof styles],\n      styles[SIZE_MAP[size] as keyof typeof styles],\n      (danger || color === 'danger') && styles.danger,\n      loading && styles.loading,\n      isIconOnly && styles.iconOnly,\n      fullWidth && styles.fullWidth,\n      hideOnMobile && styles.hideOnMobile,\n      iconOnlyOnMobile && styles.iconOnlyOnMobile,\n      className\n    );\n\n    // Event handlers\n    const handleClick: MouseEventHandler<HTMLButtonElement> = (event) => {\n      if (isDisabled) {\n        event.preventDefault();\n        event.stopPropagation();\n        return;\n      }\n      onClick?.(event);\n    };\n\n    const handleBlur: FocusEventHandler<HTMLButtonElement> = (event) => {\n      onBlur?.(event);\n    };\n\n    const handleKeyDown: KeyboardEventHandler<HTMLButtonElement> = (event) => {\n      if (event.key === ' ' || event.key === 'Spacebar') {\n        event.preventDefault();\n        if (!isDisabled) {\n          event.currentTarget.click();\n        }\n      }\n      userOnKeyDown?.(event);\n    };\n\n    return (\n      <>\n        <button\n          ref={ref}\n          id={internalId}\n          type={type}\n          className={buttonClassName}\n          data-testid={dataTestId ?? 'dyn-button'}\n          aria-label={computedAriaLabel}\n          aria-describedby={ariaDescribedBy}\n          aria-labelledby={ariaLabelledBy}\n          aria-expanded={ariaExpanded}\n          aria-controls={ariaControls}\n          aria-pressed={typeof ariaPressed === 'boolean' ? ariaPressed : undefined}\n          aria-busy={loading || undefined}\n          aria-disabled={isDisabled || undefined}\n          disabled={isDisabled}\n          role={role}\n          onClick={handleClick}\n          onBlur={handleBlur}\n          onKeyDown={handleKeyDown}\n          {...rest}\n        >\n          <span className={styles.content}>\n            {iconElement}\n            {labelElement}\n            {childrenContent}\n          </span>\n          {loading && (\n            <DynLoading\n              variant=\"spinner\"\n              aria-label={normalizedLoadingText}\n              className={styles.loadingIndicator}\n            />\n          )}\n        </button>\n      </>\n    );\n  }\n);\n\nDynButton.displayName = 'DynButton';\n\nexport default DynButton;\n\n\n--- Usage Examples (DynButton.stories.tsx) ---\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { DynButton } from './DynButton';\n\nconst meta: Meta<typeof DynButton> = {\n  title: 'Components/DynButton',\n  component: DynButton,\n  tags: ['autodocs'],\n  parameters: {\n    layout: 'centered',\n    docs: {\n      description: {\n        component:\n          'DynButton is a versatile button component that provides consistent styling and behavior across the application. It supports multiple variants (primary, secondary, tertiary), sizes, states (loading, disabled, danger), and comprehensive accessibility features. The component follows WCAG 2.1 AA guidelines and includes proper keyboard navigation, screen reader support, and focus management.\\n\\n## Features\\n\\n- **Multiple Variants**: Primary, secondary, and tertiary button styles\\n- **Flexible Sizing**: Small, medium, and large size options\\n- **State Management**: Loading, disabled, and danger states\\n- **Icon Support**: String icon names or custom React nodes\\n- **Accessibility**: WCAG 2.1 AA compliant with ARIA support\\n- **Responsive Design**: Mobile-specific behaviors and touch targets\\n- **Theme Support**: Light, dark, and high contrast themes\\n- **Keyboard Navigation**: Space and Enter key activation',\n      },\n    },\n  },\n  argTypes: {\n    label: {\n      control: 'text',\n      description: 'The text content of the button',\n    },\n    icon: {\n      control: 'text',\n      description: 'Icon name (string) or custom React node to display',\n    },\n    kind: {\n      control: 'select',\n      options: ['primary', 'secondary', 'tertiary'],\n      description: 'Visual variant of the button',\n      table: {\n        defaultValue: { summary: 'primary' },\n      },\n    },\n    size: {\n      control: 'select',\n      options: ['sm', 'md', 'lg'],\n      description: 'Size variant of the button',\n      table: {\n        defaultValue: { summary: 'md' },\n      },\n    },\n    type: {\n      control: 'select',\n      options: ['button', 'submit', 'reset'],\n      description: 'HTML button type attribute',\n      table: {\n        defaultValue: { summary: 'button' },\n      },\n    },\n    danger: {\n      control: 'boolean',\n      description: 'Apply destructive/danger styling. Works with any kind (primary/secondary/tertiary).',\n      table: {\n        defaultValue: { summary: 'false' },\n      },\n    },\n    loading: {\n      control: 'boolean',\n      description: 'Show loading state with spinner and disable interactions',\n      table: {\n        defaultValue: { summary: 'false' },\n      },\n    },\n    loadingText: {\n      control: 'text',\n      description: 'Custom text announced to screen readers during loading',\n      table: {\n        defaultValue: { summary: 'Loading\u2026' },\n      },\n    },\n    disabled: {\n      control: 'boolean',\n      description: 'Disable button interactions',\n      table: {\n        defaultValue: { summary: 'false' },\n      },\n    },\n    fullWidth: {\n      control: 'boolean',\n      description: 'Expand button to full container width',\n      table: {\n        defaultValue: { summary: 'false' },\n      },\n    },\n    hideOnMobile: {\n      control: 'boolean',\n      description: 'Hide button on mobile viewports (<768px)',\n      table: {\n        defaultValue: { summary: 'false' },\n      },\n    },\n    iconOnlyOnMobile: {\n      control: 'boolean',\n      description: 'Show only icon on mobile while preserving accessibility',\n      table: {\n        defaultValue: { summary: 'false' },\n      },\n    },\n    'aria-label': {\n      control: 'text',\n      description: 'Accessible label for screen readers (auto-generated for icon-only buttons)',\n    },\n    'aria-expanded': {\n      control: 'boolean',\n      description: 'ARIA expanded state for disclosure buttons',\n    },\n    'aria-controls': {\n      control: 'text',\n      description: 'ID of element controlled by this button',\n    },\n    'aria-pressed': {\n      control: 'boolean',\n      description: 'ARIA pressed state for toggle buttons',\n    },\n    onClick: {\n      action: 'clicked',\n      description: 'Click event handler',\n    },\n  },\n  args: {\n    label: 'Button',\n    kind: 'primary',\n    size: 'md',\n    type: 'button',\n    danger: false,\n    loading: false,\n    disabled: false,\n    fullWidth: false,\n    hideOnMobile: false,\n    iconOnlyOnMobile: false,\n  },\n};\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\n/**\n * The default button configuration with primary styling and medium size.\n */\nexport const Default: Story = {\n  args: {\n    label: 'Default Button',\n  },\n};\n\n/**\n * All button variants showing different visual styles.\n */\nexport const Variants: Story = {\n  render: () => (\n    <div style={{ display: 'flex', gap: '1rem', flexWrap: 'wrap', alignItems: 'center' }}>\n      <DynButton label=\"Primary\" kind=\"primary\" onClick={() => alert('Primary Button Clicked')} />\n      <DynButton label=\"Secondary\" kind=\"secondary\" onClick={() => alert('Secondary Button Clicked')} />\n      <DynButton label=\"Tertiary\" kind=\"tertiary\" onClick={() => alert('Tertiary Button Clicked')} />\n    </div>\n  ),\n  parameters: {\n    docs: {\n      description: {\n        story: 'Button variants provide different visual emphasis levels. Primary for main actions, secondary for supporting actions, and tertiary for subtle actions.',\n      },\n    },\n  },\n};\n\n/**\n * Interactive examples showing various button states and behaviors.\n */\nexport const Interactive: Story = {\n  render: () => (\n    <div style={{ display: 'flex', flexDirection: 'column', gap: '2rem', alignItems: 'flex-start' }}>\n      <div>\n        <h3 style={{ marginBottom: '0.5rem' }}>Sizes</h3>\n        <div style={{ display: 'flex', gap: '1rem', alignItems: 'center' }}>\n          <DynButton label=\"Small\" size=\"sm\" onClick={() => alert('Small Button Clicked')} />\n          <DynButton label=\"Medium\" size=\"md\" onClick={() => alert('Medium Button Clicked')} />\n          <DynButton label=\"Large\" size=\"lg\" onClick={() => alert('Large Button Clicked')} />\n        </div>\n      </div>\n\n      <div>\n        <h3 style={{ marginBottom: '0.5rem' }}>With Icons</h3>\n        <div style={{ display: 'flex', gap: '1rem', alignItems: 'center', flexWrap: 'wrap' }}>\n          <DynButton label=\"Download\" icon=\"download\" onClick={() => alert('Download Clicked')} />\n          <DynButton label=\"Settings\" icon=\"settings\" kind=\"secondary\" onClick={() => alert('Settings Clicked')} />\n          <DynButton icon=\"help\" aria-label=\"Help\" kind=\"tertiary\" onClick={() => alert('Help Clicked')} />\n        </div>\n      </div>\n\n      <div>\n        <h3 style={{ marginBottom: '0.5rem' }}>States</h3>\n        <div style={{ display: 'flex', gap: '1rem', alignItems: 'center', flexWrap: 'wrap' }}>\n          <DynButton label=\"Loading\" loading onClick={() => alert('Should not trigger (Loading)')} />\n          <DynButton label=\"Disabled\" disabled onClick={() => alert('Should not trigger (Disabled)')} />\n          <DynButton label=\"Danger\" danger onClick={() => alert('Danger Action Clicked')} />\n          <DynButton label=\"Full Width\" fullWidth onClick={() => alert('Full Width Clicked')} />\n        </div>\n      </div>\n\n      <div>\n        <h3 style={{ marginBottom: '0.5rem' }}>Danger Variants</h3>\n        <div style={{ display: 'flex', gap: '1rem', alignItems: 'center' }}>\n          <DynButton label=\"Delete\" danger kind=\"primary\" onClick={() => alert('Delete Clicked')} />\n          <DynButton label=\"Remove\" danger kind=\"secondary\" onClick={() => alert('Remove Clicked')} />\n          <DynButton label=\"Cancel\" danger kind=\"tertiary\" onClick={() => alert('Cancel Clicked')} />\n        </div>\n      </div>\n    </div>\n  ),\n  parameters: {\n    docs: {\n      description: {\n        story: 'Interactive examples showcasing different sizes, icon combinations, states, and danger variants. Notice how the button maintains proper accessibility and focus management across all variants.',\n      },\n    },\n  },\n};\n\n/**\n * Accessibility features and ARIA attributes demonstration.\n */\nexport const Accessibility: Story = {\n  render: () => (\n    <div style={{ display: 'flex', flexDirection: 'column', gap: '2rem', maxWidth: '600px' }}>\n      <div>\n        <h3 style={{ marginBottom: '0.5rem' }}>ARIA Attributes</h3>\n        <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\n          <DynButton\n            label=\"Toggle Menu\"\n            aria-expanded={false}\n            aria-controls=\"navigation-menu\"\n            icon=\"menu\"\n          />\n          <DynButton\n            label=\"Favorite\"\n            aria-pressed={false}\n            icon=\"heart\"\n            kind=\"secondary\"\n          />\n          <DynButton\n            label=\"Save Draft\"\n            aria-describedby=\"save-help\"\n            icon=\"save\"\n            kind=\"tertiary\"\n          />\n        </div>\n        <p id=\"save-help\" style={{ fontSize: '0.875rem', color: '#666', marginTop: '0.5rem' }}>\n          Saves your work without publishing it\n        </p>\n      </div>\n\n      <div>\n        <h3 style={{ marginBottom: '0.5rem' }}>Loading Announcements</h3>\n        <div style={{ display: 'flex', gap: '1rem', flexWrap: 'wrap' }}>\n          <DynButton label=\"Default loading\" loading />\n          <DynButton\n            label=\"Custom announcement\"\n            loading\n            loadingText=\"Saving your changes...\"\n            kind=\"secondary\"\n          />\n        </div>\n        <p style={{ fontSize: '0.875rem', color: '#666', marginTop: '0.5rem' }}>\n          Loading buttons announce their state to screen readers\n        </p>\n      </div>\n\n      <div>\n        <h3 style={{ marginBottom: '0.5rem' }}>Icon-Only Buttons</h3>\n        <div style={{ display: 'flex', gap: '1rem' }}>\n          <DynButton icon=\"edit\" aria-label=\"Edit item\" />\n          <DynButton icon=\"delete\" aria-label=\"Delete item\" danger kind=\"secondary\" />\n          <DynButton icon=\"share\" aria-label=\"Share content\" kind=\"tertiary\" />\n        </div>\n        <p style={{ fontSize: '0.875rem', color: '#666', marginTop: '0.5rem' }}>\n          Icon-only buttons automatically receive accessible labels\n        </p>\n      </div>\n    </div>\n  ),\n  parameters: {\n    docs: {\n      description: {\n        story: 'Accessibility features including ARIA attributes for disclosure patterns, toggle states, loading announcements, and proper labeling for icon-only buttons. All examples are fully keyboard navigable and screen reader compatible.',\n      },\n    },\n  },\n};\n\n/**\n * Dark theme variants and theming capabilities.\n */\nexport const DarkTheme: Story = {\n  render: () => (\n    <div\n      data-theme=\"dark\"\n      style={{\n        padding: '2rem',\n        background: '#1a1a1a',\n        borderRadius: '0.5rem',\n        display: 'flex',\n        flexDirection: 'column',\n        gap: '2rem'\n      }}\n    >\n      <div>\n        <h3 style={{ color: 'white', marginBottom: '1rem' }}>Button Variants</h3>\n        <div style={{ display: 'flex', gap: '1rem', flexWrap: 'wrap' }}>\n          <DynButton label=\"Primary\" kind=\"primary\" />\n          <DynButton label=\"Secondary\" kind=\"secondary\" />\n          <DynButton label=\"Tertiary\" kind=\"tertiary\" />\n        </div>\n      </div>\n\n      <div>\n        <h3 style={{ color: 'white', marginBottom: '1rem' }}>Danger States</h3>\n        <div style={{ display: 'flex', gap: '1rem', flexWrap: 'wrap' }}>\n          <DynButton label=\"Delete\" kind=\"primary\" danger />\n          <DynButton label=\"Remove\" kind=\"secondary\" danger />\n          <DynButton label=\"Cancel\" kind=\"tertiary\" danger />\n        </div>\n      </div>\n\n      <div>\n        <h3 style={{ color: 'white', marginBottom: '1rem' }}>With Icons & States</h3>\n        <div style={{ display: 'flex', gap: '1rem', flexWrap: 'wrap' }}>\n          <DynButton label=\"Download\" icon=\"download\" />\n          <DynButton label=\"Loading\" loading kind=\"secondary\" />\n          <DynButton label=\"Disabled\" disabled kind=\"tertiary\" />\n        </div>\n      </div>\n    </div>\n  ),\n  parameters: {\n    ackgrounds: { default: 'dark' },\n    docs: {\n      description: {\n        story: 'Dark theme implementation showing how buttons adapt their colors and contrast ratios for optimal visibility and accessibility in dark environments. All accessibility standards are maintained across themes.',\n      },\n    },\n  },\n};\n\n/**\n * Responsive behavior demonstration for mobile and desktop.\n */\nexport const ResponsiveBehavior: Story = {\n  render: () => (\n    <div style={{ display: 'flex', flexDirection: 'column', gap: '2rem', maxWidth: '400px' }}>\n      <div>\n        <h3 style={{ marginBottom: '1rem' }}>Mobile Utilities</h3>\n        <p style={{ fontSize: '0.875rem', color: '#666', marginBottom: '1rem' }}>\n          Resize your browser window or use device preview to see responsive behavior\n        </p>\n        <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\n          <DynButton label=\"Hidden on mobile\" hideOnMobile icon=\"desktop\" />\n          <DynButton label=\"Settings\" icon=\"settings\" iconOnlyOnMobile />\n          <DynButton\n            label=\"Download Report\"\n            icon=\"download\"\n            iconOnlyOnMobile\n            kind=\"secondary\"\n          />\n        </div>\n      </div>\n\n      <div>\n        <h3 style={{ marginBottom: '1rem' }}>Touch Targets</h3>\n        <p style={{ fontSize: '0.875rem', color: '#666', marginBottom: '1rem' }}>\n          Buttons automatically meet minimum touch target requirements (44px) on mobile\n        </p>\n        <div style={{ display: 'flex', gap: '1rem' }}>\n          <DynButton icon=\"edit\" aria-label=\"Edit\" size=\"sm\" />\n          <DynButton icon=\"share\" aria-label=\"Share\" size=\"md\" />\n          <DynButton icon=\"bookmark\" aria-label=\"Bookmark\" size=\"lg\" />\n        </div>\n      </div>\n    </div>\n  ),\n  parameters: {\n    viewport: {\n      defaultViewport: 'mobile1',\n    },\n    docs: {\n      description: {\n        story: 'Responsive design features including mobile-specific utilities like `hideOnMobile` and `iconOnlyOnMobile`, plus automatic touch target sizing for better mobile accessibility.',\n      },\n    },\n  },\n};\n\n\n--- Styles (DynButton.module.css) ---\n/**\n * DynButton Component Styles\n * 100% Design Token Compliance\n * Unified Token Strategy: 3-Level Fallback Pattern\n */\n\n:root {\n  /* Color Tokens */\n  --dyn-button-bg: var(--dyn-button-root-backgroundColor, var(--dyn-theme-primary, #2563eb));\n  --dyn-button-color: var(--dyn-button-root-textColor, var(--dyn-semantic-text-inverse, #ffffff));\n  --dyn-button-border: var(--dyn-button-root-borderColor, var(--dyn-theme-primary, #2563eb));\n\n  /* Hover States */\n  --dyn-button-bg-hover: var(--dyn-button-root-hover-backgroundColor, var(--dyn-theme-primary-dark, #1e40af));\n  --dyn-button-color-hover: var(--dyn-button-root-hover-textColor, var(--dyn-semantic-text-inverse, #ffffff));\n  --dyn-button-border-hover: var(--dyn-button-root-hover-borderColor, var(--dyn-theme-primary-dark, #1e40af));\n\n  /* Active States */\n  --dyn-button-bg-active: var(--dyn-button-root-active-backgroundColor, var(--dyn-theme-primary-darker, #1e3a8a));\n  --dyn-button-color-active: var(--dyn-button-root-active-textColor, var(--dyn-semantic-text-inverse, #ffffff));\n  --dyn-button-border-active: var(--dyn-button-root-active-borderColor, var(--dyn-theme-primary-darker, #1e3a8a));\n\n  /* Disabled States */\n  --dyn-button-bg-disabled: var(--dyn-button-state-disabled-background, var(--dyn-neutral-light-300, #e0e0e0));\n  --dyn-button-color-disabled: var(--dyn-button-state-disabled-text, var(--dyn-neutral-mid-600, #757575));\n  --dyn-button-border-disabled: var(--dyn-button-state-disabled-background, var(--dyn-neutral-light-300, #e0e0e0));\n  --dyn-button-opacity-disabled: var(--dyn-button-state-disabled-opacity, var(--dyn-opacity-50, 0.5));\n\n  /* Sizing Tokens */\n  --dyn-button-padding-y: var(--dyn-spacing-sm, 0.625rem);\n  --dyn-button-padding-x: var(--dyn-spacing-md, 1.25rem);\n  --dyn-button-gap: var(--dyn-button-root-gap, var(--dyn-spacing-sm, 0.5rem));\n  --dyn-button-min-height: var(--dyn-button-size-minHeight-md, 2.75rem);\n  --dyn-button-font-size: var(--dyn-button-root-fontSize, var(--dyn-font-size-sm, 0.875rem));\n  --dyn-button-font-weight: var(--dyn-button-root-fontWeight, var(--dyn-font-weight-semibold, 600));\n  --dyn-button-border-radius: var(--dyn-button-root-borderRadius, var(--dyn-border-radius-md, 0.375rem));\n  --dyn-button-border-width: var(--dyn-button-root-borderWidth, var(--dyn-border-width-sm, 1px));\n\n  /* Effects */\n  --dyn-button-shadow: none;\n  --dyn-button-shadow-hover: var(--dyn-shadow-elevation-low, 0 1px 2px rgba(0, 0, 0, 0.05));\n  --dyn-button-shadow-active: none;\n  --dyn-button-shadow-focus: var(--dyn-semantic-border-focus, #3b82f6);\n  --dyn-button-transition: var(--dyn-button-root-transition, var(--dyn-duration-fast, 150ms)) var(--dyn-easing-ease-in-out, ease-in-out);\n}\n\n.root {\n  /* ==========================================================================\n     BASE STYLES\n     ========================================================================== */\n  position: relative;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  gap: var(--dyn-button-gap);\n  padding: var(--dyn-button-padding-y) var(--dyn-button-padding-x);\n  min-height: var(--dyn-button-min-height);\n  border-radius: var(--dyn-button-border-radius);\n  border: var(--dyn-button-border-width) solid var(--dyn-button-border);\n  background-color: var(--dyn-button-bg);\n  color: var(--dyn-button-color);\n  font-family: var(--dyn-font-family-base, inherit);\n  font-size: var(--dyn-button-font-size);\n  font-weight: var(--dyn-button-font-weight);\n  line-height: var(--dyn-typography-lineHeight-normal, 1.5);\n  text-decoration: none;\n  cursor: pointer;\n  user-select: none;\n  box-shadow: var(--dyn-button-shadow);\n  appearance: none;\n  transition: all var(--dyn-button-transition);\n}\n\n/* Firefox reset */\n.root::-moz-focus-inner {\n  border: 0;\n  padding: 0;\n}\n\n/* INTERACTIVE STATES */\n.root:focus-visible {\n  outline: var(--dyn-border-width-md, 0.125rem) solid var(--dyn-button-shadow-focus);\n  outline-offset: var(--dyn-spacing-2xs, 0.125rem);\n  z-index: 1;\n}\n\n.root:hover:not(:disabled):not(.loading) {\n  background-color: var(--dyn-button-bg-hover);\n  border-color: var(--dyn-button-border-hover);\n  color: var(--dyn-button-color-hover);\n  box-shadow: var(--dyn-button-shadow-hover);\n  transform: translateY(-1px);\n}\n\n.root:active:not(:disabled):not(.loading) {\n  background-color: var(--dyn-button-bg-active);\n  border-color: var(--dyn-button-border-active);\n  color: var(--dyn-button-color-active);\n  box-shadow: var(--dyn-button-shadow-active);\n  transform: translateY(0);\n}\n\n.root:disabled {\n  background-color: var(--dyn-button-bg-disabled);\n  border-color: var(--dyn-button-border-disabled);\n  color: var(--dyn-button-color-disabled);\n  cursor: not-allowed;\n  opacity: var(--dyn-button-opacity-disabled);\n  box-shadow: none;\n  transform: none;\n}\n\n/* ==========================================================================\n   KIND VARIANTS\n   ========================================================================== */\n\n.kindPrimary {\n  color: inherit;\n}\n\n.kindSecondary {\n  --dyn-button-bg: var(--dyn-button-color-secondary-background, var(--dyn-theme-secondary, #64748b));\n  --dyn-button-color: var(--dyn-button-color-secondary-text, var(--dyn-semantic-text-inverse, #ffffff));\n  --dyn-button-border: var(--dyn-button-color-secondary-border, var(--dyn-theme-secondary, #64748b));\n  --dyn-button-bg-hover: var(--dyn-button-color-secondary-hover-background, var(--dyn-theme-secondary-dark, #475569));\n  --dyn-button-border-hover: var(--dyn-button-color-secondary-hover-background, var(--dyn-theme-secondary-dark, #475569));\n  /* Ensure text remains readable on hover */\n  --dyn-button-color-hover: var(--dyn-button-color-secondary-text, var(--dyn-semantic-text-inverse, #ffffff));\n}\n\n.kindTertiary {\n  --dyn-button-bg: var(--dyn-button-color-tertiary-background, transparent);\n  --dyn-button-color: var(--dyn-button-color-tertiary-text, var(--dyn-theme-primary, #2563eb));\n  --dyn-button-border: var(--dyn-button-color-tertiary-border, transparent);\n  --dyn-button-bg-hover: var(--dyn-button-color-tertiary-hover-background, var(--dyn-semantic-surface-hover, #f3f4f6));\n  --dyn-button-border-hover: var(--dyn-button-color-tertiary-hover-background, var(--dyn-semantic-surface-hover, #f3f4f6));\n  --dyn-button-color-hover: var(--dyn-button-color-tertiary-text, var(--dyn-theme-primary, #2563eb));\n  --dyn-button-shadow-hover: none;\n}\n\n.kindSoft {\n  --dyn-button-bg: var(--dyn-theme-primary-subtle, rgba(37, 99, 235, 0.1));\n  --dyn-button-color: var(--dyn-theme-primary, #2563eb);\n  --dyn-button-border: transparent;\n  --dyn-button-bg-hover: var(--dyn-theme-primary-subtle, rgba(37, 99, 235, 0.2));\n  --dyn-button-border-hover: transparent;\n  --dyn-button-color-hover: var(--dyn-theme-primary-dark, #1d4ed8);\n}\n\n.kindOutline {\n  --dyn-button-bg: transparent;\n  --dyn-button-color: var(--dyn-theme-primary, #2563eb);\n  --dyn-button-border: var(--dyn-theme-primary, #2563eb);\n  --dyn-button-bg-hover: var(--dyn-theme-primary-subtle, rgba(37, 99, 235, 0.05));\n  --dyn-button-border-hover: var(--dyn-theme-primary-dark, #1d4ed8);\n  --dyn-button-color-hover: var(--dyn-theme-primary-dark, #1d4ed8);\n  --dyn-button-shadow-hover: none;\n}\n\n.danger,\n.colorDanger {\n  --dyn-button-bg: var(--dyn-feedback-negative-default, #dc2626);\n  --dyn-button-color: var(--dyn-semantic-text-inverse, #ffffff);\n  --dyn-button-border: var(--dyn-feedback-negative-default, #dc2626);\n  --dyn-button-bg-hover: var(--dyn-feedback-negative-dark, #b91c1c);\n  --dyn-button-border-hover: var(--dyn-feedback-negative-dark, #b91c1c);\n  --dyn-button-color-hover: var(--dyn-semantic-text-inverse, #ffffff);\n}\n\n.colorSuccess {\n  --dyn-button-bg: var(--dyn-feedback-positive, #10b981);\n  --dyn-button-color: var(--dyn-semantic-text-inverse, #ffffff);\n  --dyn-button-border: var(--dyn-feedback-positive, #10b981);\n  --dyn-button-bg-hover: var(--dyn-feedback-positive-dark, #059669);\n  --dyn-button-border-hover: var(--dyn-feedback-positive-dark, #059669);\n}\n\n.colorWarning {\n  --dyn-button-bg: var(--dyn-feedback-warning, #f59e0b);\n  --dyn-button-color: var(--dyn-semantic-text-inverse, #ffffff);\n  --dyn-button-border: var(--dyn-feedback-warning, #f59e0b);\n  --dyn-button-bg-hover: var(--dyn-feedback-warning-dark, #d97706);\n  --dyn-button-border-hover: var(--dyn-feedback-warning-dark, #d97706);\n}\n\n.colorInfo {\n  --dyn-button-bg: var(--dyn-feedback-info, #0ea5e9);\n  --dyn-button-color: var(--dyn-semantic-text-inverse, #ffffff);\n  --dyn-button-border: var(--dyn-feedback-info, #0ea5e9);\n  --dyn-button-bg-hover: var(--dyn-feedback-info-dark, #0284c7);\n  --dyn-button-border-hover: var(--dyn-feedback-info-dark, #0284c7);\n}\n\n/* Specific soft overrides for semantic colors */\n.kindSoft.colorDanger {\n  --dyn-button-bg: var(--dyn-feedback-negative-subtle, rgba(220, 38, 38, 0.12));\n  --dyn-button-color: var(--dyn-feedback-negative-default, #dc2626);\n  --dyn-button-bg-hover: var(--dyn-feedback-negative-subtle, rgba(220, 38, 38, 0.2));\n  --dyn-button-color-hover: var(--dyn-feedback-negative-dark, #b91c1c);\n}\n\n.kindSoft.colorSuccess {\n  --dyn-button-bg: var(--dyn-feedback-positive-subtle, rgba(16, 185, 129, 0.12));\n  --dyn-button-color: var(--dyn-feedback-positive, #10b981);\n  --dyn-button-bg-hover: var(--dyn-feedback-positive-subtle, rgba(16, 185, 129, 0.2));\n  --dyn-button-color-hover: var(--dyn-feedback-positive-dark, #059669);\n}\n\n.kindOutline.colorDanger {\n  --dyn-button-bg: transparent;\n  --dyn-button-color: var(--dyn-feedback-negative-default, #dc2626);\n  --dyn-button-border: var(--dyn-feedback-negative-default, #dc2626);\n  --dyn-button-bg-hover: var(--dyn-feedback-negative-subtle, rgba(220, 38, 38, 0.05));\n  --dyn-button-border-hover: var(--dyn-feedback-negative-dark, #b91c1c);\n  --dyn-button-color-hover: var(--dyn-feedback-negative-dark, #b91c1c);\n}\n\n/* ==========================================================================\n   SIZE VARIANTS\n   ========================================================================== */\n\n.sizeXs {\n  --dyn-button-padding-y: var(--dyn-spacing-2xs, 0.125rem);\n  --dyn-button-padding-x: var(--dyn-spacing-xs, 0.375rem);\n  --dyn-button-min-height: var(--dyn-button-size-minHeight-xs, 1.5rem);\n  --dyn-button-font-size: var(--dyn-button-size-fontSize-xs, var(--dyn-font-size-2xs, 0.6875rem));\n  --dyn-button-gap: var(--dyn-spacing-2xs, 0.25rem);\n}\n\n.sizeSm {\n  --dyn-button-padding-y: var(--dyn-spacing-xs, 0.25rem);\n  --dyn-button-padding-x: var(--dyn-button-size-padding-sm, var(--dyn-spacing-sm, 0.5rem));\n  --dyn-button-min-height: var(--dyn-button-size-minHeight-sm, 2rem);\n  --dyn-button-font-size: var(--dyn-button-size-fontSize-sm, var(--dyn-font-size-xs, 0.75rem));\n}\n\n.sizeMd {\n  /* Medium - default button size with explicit values */\n  --dyn-button-padding-y: var(--dyn-spacing-sm, 0.5rem);\n  --dyn-button-padding-x: var(--dyn-button-size-padding-md, var(--dyn-spacing-md, 1rem));\n  --dyn-button-min-height: var(--dyn-button-size-minHeight-md, 2.5rem);\n  --dyn-button-font-size: var(--dyn-button-size-fontSize-md, var(--dyn-font-size-sm, 0.875rem));\n}\n\n.sizeLg {\n  --dyn-button-padding-y: var(--dyn-spacing-md, 1rem);\n  --dyn-button-padding-x: var(--dyn-button-size-padding-lg, var(--dyn-spacing-lg, 1.5rem));\n  --dyn-button-min-height: var(--dyn-button-size-minHeight-lg, 3rem);\n  --dyn-button-font-size: var(--dyn-button-size-fontSize-lg, var(--dyn-font-size-md, 1rem));\n}\n\n/* ==========================================================================\n   UTILITY CLASSES\n   ========================================================================== */\n\n.fullWidth {\n  width: 100%;\n}\n\n.iconOnly {\n  padding-left: 0;\n  padding-right: 0;\n  width: var(--dyn-button-min-height);\n  min-width: var(--dyn-button-min-height);\n}\n\n.loading {\n  pointer-events: none;\n  cursor: wait;\n}\n\n.loading .content {\n  opacity: 0;\n}\n\n.visuallyHidden {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border: 0;\n}\n\n/* ==========================================================================\n   LAYOUT ELEMENTS\n   ========================================================================== */\n\n.content {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  gap: var(--dyn-button-gap);\n  white-space: nowrap;\n  line-height: inherit;\n  transition: opacity var(--dyn-button-transition);\n}\n\n.icon {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  line-height: 0;\n}\n\n.spinner {\n  position: absolute;\n  inset: 50% auto auto 50%;\n  width: var(--dyn-button-spinner-size, 1.25em);\n  height: var(--dyn-button-spinner-size, 1.25em);\n  border-radius: 50%;\n  border: var(--dyn-border-width-md, 2px) solid currentColor;\n  border-top-color: transparent;\n  animation: dynButtonSpin 0.8s linear infinite;\n  transform: translate(-50%, -50%);\n  z-index: 2;\n}\n\n@keyframes dynButtonSpin {\n  to {\n    transform: translate(-50%, -50%) rotate(360deg);\n  }\n}\n\n.loadingIndicator {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 1.25em;\n  height: 1.25em;\n  color: currentColor;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n/* REDUCED MOTION */\n@media (prefers-reduced-motion: reduce) {\n  .root {\n    transition: none;\n  }\n\n  .spinner {\n    animation: none;\n  }\n}\n\n@media (prefers-contrast: high) {\n  .root {\n    border-width: var(--dyn-border-width-md, 2px);\n  }\n\n  .root:focus-visible {\n    outline-width: var(--dyn-border-width-lg, 3px);\n  }\n}", "metadata": {"type": "ui_component", "name": "DynButton", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynButton"}, "embedding": [-0.023341592401266098, -0.05578538402915001, 0.013447740115225315, 0.020616166293621063, 0.01334101241081953, 0.09510929137468338, 0.05014165863394737, 0.08256301283836365, -0.07231348752975464, 0.05731311812996864, -0.06777030974626541, -0.04250014200806618, -0.03615497052669525, 0.061372656375169754, 0.05157961696386337, 0.04896906390786171, -0.050563111901283264, -0.07473259419202805, -0.026334339752793312, 0.04025622829794884, 0.08257251977920532, -0.05258318781852722, 0.060033366084098816, -0.060299552977085114, -0.06297948956489563, -0.01446460373699665, 0.041317470371723175, -0.0015423106960952282, 0.05290339142084122, 0.0017574686789885163, -0.03152788057923317, 0.03623709827661514, -0.01708628423511982, -0.03978880122303963, -0.07198327779769897, 0.031389471143484116, -0.03421592712402344, 0.03512059897184372, -0.00989755429327488, -0.011286195367574692, 0.014290749095380306, 0.04252736642956734, -0.007634564768522978, -0.0031387244816869497, 0.02646803855895996, -0.015693971887230873, -0.06339142471551895, 0.01100393757224083, -0.07902355492115021, -0.01229768991470337, 0.05206364020705223, -0.00713942339643836, 0.06067619472742081, -0.03805767372250557, 0.04341784864664078, 0.002556793624535203, -0.0013582813553512096, 0.03909718245267868, 0.0276693943887949, -0.005331676919013262, -0.014241543598473072, 1.881782191048842e-05, 0.008202734403312206, -0.06492473930120468, 0.03383278101682663, 0.14307518303394318, 0.029963674023747444, -0.027569839730858803, 0.017154712229967117, -0.08490151166915894, -0.0921362042427063, -0.03498973324894905, 0.03439709171652794, 0.037819698452949524, 0.02815398760139942, -0.14004653692245483, 0.04954422637820244, 0.03821063041687012, -0.022409236058592796, -0.023327473551034927, -0.01783744990825653, 0.007228422444313765, -0.07053626328706741, 0.06874941289424896, 0.032068561762571335, 0.12326491624116898, -0.030390821397304535, -0.009826279245316982, -0.06649817526340485, -0.027849197387695312, 0.0033855573274195194, -0.08130311965942383, -0.004783457610756159, 0.05193217843770981, 0.0555507056415081, 0.0036422088742256165, -0.05835802108049393, 0.04752502962946892, -0.040824614465236664, -0.031850896775722504, 0.04124245420098305, -0.04745665565133095, -0.06858443468809128, -0.03568315878510475, 0.025431325659155846, -0.013480088673532009, -0.011429703794419765, -0.10330768674612045, -0.05527830496430397, -0.02501530945301056, 0.00041328786755912006, 0.034635163843631744, -0.048640262335538864, -0.01464900840073824, 0.009433242492377758, -0.061363644897937775, -0.014372834004461765, -0.044915832579135895, 0.13845309615135193, -0.03005383536219597, 0.10611391812562943, -0.05186894163489342, 0.004269094206392765, 0.002983495593070984, 0.014552382752299309, 0.034984637051820755, 0.019283553585410118, 3.75075268092437e-33, -0.02302708476781845, 0.03858920559287071, -0.04962111636996269, -0.009538973681628704, 0.0011644145706668496, -0.0013072672300040722, 0.06522740423679352, -0.055170152336359024, -0.050290971994400024, -0.004079796373844147, -0.02452966198325157, 0.00224937591701746, -0.09246840327978134, -0.03406399488449097, -0.017106490209698677, -0.03524480760097504, 0.05033094435930252, 0.009185798466205597, -0.08119586110115051, -0.04041062667965889, 0.021547285839915276, 0.12619848549365997, -0.04472045227885246, 0.09008916467428207, 0.043267622590065, -0.023881379514932632, -0.0005222499021328986, 0.09533442556858063, -0.022982915863394737, -0.06183219328522682, 0.03159058466553688, -0.05930270999670029, 0.04719172418117523, 0.07251931726932526, -0.09414104372262955, -0.1022309735417366, -0.079324871301651, -0.03612249344587326, 0.0317266508936882, -0.04896685853600502, -0.07383836060762405, 0.0540294349193573, -0.024111472070217133, 0.04106094688177109, -0.020381387323141098, 0.06597526371479034, 0.04850861802697182, -0.05974654480814934, 0.04827210679650307, -0.06089083477854729, -0.023020563647150993, -0.0028000036254525185, 0.11061833053827286, -0.10950034856796265, 0.03872888162732124, -0.015425706282258034, 0.01554756611585617, 0.043647315353155136, 0.06751932948827744, 0.038022104650735855, -0.037234459072351456, -0.035802822560071945, 0.07473187148571014, -0.007852060720324516, -0.016817444935441017, 0.06313174962997437, -0.036474697291851044, -0.04566501826047897, 0.04196792095899582, -0.07195939123630524, 0.053439751267433167, 0.004323693457990885, -0.044825926423072815, -0.013313276693224907, 0.07267603278160095, -0.00651997746899724, 0.011761480011045933, 0.02601802721619606, 0.053825635462999344, -0.03992046043276787, -0.05143735930323601, 0.017514675855636597, -0.04896219074726105, 0.10407562553882599, 0.05314263701438904, -0.045750003308057785, -0.08454762399196625, -0.05306706205010414, 0.049926064908504486, 0.004834357649087906, -0.04895922914147377, -0.06958156079053879, -0.046691637486219406, -0.06243889033794403, -0.029711145907640457, -5.795160333588999e-33, -0.044245921075344086, 0.077432781457901, -0.06581880152225494, 0.02294648252427578, -0.05964267626404762, 0.023169059306383133, -0.02954816445708275, 0.03525887802243233, 0.04445214942097664, 0.03938182070851326, 0.008881941437721252, 0.0693216472864151, 0.01630704663693905, -0.0655025988817215, -0.10933110117912292, 0.12118836492300034, -0.033086203038692474, 0.07822419703006744, -0.009793753735721111, -0.0646701380610466, 0.03846312314271927, 0.002964586252346635, -0.021515952423214912, 0.04517417773604393, -0.041237443685531616, 0.04125870391726494, 0.039484113454818726, 0.04153316468000412, 0.03371037170290947, -0.06604450196027756, -0.0030468523036688566, 0.026116421446204185, 0.01986909657716751, 0.10346686094999313, 0.008618257939815521, -0.0949741005897522, -0.00805199146270752, -0.04144829884171486, -0.07773865759372711, 0.031716495752334595, -0.06109149754047394, 0.00014131332864053547, 0.08966174721717834, -0.02310614101588726, -0.044759154319763184, 0.012437413446605206, -0.003580238204449415, -0.019608037546277046, -0.0316196084022522, 0.02864290215075016, 0.04124434292316437, -0.04096687212586403, -0.02013498730957508, -0.03346068784594536, -0.08147215843200684, 0.0057690744288265705, 0.012789198197424412, -0.009613421745598316, 0.034887950867414474, 0.03570261597633362, 0.054587025195360184, -0.11771062761545181, -0.03084232471883297, 0.054683320224285126, -0.022522062063217163, -0.04337659478187561, -0.07604297250509262, -0.008388442918658257, 0.05407990515232086, 0.06115978583693504, 0.05103681609034538, 0.052072975784540176, 0.05693182349205017, -0.07121293991804123, 0.03881257027387619, -0.04921979457139969, 0.04846367985010147, 0.01646057330071926, 0.06287261098623276, 0.022428616881370544, -0.013717261143028736, 0.03722815960645676, 0.09263630211353302, 0.03644774854183197, -0.01294754259288311, 0.025542806833982468, 0.019976748153567314, 0.0753341019153595, 0.04863780364394188, 0.03688744083046913, -0.035130735486745834, 0.029995562508702278, -0.008369898423552513, 0.04376675933599472, 0.004984516184777021, -5.540963599059978e-08, 0.013557862490415573, -0.0031998378690332174, -0.039115339517593384, -0.06423352658748627, -0.03683638200163841, -0.11102056503295898, -0.05060606449842453, -0.05650755763053894, -0.03308606892824173, 0.06276024132966995, -0.03430857136845589, 0.07593867182731628, -0.02526276372373104, -0.03241048753261566, 0.03195487707853317, 0.02673388086259365, -0.03890586271882057, 0.03121873363852501, -0.05044423043727875, 0.0709947794675827, 0.05656365305185318, -0.03584927320480347, -0.08842671662569046, 0.05796961486339569, 0.07168560475111008, -0.04607845097780228, -0.04223376885056496, 0.08356066793203354, 0.07005295902490616, 0.04367239400744438, 0.00990382768213749, 0.004567274823784828, -0.012190526351332664, -0.06284970790147781, -0.048386141657829285, 0.011415925808250904, -0.02332903817296028, -0.03236565738916397, 0.0585547536611557, 0.06158403679728508, -0.03536545857787132, -0.10275465250015259, -0.018504144623875618, 0.06926916539669037, -0.025181451812386513, -0.034430116415023804, -0.12250389158725739, 0.010922507382929325, -0.0034116683527827263, 0.023873204365372658, 0.020132916048169136, -0.029002727940678596, -0.07461903244256973, 0.03587497025728226, -0.00585584482178092, 0.0010964949615299702, -0.07817572355270386, 0.08183256536722183, 0.09544386714696884, -0.049442511051893234, 0.03854367509484291, 0.024091411381959915, 0.0423220656812191, -0.029419440776109695]}, {"id": "dyn_ui_component_DynChart", "text": "# Component: DynChart\n\n--- Types (DynChart.types.ts) ---\nimport type { BaseComponentProps } from '../../types';\n\nexport interface ChartDataPoint {\n  label?: string;\n  value: number;\n  color?: string;\n}\n\nexport interface ChartSeries {\n  name: string;\n  data: ChartDataPoint[];\n  color?: string;\n}\n\nexport interface ChartAxis {\n  title?: string;\n  min?: number;\n  max?: number;\n  showLabels?: boolean;\n}\n\nexport type ChartType = 'line' | 'bar' | 'pie' | 'area';\n\nexport type DynChartData = ChartDataPoint[] | ChartSeries[];\n\nexport interface DynChartOptions {\n  showLegend?: boolean;\n  showTooltip?: boolean;\n  showGrid?: boolean;\n}\n\nexport interface DynChartProps extends BaseComponentProps, DynChartOptions {\n  /** Chart type */\n  type?: ChartType;\n\n  /** Chart data - can be array of data points or series */\n  data?: DynChartData;\n\n  /** Chart title */\n  title?: string;\n\n  /** Chart subtitle */\n  subtitle?: string;\n\n  /** Chart width in pixels */\n  width?: number;\n\n  /** Chart height in pixels */\n  height?: number;\n\n  /** Color palette for chart elements */\n  colors?: string[];\n\n  /** X axis configuration */\n  xAxis?: ChartAxis;\n\n  /** Y axis configuration */\n  yAxis?: ChartAxis;\n\n  /** Chart description - visible caption displayed below the chart and accessible to assistive technologies */\n  ariaDescription?: string;\n}\n\nexport interface NormalizedChartSeries extends ChartSeries {\n  color: string;\n}\n\nexport interface DynChartLegendItem {\n  id: string;\n  label: string;\n  color: string;\n  seriesIndex: number;\n}\n\nexport type DynChartDefaultProps = Required<\n  Pick<\n    DynChartProps,\n    'type' | 'data' | 'width' | 'height' | 'colors' | 'showLegend' | 'showTooltip' | 'showGrid'\n  >\n>;\n\nexport const DYN_CHART_DEFAULT_PROPS: DynChartDefaultProps = {\n  type: 'line',\n  data: [],\n  width: 400,\n  height: 300,\n  colors: ['#0066cc', '#00b248', '#f44336', '#ff9800', '#9c27b0'],\n  showLegend: true,\n  showTooltip: true,\n  showGrid: true,\n};\n\nexport type DynChartType = DynChartProps;\n\n\n--- Component (DynChart.tsx) ---\nimport {\n  forwardRef,\n  useCallback,\n  useEffect,\n  useId,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport type { MouseEvent } from 'react';\nimport { cn } from '../../utils/classNames';\nimport { DYN_CHART_DEFAULT_PROPS, DynChartProps } from './DynChart.types';\nimport {\n  buildLegendItems,\n  calculateChartDimensions,\n  calculateDataRanges,\n  getEmptyStateMessage,\n  normalizeSeries,\n} from './DynChart.utils';\nimport styles from './DynChart.module.css';\n\ntype TooltipTarget =\n  | {\n    kind: 'point';\n    x: number;\n    y: number;\n    radius: number;\n    value: number;\n    label?: string;\n    series: string;\n    color: string;\n  }\n  | {\n    kind: 'bar';\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n    value: number;\n    label?: string;\n    series: string;\n    color: string;\n  }\n  | {\n    kind: 'slice';\n    startAngle: number;\n    endAngle: number;\n    centerX: number;\n    centerY: number;\n    radius: number;\n    value: number;\n    label?: string;\n    series: string;\n    color: string;\n    percentage: number;\n  };\n\ninterface TooltipState {\n  visible: boolean;\n  x: number;\n  y: number;\n  value: number;\n  label?: string;\n  series?: string;\n  color?: string;\n  percentage?: number;\n}\n\nconst normalizeAngle = (angle: number) => {\n  const twoPi = Math.PI * 2;\n  const normalized = angle % twoPi;\n  return normalized >= 0 ? normalized : normalized + twoPi;\n};\n\n// const createTooltipState = (\n//   target: TooltipTarget,\n//   offsetX: number,\n//   offsetY: number\n// ): TooltipState => {\n//   const nextState: TooltipState = {\n//     visible: true,\n//     x: offsetX + 12,\n//     y: offsetY - 12,\n//     value: target.value,\n//   };\n\n//   if (typeof target.series === 'string' && target.series.length > 0) {\n//     nextState.series = target.series;\n//   }\n\n//   if (typeof target.color === 'string' && target.color.length > 0) {\n//     nextState.color = target.color;\n//   }\n\n//   if (typeof target.label === 'string' && target.label.length > 0) {\n//     nextState.label = target.label;\n//   }\n\n//   if (target.kind === 'slice') {\n//     nextState.percentage = target.percentage;\n//   }\n\n//   return nextState;\n// };\n\nconst typeClassNameMap: Record<'line' | 'bar' | 'pie' | 'area', string | undefined> = {\n  line: styles.typeLine,\n  bar: styles.typeBar,\n  pie: styles.typePie,\n  area: styles.typeArea,\n};\n\nconst DynChart = forwardRef<HTMLDivElement, DynChartProps>((props, ref) => {\n  const {\n    type = DYN_CHART_DEFAULT_PROPS.type,\n    data = DYN_CHART_DEFAULT_PROPS.data,\n    title,\n    subtitle,\n    width = DYN_CHART_DEFAULT_PROPS.width,\n    height = DYN_CHART_DEFAULT_PROPS.height,\n    colors = DYN_CHART_DEFAULT_PROPS.colors,\n    showLegend = DYN_CHART_DEFAULT_PROPS.showLegend,\n    showTooltip = DYN_CHART_DEFAULT_PROPS.showTooltip,\n    showGrid = DYN_CHART_DEFAULT_PROPS.showGrid,\n    xAxis,\n    yAxis,\n    ariaDescription,\n    className,\n    id,\n    children,\n    'data-testid': dataTestId,\n    ...rest\n  } = props;\n\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const tooltipTargetsRef = useRef<TooltipTarget[]>([]);\n  const [tooltipState, setTooltipState] = useState<TooltipState>({\n    visible: false,\n    x: 0,\n    y: 0,\n    value: 0,\n  });\n\n  const instanceId = useId();\n  const titleId = title ? `${id ?? instanceId}-title` : undefined;\n  const subtitleId = subtitle ? `${id ?? instanceId}-subtitle` : undefined;\n  const descriptionId = ariaDescription ? `${id ?? instanceId}-description` : undefined;\n\n  const normalizedData = useMemo(\n    () => normalizeSeries(data, colors),\n    [data, colors]\n  );\n\n  const chartDimensions = useMemo(\n    () => calculateChartDimensions(width, height),\n    [width, height]\n  );\n\n  const dataRanges = useMemo(\n    () => calculateDataRanges(normalizedData, yAxis),\n    [normalizedData, yAxis]\n  );\n\n  const legendItems = useMemo(\n    () => buildLegendItems(normalizedData),\n    [normalizedData]\n  );\n\n  const emptyStateMessage = useMemo(\n    () => getEmptyStateMessage(normalizedData),\n    [normalizedData]\n  );\n\n  const hideTooltip = useCallback(() => {\n    setTooltipState(prev => (prev.visible ? { ...prev, visible: false } : prev));\n  }, []);\n\n  const findTooltipTarget = useCallback((x: number, y: number) => {\n    for (const target of tooltipTargetsRef.current) {\n      if (target.kind === 'point') {\n        const distance = Math.hypot(x - target.x, y - target.y);\n        if (distance <= target.radius + 6) {\n          return target;\n        }\n      } else if (target.kind === 'bar') {\n        if (\n          x >= target.x &&\n          x <= target.x + target.width &&\n          y >= target.y &&\n          y <= target.y + target.height\n        ) {\n          return target;\n        }\n      } else if (target.kind === 'slice') {\n        const dx = x - target.centerX;\n        const dy = y - target.centerY;\n        const distance = Math.hypot(dx, dy);\n\n        if (distance > target.radius) {\n          continue;\n        }\n\n        const angle = normalizeAngle(Math.atan2(dy, dx));\n        const start = normalizeAngle(target.startAngle);\n        const end = normalizeAngle(target.endAngle);\n\n        if (end < start) {\n          if (angle >= start || angle <= end) {\n            return target;\n          }\n        } else if (angle >= start && angle <= end) {\n          return target;\n        }\n      }\n    }\n\n    return undefined;\n  }, []);\n\n  const handleMouseMove = useCallback(\n    (event: MouseEvent<HTMLCanvasElement>) => {\n      if (!showTooltip) {\n        return;\n      }\n\n      const { offsetX, offsetY } = event.nativeEvent;\n      const target = findTooltipTarget(offsetX, offsetY);\n\n      if (!target) {\n        hideTooltip();\n        return;\n      }\n\n      setTooltipState(prev => {\n        const nextState: TooltipState = {\n          visible: true,\n          x: offsetX + 12,\n          y: offsetY - 12,\n          value: target.value,\n          series: target.series,\n          color: target.color,\n        };\n        if (target.kind === 'slice') {\n          nextState.percentage = target.percentage;\n        }\n\n        if (typeof target.label === 'string' && target.label.length > 0) {\n          nextState.label = target.label;\n        }\n\n        if (\n          prev.visible &&\n          prev.x === nextState.x &&\n          prev.y === nextState.y &&\n          prev.value === nextState.value &&\n          prev.label === nextState.label &&\n          prev.series === nextState.series &&\n          prev.color === nextState.color &&\n          prev.percentage === nextState.percentage\n        ) {\n          return prev;\n        }\n\n        return nextState;\n      });\n    },\n    [findTooltipTarget, hideTooltip, showTooltip]\n  );\n\n  const handleMouseLeave = useCallback(() => {\n    if (!showTooltip) {\n      return;\n    }\n\n    hideTooltip();\n  }, [hideTooltip, showTooltip]);\n\n  useEffect(() => {\n    if (!showTooltip) {\n      hideTooltip();\n    }\n  }, [hideTooltip, showTooltip]);\n\n  useEffect(() => () => hideTooltip(), [hideTooltip]);\n\n  // Read theme colors from CSS variables\n  const getThemeColors = useCallback(() => {\n    if (!canvasRef.current) return { grid: '#e0e0e0', axis: '#333', text: '#666', primaryText: '#000', contrastText: '#fff', fontSize: '12px' };\n    const style = getComputedStyle(canvasRef.current);\n    return {\n      grid: style.getPropertyValue('--dyn-chart-grid') || '#e0e0e0',\n      axis: style.getPropertyValue('--dyn-chart-axis') || '#333',\n      text: style.getPropertyValue('--dyn-chart-text-secondary') || '#666',\n      primaryText: style.getPropertyValue('--dyn-chart-text-primary') || '#000',\n      contrastText: style.getPropertyValue('--dyn-chart-contrast-text') || '#fff',\n      fontSize: style.getPropertyValue('--dyn-chart-font-size') || '12px',\n    };\n  }, []);\n\n  const drawGrid = useCallback(\n    (ctx: CanvasRenderingContext2D) => {\n      if (!showGrid || type === 'pie') return;\n\n      const colors = getThemeColors();\n      const { padding, chartWidth, chartHeight } = chartDimensions;\n\n      ctx.save();\n      ctx.strokeStyle = colors.grid;\n      ctx.lineWidth = 1;\n      ctx.setLineDash([2, 2]);\n\n      for (let i = 0; i <= 5; i++) {\n        const y = padding.top + (chartHeight / 5) * i;\n        ctx.beginPath();\n        ctx.moveTo(padding.left, y);\n        ctx.lineTo(padding.left + chartWidth, y);\n        ctx.stroke();\n      }\n\n      const maxDataPoints = normalizedData.length\n        ? Math.max(...normalizedData.map(series => series.data.length))\n        : 0;\n\n      if (maxDataPoints > 1) {\n        const stepCount = Math.min(maxDataPoints - 1, 10);\n        for (let i = 0; i <= stepCount; i++) {\n          const x = padding.left + (chartWidth / stepCount) * i;\n          ctx.beginPath();\n          ctx.moveTo(x, padding.top);\n          ctx.lineTo(x, padding.top + chartHeight);\n          ctx.stroke();\n        }\n      }\n\n      ctx.restore();\n    },\n    [chartDimensions, getThemeColors, normalizedData, showGrid, type]\n  );\n\n  const drawAxes = useCallback(\n    (ctx: CanvasRenderingContext2D) => {\n      if (type === 'pie') return;\n\n      const colors = getThemeColors();\n      const { padding, chartWidth, chartHeight } = chartDimensions;\n\n      ctx.save();\n      ctx.strokeStyle = colors.axis;\n      ctx.lineWidth = 2;\n\n      ctx.beginPath();\n      ctx.moveTo(padding.left, padding.top + chartHeight);\n      ctx.lineTo(padding.left + chartWidth, padding.top + chartHeight);\n      ctx.stroke();\n\n      ctx.beginPath();\n      ctx.moveTo(padding.left, padding.top);\n      ctx.lineTo(padding.left, padding.top + chartHeight);\n      ctx.stroke();\n\n      ctx.fillStyle = colors.primaryText; // Use primary text for axes\n      ctx.font = `500 ${colors.fontSize} Arial`;\n      ctx.textAlign = 'center';\n\n      if (xAxis?.title) {\n        ctx.fillText(xAxis.title, padding.left + chartWidth / 2, chartDimensions.totalHeight - 10);\n      }\n\n      if (yAxis?.title) {\n        ctx.save();\n        ctx.translate(15, padding.top + chartHeight / 2);\n        ctx.rotate(-Math.PI / 2);\n        ctx.fillText(yAxis.title, 0, 0);\n        ctx.restore();\n      }\n\n      ctx.textAlign = 'right';\n      ctx.font = `${colors.fontSize} Arial`; // Axis values can be regular weight\n      for (let i = 0; i <= 5; i++) {\n        const value = dataRanges.minY + ((dataRanges.maxY - dataRanges.minY) / 5) * (5 - i);\n        const y = padding.top + (chartHeight / 5) * i;\n        ctx.fillText(value.toFixed(1), padding.left - 10, y + 5);\n      }\n\n      ctx.restore();\n    },\n    [chartDimensions, dataRanges, getThemeColors, type, xAxis?.title, yAxis?.title]\n  );\n\n  const drawLineOrAreaChart = useCallback(\n    (ctx: CanvasRenderingContext2D, variant: 'line' | 'area') => {\n      const { padding, chartWidth, chartHeight } = chartDimensions;\n      const yRange = Math.max(dataRanges.maxY - dataRanges.minY || 0, 1);\n\n      normalizedData.forEach((series, seriesIndex) => {\n        const color = series.color || colors[seriesIndex % colors.length] || '#0066cc';\n\n        ctx.strokeStyle = color;\n        ctx.fillStyle = color;\n        ctx.lineWidth = 3;\n        ctx.lineCap = 'round';\n        ctx.lineJoin = 'round';\n\n        if (series.data.length === 0) return;\n\n        ctx.beginPath();\n\n        series.data.forEach((point, index) => {\n          const x = padding.left + (chartWidth / Math.max(series.data.length - 1, 1)) * index;\n          const y =\n            padding.top +\n            chartHeight -\n            ((point.value - dataRanges.minY) / yRange) * chartHeight;\n\n          if (index === 0) {\n            ctx.moveTo(x, y);\n          } else {\n            ctx.lineTo(x, y);\n          }\n        });\n\n        if (variant === 'area') {\n          const lastX =\n            padding.left +\n            (chartWidth / Math.max(series.data.length - 1, 1)) * (series.data.length - 1);\n          const firstX = padding.left;\n          const baseY = padding.top + chartHeight;\n\n          ctx.lineTo(lastX, baseY);\n          ctx.lineTo(firstX, baseY);\n          ctx.closePath();\n          ctx.globalAlpha = 0.15;\n          ctx.fill();\n          ctx.globalAlpha = 1;\n        }\n\n        ctx.stroke();\n\n        series.data.forEach((point, index) => {\n          const x = padding.left + (chartWidth / Math.max(series.data.length - 1, 1)) * index;\n          const y =\n            padding.top +\n            chartHeight -\n            ((point.value - dataRanges.minY) / yRange) * chartHeight;\n\n          ctx.beginPath();\n          ctx.arc(x, y, 4, 0, 2 * Math.PI);\n          ctx.fill();\n\n          if (showTooltip) {\n            tooltipTargetsRef.current.push({\n              kind: 'point',\n              x,\n              y,\n              radius: 6,\n              value: point.value,\n              label: point.label ?? `Point ${index + 1}`,\n              series: series.name,\n              color,\n            });\n          }\n        });\n      });\n    },\n    [chartDimensions, colors, dataRanges, normalizedData, showTooltip]\n  );\n\n  const drawBarChart = useCallback(\n    (ctx: CanvasRenderingContext2D) => {\n      const { padding, chartWidth, chartHeight } = chartDimensions;\n      const yRange = Math.max(dataRanges.maxY - dataRanges.minY || 0, 1);\n\n      if (!normalizedData.length) return;\n\n      const maxDataPoints = normalizedData[0]?.data.length || 0;\n      if (maxDataPoints === 0) return;\n\n      const groupWidth = chartWidth / maxDataPoints;\n      const barWidth = groupWidth * 0.8;\n      const barSpacing = groupWidth * 0.2;\n\n      normalizedData.forEach((series, seriesIndex) => {\n        const color = series.color || colors[seriesIndex % colors.length] || '#0066cc';\n        ctx.fillStyle = color;\n\n        series.data.forEach((point, index) => {\n          const x =\n            padding.left +\n            groupWidth * index +\n            barSpacing / 2 +\n            (barWidth / normalizedData.length) * seriesIndex;\n          const individualWidth = barWidth / Math.max(normalizedData.length, 1);\n          const barHeight = ((point.value - dataRanges.minY) / yRange) * chartHeight;\n          const y = padding.top + chartHeight - barHeight;\n\n          ctx.fillRect(x, y, individualWidth, barHeight);\n\n          if (showTooltip) {\n            tooltipTargetsRef.current.push({\n              kind: 'bar',\n              x,\n              y,\n              width: individualWidth,\n              height: barHeight,\n              value: point.value,\n              label: point.label ?? `Category ${index + 1}`,\n              series: series.name,\n              color,\n            });\n          }\n        });\n      });\n    },\n    [chartDimensions, colors, dataRanges, normalizedData, showTooltip]\n  );\n\n  const drawPieChart = useCallback(\n    (ctx: CanvasRenderingContext2D) => {\n      const { chartWidth, chartHeight } = chartDimensions;\n      const centerX = width / 2;\n      const centerY = height / 2;\n      const radius = Math.min(chartWidth, chartHeight) / 3;\n\n      if (!normalizedData.length) return;\n\n      const series = normalizedData[0];\n      const dataPoints = series?.data ?? [];\n      const total = dataPoints.reduce((sum, point) => sum + point.value, 0);\n\n      if (total === 0) return;\n\n      let currentAngle = -Math.PI / 2;\n\n      dataPoints.forEach((point, index) => {\n        const sliceAngle = (point.value / total) * 2 * Math.PI;\n        const color = point.color || colors[index % colors.length] || '#0066cc';\n        const nextAngle = currentAngle + sliceAngle;\n        const percentage = total ? (point.value / total) * 100 : 0;\n\n        ctx.fillStyle = color;\n        ctx.beginPath();\n        ctx.moveTo(centerX, centerY);\n        ctx.arc(centerX, centerY, radius, currentAngle, nextAngle);\n        ctx.closePath();\n        ctx.fill();\n\n        if (point.value / total > 0.05) {\n          const labelAngle = currentAngle + sliceAngle / 2;\n          const labelX = centerX + Math.cos(labelAngle) * (radius * 0.7);\n          const labelY = centerY + Math.sin(labelAngle) * (radius * 0.7);\n\n          // Use white text with a slight glow/shadow for maximum contrast on any slice color\n          ctx.save();\n          ctx.fillStyle = '#ffffff';\n          ctx.shadowBlur = 4;\n          ctx.shadowColor = 'rgba(0,0,0,0.7)';\n          ctx.font = `bold 13px Arial`; // Fixed slightly larger size for readability\n          ctx.textAlign = 'center';\n          ctx.textBaseline = 'middle';\n\n          // Subtle stroke for extra definition\n          ctx.strokeStyle = 'rgba(0,0,0,0.2)';\n          ctx.lineWidth = 2;\n          ctx.strokeText(`${percentage.toFixed(1)}%`, labelX, labelY);\n          ctx.fillText(`${percentage.toFixed(1)}%`, labelX, labelY);\n          ctx.restore();\n        }\n\n        if (showTooltip) {\n          tooltipTargetsRef.current.push({\n            kind: 'slice',\n            startAngle: currentAngle,\n            endAngle: nextAngle,\n            centerX,\n            centerY,\n            radius,\n            value: point.value,\n            label: point.label ?? '',\n            series: series?.name ?? 'Series 1',\n            color,\n            percentage,\n          });\n        }\n\n        currentAngle = nextAngle;\n      });\n    },\n    [chartDimensions, colors, height, normalizedData, showTooltip, width]\n  );\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) {\n      return;\n    }\n\n    const context = canvas.getContext('2d');\n    if (!context) {\n      return;\n    }\n\n    canvas.width = chartDimensions.totalWidth;\n    canvas.height = chartDimensions.totalHeight;\n\n    tooltipTargetsRef.current = [];\n    hideTooltip();\n\n    context.clearRect(0, 0, chartDimensions.totalWidth, chartDimensions.totalHeight);\n\n    if (!normalizedData.length) {\n      return;\n    }\n\n    drawGrid(context);\n    drawAxes(context);\n\n    switch (type) {\n      case 'line':\n        drawLineOrAreaChart(context, 'line');\n        break;\n      case 'area':\n        drawLineOrAreaChart(context, 'area');\n        break;\n      case 'bar':\n        drawBarChart(context);\n        break;\n      case 'pie':\n        drawPieChart(context);\n        break;\n      default:\n        drawLineOrAreaChart(context, 'line');\n    }\n  }, [\n    chartDimensions,\n    drawAxes,\n    drawBarChart,\n    drawGrid,\n    drawLineOrAreaChart,\n    drawPieChart,\n    hideTooltip,\n    normalizedData,\n    type,\n  ]);\n\n  const canvasAriaLabel = title ?? 'Chart visualization';\n  const describedBy = [subtitle ? subtitleId : undefined, ariaDescription ? descriptionId : undefined]\n    .filter(Boolean)\n    .join(' ');\n\n  return (\n    <div\n      {...rest}\n      ref={ref}\n      id={id}\n      data-testid={dataTestId}\n      className={cn(styles.root, typeClassNameMap[type], className)}\n    >\n      <figure className={styles.figure} aria-labelledby={titleId} aria-describedby={describedBy || undefined}>\n        {(title || subtitle) && (\n          <header className={styles.header}>\n            {title && (\n              <h3 id={titleId} className={styles.title}>\n                {title}\n              </h3>\n            )}\n            {subtitle && (\n              <p id={subtitleId} className={styles.subtitle}>\n                {subtitle}\n              </p>\n            )}\n          </header>\n        )}\n\n        <div className={styles.content}>\n          <canvas\n            ref={canvasRef}\n            className={styles.canvas}\n            role=\"img\"\n            aria-label={canvasAriaLabel}\n            aria-describedby={describedBy || undefined}\n            width={chartDimensions.totalWidth}\n            height={chartDimensions.totalHeight}\n            style={{ width, height }}\n            onMouseMove={showTooltip ? handleMouseMove : undefined}\n            onMouseLeave={showTooltip ? handleMouseLeave : undefined}\n          />\n\n          {showTooltip && (\n            <div\n              className={styles.tooltip}\n              data-visible={tooltipState.visible}\n              aria-hidden={!tooltipState.visible}\n              style={{\n                left: `${tooltipState.x}px`,\n                top: `${tooltipState.y}px`,\n              }}\n            >\n              {(tooltipState.series || tooltipState.color || typeof tooltipState.percentage === 'number') && (\n                <div className={styles.tooltipHeader}>\n                  {tooltipState.color && (\n                    <span\n                      className={styles.tooltipColor}\n                      style={{ backgroundColor: tooltipState.color }}\n                    />\n                  )}\n                  {tooltipState.series && (\n                    <span className={styles.tooltipSeries}>{tooltipState.series}</span>\n                  )}\n                  {typeof tooltipState.percentage === 'number' && (\n                    <span className={styles.tooltipPercentage}>\n                      {tooltipState.percentage.toFixed(1)}%\n                    </span>\n                  )}\n                </div>\n              )}\n              <div className={styles.tooltipValue}>{tooltipState.value}</div>\n              {tooltipState.label && <div className={styles.tooltipLabel}>{tooltipState.label}</div>}\n            </div>\n          )}\n\n          {emptyStateMessage && (\n            <p className={styles.emptyState} role=\"status\">\n              {emptyStateMessage}\n            </p>\n          )}\n        </div>\n\n        {showLegend && legendItems.length > 0 && (\n          <div className={styles.legend} role=\"list\">\n            {legendItems.map(item => (\n              <div key={item.id} className={styles.legendItem} role=\"listitem\">\n                <span\n                  className={styles.legendColor}\n                  style={{ backgroundColor: normalizedData[item.seriesIndex]?.color || colors[item.seriesIndex % colors.length] }}\n                />\n                <span className={styles.legendLabel}>{item.label}</span>\n              </div>\n            ))}\n          </div>\n        )}\n\n        {children}\n\n        {ariaDescription && (\n          <figcaption id={descriptionId} className={styles.description}>\n            {ariaDescription}\n          </figcaption>\n        )}\n      </figure>\n    </div>\n  );\n});\n\nDynChart.displayName = 'DynChart';\n\nexport { DynChart };\nexport default DynChart;\n\n\n--- Usage Examples (DynChart.stories.tsx) ---\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { DynChart } from './DynChart';\nimport type { ChartDataPoint, ChartSeries, DynChartProps } from './DynChart.types';\n\nconst sampleDataPoints: ChartDataPoint[] = [\n  { label: 'Jan', value: 65 },\n  { label: 'Feb', value: 78 },\n  { label: 'Mar', value: 52 },\n  { label: 'Apr', value: 89 },\n  { label: 'May', value: 94 },\n  { label: 'Jun', value: 71 },\n];\n\nconst multiSeriesData: ChartSeries[] = [\n  {\n    name: 'Revenue',\n    data: sampleDataPoints,\n    color: '#0066cc',\n  },\n  {\n    name: 'Costs',\n    data: sampleDataPoints.map(point => ({ ...point, value: point.value * 0.7 })),\n    color: '#f44336',\n  },\n  {\n    name: 'Profit',\n    data: sampleDataPoints.map(point => ({ ...point, value: point.value * 0.3 })),\n    color: '#00b248',\n  },\n];\n\nconst pieData: ChartDataPoint[] = [\n  { label: 'Desktop', value: 45, color: '#0066cc' },\n  { label: 'Mobile', value: 35, color: '#00b248' },\n  { label: 'Tablet', value: 15, color: '#f44336' },\n  { label: 'Other', value: 5, color: '#ff9800' },\n];\n\nconst meta = {\n  title: 'Data Display/DynChart',\n  component: DynChart,\n  parameters: {\n    layout: 'centered',\n    docs: {\n      description: {\n        component:\n          'A versatile chart component that supports line, bar, pie and area visualisations with dynamic styling, built-in legend and tooltip support.',\n      },\n    },\n  },\n  tags: ['autodocs'],\n  argTypes: {\n    children: {\n      table: {\n        disable: true,\n      },\n    },\n    type: {\n      control: { type: 'select' },\n      options: ['line', 'bar', 'pie', 'area'],\n      description: 'Select the chart visualisation variant.',\n      table: {\n        category: 'Appearance',\n      },\n    },\n    title: {\n      control: 'text',\n      description: 'Chart title used for visual and accessible labelling.',\n      table: {\n        category: 'Content',\n      },\n    },\n    subtitle: {\n      control: 'text',\n      description: 'Optional subtitle displayed below the title.',\n      table: {\n        category: 'Content',\n      },\n    },\n    ariaDescription: {\n      control: 'text',\n      description: 'Descriptive text exposed to assistive technologies via figcaption.',\n      table: {\n        category: 'Accessibility',\n      },\n    },\n    width: {\n      control: { type: 'number', min: 200, max: 1000 },\n      description: 'Canvas width in pixels.',\n      table: {\n        category: 'Layout',\n      },\n    },\n    height: {\n      control: { type: 'number', min: 150, max: 600 },\n      description: 'Canvas height in pixels.',\n      table: {\n        category: 'Layout',\n      },\n    },\n    showLegend: {\n      control: 'boolean',\n      description: 'Toggle the legend visibility.',\n      table: {\n        category: 'Appearance',\n      },\n    },\n    showTooltip: {\n      control: 'boolean',\n      description: 'Toggle tooltip interactions.',\n      table: {\n        category: 'Appearance',\n      },\n    },\n    showGrid: {\n      control: 'boolean',\n      description: 'Toggle axis grid rendering (non-pie charts).',\n      table: {\n        category: 'Appearance',\n      },\n    },\n  },\n  args: {\n    data: sampleDataPoints,\n    type: 'line',\n    title: 'Monthly Sales',\n    subtitle: 'Sales performance over six months',\n    width: 500,\n    height: 300,\n    showLegend: true,\n    showTooltip: true,\n    showGrid: true,\n  } satisfies DynChartProps,\n} satisfies Meta<typeof DynChart>;\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\nexport const Default: Story = {};\n\nexport const Line: Story = {\n  args: {\n    type: 'line',\n    title: 'Trend Line',\n    data: sampleDataPoints,\n  },\n};\n\nexport const Bar: Story = {\n  args: {\n    type: 'bar',\n    title: 'Bar Comparison',\n    data: sampleDataPoints,\n  },\n};\n\nexport const Pie: Story = {\n  args: {\n    type: 'pie',\n    title: 'Device Usage Distribution',\n    subtitle: 'Percentage of users by device type',\n    data: pieData,\n    width: 400,\n    height: 400,\n    showGrid: false,\n  },\n};\n\nexport const Area: Story = {\n  args: {\n    type: 'area',\n    title: 'Area Highlight',\n    data: sampleDataPoints,\n  },\n};\n\nexport const MultiSeries: Story = {\n  args: {\n    type: 'line',\n    title: 'Financial Performance',\n    subtitle: 'Revenue, costs and profit over time',\n    data: multiSeriesData,\n    width: 640,\n    height: 360,\n  },\n};\n\nexport const NoLegend: Story = {\n  args: {\n    showLegend: false,\n  },\n};\n\nexport const NoTooltip: Story = {\n  args: {\n    showTooltip: false,\n  },\n};\n\nexport const CustomColors: Story = {\n  args: {\n    colors: ['#ff6b6b', '#4ecdc4', '#45b7d1', '#96ceb4', '#ffeaa7'],\n  },\n};\n\nexport const EmptyState: Story = {\n  args: {\n    data: [],\n    title: 'No Data Example',\n  },\n};\n\nexport const WithDescription: Story = {\n  args: {\n    ariaDescription: 'This chart compares revenue, costs and profit for the last six months.',\n  },\n};\n\n\n--- Styles (DynChart.module.css) ---\n/**\n * DynChart Component Styles - Option B: Full Token Integration\n * 100% Design Token Compliance\n */\n\n.root {\n  /* Component Tokens - 3-level fallback */\n  --dyn-chart-bg: var(--dyn-chart-background, var(--dyn-semantic-background, #ffffff));\n  --dyn-chart-border: var(--dyn-chart-border-color, var(--dyn-semantic-border, #e2e8f0));\n  --dyn-chart-text-primary: var(--dyn-chart-text, var(--dyn-semantic-text, #0f172a));\n  --dyn-chart-text-secondary: var(--dyn-chart-text-muted, var(--dyn-semantic-text-secondary, #475569));\n  --dyn-chart-grid: var(--dyn-chart-grid-color, var(--dyn-semantic-border-subtle, #e2e8f0));\n  --dyn-chart-axis: var(--dyn-chart-axis-color, var(--dyn-semantic-border-strong, #64748b));\n  --dyn-chart-radius: var(--dyn-chart-border-radius, var(--dyn-border-radius-md, 0.5rem));\n  --dyn-chart-font-size: var(--dyn-chart-text-size, 0.8125rem);\n  --dyn-chart-contrast-text: var(--dyn-chart-text-contrast, var(--dyn-base-white, #ffffff));\n\n  /* Base styles */\n  display: flex;\n  flex-direction: column;\n  background: var(--dyn-chart-bg);\n  border-radius: var(--dyn-chart-radius);\n  border: var(--dyn-border-width-sm, 1px) solid var(--dyn-chart-border);\n  padding: var(--dyn-spacing-md);\n  font-family: inherit;\n  gap: var(--dyn-spacing-md);\n}\n\n/* ============================================\n   FIGURE & HEADER\n   ============================================ */\n\n.figure {\n  display: flex;\n  flex-direction: column;\n  gap: var(--dyn-spacing-md);\n  margin: 0;\n}\n\n.header {\n  display: flex;\n  flex-direction: column;\n  gap: var(--dyn-spacing-xs);\n}\n\n.title {\n  margin: 0;\n  font-size: var(--dyn-font-size-lg);\n  font-weight: var(--dyn-font-weight-semibold);\n  color: var(--dyn-chart-text-primary);\n  line-height: 1.3;\n}\n\n.subtitle {\n  margin: 0;\n  font-size: var(--dyn-font-size-sm);\n  font-weight: var(--dyn-font-weight-normal);\n  color: var(--dyn-chart-text-secondary);\n  line-height: 1.5;\n}\n\n.description {\n  margin: 0;\n  padding: var(--dyn-spacing-sm) 0 0 0;\n  font-size: var(--dyn-font-size-xs);\n  font-weight: var(--dyn-font-weight-normal);\n  color: var(--dyn-chart-text-secondary);\n  line-height: 1.6;\n  text-align: center;\n}\n\n/* ============================================\n   CONTENT & CANVAS\n   ============================================ */\n\n.content {\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.canvas {\n  display: block;\n  max-width: 100%;\n  height: auto;\n}\n\n/* ============================================\n   TOOLTIP\n   ============================================ */\n\n.tooltip {\n  position: absolute;\n  max-width: 220px;\n  padding: var(--dyn-spacing-sm) var(--dyn-spacing-md);\n  border-radius: var(--dyn-border-radius-md);\n  background: var(--dyn-neutral-dark-900);\n  color: var(--dyn-base-white);\n  font-size: var(--dyn-font-size-xs);\n  line-height: 1.4;\n  box-shadow: var(--dyn-elevation-high);\n  pointer-events: none;\n  transform: translate(-50%, -120%);\n  opacity: 0;\n  visibility: hidden;\n  transition: opacity var(--dyn-transition-fast), visibility var(--dyn-transition-fast);\n  z-index: var(--dyn-z-index-popover);\n  white-space: normal;\n  word-break: break-word;\n}\n\n.tooltip[data-visible='true'] {\n  opacity: 1;\n  visibility: visible;\n}\n\n.tooltipHeader {\n  display: flex;\n  align-items: center;\n  gap: var(--dyn-spacing-sm);\n  margin-bottom: var(--dyn-spacing-xs);\n}\n\n.tooltipColor {\n  width: var(--dyn-size-icon-xs, 0.625rem);\n  height: var(--dyn-size-icon-xs, 0.625rem);\n  border-radius: var(--dyn-border-radius-full);\n  flex-shrink: 0;\n}\n\n.tooltipSeries {\n  font-weight: var(--dyn-font-weight-semibold);\n}\n\n.tooltipPercentage {\n  margin-left: auto;\n  font-size: var(--dyn-font-size-xs);\n  opacity: 0.85;\n}\n\n.tooltipValue {\n  font-weight: var(--dyn-font-weight-semibold);\n  font-size: var(--dyn-font-size-sm);\n  margin-bottom: var(--dyn-spacing-xxs, 0.125rem);\n}\n\n.tooltipLabel {\n  font-size: var(--dyn-font-size-xs);\n  opacity: 0.85;\n}\n\n/* ============================================\n   LEGEND\n   ============================================ */\n\n.legend {\n  display: flex;\n  flex-wrap: wrap;\n  gap: var(--dyn-spacing-md);\n  justify-content: center;\n  align-items: center;\n  padding: var(--dyn-spacing-sm) 0;\n}\n\n.legendItem {\n  display: flex;\n  align-items: center;\n  gap: var(--dyn-spacing-sm);\n  font-size: var(--dyn-font-size-sm);\n  color: var(--dyn-chart-text-secondary);\n}\n\n.legendColor {\n  width: var(--dyn-size-icon-xs, 0.75rem);\n  height: var(--dyn-size-icon-xs, 0.75rem);\n  border-radius: var(--dyn-border-radius-xs, 0.125rem);\n  flex-shrink: 0;\n}\n\n.legendLabel {\n  font-weight: var(--dyn-font-weight-normal);\n  line-height: 1.5;\n}\n\n/* ============================================\n   CHART TYPE VARIANTS\n   ============================================ */\n\n.typeLine .legendColor,\n.typeLine .tooltipColor {\n  border-radius: var(--dyn-border-radius-full);\n}\n\n.typeBar .legendColor,\n.typeBar .tooltipColor {\n  border-radius: var(--dyn-border-radius-xs, 2px);\n}\n\n.typePie .legendColor,\n.typePie .tooltipColor {\n  border-radius: 50%;\n}\n\n.typeArea .legendColor,\n.typeArea .tooltipColor {\n  border-radius: var(--dyn-border-radius-sm);\n  opacity: 0.9;\n}\n\n/* ============================================\n   EMPTY STATE\n   ============================================ */\n\n.emptyState {\n  position: absolute;\n  inset: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: var(--dyn-font-size-sm);\n  color: var(--dyn-chart-text-secondary);\n  pointer-events: none;\n}\n\n/* ============================================\n   ACCESSIBILITY\n   ============================================ */\n\n.visuallyHidden {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border: 0;\n}\n\n/* ============================================\n   RESPONSIVE\n   ============================================ */\n\n@media (max-width: 768px) {\n  .root {\n    padding: var(--dyn-spacing-sm);\n  }\n\n  .title {\n    font-size: var(--dyn-font-size-md);\n  }\n\n  .subtitle {\n    font-size: var(--dyn-font-size-xs);\n  }\n\n  .legend {\n    gap: var(--dyn-spacing-sm);\n  }\n\n  .legendItem {\n    gap: var(--dyn-spacing-xs);\n    font-size: var(--dyn-font-size-xs);\n  }\n}\n\n@media (prefers-contrast: high) {\n  .root {\n    border-width: var(--dyn-border-width-md, 2px);\n  }\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .tooltip {\n    transition: none;\n  }\n}\n\n/* ============================================\n   DARK MODE\n   Note: Handled automatically via semantic tokens!\n   ============================================ */", "metadata": {"type": "ui_component", "name": "DynChart", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynChart"}, "embedding": [0.010630846954882145, 0.003298338269814849, 0.006770406849682331, 0.035470444709062576, -0.06861092150211334, 0.08582700788974762, 0.006068164482712746, 0.10132614523172379, 0.0010416449513286352, 0.0037398601416498423, -0.07465296983718872, -0.05811300873756409, -0.039500560611486435, 0.03404616937041283, 0.07516606897115707, -0.01039085816591978, -0.057377565652132034, -0.1354062855243683, -0.013370441272854805, 0.00031427378416992724, 0.06350628286600113, -0.006885031703859568, 0.008216910064220428, -0.030854353681206703, 0.03459690511226654, -0.00526473019272089, -0.0029466820415109396, 0.0474773608148098, 0.04437606781721115, 0.03063991665840149, -0.05543265864253044, 0.011367394588887691, -0.03807799145579338, 0.02999897673726082, -0.038281649351119995, -0.011567979119718075, 0.05852648988366127, 0.03000534139573574, 0.028219034895300865, 0.02163558639585972, 0.10145030915737152, 0.08215401321649551, 0.0013590679736807942, -0.09820661693811417, 0.04569908231496811, -0.02794552408158779, -0.14793863892555237, -0.06780243664979935, -0.04815841466188431, 0.06421352922916412, -0.0026037960778921843, 0.01714756153523922, 0.044941216707229614, -0.001597195747308433, 0.11852104961872101, 0.018690289929509163, -0.00626794807612896, 0.06789395958185196, 0.11821562796831131, 0.0326017364859581, -0.007001502905040979, -0.049797024577856064, 0.05857130512595177, -0.08565513044595718, 0.026746118441224098, -0.002542451024055481, -0.021838746964931488, 0.07124461233615875, 0.012865293771028519, -0.0186117272824049, -0.047398582100868225, -0.01719767414033413, 0.029533138498663902, 0.011136969551444054, -0.002963374136015773, -0.0717868059873581, -0.038649026304483414, -0.025401057675480843, -0.02824736386537552, -0.0395694375038147, 0.008969517424702644, 0.0327129140496254, -0.07326925545930862, 0.1022387444972992, -0.03296279534697533, 0.07521841675043106, -0.028991566970944405, -0.07830645889043808, -0.04485568031668663, -0.03325081244111061, -0.027658002451062202, -0.06797952950000763, -0.06363546848297119, 0.05571560934185982, 0.044985171407461166, 0.07983334362506866, -0.07600200921297073, -0.004800930619239807, -0.019073432311415672, -0.022044416517019272, 0.013974569737911224, -0.08579771220684052, -0.035519812256097794, -0.007554890122264624, -0.04463564604520798, -0.029071444645524025, 0.019285157322883606, -0.052661195397377014, -0.055392246693372726, 0.04206936061382294, 0.00922306627035141, 0.03876970335841179, -0.0285345371812582, 0.012125822715461254, -0.11765599995851517, -0.00881581287831068, -0.039041515439748764, -0.05871196091175079, 0.0053832149133086205, -0.034225452691316605, 0.08747436106204987, 0.027034206315875053, 0.06196283549070358, 0.09165357053279877, 0.03293740376830101, -0.016341809183359146, 0.13642217218875885, 5.8419387639379876e-33, -0.063766710460186, -0.04188356176018715, -0.011234963312745094, 0.014576312154531479, 0.06063464283943176, -0.08255850523710251, -0.06666996330022812, -0.005508058704435825, 0.052607011049985886, 0.043225739151239395, -0.010316092520952225, 0.07023315131664276, -0.10007154196500778, 0.00397240836173296, 0.019543373957276344, 0.013889205642044544, 0.1511709988117218, 0.005909827537834644, -0.03928903117775917, -0.009250549599528313, 0.030423423275351524, 0.06424273550510406, 0.017888126894831657, 0.013310094363987446, 0.058552272617816925, 0.04609045386314392, 0.0042062727734446526, 0.06767553836107254, -0.04802088811993599, -0.029044650495052338, 0.031830254942178726, -0.024165837094187737, 0.06571277976036072, 0.0300710741430521, 0.0006406505708582699, -0.05944164842367172, -0.0720759928226471, 0.04582774639129639, -0.09275137633085251, 0.05861892178654671, -0.024555683135986328, -0.0067392559722065926, -0.09458041936159134, 0.039306361228227615, -0.03355007991194725, 0.038291603326797485, 0.06631546467542648, -0.03300231695175171, 0.017666978761553764, -0.053431082516908646, -0.06136911362409592, 0.07136022299528122, -0.006195285357534885, -0.08417929708957672, 0.060372911393642426, -0.019195031374692917, 0.08629722893238068, 0.0043042670004069805, 0.03923571854829788, -0.01865655742585659, -0.09392383694648743, 0.012796072289347649, 0.04894595965743065, -0.023000795394182205, -0.000570646021515131, 0.036999501287937164, -0.02437650039792061, -0.023190539330244064, -0.02822929248213768, -0.06192304566502571, 0.0028886012732982635, -0.0005910912295803428, -0.043149810284376144, 0.009918449446558952, 0.12172222882509232, 0.052850186824798584, -0.0634346678853035, 0.10348794609308243, 0.0024993906263262033, -0.07892574369907379, -0.04098052531480789, -0.14281433820724487, -0.026925597339868546, 0.08079967647790909, 0.03341914713382721, -0.031360331922769547, 0.015403189696371555, 0.026389800012111664, 0.06632556766271591, -0.04585232213139534, -0.05561881139874458, -0.020654888823628426, -0.03569069132208824, -0.03608649596571922, 0.010293267667293549, -7.912417779277902e-33, 0.023518379777669907, 0.1091548502445221, -0.03466702252626419, -0.07631342858076096, 0.004988040309399366, -0.011109918355941772, 0.03272141143679619, 0.058201633393764496, -0.057879045605659485, 0.09888110309839249, -0.004385584499686956, -0.05323003605008125, -0.008641449734568596, -0.02972029522061348, -0.09514860808849335, 0.07178512215614319, -0.049074552953243256, 0.05536516383290291, 0.013983206823468208, -0.10110687464475632, -0.06266088783740997, 0.05727006122469902, 0.008487974293529987, 0.056075695902109146, -0.022923167794942856, 0.06359577178955078, 0.04496029391884804, 0.02423957735300064, -0.024396050721406937, -0.030801042914390564, -0.03770102187991142, -0.04134470969438553, 0.030471408739686012, 0.007428245153278112, 0.002822527661919594, 0.0035071370657533407, 0.1255342811346054, 0.019464248791337013, -0.06505592167377472, 0.027310270816087723, -0.016490478068590164, -0.08327215909957886, -0.028091810643672943, -0.06510116159915924, -0.05240869149565697, -0.02065259777009487, -0.009585253894329071, 0.06464904546737671, -0.04039314389228821, 0.009173115715384483, 0.1019284650683403, -0.014780526049435139, 0.0413808673620224, -0.034543681889772415, 0.01861073635518551, -0.015170428901910782, 0.07253517210483551, -0.0025230301544070244, 0.010386765003204346, -0.0013455466832965612, -0.010567626915872097, -0.09029600024223328, 0.005360438954085112, 0.03504667803645134, 0.027356760576367378, -0.04748570919036865, -0.06298919022083282, -0.08920633047819138, 0.0014267328660935163, 0.021982815116643906, 0.009350699372589588, 0.018533047288656235, 0.03543860837817192, 0.006700522266328335, 0.025648221373558044, -0.012159221805632114, 0.008739377371966839, -0.022388799116015434, 0.08388649672269821, 0.019257836043834686, 0.005899553187191486, -0.017405696213245392, 0.06929745525121689, 0.06375972926616669, -0.02028094232082367, 0.012089580297470093, 0.006178439129143953, 0.050600506365299225, 0.031200414523482323, 0.059446487575769424, -0.054236218333244324, -0.016487691551446915, -0.08992957323789597, 0.02664908953011036, 0.018406668677926064, -4.820001109351324e-08, -0.05887779965996742, -0.005133422557264566, -0.04047128185629845, -0.04485033079981804, -0.021034779027104378, -0.11297902464866638, -0.06644298881292343, -0.007138608489185572, 0.06761541962623596, 0.03400466591119766, -0.05012794956564903, 0.06925724446773529, -0.01715385913848877, -0.044114504009485245, 0.0447530597448349, -0.08052261173725128, 0.05160718783736229, -0.025978095829486847, 0.007193626835942268, 0.0006829560152254999, 0.0394425205886364, -0.04770480841398239, -0.0346873477101326, -0.03743264451622963, 0.07885624468326569, -0.09196789562702179, -0.019861027598381042, 0.07960464060306549, 0.002767234342172742, 0.027998603880405426, -0.02344796247780323, -0.009276768192648888, -0.036756716668605804, 0.04968387261033058, -0.06043529137969017, -0.023629283532500267, -0.023645108565688133, -0.030127856880426407, 0.055476099252700806, 0.020258590579032898, -0.06785823404788971, 0.006526536773890257, -0.03723004460334778, 0.020942119881510735, 0.024630047380924225, 0.0008559979614801705, -0.029607778415083885, 0.009697835892438889, 0.07219953835010529, 0.04813224449753761, -0.08069828897714615, -0.09311743080615997, -0.006366342771798372, -0.026985254138708115, -0.0726662203669548, 0.0006614257581532001, -0.021983938291668892, 0.037533149123191833, -0.023496484383940697, -0.020426210016012192, -0.020047234371304512, -0.068330779671669, 0.008968178182840347, -0.07242664694786072]}, {"id": "dyn_ui_component_DynCheckbox", "text": "# Component: DynCheckbox\n\n--- Types (DynCheckbox.types.ts) ---\nimport type { BaseComponentProps, ColorVariant } from '../../types';\nimport type { DynFieldRef, ValidationRule } from '../../types/field.types';\n\nexport type DynCheckboxSize = 'sm' | 'md' | 'lg';\n\nexport interface DynCheckboxProps extends BaseComponentProps {\n  /** Field name */\n  name?: string;\n  /** Label displayed next to the checkbox */\n  label?: string;\n  /** Helper text displayed below the field */\n  helpText?: string;\n  /** \n   * @deprecated Use helpText instead\n   */\n  help?: string;\n  /** Disables user interaction */\n  disabled?: boolean;\n  /** Prevents value changes while keeping the field focusable */\n  readonly?: boolean;\n  /** Marks the field as required */\n  required?: boolean;\n  /** Shows the optional indicator */\n  optional?: boolean;\n  /** Controls visibility of the field */\n  visible?: boolean;\n  /** Controlled checked state */\n  checked?: boolean;\n  /** Shows the indeterminate state */\n  indeterminate?: boolean;\n  /** Custom validation error message */\n  errorMessage?: string;\n  /** Validation rules */\n  validation?: ValidationRule[];\n  /** Size variant */\n  size?: DynCheckboxSize;\n  /** \n   * Color theme of the checkbox when active\n   * @default 'primary'\n   */\n  color?: ColorVariant;\n  /** Change handler */\n  onChange?: (checked: boolean) => void;\n  /** Blur handler */\n  onBlur?: () => void;\n  /** Focus handler */\n  onFocus?: () => void;\n}\n\nexport type DynCheckboxRef = DynFieldRef;\n\nexport interface DynCheckboxDefaultProps\n  extends Required<\n    Pick<\n      DynCheckboxProps,\n      | 'disabled'\n      | 'readonly'\n      | 'required'\n      | 'optional'\n      | 'visible'\n      | 'checked'\n      | 'indeterminate'\n      | 'size'\n      | 'color'\n    >\n  > {\n  'data-testid': string;\n}\n\nexport const DYN_CHECKBOX_DEFAULT_PROPS: DynCheckboxDefaultProps = {\n  disabled: false,\n  readonly: false,\n  required: false,\n  optional: false,\n  visible: true,\n  checked: false,\n  indeterminate: false,\n  size: 'md',\n  color: 'primary',\n  'data-testid': 'dyn-checkbox',\n};\n\n\n--- Component (DynCheckbox.tsx) ---\nimport {\n  forwardRef,\n  useEffect,\n  useId,\n  useImperativeHandle,\n  useRef,\n  useState,\n} from 'react';\nimport type { ChangeEvent, ForwardedRef, KeyboardEvent } from 'react';\nimport { DynFieldContainer } from '../DynFieldContainer';\nimport type { DynFieldContainerProps } from '../DynFieldContainer';\nimport { useDynFieldValidation } from '../../hooks/useDynFieldValidation';\nimport { cn } from '../../utils/classNames';\nimport type { DynCheckboxProps, DynCheckboxRef } from './DynCheckbox.types';\nimport { DYN_CHECKBOX_DEFAULT_PROPS } from './DynCheckbox.types';\nimport styles from './DynCheckbox.module.css';\n\nconst DynCheckboxComponent = (\n  {\n    name,\n    label,\n    help,\n    helpText,\n    disabled = DYN_CHECKBOX_DEFAULT_PROPS.disabled,\n    readonly = DYN_CHECKBOX_DEFAULT_PROPS.readonly,\n    required = DYN_CHECKBOX_DEFAULT_PROPS.required,\n    optional = DYN_CHECKBOX_DEFAULT_PROPS.optional,\n    visible = DYN_CHECKBOX_DEFAULT_PROPS.visible,\n    checked: checkedProp = DYN_CHECKBOX_DEFAULT_PROPS.checked,\n    indeterminate = DYN_CHECKBOX_DEFAULT_PROPS.indeterminate,\n    errorMessage,\n    validation,\n    className,\n    size = DYN_CHECKBOX_DEFAULT_PROPS.size,\n    color = DYN_CHECKBOX_DEFAULT_PROPS.color,\n    onChange,\n    onBlur,\n    onFocus,\n    id,\n    'data-testid': dataTestId = DYN_CHECKBOX_DEFAULT_PROPS['data-testid'],\n  }: DynCheckboxProps,\n  ref: ForwardedRef<DynCheckboxRef>\n) => {\n  const [checked, setChecked] = useState<boolean>(checkedProp);\n  const checkboxRef = useRef<HTMLInputElement>(null);\n  const fallbackId = useId();\n  const fieldId = id ?? name ?? `${fallbackId}-checkbox`;\n\n  const validationOptions: Parameters<typeof useDynFieldValidation>[0] = {\n    value: checked ? 'checked' : '',\n    required,\n  };\n\n  if (validation) {\n    validationOptions.validation = validation;\n  }\n\n  if (errorMessage) {\n    validationOptions.customError = errorMessage;\n  }\n\n  const { error, validate, clearError } = useDynFieldValidation(validationOptions);\n\n  const resolvedError = errorMessage ?? (error || undefined);\n\n  useImperativeHandle(\n    ref,\n    () => ({\n      focus: () => checkboxRef.current?.focus(),\n      validate: () => validate(),\n      clear: () => {\n        setChecked(false);\n        onChange?.(false);\n        clearError();\n      },\n      getValue: () => checked,\n      setValue: (newValue: unknown) => {\n        const booleanValue = Boolean(newValue);\n        setChecked(booleanValue);\n        onChange?.(booleanValue);\n      },\n    }),\n    [checked, clearError, onChange, validate]\n  );\n\n  useEffect(() => {\n    setChecked(checkedProp);\n  }, [checkedProp]);\n\n  useEffect(() => {\n    if (checkboxRef.current) {\n      checkboxRef.current.indeterminate = indeterminate;\n    }\n  }, [indeterminate]);\n\n  const handleChange = (event: ChangeEvent<HTMLInputElement>) => {\n    if (readonly || disabled) {\n      event.preventDefault();\n      return;\n    }\n\n    const nextValue = event.target.checked;\n    setChecked(nextValue);\n    onChange?.(nextValue);\n    clearError();\n  };\n\n  const handleBlur = () => {\n    void validate();\n    onBlur?.();\n  };\n\n  const handleKeyDown = (event: KeyboardEvent<HTMLInputElement>) => {\n    if (event.key === ' ' || event.key === 'Enter') {\n      event.preventDefault();\n\n      if (disabled || readonly) {\n        return;\n      }\n\n      const nextValue = !checked;\n      setChecked(nextValue);\n      onChange?.(nextValue);\n      clearError();\n    }\n  };\n\n  if (!visible) {\n    return null;\n  }\n\n  const SIZE_MAP: Record<NonNullable<DynCheckboxProps['size']>, string | undefined> = {\n    sm: styles['sizeSm'],\n    md: styles['sizeMd'],\n    lg: styles['sizeLg'],\n  };\n\n  const COLOR_MAP: Record<NonNullable<DynCheckboxProps['color']>, string | undefined> = {\n    primary: styles.colorPrimary,\n    secondary: styles.colorSecondary,\n    success: styles.colorSuccess,\n    danger: styles.colorDanger,\n    warning: styles.colorWarning,\n    info: styles.colorInfo,\n  };\n\n  const checkboxClasses = cn(\n    styles.box,\n    SIZE_MAP[size],\n    COLOR_MAP[color],\n    checked && !indeterminate && styles.boxChecked,\n    indeterminate && styles.boxIndeterminate,\n    resolvedError && styles.boxError,\n    disabled && styles.boxDisabled,\n    readonly && styles.boxReadonly\n  );\n\n  const containerClasses = cn(\n    styles.container,\n    disabled && styles.containerDisabled,\n    readonly && styles.containerReadonly,\n    className\n  );\n\n  const wrapperClasses = cn(\n    styles.wrapper,\n    disabled && styles.wrapperDisabled,\n    readonly && styles.wrapperReadonly\n  );\n\n  const resolvedHelpText = helpText ?? help;\n\n  const describedById = resolvedError\n    ? `${fieldId}-error`\n    : resolvedHelpText\n      ? `${fieldId}-help`\n      : undefined;\n\n  const visualState = indeterminate ? 'indeterminate' : checked ? 'checked' : 'unchecked';\n\n  const fieldContainerProps: Omit<DynFieldContainerProps, 'children'> = {\n    required,\n    optional,\n    className: containerClasses,\n    htmlFor: fieldId,\n  };\n\n  if (resolvedHelpText) {\n    fieldContainerProps.helpText = resolvedHelpText;\n  }\n\n  if (resolvedError) {\n    fieldContainerProps.errorText = resolvedError;\n  }\n\n  return (\n    <DynFieldContainer {...fieldContainerProps}>\n      <label className={wrapperClasses} htmlFor={fieldId}>\n        <input\n          ref={checkboxRef}\n          type=\"checkbox\"\n          id={fieldId}\n          name={name}\n          className={styles.input}\n          checked={checked}\n          disabled={disabled}\n          readOnly={readonly}\n          onChange={handleChange}\n          onBlur={handleBlur}\n          onFocus={onFocus}\n          onKeyDown={handleKeyDown}\n          aria-invalid={Boolean(resolvedError)}\n          aria-describedby={describedById}\n          aria-required={required || undefined}\n          data-testid={dataTestId}\n        />\n\n        <span\n          className={checkboxClasses}\n          aria-hidden=\"true\"\n          data-state={visualState}\n          data-size={size}\n        >\n          <span className={styles.checkmark}>\n            {indeterminate ? (\n              <svg\n                width=\"12\"\n                height=\"2\"\n                viewBox=\"0 0 12 2\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n                className={styles.indeterminateIcon}\n                aria-hidden=\"true\"\n              >\n                <path\n                  d=\"M1 1H11\"\n                  stroke=\"currentColor\"\n                  strokeWidth=\"2.5\"\n                  strokeLinecap=\"round\"\n                />\n              </svg>\n            ) : checked ? (\n              <svg\n                width=\"12\"\n                height=\"10\"\n                viewBox=\"0 0 12 10\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n                className={styles.checkIcon}\n                aria-hidden=\"true\"\n              >\n                <path\n                  d=\"M1 5L4.5 8.5L11 2\"\n                  stroke=\"currentColor\"\n                  strokeWidth=\"2.5\"\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                />\n              </svg>\n            ) : null}\n          </span>\n\n        </span>\n        {label && (\n          <span className={styles.label}>\n            {label}\n            {required && (\n              <span className={styles.requiredIndicator} aria-hidden=\"true\">\n                *\n              </span>\n            )}\n            {optional && !required && (\n              <span className={styles.optionalIndicator} aria-label=\"opcional\">\n                (opcional)\n              </span>\n            )}\n          </span>\n        )}\n      </label>\n    </DynFieldContainer>\n  );\n};\n\nconst DynCheckbox = forwardRef<DynCheckboxRef, DynCheckboxProps>(DynCheckboxComponent);\n\nDynCheckbox.displayName = 'DynCheckbox';\n\nexport { DynCheckbox };\nexport default DynCheckbox;\n\n\n--- Usage Examples (DynCheckbox.stories.tsx) ---\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { DynCheckbox } from './DynCheckbox';\nimport type { DynCheckboxProps } from './DynCheckbox.types';\nimport { useState } from 'react';\n\nconst meta: Meta<typeof DynCheckbox> = {\n  title: 'Components/Form/DynCheckbox',\n  component: DynCheckbox,\n  parameters: {\n    layout: 'centered',\n    docs: {\n      description: {\n        component: 'Advanced checkbox component with indeterminate state and validation support.',\n      },\n    },\n  },\n  tags: ['autodocs'],\n  argTypes: {\n    children: {\n      table: {\n        disable: true,\n      },\n    },\n    size: {\n      control: 'select',\n      options: ['sm', 'md', 'lg'],\n    },\n    checked: {\n      control: 'boolean',\n    },\n    indeterminate: {\n      control: 'boolean',\n    },\n    disabled: {\n      control: 'boolean',\n    },\n    readonly: {\n      control: 'boolean',\n    },\n    required: {\n      control: 'boolean',\n    },\n    onChange: {\n      action: 'changed',\n    },\n  },\n};\n\nexport default meta;\ntype Story = StoryObj<DynCheckboxProps>;\n\nexport const Default: Story = {\n  args: {\n    name: 'default-checkbox',\n    label: 'Default checkbox',\n  },\n};\n\nexport const Checked: Story = {\n  args: {\n    name: 'checked-checkbox',\n    label: 'Checked checkbox',\n    checked: true,\n  },\n};\n\nexport const Indeterminate: Story = {\n  args: {\n    name: 'indeterminate-checkbox',\n    label: 'Indeterminate checkbox',\n    indeterminate: true,\n  },\n};\n\nexport const WithHelp: Story = {\n  args: {\n    name: 'help-checkbox',\n    label: 'Checkbox with help text',\n    helpText: 'This is helpful information about the checkbox.',\n  },\n};\n\nexport const Required: any = () => {\n  const [checked, setChecked] = useState(false);\n  return (\n    <DynCheckbox\n      name=\"required-checkbox\"\n      label=\"I agree to the terms and conditions\"\n      required\n      checked={checked}\n      onChange={setChecked}\n      validation={[{ type: 'required', message: 'You must agree to continue' }]}\n    />\n  );\n};\n\nexport const Disabled: Story = {\n  args: {\n    name: 'disabled-checkbox',\n    label: 'Disabled checkbox',\n    disabled: true,\n  },\n};\n\nexport const DisabledChecked: Story = {\n  args: {\n    name: 'disabled-checked-checkbox',\n    label: 'Disabled checked checkbox',\n    disabled: true,\n    checked: true,\n  },\n};\n\nexport const ReadOnly: Story = {\n  args: {\n    name: 'readonly-checkbox',\n    label: 'Readonly checkbox',\n    readonly: true,\n    checked: true,\n  },\n};\n\nexport const WithError: any = () => {\n  const [checked, setChecked] = useState(false);\n  const [error, setError] = useState(true);\n\n  return (\n    <DynCheckbox\n      name=\"error-checkbox\"\n      label=\"Confirm selection\"\n      errorMessage={error ? 'Please check this box to proceed' : ''}\n      checked={checked}\n      onChange={(val) => {\n        setChecked(val);\n        setError(false);\n      }}\n    />\n  );\n};\n\nexport const Sizes: Story = {\n  render: () => (\n    <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\n      <DynCheckbox name=\"small\" label=\"Small checkbox\" size=\"sm\" />\n      <DynCheckbox name=\"medium\" label=\"Medium checkbox\" size=\"md\" />\n      <DynCheckbox name=\"large\" label=\"Large checkbox\" size=\"lg\" />\n    </div>\n  ),\n};\n\nexport const AllStates: Story = {\n  render: () => (\n    <div style={{ display: 'flex', flexDirection: 'column', gap: '2rem' }}>\n      <div>\n        <h3>Basic States</h3>\n        <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\n          <DynCheckbox name=\"unchecked\" label=\"Unchecked\" />\n          <DynCheckbox name=\"checked\" label=\"Checked\" checked />\n          <DynCheckbox name=\"indeterminate\" label=\"Indeterminate\" indeterminate />\n        </div>\n      </div>\n\n      <div>\n        <h3>Disabled States</h3>\n        <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\n          <DynCheckbox name=\"disabled-unchecked\" label=\"Disabled unchecked\" disabled />\n          <DynCheckbox name=\"disabled-checked\" label=\"Disabled checked\" disabled checked />\n          <DynCheckbox name=\"disabled-indeterminate\" label=\"Disabled indeterminate\" disabled indeterminate />\n        </div>\n      </div>\n\n      <div>\n        <h3>With Validation</h3>\n        <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\n          <DynCheckbox name=\"required\" label=\"Required checkbox\" required />\n          <DynCheckbox name=\"error\" label=\"With error\" errorMessage=\"This field is required\" />\n          <DynCheckbox name=\"help\" label=\"With help text\" helpText=\"Check this box to continue\" />\n        </div>\n      </div>\n    </div>\n  ),\n};\n\n\n--- Styles (DynCheckbox.module.css) ---\n/* ================================================\n   COMPONENT TOKENS (Layer 2)\n   Per COMPLETE_KNOWLEDGE_BASE.md lines 320-336\n   ================================================ */\n\n.container {\n  /* Component Tokens */\n  --dyn-checkbox-bg: var(--dyn-semantic-input-bg, #ffffff);\n  --dyn-checkbox-bg-checked: var(--dyn-theme-primary, #3b82f6);\n  --dyn-checkbox-border: var(--dyn-semantic-input-border, #cbd5e1);\n  --dyn-checkbox-border-checked: var(--dyn-theme-primary, #3b82f6);\n  --dyn-checkbox-border-focus: var(--dyn-semantic-border-focus, #3b82f6);\n  --dyn-checkbox-checkmark: var(--dyn-base-white, #ffffff);\n  --dyn-checkbox-disabled-bg: var(--dyn-semantic-surface-muted, #f1f5f9);\n  --dyn-checkbox-disabled-border: var(--dyn-semantic-border, #e2e8f0);\n\n  /* Layout tokens */\n  --dyn-checkbox-size: 20px;\n  /* Medium (default) size */\n  --dyn-checkbox-border-radius: var(--dyn-border-radius-xs, 0.25rem);\n  --dyn-checkbox-transition: var(--dyn-transition-fast, 0.15s ease);\n}\n\n/* ================================================\n   BASE STYLES\n   ================================================ */\n.container {\n  display: inline-flex;\n  align-items: flex-start;\n  gap: var(--dyn-spacing-sm);\n  cursor: pointer;\n  user-select: none;\n  position: relative;\n}\n\n.wrapper {\n  display: inline-flex;\n  gap: var(--dyn-spacing-sm);\n  cursor: pointer;\n}\n\n/* Hide native input visually but keep accessible */\n.input {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border: 0;\n  appearance: none;\n}\n\n/* Custom checkbox box */\n.box {\n  /* Color tokens - can be overridden by color variant classes */\n  --dyn-checkbox-bg-checked: var(--dyn-theme-primary, #3b82f6);\n  --dyn-checkbox-border-checked: var(--dyn-theme-primary, #3b82f6);\n\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  width: var(--dyn-checkbox-size);\n  height: var(--dyn-checkbox-size);\n  border: 2px solid var(--dyn-checkbox-border);\n  border-radius: var(--dyn-checkbox-border-radius);\n  background-color: var(--dyn-checkbox-bg);\n  transition: all var(--dyn-checkbox-transition);\n  flex-shrink: 0;\n  /* Color for SVG icons - unchecked state has no icon, so invisible */\n  color: transparent;\n}\n\n/* Size Variants */\n.sizeSm {\n  --dyn-checkbox-size: 16px;\n  --dyn-checkbox-icon-size: 10px;\n}\n\n.sizeMd {\n  --dyn-checkbox-size: 20px;\n  --dyn-checkbox-icon-size: 12px;\n}\n\n.sizeLg {\n  --dyn-checkbox-size: 24px;\n  --dyn-checkbox-icon-size: 14px;\n}\n\n/* Color Variants */\n.colorPrimary {\n  --dyn-checkbox-bg-checked: var(--dyn-theme-primary, #3b82f6);\n  --dyn-checkbox-border-checked: var(--dyn-theme-primary, #3b82f6);\n}\n\n.colorSecondary {\n  --dyn-checkbox-bg-checked: var(--dyn-theme-secondary, #64748b);\n  --dyn-checkbox-border-checked: var(--dyn-theme-secondary, #64748b);\n}\n\n.colorSuccess {\n  --dyn-checkbox-bg-checked: var(--dyn-feedback-positive-default, #10b981);\n  --dyn-checkbox-border-checked: var(--dyn-feedback-positive-default, #10b981);\n}\n\n.colorDanger {\n  --dyn-checkbox-bg-checked: var(--dyn-feedback-negative-default, #ef4444);\n  --dyn-checkbox-border-checked: var(--dyn-feedback-negative-default, #ef4444);\n}\n\n.colorWarning {\n  --dyn-checkbox-bg-checked: var(--dyn-feedback-warning-default, #f59e0b);\n  --dyn-checkbox-border-checked: var(--dyn-feedback-warning-default, #f59e0b);\n}\n\n.colorInfo {\n  --dyn-checkbox-bg-checked: var(--dyn-feedback-info-default, #3b82f6);\n  --dyn-checkbox-border-checked: var(--dyn-feedback-info-default, #3b82f6);\n}\n\n/* ================================================\n   INTERACTIVE STATES\n   ================================================ */\n.boxChecked,\n.boxIndeterminate {\n  background-color: var(--dyn-checkbox-bg-checked);\n  border-color: var(--dyn-checkbox-border-checked);\n  /* Make checkmark visible - SVG uses currentColor */\n  color: var(--dyn-checkbox-checkmark);\n}\n\n.input:focus-visible+.box {\n  outline: var(--dyn-checkbox-focus-outlineWidth, 2px) solid var(--dyn-checkbox-border-focus);\n  outline-offset: var(--dyn-checkbox-focus-outlineOffset, 2px);\n}\n\n.boxDisabled {\n  background-color: var(--dyn-checkbox-disabled-bg);\n  border-color: var(--dyn-checkbox-disabled-border);\n  cursor: not-allowed;\n  opacity: 0.6;\n}\n\n/* Fix for invisible checkmark in disabled state */\n.boxChecked.boxDisabled,\n.boxIndeterminate.boxDisabled {\n  color: var(--dyn-neutral-mid-500);\n  /* Zinc 500 - Visible Gray */\n}\n\n.label {\n  color: var(--dyn-semantic-text);\n  font-size: var(--dyn-font-size-sm);\n  font-weight: var(--dyn-font-weight-semibold, 600);\n  line-height: 1.5;\n  padding-top: 2px;\n  /* Align with checkbox */\n}\n\n.requiredIndicator {\n  color: var(--dyn-feedback-negative-default, #dc2626);\n  margin-left: 0.25rem;\n}\n\n/* Checkmark Icon Sizing */\n.checkmark {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n}\n\n.checkIcon,\n.indeterminateIcon {\n  width: var(--dyn-checkbox-icon-size, 12px);\n  height: var(--dyn-checkbox-icon-size, 12px);\n}\n\n/* ================================================\n   DARK MODE\n   Note: Handled automatically via semantic tokens!\n   ================================================ */", "metadata": {"type": "ui_component", "name": "DynCheckbox", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynCheckbox"}, "embedding": [0.006423181854188442, 0.05382910743355751, -0.059191565960645676, 0.07989710569381714, 0.04728490486741066, 0.09178435802459717, 0.07903087139129639, 0.05100023001432419, -0.020516088232398033, 0.015744240954518318, -0.106411412358284, -0.029485633596777916, -0.08820784837007523, 0.033928461372852325, -0.031811993569135666, 0.03226630389690399, -0.012429584749042988, -0.07897398620843887, -0.08362976461648941, 0.0059568071737885475, -0.03340168669819832, -0.06326229870319366, 0.07163838297128677, -0.018089069053530693, -0.040484242141246796, -0.019002795219421387, -0.014061431400477886, 0.02119516022503376, -0.03357234224677086, -0.009400242008268833, -0.055272676050662994, 0.04454825073480606, -0.04189266264438629, 0.026233747601509094, 0.030536893755197525, 0.036983758211135864, -0.06261754035949707, 0.07573852688074112, -0.017857953906059265, -0.07252208888530731, -0.004446662496775389, 0.013407083228230476, -0.011375220492482185, -0.06151711195707321, 0.04011399671435356, -0.05737639218568802, -0.007184565998613834, -0.03317590802907944, -0.034786637872457504, 0.00611366331577301, 0.025816375389695168, 0.03984225541353226, 0.022390343248844147, -0.03317340835928917, 0.041150134056806564, 0.07106927037239075, 0.05758187919855118, 0.08132512122392654, -0.029913917183876038, 0.036315057426691055, -0.026555821299552917, -0.006232277490198612, -0.006825861521065235, -0.10263849794864655, 0.024281971156597137, 0.1147395670413971, -0.05856267735362053, -0.014353850856423378, 0.023003509268164635, -0.07535849511623383, -0.039300527423620224, -0.010273661464452744, 0.062427885830402374, 0.02086028642952442, 0.006825635209679604, -0.022874902933835983, -0.019127313047647476, 0.002646407578140497, 0.08977221697568893, -0.07205380499362946, 0.03689442574977875, 0.06369820982217789, -0.03776510804891586, 0.06509874761104584, 0.013310094363987446, 0.07538817822933197, 0.0029219784773886204, 0.018082065507769585, -0.015132534317672253, -0.08930736035108566, 0.07863766700029373, -0.030654454603791237, 0.0056390236131846905, 0.06510134041309357, 0.021255025640130043, 0.026283079758286476, -0.12706421315670013, 0.06847810745239258, -0.09412159770727158, -0.01711381785571575, -0.0007705836906097829, -0.11314354836940765, -0.016753556206822395, -0.01667953096330166, 0.04081658273935318, -0.06753191351890564, 0.08127989619970322, 0.0067733959294855595, -0.04404410347342491, 0.01269503403455019, 0.009443022310733795, 0.05039260908961296, -0.03293837606906891, 0.029872829094529152, -0.048172079026699066, 0.011531650088727474, 0.010182885453104973, -0.02532990649342537, -0.0038656340911984444, -0.03244969621300697, 0.07359569519758224, -0.051300179213285446, 0.035095054656267166, -0.05072975531220436, 0.04180099442601204, -0.02028629183769226, 0.07635287940502167, 5.646194709955091e-33, 0.02621166780591011, 0.052691008895635605, -0.006749237421900034, 0.0518374964594841, 0.05667718127369881, -0.04241010174155235, -0.014706959947943687, 0.00022702330898027867, -0.024197377264499664, 0.016595203429460526, 0.04558813199400902, 0.011950562708079815, -0.1281183362007141, -0.1024952307343483, 0.017586708068847656, -0.10767420381307602, 0.04622603952884674, -0.008303381502628326, -0.019701078534126282, 0.009436212480068207, 0.04088715463876724, 0.03666408360004425, -0.07942540943622589, 0.04262981563806534, 0.008116144686937332, -0.0229666605591774, -0.02922423556447029, 0.07528625428676605, -0.023224646225571632, -0.02078622207045555, -0.002248695120215416, -0.091787189245224, 0.08538849651813507, 0.05246216431260109, -0.0691671147942543, -0.05738713964819908, -0.04652063176035881, 0.004894318990409374, -0.0380183644592762, 0.018607307225465775, 0.01673944853246212, -0.02093023993074894, 0.017423875629901886, -0.009458756074309349, -0.0011040001409128308, 0.015565656125545502, 0.07733538746833801, 0.03031161054968834, 0.05423944070935249, -0.07189855724573135, 0.01147504337131977, 0.025469472631812096, -0.0068971565924584866, -0.06601162999868393, 0.03935031592845917, 0.024750765413045883, 0.007563991006463766, 0.07854673266410828, 0.1013159453868866, 0.01974448189139366, 0.01719719171524048, -0.004997186828404665, -0.04200054332613945, -0.047352246940135956, 0.020287495106458664, 0.02505609020590782, -0.08866164088249207, -0.08952803164720535, -0.01917567290365696, -0.06477402150630951, -0.02503923699259758, -0.03455400466918945, -0.038553666323423386, 0.027098339051008224, 0.05275454372167587, 0.022470159456133842, -0.0043965973891317844, 0.004615155514329672, 0.025084475055336952, -0.06268659234046936, -0.04078197851777077, -0.02586052380502224, -0.08170516788959503, 0.08123563230037689, -0.004890014883130789, -0.06602426618337631, -0.03861873969435692, -0.0019203959964215755, 0.023272497579455376, -0.09740652143955231, -0.03874225914478302, -0.02781693823635578, -0.030983000993728638, -0.07061360031366348, -0.029632819816470146, -6.14168100719004e-33, 0.04695584625005722, -0.014431764371693134, -0.049002278596162796, 0.006580268498510122, 0.06405045837163925, 0.030726881697773933, 0.01481997687369585, 0.0385439470410347, 0.06817888468503952, 0.04183186963200569, 0.010704274289309978, -0.07292303442955017, 0.02777154929935932, -0.0032576241064816713, -0.07121161371469498, 0.047408826649188995, -0.12359735369682312, 0.022476498037576675, 0.024767987430095673, -0.004349278751760721, 0.0667138323187828, 0.08408129960298538, 0.001577757648192346, 0.06730804592370987, -0.14823368191719055, 0.060321636497974396, 0.07763711363077164, 0.03608327358961105, 0.031124655157327652, 0.026278352364897728, 0.04863758757710457, 0.06397902220487595, 0.01990063115954399, 0.05787823349237442, -0.043870680034160614, -0.044980499893426895, 0.042752936482429504, 0.02565682679414749, -0.08633802086114883, 0.08419128507375717, -0.0495886392891407, -0.017879756167531013, -0.04063860699534416, -0.02711082063615322, -0.024988584220409393, -0.04416760429739952, 0.023030150681734085, 0.05358503758907318, -0.01330604124814272, 0.022356370463967323, 0.0647866278886795, -0.09800741076469421, -0.05580376833677292, -0.010348248295485973, -0.04160711169242859, 0.03276129812002182, 0.048802699893713, -0.08384932577610016, 0.034872107207775116, 0.03969988971948624, 0.02804449200630188, -0.08837171643972397, -0.008485609665513039, 0.0044725253246724606, 0.03768462687730789, -0.02081659622490406, -0.05205953121185303, 0.001602157368324697, 0.12307661771774292, 0.0030716469045728445, 0.06223541125655174, -0.00863195862621069, -0.01774531789124012, 0.004413292743265629, 0.033296287059783936, 1.057471672538668e-05, 0.04594918712973595, -0.02467937581241131, 0.11916711926460266, 0.008066645823419094, -0.010134214535355568, -0.0046318150125443935, 0.05718589574098587, -0.0007702879374846816, -0.01954272761940956, -0.049125026911497116, -0.06275591254234314, 0.053558044135570526, 0.015486347489058971, -0.007886181585490704, -0.07378952205181122, -0.04961537942290306, 0.00047645787708461285, 0.02948666736483574, -0.0781763568520546, -5.876758280010108e-08, -0.05713024362921715, -0.02304038032889366, -0.05500054731965065, 0.01683424599468708, 0.0018664303934201598, -0.12504297494888306, 0.0029793146532028913, -0.06955312937498093, 0.11121204495429993, 0.006271923426538706, -0.05917847529053688, -0.004045335575938225, -0.10294023156166077, -0.10000279545783997, 0.08712103962898254, 0.02438030205667019, -0.006788984872400761, 0.09285876899957657, -0.05398988351225853, 0.06902054697275162, 0.06237490475177765, -0.04448315128684044, -0.04863482341170311, 0.013334045186638832, 0.05675739422440529, -0.005444423295557499, -0.028519846498966217, 0.02879882976412773, 0.04727159067988396, 0.11867646872997284, 0.027551760897040367, 0.030937254428863525, 0.04764486476778984, -0.014624123461544514, -0.07001039385795593, 0.01847664639353752, -0.014847011305391788, -0.04550600424408913, 0.08709292113780975, 0.08442508429288864, 0.039723943918943405, -0.05150231719017029, -0.0771125927567482, 0.014686507172882557, 0.0033018686808645725, -0.06456966698169708, -0.032635726034641266, 0.03174333646893501, -0.00878157839179039, -0.0377470925450325, -0.010504752397537231, -0.022916104644536972, -0.03513883426785469, 0.017734292894601822, -0.07068420946598053, 0.008545609191060066, 0.004987882450222969, 0.10727779567241669, 0.06603184342384338, 0.006875325459986925, 0.022417278960347176, 0.010697239078581333, 0.08726298063993454, -0.07073116302490234]}, {"id": "dyn_ui_component_DynContainer", "text": "# Component: DynContainer\n\n--- Types (DynContainer.types.ts) ---\nimport type { CSSProperties, HTMLAttributes, ReactNode, ElementType } from 'react';\nimport type { BaseComponentProps } from '../../types/theme';\nimport type {\n  LayoutAlignment,\n  LayoutDirection,\n  LayoutJustify,\n  LayoutSize,\n  LayoutSpacing,\n} from '../../types/layout.types';\n\nexport type DynContainerBackground = 'none' | 'surface' | 'card';\nexport type DynContainerLayout = 'fluid' | 'fixed';\nexport type DynContainerMaxWidthToken = 'xs' | 'sm' | 'md' | 'lg' | 'xl' | 'full';\nexport type DynContainerSpaceValue = LayoutSpacing | number | string;\n\nexport interface DynContainerOwnProps {\n  /** The HTML element or component to use for the root node */\n  as?: ElementType;\n  /** Optional title displayed above the content */\n  title?: string;\n  /** Optional subtitle displayed under the title */\n  subtitle?: string;\n  /** Layout direction for the content area */\n  direction?: LayoutDirection;\n  /** Cross-axis alignment for content */\n  align?: LayoutAlignment;\n  /** Main-axis alignment for content */\n  justify?: LayoutJustify;\n  /** Spacing between content elements */\n  spacing?: LayoutSpacing;\n  /** Visual size variant which controls internal padding */\n  size?: LayoutSize;\n  /** Controls whether the container has a border */\n  bordered?: boolean;\n  /** Controls whether the container has a shadow */\n  shadow?: boolean;\n  /** Background style variant */\n  background?: DynContainerBackground;\n  /** Fixed height for the container */\n  height?: number | string;\n  /** Maximum width constraint, accepts design tokens or raw CSS values */\n  maxWidth?: number | string | DynContainerMaxWidthToken;\n  /** Layout behavior for responsive alignment */\n  layout?: DynContainerLayout;\n  /** Optional padding override using spacing tokens or raw CSS values */\n  padding?: DynContainerSpaceValue;\n  /** Optional margin override using spacing tokens or raw CSS values */\n  margin?: DynContainerSpaceValue;\n  /** Render prop children are supported in addition to nodes */\n  children?: ReactNode;\n  /** Removes border regardless of bordered value (legacy prop support) */\n  noBorder?: boolean;\n  /** Removes padding regardless of size value (legacy prop support) */\n  noPadding?: boolean;\n  /** Inline style overrides */\n  style?: CSSProperties;\n}\n\nexport type DynContainerProps = BaseComponentProps &\n  DynContainerOwnProps &\n  Omit<\n    HTMLAttributes<HTMLDivElement>,\n    keyof BaseComponentProps | keyof DynContainerOwnProps\n  >;\n\nexport type DynContainerRef = HTMLDivElement;\n\nexport interface DynContainerDefaultProps {\n  direction: LayoutDirection;\n  spacing: LayoutSpacing;\n  size: LayoutSize;\n  background: DynContainerBackground;\n  bordered: boolean;\n  shadow: boolean;\n  layout: DynContainerLayout;\n  'data-testid': string;\n}\n\nexport const DYN_CONTAINER_DEFAULT_PROPS: DynContainerDefaultProps = {\n  direction: 'vertical',\n  spacing: 'sm',\n  size: 'md',\n  background: 'surface',\n  bordered: true,\n  shadow: false,\n  layout: 'fluid',\n  'data-testid': 'dyn-container',\n};\n\n\n--- Component (DynContainer.tsx) ---\nimport { forwardRef, useMemo } from 'react';\nimport type { CSSProperties, ForwardedRef } from 'react';\nimport { cn } from '../../utils/classNames';\nimport {\n  DYN_CONTAINER_DEFAULT_PROPS,\n  DynContainerProps,\n  DynContainerRef,\n} from './DynContainer.types';\nimport styles from './DynContainer.module.css';\n\nconst toPascalCase = (value: string) => {\n  if (value.match(/^\\d/)) return value; // 2xs -> 2xs (lowercase start for numbers)\n  return value.charAt(0).toUpperCase() + value.slice(1);\n};\n\nconst SPACING_TOKENS: Record<string, string> = {\n  none: '0',\n  '2xs': 'var(--dyn-spacing-2xs)',\n  xs: 'var(--dyn-spacing-xs)',\n  sm: 'var(--dyn-spacing-sm)',\n  md: 'var(--dyn-spacing-md)',\n  lg: 'var(--dyn-spacing-lg)',\n  xl: 'var(--dyn-spacing-xl)',\n  '2xl': 'var(--dyn-spacing-2xl)',\n  '3xl': 'var(--dyn-spacing-3xl)',\n  '4xl': 'var(--dyn-spacing-4xl)',\n};\n\nconst MAX_WIDTH_TOKENS: Record<string, string> = {\n  xs: 'var(--dyn-container-max-width-xs)',\n  sm: 'var(--dyn-container-max-width-sm)',\n  md: 'var(--dyn-container-max-width-md)',\n  lg: 'var(--dyn-container-max-width-lg)',\n  xl: 'var(--dyn-container-max-width-xl)',\n  full: '100%',\n};\n\nconst SHADOW_TOKENS = ['none', 'low', 'medium', 'high', 'default'];\nconst BG_TOKENS = ['none', 'surface', 'card'];\n\n\ntype CSSVarProperties = CSSProperties & Record<string, string | number | undefined>;\n\nconst resolveTokenValue = (value: string | number | undefined, tokenMap: Record<string, string>): string | undefined => {\n  if (value === undefined) return undefined;\n  if (typeof value === 'number') return value === 0 ? '0' : `${value}px`;\n  const valStr = String(value).trim();\n  if (valStr in tokenMap) return tokenMap[valStr];\n  // If value is a numeric string (e.g. \"500\"), append px\n  if (/^\\d+$/.test(valStr)) return `${valStr}px`;\n  return valStr;\n};\n\nconst DynContainerComponent = (\n  {\n    as: Component = 'div',\n    title,\n    subtitle,\n    direction,\n    align,\n    justify,\n    spacing,\n    size,\n    bordered,\n    shadow,\n    background,\n    height,\n    maxWidth,\n    layout,\n    padding,\n    margin,\n    noBorder,\n    noPadding,\n    className,\n    children,\n    style,\n    'data-testid': dataTestId = 'dyn-container',\n    ...rest\n  }: DynContainerProps,\n  ref: ForwardedRef<DynContainerRef>\n) => {\n  const effectiveDirection = direction ?? DYN_CONTAINER_DEFAULT_PROPS.direction;\n  const effectiveSpacing = spacing ?? DYN_CONTAINER_DEFAULT_PROPS.spacing;\n  const effectiveSize = size ?? DYN_CONTAINER_DEFAULT_PROPS.size;\n  const effectiveBackground = background ?? DYN_CONTAINER_DEFAULT_PROPS.background;\n  const effectiveBordered = bordered ?? DYN_CONTAINER_DEFAULT_PROPS.bordered;\n  const effectiveShadow = shadow ?? DYN_CONTAINER_DEFAULT_PROPS.shadow;\n  const effectiveLayout = layout ?? DYN_CONTAINER_DEFAULT_PROPS.layout;\n\n  const resolvedBordered = noBorder ? false : effectiveBordered;\n  const hasTitleContent = Boolean(title || subtitle);\n\n  const containerStyle = useMemo<CSSProperties | undefined>(() => {\n    const next: CSSVarProperties = { ...(style as CSSVarProperties) };\n\n    if (height !== undefined) {\n      next.height = typeof height === 'number' ? `${height}px` : height;\n    }\n\n    const resolvedMaxWidth = resolveTokenValue(maxWidth, MAX_WIDTH_TOKENS);\n    if (resolvedMaxWidth !== undefined) {\n      next.maxWidth = resolvedMaxWidth.startsWith('var') ? `min(100%, ${resolvedMaxWidth})` : resolvedMaxWidth;\n      next['--dyn-container-max-width'] = next.maxWidth as string;\n    }\n\n    const resolvedPadding = noPadding ? '0' : resolveTokenValue(padding, SPACING_TOKENS);\n    if (resolvedPadding !== undefined) {\n      next['--dyn-container-padding'] = resolvedPadding;\n    }\n\n    const resolvedMargin = resolveTokenValue(margin, SPACING_TOKENS);\n    if (resolvedMargin !== undefined) {\n      next['--dyn-container-margin'] = resolvedMargin;\n    }\n\n    const resolvedGap = resolveTokenValue(spacing, SPACING_TOKENS);\n    if (resolvedGap !== undefined) {\n      next['--dyn-container-gap'] = resolvedGap;\n    }\n\n    return Object.keys(next).length > 0 ? next : undefined;\n  }, [height, maxWidth, padding, margin, spacing, style, noPadding]);\n\n  // Dynamic Class Mappings \n  const directionClass = styles[`direction${toPascalCase(effectiveDirection)}` as keyof typeof styles];\n\n  const sizeClass = effectiveSize ? styles[`size${toPascalCase(effectiveSize)}` as keyof typeof styles] : undefined;\n\n  const backgroundClass = effectiveBackground && BG_TOKENS.includes(effectiveBackground)\n    ? styles[`background${toPascalCase(effectiveBackground)}` as keyof typeof styles]\n    : undefined;\n\n  const alignClass = align ? styles[`align${toPascalCase(align)}` as keyof typeof styles] : undefined;\n  const justifyClass = justify ? styles[`justify${toPascalCase(justify)}` as keyof typeof styles] : undefined;\n\n  const spacingClass = effectiveSpacing && typeof effectiveSpacing === 'string' && SPACING_TOKENS[effectiveSpacing]\n    ? styles[`spacing${toPascalCase(effectiveSpacing)}` as keyof typeof styles]\n    : undefined;\n\n  const containerClassName = cn(\n    styles.root,\n    directionClass,\n    spacingClass,\n    sizeClass,\n    backgroundClass,\n    alignClass,\n    justifyClass,\n    effectiveLayout === 'fixed' && styles.layoutFixed,\n    resolvedBordered && styles.bordered,\n    effectiveShadow && (SHADOW_TOKENS.includes(String(effectiveShadow)) ? styles[`shadow${toPascalCase(String(effectiveShadow))}` as keyof typeof styles] : styles.shadow),\n    noPadding && styles.noPadding,\n    hasTitleContent && styles.withTitle,\n    className\n  );\n\n  return (\n    <Component\n      ref={ref}\n      className={containerClassName}\n      style={containerStyle}\n      data-testid={dataTestId}\n      {...rest}\n    >\n      {hasTitleContent && (\n        <div className={styles.header}>\n          {title && <h2 className={styles.title}>{title}</h2>}\n          {subtitle && <p className={styles.subtitle}>{subtitle}</p>}\n        </div>\n      )}\n      <div className={styles.content}>{children}</div>\n    </Component>\n  );\n};\n\nconst DynContainer = forwardRef<DynContainerRef, DynContainerProps>(DynContainerComponent);\n\nDynContainer.displayName = 'DynContainer';\n\nexport { DynContainer };\nexport default DynContainer;\n\n\n\n--- Usage Examples (DynContainer.stories.tsx) ---\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { DynContainer } from './DynContainer';\nimport { DynButton } from '../DynButton';\n\nconst meta: Meta<typeof DynContainer> = {\n  title: 'Components/Layout/DynContainer',\n  component: DynContainer,\n  parameters: {\n    layout: 'centered',\n    docs: {\n      description: {\n        component: `\n          DynContainer is a flexible container component for grouping related content.\n          It provides consistent spacing, optional borders and shadows, as well as layout controls\n          for alignment, direction, and background styling.\n\n          **Key capabilities:**\n          - Optional title and subtitle rendering\n          - Size variants that control internal padding\n          - Spacing tokens for content gap management\n          - Background, border, and shadow styling options\n          - Layout alignment and direction controls\n        `,\n      },\n    },\n  },\n  tags: ['autodocs'],\n  argTypes: {\n    as: {\n      control: 'select',\n      options: ['div', 'section', 'article', 'aside', 'main'],\n      description: 'The HTML element or component to use for the root node',\n    },\n    title: {\n      control: 'text',\n      description: 'Optional container title',\n    },\n    subtitle: {\n      control: 'text',\n      description: 'Optional subtitle displayed below the title',\n    },\n    direction: {\n      control: 'radio',\n      options: [undefined, 'vertical', 'horizontal'],\n      description: 'Layout direction for the content area',\n    },\n    spacing: {\n      control: 'select',\n      options: [undefined, 'none', 'xs', 'sm', 'md', 'lg', 'xl'],\n      description: 'Spacing token applied between content elements',\n    },\n    size: {\n      control: 'radio',\n      options: [undefined, 'sm', 'md', 'lg'],\n      description: 'Size variant that controls padding',\n    },\n    bordered: {\n      control: 'boolean',\n      description: 'Display a border around the container',\n    },\n    shadow: {\n      control: 'boolean',\n      description: 'Display an elevated shadow',\n    },\n    noBorder: {\n      control: 'boolean',\n      description: 'Removes border regardless of bordered value (legacy prop support)',\n    },\n    noPadding: {\n      control: 'boolean',\n      description: 'Removes padding regardless of size value (legacy prop support)',\n    },\n    background: {\n      control: 'radio',\n      options: [undefined, 'none', 'surface', 'card'],\n      description: 'Background style variant',\n    },\n    layout: {\n      control: 'radio',\n      options: [undefined, 'fluid', 'fixed'],\n      description: 'Layout behavior controlling how the container width is constrained',\n    },\n    align: {\n      control: 'radio',\n      options: [undefined, 'start', 'center', 'end', 'stretch'],\n      description: 'Cross-axis alignment for content',\n    },\n    justify: {\n      control: 'radio',\n      options: [undefined, 'start', 'center', 'end', 'between', 'around', 'evenly'],\n      description: 'Main-axis alignment for content',\n    },\n    height: {\n      control: { type: 'number', min: 100, max: 800, step: 50 },\n      description: 'Fixed height in pixels',\n    },\n    maxWidth: {\n      control: 'text',\n      description:\n        'Optional maximum width constraint. Accepts CSS values or responsive tokens (xs, sm, md, lg, xl, full).',\n    },\n    padding: {\n      control: 'select',\n      options: [undefined, 'none', 'xs', 'sm', 'md', 'lg', 'xl'],\n      description: 'Override internal padding using spacing tokens',\n    },\n    margin: {\n      control: 'select',\n      options: [undefined, 'none', 'xs', 'sm', 'md', 'lg', 'xl'],\n      description: 'Apply outer margin using spacing tokens',\n    },\n    className: {\n      control: 'text',\n      description: 'Additional CSS classes',\n    },\n  },\n};\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\n/**\n * Playground story - full control over all DynContainer properties.\n * Use this to test spacing, sizing, background, and layout props interactively.\n */\nexport const Playground: Story = {\n  args: {\n    title: 'DynContainer Playground',\n    subtitle: 'Change controls to test behavior',\n    direction: 'vertical',\n    spacing: 'md',\n    size: 'md',\n    bordered: true,\n    shadow: false,\n    background: 'surface',\n    layout: 'fluid',\n    children: (\n      <>\n        <p style={{ margin: 0, backgroundColor: 'rgba(0,0,0,0.05)', padding: '4px' }}>Content A</p>\n        <DynButton label=\"Button B\" kind=\"primary\" onClick={() => alert('Sample Button Clicked')} />\n        <div style={{ padding: '8px', border: '1px dashed #ccc' }}>Box C</div>\n      </>\n    ),\n  },\n};\n\nexport const Default: Story = {\n  args: {\n    spacing: 'md',\n    size: 'md',\n    bordered: true,\n    background: 'surface',\n    title: 'Default Container',\n    children: (\n      <div>\n        <p>This is the standard container with borders and padding enabled by default for better visibility.</p>\n        <DynButton label=\"Action Button\" kind=\"primary\" onClick={() => alert('Action Button Clicked')} />\n      </div>\n    ),\n  },\n};\n\nexport const WithTitle: Story = {\n  args: {\n    title: 'Container Title',\n    subtitle: 'Optional supporting information',\n    spacing: 'md',\n    size: 'md',\n    bordered: true,\n    background: 'surface',\n    children: (\n      <div>\n        <p>This container includes both a title and subtitle in the header area.</p>\n        <p>The content region inherits spacing tokens for consistent layout.</p>\n      </div>\n    ),\n  },\n};\n\nexport const NoBorder: Story = {\n  args: {\n    bordered: false,\n    shadow: false,\n    background: 'none',\n    title: 'Borderless Container',\n    children: (\n      <div>\n        <p>This container has no border or shadow for a lightweight appearance.</p>\n        <DynButton label=\"Action Button\" kind=\"secondary\" onClick={() => alert('No Border Action Clicked')} />\n      </div>\n    ),\n  },\n};\n\nexport const CardBackground: Story = {\n  args: {\n    background: 'card',\n    shadow: true,\n    title: 'Card Surface',\n    children: (\n      <div>\n        <p>Use the card background variant to mimic elevated surfaces.</p>\n        <DynButton label=\"Primary\" kind=\"primary\" onClick={() => alert('Card Primary Clicked')} />\n      </div>\n    ),\n  },\n};\n\nexport const HorizontalLayout: Story = {\n  args: {\n    direction: 'horizontal',\n    spacing: 'lg',\n    align: 'center',\n    justify: 'between',\n    title: 'Horizontal Layout',\n    children: (\n      <>\n        <div>\n          <strong>Left Column</strong>\n          <p>Content aligns center vertically and spreads across.</p>\n        </div>\n        <DynButton label=\"Primary Action\" kind=\"primary\" onClick={() => alert('Horizontal Action Clicked')} />\n      </>\n    ),\n  },\n};\n\nexport const NoPadding: Story = {\n  args: {\n    noPadding: true,\n    title: 'No Padding Container',\n    background: 'none',\n    bordered: false,\n    children: (\n      <div style={{ padding: '20px', backgroundColor: '#f0f0f0', color: '#000000' }}>\n        <p>This container has no internal padding. Content spans the full width.</p>\n        <p>You can add custom padding to the content if needed.</p>\n      </div>\n    ),\n  },\n};\n\nexport const FixedHeight: Story = {\n  args: {\n    height: 300,\n    title: 'Fixed Height Container',\n    children: (\n      <div>\n        <p>This container has a fixed height of 300px.</p>\n        <p>Content will scroll if it exceeds the container height.</p>\n        <p>Additional content to demonstrate height constraints.</p>\n        <p>More content to show scrolling behavior.</p>\n        <p>Even more content for testing.</p>\n      </div>\n    ),\n  },\n};\n\nexport const FixedLayout: Story = {\n  args: {\n    layout: 'fixed',\n    maxWidth: 'lg',\n    title: 'Fixed Layout Container',\n    subtitle: 'Centers content and constrains width using design tokens.',\n    spacing: 'lg',\n    children: (\n      <div>\n        <p>\n          Fixed layout keeps content centered while respecting responsive max-width tokens. Resize the viewport to\n          observe adaptive behavior.\n        </p>\n        <DynButton label=\"Learn more\" kind=\"secondary\" />\n      </div>\n    ),\n  },\n};\n\nexport const CustomSpacing: Story = {\n  args: {\n    padding: 'lg',\n    margin: 'md',\n    spacing: 'sm',\n    background: 'card',\n    shadow: true,\n    title: 'Custom Spacing Tokens',\n    children: (\n      <>\n        <p>\n          Use spacing tokens to coordinate internal padding, external margin, and child spacing while staying aligned with\n          the design system scale.\n        </p>\n        <DynButton label=\"Primary Action\" kind=\"primary\" />\n      </>\n    ),\n  },\n};\n\nexport const CustomCombination: Story = {\n  args: {\n    height: 250,\n    spacing: 'lg',\n    background: 'card',\n    shadow: true,\n    title: 'Custom Configuration',\n    subtitle: 'Combining multiple layout tokens',\n    className: 'custom-container-demo',\n    children: (\n      <div>\n        <p>This container combines multiple features:</p>\n        <ul>\n          <li>Fixed height (250px)</li>\n          <li>Card background with elevation</li>\n          <li>Large internal spacing</li>\n          <li>Custom CSS class</li>\n        </ul>\n        <div style={{ marginTop: '20px', display: 'flex', gap: '12px' }}>\n          <DynButton label=\"Primary\" kind=\"primary\" />\n          <DynButton label=\"Secondary\" kind=\"secondary\" />\n        </div>\n      </div>\n    ),\n  },\n};\n\nexport const NestedContainers: Story = {\n  args: {\n    title: 'Parent Container',\n    spacing: 'md',\n    children: (\n      <div style={{ display: 'grid', gap: '16px' }}>\n        <DynContainer title=\"Child Container 1\" bordered={false} background=\"none\">\n          <p>Second nested container content.</p>\n        </DynContainer>\n        <DynContainer title=\"Child Container 2\" bordered={false} background=\"none\">\n          <p>First nested container content.</p>\n          <DynButton\n            label=\"Nested Action\"\n            kind=\"tertiary\"\n            onClick={() => alert('Action triggered from nested container!')}\n          />\n        </DynContainer>\n      </div>\n    ),\n  },\n};\n\nexport const Showcase: Story = {\n  parameters: {\n    layout: 'fullscreen',\n    docs: {\n      story: 'Comprehensive showcase of DynContainer variants and configurations.',\n    },\n  },\n  render: () => (\n    <div\n      style={{\n        display: 'grid',\n        gap: '20px',\n        gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))',\n        width: '100%',\n      }}\n    >\n      <DynContainer title=\"Default Container\" spacing=\"md\" size=\"md\" bordered background=\"surface\">\n        <p>Standard container with all default settings.</p>\n        <DynButton label=\"Default\" kind=\"primary\" onClick={() => alert('Default button clicked!')} />\n      </DynContainer>\n\n      <DynContainer bordered={false} background=\"none\" title=\"No Border\">\n        <p>Container without borders or shadow.</p>\n        <DynButton label=\"No Border\" kind=\"secondary\" onClick={() => alert('No Border button clicked!')} />\n      </DynContainer>\n\n      <DynContainer noPadding title=\"No Padding\">\n        <div style={{ padding: '16px', backgroundColor: '#f5f5f5', color: '#000000' }}>\n          <p>Container with custom content padding.</p>\n          <DynButton label=\"Custom\" kind=\"tertiary\" onClick={() => alert('Custom button clicked!')} />\n        </div>\n      </DynContainer>\n\n      <DynContainer height={200} title=\"Fixed Height\" spacing=\"sm\">\n        <p>Container with fixed height constraint.</p>\n        <p>Content will be constrained to the specified height.</p>\n        <DynButton label=\"Fixed\" kind=\"primary\" onClick={() => alert('Fixed button clicked!')} />\n      </DynContainer>\n    </div>\n  ),\n};\n\n\n--- Styles (DynContainer.module.css) ---\n/**\n * DynContainer Component Styles - Unified Component Token Strategy\n * Supports both component tokens and dynamic overrides\n */\n\n.root {\n  /* Layout Variables with Defaults */\n  --dyn-container-padding: var(--dyn-container-padding-md);\n  --dyn-container-margin: 0;\n  --dyn-container-gap: var(--dyn-container-gap-sm);\n  \n  --dyn-container-max-width: 100%;\n  --dyn-container-background: var(--dyn-semantic-surface, #f8fafc);\n  --dyn-container-shadow: var(--dyn-container-shadow-none);\n\n  /* internal computed variables used by properties */\n  --dyn-container-padding-val: var(--dyn-container-padding);\n  --dyn-container-margin-val: var(--dyn-container-margin);\n  --dyn-container-gap-val: var(--dyn-container-gap);\n  \n  --dyn-container-max-width-val: var(--dyn-container-max-width);\n  --dyn-container-bg-val: var(--dyn-container-background);\n  --dyn-container-shadow-val: var(--dyn-container-shadow);\n\n  /* Typography & Header Tokens */\n  --dyn-container-typography-title-color: var(--dyn-semantic-text, #1e293b);\n  --dyn-container-typography-title-font-size: var(--dyn-font-size-lg, 1.125rem);\n  --dyn-container-typography-title-font-weight: var(--dyn-font-weight-semibold, 600);\n  --dyn-container-typography-subtitle-color: var(--dyn-semantic-text-muted, #64748b);\n  --dyn-container-typography-subtitle-font-size: var(--dyn-font-size-sm, 0.875rem);\n  \n  --dyn-container-header-padding-bottom: var(--dyn-spacing-sm, 0.5rem);\n  --dyn-container-header-border-width: var(--dyn-border-width-sm, 1px);\n  --dyn-container-header-border-color: var(--dyn-semantic-border, #e2e8f0);\n\n  box-sizing: border-box;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  text-align: left;\n\n  width: 100%;\n  max-width: var(--dyn-container-max-width-val);\n  margin: var(--dyn-container-margin-val);\n  padding: var(--dyn-container-padding-val);\n  gap: var(--dyn-container-gap-val);\n\n  background: var(--dyn-container-bg-val, var(--dyn-semantic-surface));\n  box-shadow: var(--dyn-container-shadow-val);\n  border-radius: var(--dyn-border-radius-lg);\n  /* Border is applied via .bordered class instead of default */\n  border: none;\n\n  transition:\n    background-color var(--dyn-transition-fast),\n    box-shadow var(--dyn-transition-fast),\n    border-color var(--dyn-transition-fast);\n}\n\n/* ============================================\n   DIRECTION VARIANTS\n   ============================================ */\n.directionVertical .content {\n  flex-direction: column;\n}\n\n.directionHorizontal .content {\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n\n/* ============================================\n   ALIGNMENT\n   ============================================ */\n.alignStart .content {\n  align-items: flex-start;\n}\n\n.alignCenter .content {\n  align-items: center;\n}\n\n.alignEnd .content {\n  align-items: flex-end;\n}\n\n.alignStretch .content {\n  align-items: stretch;\n}\n\n.justifyStart .content {\n  justify-content: flex-start;\n}\n\n.justifyCenter .content {\n  justify-content: center;\n}\n\n.justifyEnd .content {\n  justify-content: flex-end;\n}\n\n.justifyBetween .content {\n  justify-content: space-between;\n}\n\n.justifyAround .content {\n  justify-content: space-around;\n}\n\n.justifyEvenly .content {\n  justify-content: space-evenly;\n}\n\n/* ============================================\n   SPACING VARIANTS (Internal Class Overrides) \n   Note: We keep these if we want to support them via props that bypass style injection,\n   but TSX now resolves them. I'll keep them as fallback mechanisms.\n   ============================================ */\n.spacingNone {\n  --dyn-container-gap: var(--dyn-container-gap-none);\n}\n\n.spacing2xs {\n  --dyn-container-gap: var(--dyn-container-gap-2xs);\n}\n\n.spacingXs {\n  --dyn-container-gap: var(--dyn-container-gap-xs);\n}\n\n.spacingSm {\n  --dyn-container-gap: var(--dyn-container-gap-sm);\n}\n\n.spacingMd {\n  --dyn-container-gap: var(--dyn-container-gap-md);\n}\n\n.spacingLg {\n  --dyn-container-gap: var(--dyn-container-gap-lg);\n}\n\n.spacingXl {\n  --dyn-container-gap: var(--dyn-container-gap-xl);\n}\n\n.spacing2xl {\n  --dyn-container-gap: var(--dyn-container-gap-2xl);\n}\n\n.spacing3xl {\n  --dyn-container-gap: var(--dyn-container-gap-3xl);\n}\n\n.spacing4xl {\n  --dyn-container-gap: var(--dyn-container-gap-4xl);\n}\n\n/* ============================================\n   SIZE VARIANTS (Padding)\n   ============================================ */\n.sizeSm {\n  --dyn-container-padding: var(--dyn-container-padding-sm);\n}\n\n.sizeMd {\n  --dyn-container-padding: var(--dyn-container-padding-md);\n}\n\n.sizeLg {\n  --dyn-container-padding: var(--dyn-container-padding-lg);\n}\n\n/* ============================================\n   LAYOUT VARIANTS\n   ============================================ */\n.maxWidthXs {\n  --dyn-container-max-width: min(100%, var(--dyn-layout-container-xs));\n}\n\n.maxWidthSm {\n  --dyn-container-max-width: min(100%, var(--dyn-layout-container-sm));\n}\n\n.maxWidthMd {\n  --dyn-container-max-width: min(100%, var(--dyn-layout-container-md));\n}\n\n.maxWidthLg {\n  --dyn-container-max-width: min(100%, var(--dyn-layout-container-lg));\n}\n\n.maxWidthXl {\n  --dyn-container-max-width: min(100%, var(--dyn-layout-container-xl));\n}\n\n.maxWidthFull {\n  --dyn-container-max-width: 100%;\n}\n\n.layoutFixed {\n  --dyn-container-margin: 0 auto;\n  --dyn-container-max-width: min(100%, 64rem);\n}\n\n/* ============================================\n   BACKGROUND VARIANTS\n   ============================================ */\n.backgroundNone {\n  --dyn-container-background: var(--dyn-container-background-none);\n}\n\n.backgroundSurface {\n  --dyn-container-background: var(--dyn-container-background-surface);\n}\n\n.backgroundCard {\n  --dyn-container-background: var(--dyn-container-background-card);\n}\n\n/* ============================================\n   STYLE VARIANTS\n   ============================================ */\n.bordered {\n  border: var(--dyn-border-width-sm) solid var(--dyn-semantic-border);\n}\n\n.shadowNone {\n  --dyn-container-shadow: var(--dyn-elevation-none);\n}\n\n.shadowLow {\n  --dyn-container-shadow: var(--dyn-elevation-low);\n}\n\n.shadowMedium {\n  --dyn-container-shadow: var(--dyn-elevation-medium);\n}\n\n.shadowHigh {\n  --dyn-container-shadow: var(--dyn-elevation-high);\n}\n\n.shadowDefault,\n.shadow {\n  --dyn-container-shadow: var(--dyn-elevation-medium);\n}\n\n.noPadding {\n  --dyn-container-padding: var(--dyn-container-padding-none);\n}\n\n\n/* ============================================\n   HEADER & CONTENT\n   ============================================ */\n.header {\n  display: flex;\n  flex-direction: column;\n  gap: var(--dyn-spacing-xs);\n  padding-bottom: var(--dyn-container-header-padding-bottom);\n  border-bottom: var(--dyn-container-header-border-width) solid var(--dyn-container-header-border-color);\n}\n\n.title {\n  margin: 0;\n  font-size: var(--dyn-container-typography-title-font-size);\n  font-weight: var(--dyn-container-typography-title-font-weight);\n  color: var(--dyn-container-typography-title-color);\n  line-height: 1.3;\n}\n\n.subtitle {\n  margin: 0;\n  font-size: var(--dyn-container-typography-subtitle-font-size);\n  color: var(--dyn-container-typography-subtitle-color);\n  line-height: 1.5;\n}\n\n.content {\n  display: flex;\n  flex-direction: column;\n  gap: var(--dyn-container-gap-val);\n  flex: 1 1 auto;\n  width: 100%;\n  min-width: 0;\n}\n\n.withTitle .content {\n  padding-top: var(--dyn-spacing-xs);\n}\n\n/* ============================================\n   ACCESSIBILITY & RESPONSIVE\n   ============================================ */\n@media (prefers-reduced-motion: reduce) {\n  .root {\n    transition: none;\n  }\n}\n\n@media (prefers-contrast: high) {\n  .bordered {\n    border-width: var(--dyn-border-width-md, 2px);\n  }\n}\n\n@media (max-width: 768px) {\n  .root {\n    --dyn-container-padding-override: var(--dyn-container-padding-sm);\n  }\n\n  .directionHorizontal .content {\n    flex-direction: column;\n  }\n}\n\n.root:focus-visible {\n  outline: var(--dyn-border-width-md, 2px) solid var(--dyn-semantic-border-focus);\n  outline-offset: var(--dyn-spacing-2xs, 2px);\n}", "metadata": {"type": "ui_component", "name": "DynContainer", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynContainer"}, "embedding": [-0.05026848614215851, 0.01718307100236416, 0.0328633077442646, 0.05286497250199318, 0.008545237593352795, 0.07722561806440353, -0.029647769406437874, 0.1168324425816536, 0.028085073456168175, -0.021359728649258614, -0.1063271313905716, -0.015607055276632309, -0.045401204377412796, 0.02275184728205204, 0.029150599613785744, -0.01401555072516203, -0.057206038385629654, -0.0273645780980587, 0.02680012956261635, 0.07581467926502228, 0.007419238798320293, -0.033311691135168076, 0.07564093172550201, -0.020141754299402237, 0.01168975979089737, 0.08899442106485367, 0.05376018211245537, -0.017204832285642624, 0.07953156530857086, 0.0057986159808933735, 0.02136862650513649, 0.10303179919719696, 0.006801483687013388, 0.012339451350271702, -0.07108712941408157, 0.08944381773471832, -0.06318241357803345, 0.009785575792193413, -0.04688034951686859, -0.05717886611819267, 0.0816618874669075, 0.07060826569795609, 0.06539341807365417, -0.048041876405477524, 0.07373418658971786, -0.010052761062979698, -0.0470823273062706, -0.01697775162756443, -0.06265140324831009, 0.038834430277347565, 0.008716351352632046, -0.0030573015101253986, 0.062231164425611496, -0.010032984428107738, -0.018934456631541252, 0.06781055778265, 0.066248819231987, 0.033383697271347046, 0.07544727623462677, -0.018368355929851532, 0.13273867964744568, -0.020000403746962547, 0.061632730066776276, -0.048334233462810516, 0.01568480394780636, 0.04984906315803528, -0.029733773320913315, 0.040533870458602905, -0.024341516196727753, -0.006245432887226343, -0.037469372153282166, 0.015458335168659687, 0.08607030659914017, -0.014728964306414127, 0.07514660805463791, -0.10956823825836182, 0.024365531280636787, -0.008486729115247726, 0.012371744029223919, 0.012913656421005726, 0.04335375130176544, 0.04517514631152153, -0.02594617009162903, 0.0467710867524147, -0.041847020387649536, 0.041295941919088364, 0.028300732374191284, -0.015934651717543602, -0.10218815505504608, -0.06655293703079224, -0.04142681881785393, -0.08787548542022705, -0.03960710018873215, 0.04207335039973259, -0.002105404157191515, 0.05498801916837692, -0.14785754680633545, 0.04789550602436066, -0.05475335195660591, -0.005969048012048006, 0.029000340029597282, -0.00937855988740921, -0.035306528210639954, 0.06559716910123825, -0.02344948798418045, -0.056117527186870575, -0.0201311856508255, -0.049941837787628174, -0.04450881481170654, -0.026347648352384567, 0.022049259394407272, 0.05695111304521561, -0.09650279581546783, 0.07197243720293045, -0.0954723134636879, -0.07872258871793747, 0.04024702310562134, -0.07956673204898834, 0.09619435667991638, 0.00104903697501868, 0.08365488052368164, 0.006960014812648296, -0.009889013133943081, -0.010930056683719158, 0.030587293207645416, 0.0022791114170104265, 0.0643739402294159, 7.085155548363055e-33, -0.04024874418973923, 0.015074907802045345, 0.006604454945772886, 0.062400251626968384, 0.11016752570867538, -0.046641215682029724, 0.023735035210847855, -0.030186545103788376, 0.03371421620249748, 0.026761921122670174, -0.011069735512137413, 0.019006993621587753, -0.08959729969501495, -0.021066680550575256, -0.09298912435770035, -0.0994335487484932, -0.011588008143007755, 0.007698424626141787, -0.042252905666828156, -0.03584802523255348, 0.04759927839040756, -0.010675176046788692, -0.09493418782949448, -0.057268545031547546, 0.038783904165029526, -0.03589751198887825, -0.06724078953266144, 0.07187148928642273, -0.06315231323242188, -0.06339620053768158, 0.03151292726397514, -0.02461433783173561, 0.08613906800746918, 0.06490214914083481, -0.025390291586518288, -0.04505035653710365, -0.04708206653594971, -0.03479701280593872, -0.06323987990617752, -0.006473653484135866, -0.03387635946273804, 0.025192808359861374, 0.025448881089687347, 0.006402802187949419, -0.004433118272572756, 0.005887479986995459, 0.06041056290268898, 0.000919366895686835, 0.06274832785129547, -0.030726740136742592, -0.0032742940820753574, 0.055878400802612305, 0.04190173000097275, -0.11966469883918762, 0.004378841258585453, -0.06411276012659073, -0.026631664484739304, 0.037034835666418076, 0.057009290903806686, 0.016483109444379807, -0.09014477580785751, -0.011409035883843899, -0.024059362709522247, -0.05538054555654526, -0.03983345627784729, 0.03590518608689308, 0.054440807551145554, -0.009910776279866695, -0.042067401111125946, -0.09049929678440094, -0.004139481578022242, -0.027471372857689857, -0.028998591005802155, 0.03229549527168274, 0.020435908809304237, 0.02534610778093338, -0.01853768527507782, 0.00704103522002697, -0.055424075573682785, -0.022836146876215935, -0.045865461230278015, -0.010826527141034603, 0.023865442723035812, 0.07763557881116867, 0.03521578013896942, -0.03365333005785942, 0.016080129891633987, -0.03226253762841225, 0.11888353526592255, -0.0006559669272974133, -0.0955229252576828, -0.09598183631896973, 0.05138743668794632, -0.0934315025806427, 0.022098436951637268, -8.14490043982781e-33, -0.02782060019671917, 0.0008343377849087119, -0.05866136774420738, -0.00918410811573267, 0.02065212093293667, 0.0013109712162986398, 0.03321351855993271, 0.05366458743810654, -0.0036939396522939205, -0.039381906390190125, -0.00042084508459083736, 0.08652213960886002, 0.008587554097175598, -0.03423405438661575, -0.13049717247486115, 0.15706361830234528, -0.027872474864125252, 0.041693881154060364, 0.03489215672016144, -0.04473493993282318, 0.037337325513362885, 0.008800651878118515, -0.01669377088546753, 0.08573378622531891, -0.0014510687906295061, 0.06002003327012062, 0.09519945830106735, 0.053568266332149506, 0.010135608725249767, -0.007526685018092394, -0.03279345482587814, 0.007428119424730539, 0.008285719901323318, 0.07347153127193451, 0.0016601356910541654, -0.04539012163877487, -0.11240941286087036, 0.021496780216693878, -0.056301869451999664, 0.007773094344884157, -0.05243067815899849, -0.054699208587408066, 0.015545417554676533, 0.03799363970756531, -0.0411892868578434, -0.012769103981554508, 0.015347400680184364, -0.02886570245027542, -0.040107786655426025, 0.037324175238609314, -0.0042929816991090775, -0.045066624879837036, -0.023410078138113022, -0.020468831062316895, -0.011038556694984436, 0.013406849466264248, -0.00984993577003479, -0.015252984128892422, 0.01645021326839924, -0.0208592489361763, 0.08148402720689774, -0.04447294771671295, -0.014598770998418331, -0.011750919744372368, 0.04553757980465889, -0.010077379643917084, -0.13711468875408173, -0.01949329860508442, -0.012663980014622211, 0.07071442902088165, 0.007320192642509937, 0.10726723074913025, 0.013784462586045265, -0.004034680780023336, 0.020967630669474602, -0.02777673490345478, 0.10237836092710495, -0.011461058631539345, 0.055573441088199615, 0.0028437087312340736, -0.014586028642952442, 0.0349518246948719, -0.01843462511897087, -0.005524137057363987, 0.006834644824266434, -0.0386965349316597, -0.028800804167985916, 0.08001651614904404, 0.013376540504395962, 0.049111224710941315, -0.08824323862791061, -0.004456056747585535, 0.004700869787484407, 0.0021807753946632147, 0.006591037381440401, -6.37444301787582e-08, -0.06785974651575089, -0.019919270649552345, 0.0008403442334383726, -0.05088913440704346, -0.08701465278863907, -0.06968066841363907, 0.0405864492058754, -0.08440481871366501, -0.006936376914381981, -0.009476637467741966, -0.06544608622789383, 0.033422257751226425, 0.004275216720998287, -0.049831073731184006, 0.04068312048912048, 0.015308050438761711, -0.0810081958770752, 0.015042056329548359, -0.0648237094283104, 0.009031900204718113, -0.005985664669424295, -0.021442828699946404, -0.013455325737595558, 0.011627767235040665, 0.10578116774559021, -0.016170740127563477, 0.015906523913145065, -0.00011832999007310718, 0.057986289262771606, 0.030352167785167694, -0.018192211166024208, -0.04705602303147316, 0.017246680334210396, 0.011425485834479332, -0.03238668665289879, -0.020437955856323242, 0.05754183605313301, -0.05194542184472084, 0.03684556856751442, 0.04086551070213318, -0.037180472165346146, 0.001539205084554851, -0.010742120444774628, 0.027826232835650444, -0.005062778480350971, -0.033919140696525574, -0.0819128081202507, 0.08776381611824036, 0.049672290682792664, 0.0230887308716774, 0.032613009214401245, -0.10754019021987915, -0.08942950516939163, 0.027345111593604088, 0.031226955354213715, 0.006353199016302824, -0.05388859659433365, 0.09511866420507431, 0.10770996659994125, -0.0467793308198452, -0.09107710421085358, 0.053152743726968765, 0.0496322326362133, -0.06335724890232086]}, {"id": "dyn_ui_component_DynDatePicker", "text": "# Component: DynDatePicker\n\n--- Types (DynDatePicker.types.ts) ---\nimport type { InputHTMLAttributes, FocusEventHandler } from 'react';\nimport type { BaseComponentProps, AccessibilityProps } from '../../types';\n\nexport type DynDatePickerSize = 'sm' | 'md' | 'lg';\n\n// Placeholder (should import from validation hook if exported)\nexport interface ValidationRule {\n    type: string;\n    message: string;\n    [key: string]: any;\n}\n\nexport interface DynDatePickerProps extends BaseComponentProps, AccessibilityProps, Omit<InputHTMLAttributes<HTMLInputElement>, 'size' | 'value' | 'onChange' | 'onBlur' | 'onFocus' | keyof BaseComponentProps | keyof AccessibilityProps> {\n    /** Name of the input field, used for form identification. */\n    name?: string;\n\n    /** Current date value in ISO format (YYYY-MM-DD). Use this for controlled components. */\n    value?: string;\n\n    /** Initial date value for uncontrolled components. */\n    defaultValue?: string;\n\n    /** Callback function triggered when the date changes. Returns the date in ISO format. */\n    onChange?: (value: string) => void;\n\n    /** Callback triggered when the input loses focus. */\n    onBlur?: FocusEventHandler<HTMLInputElement>;\n\n    /** Callback triggered when the input receives focus. */\n    onFocus?: FocusEventHandler<HTMLInputElement>;\n\n    /** If true, displays an \"(Optional)\" tag next to the label. */\n    optional?: boolean;\n\n    /** Array of validation rules to apply to the date input. */\n    validation?: ValidationRule[];\n\n    /** The visible label text for the date picker. */\n    label?: string;\n\n    /** Supplemental help text (semantic alias for helpText). */\n    help?: string;\n\n    /** Explicit error message to display (semantic alias for errorText). */\n    errorMessage?: string;\n\n    /**\n     * The visual format for the date in the input field.\n     * Supported tokens: dd, MM, yyyy (e.g., 'dd.MM.yyyy' or 'MM/dd/yyyy').\n     * @default 'dd/MM/yyyy'\n     */\n    format?: string;\n\n    /** Explanatory text displayed below the input field. */\n    helpText?: string;\n\n    /** Error text to display below the input when validation fails. */\n    errorText?: string;\n\n    /** If true, the field is marked as required with an asterisk (*). */\n    required?: boolean;\n\n    /** If true, the input and calendar interactions are disabled. */\n    disabled?: boolean;\n\n    /** If true, the date cannot be changed, although it remains focusable. */\n    readonly?: boolean;\n\n    /** \n     * The visual density of the input.\n     * @default 'md'\n     */\n    size?: DynDatePickerSize;\n\n    /** Earliest selectable date in ISO format (YYYY-MM-DD). */\n    min?: string;\n\n    /** Latest selectable date in ISO format (YYYY-MM-DD). */\n    max?: string;\n\n    /** Placeholder text shown when the input is empty. */\n    placeholder?: string;\n\n    /** Whether the component is rendered or hidden. */\n    visible?: boolean;\n\n    /** The day the week begins on (0 for Sunday, 1 for Monday). @default 1 */\n    weekStartsOn?: 0 | 1;\n\n    /** Label for the \"Today\" button in the calendar footer. @default 'Today' */\n    todayText?: string;\n\n    /** Label for the \"Clear\" button in the calendar footer. @default 'Clear' */\n    clearText?: string;\n\n    /** Custom array of 12 month names for localization. */\n    monthNames?: string[];\n\n    /** Custom array of 7 day names for localization, starting from Sunday. */\n    weekdayNames?: string[];\n}\n\nexport interface DynDatePickerRef {\n    /** Focus input */\n    focus: () => void;\n    /** Blur input */\n    blur: () => void;\n    /** Clear input */\n    clear: () => void;\n    /** Validate input */\n    validate: () => Promise<boolean>;\n    /** Get value */\n    getValue: () => string | undefined;\n}\n\nexport const DYN_DATE_PICKER_DEFAULT_PROPS = {\n    size: 'md',\n    visible: true,\n    weekStartsOn: 1,\n    todayText: 'Today',\n    clearText: 'Clear',\n} as const;\n\n--- Component (DynDatePicker.tsx) ---\nimport React, {\n  forwardRef,\n  useCallback,\n  useEffect,\n  useId,\n  useImperativeHandle,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport type { ChangeEvent, KeyboardEvent, FocusEvent } from 'react';\nimport { cn } from '../../utils/classNames';\nimport type {\n  DynDatePickerProps,\n  DynDatePickerRef,\n  DynDatePickerSize\n} from './DynDatePicker.types';\nimport { DYN_DATE_PICKER_DEFAULT_PROPS } from './DynDatePicker.types';\nimport { DynFieldContainer } from '../DynFieldContainer';\nimport { useDynFieldValidation } from '../../hooks/useDynFieldValidation';\nimport { useDynDateParser } from '../../hooks/useDynDateParser';\nimport { DynIcon } from '../DynIcon';\nimport { DynDropdown } from '../DynDropdown';\nimport styles from './DynDatePicker.module.css';\n\nconst MAX_DATE_LENGTH = 10;\n\nconst DEFAULT_MONTH_NAMES = [\n  'januar', 'februar', 'mart', 'april', 'maj', 'jun',\n  'jul', 'avgust', 'septembar', 'oktobar', 'novembar', 'decembar'\n];\n\nconst DEFAULT_WEEKDAY_NAMES = ['ne', 'po', 'ut', 'sr', '\u010de', 'pe', 'su'];\n\nconst sizeClassMap: Record<DynDatePickerSize, string | undefined> = {\n  sm: styles['sizeSm'],\n  md: styles['sizeMd'],\n  lg: styles['sizeLg'],\n};\n\n// Helper: Get days in month\nconst getDaysInMonth = (year: number, month: number): number => {\n  return new Date(year, month + 1, 0).getDate();\n};\n\n// Helper: Get first day of month (0 = Sunday, 1 = Monday, etc.)\nconst getFirstDayOfMonth = (year: number, month: number): number => {\n  return new Date(year, month, 1).getDay();\n};\n\n// Helper: Check if two dates are the same day\nconst isSameDay = (a: Date | null, b: Date | null): boolean => {\n  if (!a || !b) return false;\n  return a.getFullYear() === b.getFullYear() &&\n    a.getMonth() === b.getMonth() &&\n    a.getDate() === b.getDate();\n};\n\n// Helper: Check if date is today\nconst isToday = (date: Date): boolean => {\n  return isSameDay(date, new Date());\n};\n\nexport const DynDatePicker = forwardRef<DynDatePickerRef, DynDatePickerProps>(\n  (\n    {\n      id: idProp,\n      name,\n      label,\n      help,\n      helpText,\n      placeholder = 'dd/mm/yyyy',\n      disabled = false,\n      readonly = false,\n      required = false,\n      optional = false,\n      visible = DYN_DATE_PICKER_DEFAULT_PROPS.visible,\n      value: propValue,\n      errorMessage,\n      errorText: errorMessageText,\n      validation,\n      className,\n      size = DYN_DATE_PICKER_DEFAULT_PROPS.size,\n      onChange,\n      onBlur,\n      onFocus,\n      min,\n      max,\n      weekStartsOn = DYN_DATE_PICKER_DEFAULT_PROPS.weekStartsOn,\n      todayText = DYN_DATE_PICKER_DEFAULT_PROPS.todayText,\n      clearText = DYN_DATE_PICKER_DEFAULT_PROPS.clearText,\n      monthNames = DEFAULT_MONTH_NAMES,\n      weekdayNames = DEFAULT_WEEKDAY_NAMES,\n      'data-testid': dataTestId = 'dyn-date-picker',\n      format = 'dd/MM/yyyy',\n      ...rest\n    },\n    ref\n  ) => {\n    const instanceId = useId();\n    const inputId = idProp ?? name ?? instanceId;\n    const dropdownId = `${inputId}-dropdown`;\n    const calendarGridId = `${inputId}-calendar-grid`;\n\n    const resolvedHelpText = helpText ?? help;\n    const resolvedErrorText = errorMessageText ?? errorMessage;\n\n    const triggerRef = useRef<HTMLDivElement>(null);\n    const inputRef = useRef<HTMLInputElement>(null);\n\n    const [value, setValue] = useState<Date | null>(null);\n    const [isOpen, setIsOpen] = useState(false);\n    const [focused, setFocused] = useState(false);\n    const [viewDate, setViewDate] = useState<Date>(new Date());\n    const [focusedDay, setFocusedDay] = useState<Date | null>(null);\n\n    const locale = 'en-US';\n\n    const { error, validate, clearError } = useDynFieldValidation({\n      value,\n      required,\n      validation: [],\n      customError: resolvedErrorText,\n    });\n\n    const {\n      displayValue,\n      setDisplayValue,\n      formatDate,\n      parseDate,\n      isValidDate,\n      getRelativeDescription,\n    } = useDynDateParser({\n      format,\n      locale,\n    });\n\n    // Parse min/max dates\n    const minDate = useMemo(() => (min ? new Date(min) : null), [min]);\n    const maxDate = useMemo(() => (max ? new Date(max) : null), [max]);\n\n    // Check if a date is within the allowed range\n    const isDateInRange = useCallback((date: Date): boolean => {\n      if (minDate && date < minDate) return false;\n      if (maxDate && date > maxDate) return false;\n      return true;\n    }, [minDate, maxDate]);\n\n    const parseExternalValue = useCallback(\n      (input: string | undefined): Date | null => {\n        if (!input) return null;\n        const candidate = new Date(input);\n        return isValidDate(candidate) ? candidate : null;\n      },\n      [isValidDate]\n    );\n\n    useEffect(() => {\n      const nextValue = parseExternalValue(propValue);\n      setValue(nextValue);\n\n      // Update display value only if:\n      // 1. We are not focused (external update or blur)\n      // 2. Or if we have a valid date (auto-format)\n      // This prevents clearing the input while the user is typing a partial date\n      if (!focused || nextValue !== null) {\n        setDisplayValue(nextValue ? formatDate(nextValue) : '');\n      }\n\n      if (nextValue) {\n        setViewDate(nextValue);\n      }\n    }, [propValue, formatDate, parseExternalValue, setDisplayValue, focused]);\n\n    useImperativeHandle(ref, () => ({\n      focus: () => inputRef.current?.focus(),\n      blur: () => inputRef.current?.blur(),\n      validate: () => validate(),\n      clear: () => {\n        setValue(null);\n        setDisplayValue('');\n        onChange?.('');\n        clearError();\n      },\n      getValue: () => (value ? value.toISOString().split('T')[0] : undefined),\n    }), [validate, value, clearError, onChange, setDisplayValue]);\n\n    const emitChange = useCallback(\n      (nextValue: Date | null) => {\n        setValue(nextValue);\n        setDisplayValue(nextValue ? formatDate(nextValue) : '');\n        onChange?.(nextValue ? nextValue.toISOString().split('T')[0] : '');\n      },\n      [formatDate, onChange, setDisplayValue]\n    );\n\n    const handleInputChange = useCallback(\n      (event: ChangeEvent<HTMLInputElement>) => {\n        const inputValue = event.target.value;\n        setDisplayValue(inputValue);\n\n        const parsedDate = parseDate(inputValue);\n        if (parsedDate && isValidDate(parsedDate)) {\n          emitChange(parsedDate);\n          clearError();\n        } else if (!inputValue) {\n          emitChange(null);\n          clearError();\n        }\n      },\n      [parseDate, isValidDate, emitChange, clearError, setDisplayValue]\n    );\n\n    const handleDayClick = useCallback((day: Date) => {\n      if (!isDateInRange(day)) return;\n      emitChange(day);\n      clearError();\n      setIsOpen(false);\n      inputRef.current?.focus();\n    }, [emitChange, clearError, isDateInRange]);\n\n    const handleTodayClick = useCallback(() => {\n      const today = new Date();\n      if (!isDateInRange(today)) return;\n      emitChange(today);\n      clearError();\n      setIsOpen(false);\n    }, [emitChange, clearError, isDateInRange]);\n\n    const handleClearClick = useCallback((e: React.MouseEvent) => {\n      e.stopPropagation();\n      emitChange(null);\n      clearError();\n      inputRef.current?.focus();\n    }, [emitChange, clearError]);\n\n    const handlePrevMonth = useCallback(() => {\n      setViewDate(prev => new Date(prev.getFullYear(), prev.getMonth() - 1, 1));\n    }, []);\n\n    const handleNextMonth = useCallback(() => {\n      setViewDate(prev => new Date(prev.getFullYear(), prev.getMonth() + 1, 1));\n    }, []);\n\n    const handleBlur = useCallback((e: FocusEvent<HTMLInputElement>) => {\n      setFocused(false);\n      validate();\n      onBlur?.(e);\n    }, [validate, onBlur]);\n\n    const handleFocus = useCallback((e: FocusEvent<HTMLInputElement>) => {\n      setFocused(true);\n      clearError();\n      onFocus?.(e);\n    }, [clearError, onFocus]);\n\n    const handleKeyDown = useCallback(\n      (event: KeyboardEvent<HTMLInputElement>) => {\n        switch (event.key) {\n          case 'Enter':\n          case 'ArrowDown':\n            if (!isOpen) {\n              setIsOpen(true);\n              event.preventDefault();\n            }\n            break;\n          case 'Escape':\n            if (isOpen) {\n              setIsOpen(false);\n              event.preventDefault();\n            }\n            break;\n          default:\n            break;\n        }\n      },\n      [isOpen]\n    );\n\n    // Generate calendar days\n    const calendarDays = useMemo(() => {\n      const year = viewDate.getFullYear();\n      const month = viewDate.getMonth();\n      const daysInMonth = getDaysInMonth(year, month);\n      const firstDay = getFirstDayOfMonth(year, month);\n\n      // Adjust for week start\n      const startOffset = (firstDay - weekStartsOn + 7) % 7;\n\n      const days: Array<{ date: Date; isCurrentMonth: boolean }> = [];\n\n      // Previous month days\n      const prevMonth = month === 0 ? 11 : month - 1;\n      const prevYear = month === 0 ? year - 1 : year;\n      const daysInPrevMonth = getDaysInMonth(prevYear, prevMonth);\n\n      for (let i = startOffset - 1; i >= 0; i--) {\n        days.push({\n          date: new Date(prevYear, prevMonth, daysInPrevMonth - i),\n          isCurrentMonth: false,\n        });\n      }\n\n      // Current month days\n      for (let i = 1; i <= daysInMonth; i++) {\n        days.push({\n          date: new Date(year, month, i),\n          isCurrentMonth: true,\n        });\n      }\n\n      // Next month days to fill the grid (6 rows * 7 days = 42)\n      const remainingDays = 42 - days.length;\n      const nextMonth = month === 11 ? 0 : month + 1;\n      const nextYear = month === 11 ? year + 1 : year;\n\n      for (let i = 1; i <= remainingDays; i++) {\n        days.push({\n          date: new Date(nextYear, nextMonth, i),\n          isCurrentMonth: false,\n        });\n      }\n\n      return days;\n    }, [viewDate, weekStartsOn]);\n\n    // Reorder weekday names based on weekStartsOn\n    const orderedWeekdays = useMemo(() => {\n      const reordered = [...weekdayNames];\n      if (weekStartsOn === 1) {\n        const sunday = reordered.shift();\n        if (sunday) reordered.push(sunday);\n      }\n      return reordered;\n    }, [weekdayNames, weekStartsOn]);\n\n    if (!visible) return null;\n\n    const fieldError = resolvedErrorText ?? (error || undefined);\n\n    const containerClasses = cn(\n      styles.container,\n      sizeClassMap[size],\n      className\n    );\n\n    const inputClasses = cn(\n      styles.input,\n      focused && styles.stateFocused,\n      Boolean(fieldError) && styles.stateError,\n      disabled && styles.stateDisabled,\n      readonly && styles.stateReadonly,\n      isOpen && styles.stateOpen\n    );\n\n    const relativeText = useMemo(\n      () => (value ? getRelativeDescription(value) : null),\n      [value, getRelativeDescription]\n    );\n\n    const monthYearLabel = `${monthNames[viewDate.getMonth()]} ${viewDate.getFullYear()}.`;\n\n    return (\n      <DynFieldContainer\n        label={label}\n        helpText={resolvedHelpText}\n        required={required}\n        optional={optional}\n        errorText={fieldError}\n        className={className}\n        htmlFor={inputId}\n      >\n        <div ref={triggerRef} className={containerClasses} data-testid={dataTestId} style={rest.style}>\n          <DynDropdown\n            isOpen={isOpen}\n            onOpenChange={setIsOpen}\n            disabled={disabled}\n            triggerWrapper=\"div\"\n            triggerRole=\"presentation\"\n            fullWidth={true}\n            trigger={\n              <div className={styles.inputContainer}>\n                <input\n                  ref={inputRef}\n                  id={inputId}\n                  name={name ?? inputId}\n                  type=\"text\"\n                  role=\"combobox\"\n                  className={inputClasses}\n                  placeholder={placeholder}\n                  value={displayValue}\n                  disabled={disabled}\n                  readOnly={readonly}\n                  onChange={handleInputChange}\n                  onBlur={handleBlur}\n                  onFocus={handleFocus}\n                  onKeyDown={handleKeyDown}\n                  aria-invalid={Boolean(fieldError)}\n                  aria-haspopup=\"grid\"\n                  aria-expanded={isOpen}\n                  aria-controls={isOpen ? calendarGridId : undefined}\n                  aria-autocomplete=\"none\"\n                  maxLength={MAX_DATE_LENGTH}\n                  data-size={size}\n                  {...rest}\n                />\n\n                <div className={styles.inputActions}>\n                  {displayValue && !readonly && !disabled && (\n                    <button\n                      type=\"button\"\n                      className={styles.clearButton}\n                      onClick={handleClearClick}\n                      tabIndex={-1}\n                      aria-label={clearText}\n                    >\n                      <DynIcon icon=\"close\" size=\"sm\" />\n                    </button>\n                  )}\n                  <div className={styles.calendarIcon}>\n                    <DynIcon icon=\"calendar\" size=\"sm\" />\n                  </div>\n                </div>\n              </div>\n            }\n            placement=\"bottom-start\"\n            offset={4}\n            usePortal={true}\n            aria-label=\"Open calendar\"\n          >\n            <div id={dropdownId} className={styles.dropdown} role=\"dialog\" aria-label=\"Date picker\">\n              {/* Calendar Header */}\n              <div className={styles.calendarHeader}>\n                <button\n                  type=\"button\"\n                  className={styles.navButton}\n                  onClick={handlePrevMonth}\n                  aria-label=\"Previous month\"\n                >\n                  <DynIcon icon=\"chevron-left\" size=\"sm\" />\n                </button>\n                <div className={styles.headerSelectWrapper}>\n                  <select\n                    value={viewDate.getMonth()}\n                    onChange={(e) => {\n                      e.stopPropagation();\n                      const newMonth = parseInt(e.target.value, 10);\n                      setViewDate(prev => new Date(prev.getFullYear(), newMonth, 1));\n                    }}\n                    className={styles.headerSelect}\n                    aria-label=\"Select month\"\n                    onClick={(e) => e.stopPropagation()}\n                  >\n                    {monthNames.map((name, i) => (\n                      <option key={i} value={i}>{name}</option>\n                    ))}\n                  </select>\n                  <select\n                    value={viewDate.getFullYear()}\n                    onChange={(e) => {\n                      e.stopPropagation();\n                      const newYear = parseInt(e.target.value, 10);\n                      setViewDate(prev => new Date(newYear, prev.getMonth(), 1));\n                    }}\n                    className={styles.headerSelect}\n                    aria-label=\"Select year\"\n                    onClick={(e) => e.stopPropagation()}\n                  >\n                    {Array.from({ length: 120 }, (_, i) => new Date().getFullYear() - 100 + i).map(year => (\n                      <option key={year} value={year}>{year}</option>\n                    ))}\n                  </select>\n                </div>\n                <button\n                  type=\"button\"\n                  className={styles.navButton}\n                  onClick={handleNextMonth}\n                  aria-label=\"Next month\"\n                >\n                  <DynIcon icon=\"chevron-right\" size=\"sm\" />\n                </button>\n              </div>\n\n              {/* Weekday Headers */}\n              <div className={styles.weekdays} role=\"row\">\n                {orderedWeekdays.map((day, index) => (\n                  <div key={index} className={styles.weekday} role=\"columnheader\">\n                    {day}\n                  </div>\n                ))}\n              </div>\n\n              {/* Calendar Grid */}\n              <div\n                id={calendarGridId}\n                className={styles.calendarGrid}\n                role=\"grid\"\n                aria-label={monthYearLabel}\n              >\n                {calendarDays.map(({ date, isCurrentMonth }, index) => {\n                  const isSelected = isSameDay(date, value);\n                  const isTodayDate = isToday(date);\n                  const isDisabled = !isDateInRange(date);\n\n                  return (\n                    <button\n                      key={index}\n                      type=\"button\"\n                      role=\"gridcell\"\n                      className={cn(\n                        styles.day,\n                        !isCurrentMonth && styles.dayOutside,\n                        isTodayDate && styles.dayToday,\n                        isSelected && styles.daySelected,\n                        isDisabled && styles.dayDisabled\n                      )}\n                      onClick={() => handleDayClick(date)}\n                      disabled={isDisabled}\n                      tabIndex={isSelected ? 0 : -1}\n                      aria-selected={isSelected}\n                      aria-label={date.toLocaleDateString()}\n                    >\n                      {date.getDate()}\n                    </button>\n                  );\n                })}\n              </div>\n\n              {/* Shortcuts */}\n              <div className={styles.shortcuts}>\n                <button type=\"button\" className={styles.shortcut} onClick={handleTodayClick}>\n                  {todayText}\n                </button>\n                <button type=\"button\" className={styles.shortcut} onClick={(e) => handleClearClick(e)}>\n                  {clearText}\n                </button>\n              </div>\n            </div>\n          </DynDropdown>\n\n          {relativeText && <div className={styles.relativeText}>{relativeText}</div>}\n        </div>\n      </DynFieldContainer>\n    );\n  }\n);\n\nDynDatePicker.displayName = 'DynDatePicker';\nexport default DynDatePicker;\n\n\n--- Usage Examples (DynDatePicker.stories.tsx) ---\nimport React from 'react';\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { DynDatePicker } from './DynDatePicker';\nimport type { DynDatePickerProps } from './DynDatePicker.types';\n\nconst meta: Meta<typeof DynDatePicker> = {\n  title: 'Components/Form/DynDatePicker',\n  component: DynDatePicker,\n  parameters: {\n    layout: 'centered',\n    docs: {\n      description: {\n        component: 'Advanced date picker with natural language parsing and validation.',\n      },\n    },\n  },\n  tags: ['autodocs'],\n  argTypes: {\n    children: {\n      table: {\n        disable: true,\n      },\n    },\n    size: {\n      control: 'select',\n      options: ['sm', 'md', 'lg'],\n    },\n    disabled: {\n      control: 'boolean',\n    },\n    readonly: {\n      control: 'boolean',\n    },\n    required: {\n      control: 'boolean',\n    },\n    onChange: {\n      action: 'changed',\n    },\n  },\n};\n\nexport default meta;\ntype Story = StoryObj<DynDatePickerProps>;\n\nexport const Default: Story = {\n  args: {\n    name: 'default-date',\n    label: 'Select Date',\n  },\n};\n\nexport const WithValue: Story = {\n  args: {\n    name: 'with-value-date',\n    label: 'Date with Value',\n    value: '2023-12-25',\n  },\n};\n\nexport const Required: Story = {\n  args: {\n    name: 'required-date',\n    label: 'Required Date',\n    required: true,\n  },\n};\n\nexport const WithHelp: Story = {\n  args: {\n    name: 'help-date',\n    label: 'Date with Help',\n    help: 'Select your preferred date. You can type naturally like \"today\", \"tomorrow\", or use dd/mm/yyyy format.',\n  },\n};\n\nexport const WithMinMax: Story = {\n  args: {\n    name: 'minmax-date',\n    label: 'Date with Restrictions',\n    help: 'Select a date between January 1st and December 31st, 2024',\n    min: '2024-01-01',\n    max: '2024-12-31',\n  },\n};\n\nexport const Disabled: Story = {\n  args: {\n    name: 'disabled-date',\n    label: 'Disabled Date Picker',\n    disabled: true,\n    value: new Date().toISOString().split('T')[0],\n  },\n};\n\nexport const ReadOnly: Story = {\n  args: {\n    name: 'readonly-date',\n    label: 'Readonly Date Picker',\n    readonly: true,\n    value: new Date().toISOString().split('T')[0],\n  },\n};\n\nexport const WithError: Story = {\n  args: {\n    name: 'error-date',\n    label: 'Date with Error',\n    errorMessage: 'Please select a valid date.',\n    required: true,\n  },\n};\n\nexport const DifferentFormats: Story = {\n  render: () => (\n    <div style={{ display: 'flex', flexDirection: 'column', gap: '2rem', width: '300px' }}>\n      <DynDatePicker\n        name=\"dd-mm-format\"\n        label=\"European Format (dd/MM/yyyy)\"\n        value=\"2023-12-25\"\n        format=\"dd/MM/yyyy\"\n      />\n      <DynDatePicker\n        name=\"us-format\"\n        label=\"US Format (MM/dd/yyyy)\"\n        value=\"2023-12-25\"\n        format=\"MM/dd/yyyy\"\n      />\n      <DynDatePicker\n        name=\"iso-format\"\n        label=\"ISO Format (yyyy-MM-dd)\"\n        value=\"2023-12-25\"\n        format=\"yyyy-MM-dd\"\n      />\n    </div>\n  ),\n};\n\nexport const Sizes: Story = {\n  render: () => (\n    <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem', width: '300px' }}>\n      <DynDatePicker name=\"small\" label=\"Small Date Picker\" size=\"sm\" />\n      <DynDatePicker name=\"medium\" label=\"Medium Date Picker\" size=\"md\" />\n      <DynDatePicker name=\"large\" label=\"Large Date Picker\" size=\"lg\" />\n    </div>\n  ),\n};\n\nexport const InteractiveExample: Story = {\n  render: () => {\n    const [selectedDate, setSelectedDate] = React.useState<string>('');\n\n    const handleChange = (value: string) => {\n      setSelectedDate(value);\n    };\n\n    const parsedDate = selectedDate ? new Date(selectedDate) : null;\n\n    return (\n      <div style={{ width: '300px' }}>\n        <DynDatePicker\n          name=\"interactive-date\"\n          label=\"Interactive Date Picker\"\n          help=\"Try typing: 'today', 'tomorrow', '25/12/2023', or any natural date\"\n          value={selectedDate}\n          onChange={handleChange}\n        />\n\n        {parsedDate && !isNaN(parsedDate.getTime()) && (\n          <div style={{ marginTop: '1rem', padding: '1rem', backgroundColor: '#f5f5f5', borderRadius: '4px' }}>\n            <strong>Selected Date:</strong><br />\n            <code>{selectedDate}</code><br />\n            <small>{parsedDate.toLocaleDateString('en-US', {\n              weekday: 'long',\n              year: 'numeric',\n              month: 'long',\n              day: 'numeric'\n            })}</small>\n          </div>\n        )}\n      </div>\n    );\n  },\n};\n\n\n--- Styles (DynDatePicker.module.css) ---\n/**\n * DynDatePicker Component Styles\n * Design Token Compliance & Visual Calendar Grid\n */\n\n.container {\n  /* Component Tokens - 3-level fallback */\n  --dyn-date-picker-bg: var(--dyn-date-picker-background, var(--dyn-semantic-input-bg, #ffffff));\n  --dyn-date-picker-color: var(--dyn-date-picker-text, var(--dyn-semantic-text, #0f172a));\n  --dyn-date-picker-border: var(--dyn-date-picker-border-color, var(--dyn-semantic-input-border, #e2e8f0));\n  --dyn-date-picker-border-hover: var(--dyn-date-picker-border-hover-color, var(--dyn-neutral-mid-400, #94a3b8));\n  --dyn-date-picker-border-focus: var(--dyn-date-picker-border-focus-color, var(--dyn-theme-primary, #3b82f6));\n  --dyn-date-picker-focus-ring: var(--dyn-date-picker-focus-ring-color, var(--dyn-action-focus, rgba(59, 130, 246, 0.4)));\n  --dyn-date-picker-placeholder: var(--dyn-date-picker-placeholder-color, var(--dyn-semantic-text-secondary, #64748b));\n  --dyn-date-picker-disabled-bg: var(--dyn-date-picker-disabled-background, var(--dyn-semantic-surface-muted, #f1f5f9));\n  --dyn-date-picker-readonly-bg: var(--dyn-date-picker-readonly-background, var(--dyn-semantic-surface, #f8fafc));\n\n  --dyn-date-picker-radius: var(--dyn-date-picker-border-radius, var(--dyn-border-radius-md, 8px));\n  --dyn-date-picker-padding-y: var(--dyn-date-picker-spacing-y, var(--dyn-spacing-sm, 8px));\n  --dyn-date-picker-padding-x: var(--dyn-date-picker-spacing-x, var(--dyn-spacing-md, 12px));\n  --dyn-date-picker-font-size: var(--dyn-date-picker-text-size, var(--dyn-font-size-sm, 14px));\n  --dyn-date-picker-transition: var(--dyn-date-picker-animation, var(--dyn-transition-normal, 0.2s ease-in-out));\n\n  position: relative;\n  width: 100%;\n}\n\n.inputContainer {\n  position: relative;\n  display: flex;\n  align-items: center;\n  width: 100%;\n}\n\n.input {\n  flex: 1;\n  width: 100%;\n  height: var(--dyn-datePicker-input-height-md, 2.5rem);\n  /* Reduced right padding to bring icons closer */\n  padding: var(--dyn-date-picker-padding-y) 4.375rem var(--dyn-date-picker-padding-y) var(--dyn-date-picker-padding-x);\n  font-family: inherit;\n  font-size: var(--dyn-date-picker-font-size);\n  color: var(--dyn-date-picker-color);\n  background-color: var(--dyn-date-picker-bg);\n  border: var(--dyn-border-width-sm, 1px) solid var(--dyn-date-picker-border);\n  border-radius: var(--dyn-date-picker-radius);\n  transition: all var(--dyn-date-picker-transition);\n}\n\n.input::placeholder {\n  color: var(--dyn-date-picker-placeholder);\n}\n\n.input:focus {\n  outline: none;\n  border-color: var(--dyn-date-picker-border-focus);\n  box-shadow: 0 0 0 var(--dyn-border-width-lg, 3px) var(--dyn-date-picker-focus-ring);\n}\n\n.input:disabled {\n  background-color: var(--dyn-date-picker-disabled-bg);\n  cursor: not-allowed;\n  opacity: 0.6;\n}\n\n.input:read-only {\n  background-color: var(--dyn-date-picker-readonly-bg);\n}\n\n/* Size Variants */\n.sizeSm .input {\n  height: var(--dyn-datePicker-input-height-sm, 2.25rem);\n  font-size: var(--dyn-font-size-xs);\n}\n\n.sizeMd .input {\n  height: var(--dyn-datePicker-input-height-md, 2.5rem);\n  font-size: var(--dyn-font-size-sm);\n}\n\n.sizeLg .input {\n  height: var(--dyn-datePicker-input-height-lg, 3rem);\n  font-size: var(--dyn-font-size-md);\n}\n\n/* Input Actions (Clear, Calendar Icons) */\n.inputActions {\n  position: absolute;\n  right: 0.5rem;\n  /* Closer to edge */\n  top: 50%;\n  transform: translateY(-50%);\n  display: flex;\n  align-items: center;\n  gap: var(--dyn-spacing-2xs, 4px);\n  /* Tighter gap */\n}\n\n.calendarIcon,\n.clearButton {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--dyn-date-picker-placeholder);\n  cursor: pointer;\n  transition: color var(--dyn-transition-fast);\n}\n\n.clearButton {\n  background: none;\n  border: none;\n  padding: var(--dyn-spacing-xs);\n  border-radius: var(--dyn-border-radius-sm);\n  margin-right: var(--dyn-spacing-2xs);\n}\n\n.calendarIcon:hover,\n.clearButton:hover {\n  color: var(--dyn-date-picker-color);\n}\n\n.clearButton:focus-visible {\n  outline: var(--dyn-border-width-md, 2px) solid var(--dyn-semantic-border-focus);\n  outline-offset: var(--dyn-spacing-2xs, 2px);\n}\n\n/* ============================================\n   CALENDAR DROPDOWN\n   ============================================ */\n\n.dropdown {\n  width: var(--dyn-datePicker-calendar-width, 17.5rem);\n  padding: var(--dyn-datePicker-calendar-padding, var(--dyn-spacing-md));\n  background-color: var(--dyn-date-picker-bg);\n  border: var(--dyn-border-width-sm, 1px) solid var(--dyn-date-picker-border);\n  border-radius: var(--dyn-date-picker-radius);\n  box-shadow: var(--dyn-elevation-medium);\n}\n\n/* Calendar Header (Month/Year Navigation) */\n.calendarHeader {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  height: var(--dyn-datePicker-calendar-headerHeight, 2.5rem);\n  margin-bottom: var(--dyn-spacing-sm);\n}\n\n.headerSelectWrapper {\n  display: flex;\n  align-items: center;\n  gap: var(--dyn-spacing-xs);\n}\n\n.headerSelect {\n  font-family: inherit;\n  font-size: var(--dyn-font-size-sm);\n  font-weight: 600;\n  color: var(--dyn-date-picker-color);\n  background-color: transparent;\n  border: none;\n  border-radius: var(--dyn-border-radius-sm);\n  cursor: pointer;\n  padding: 2px 4px;\n  line-height: inherit;\n  transition: background-color var(--dyn-transition-fast);\n}\n\n.headerSelect:hover {\n  background-color: var(--dyn-semantic-surface-hover);\n}\n\n.headerSelect:focus-visible {\n  outline: var(--dyn-border-width-md, 2px) solid var(--dyn-semantic-border-focus);\n}\n\n.calendarTitle {\n  font-size: var(--dyn-font-size-sm);\n  font-weight: 600;\n  color: var(--dyn-date-picker-color);\n  text-transform: capitalize;\n}\n\n.navButton {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: var(--dyn-datePicker-nav-buttonSize, 2rem);\n  height: var(--dyn-datePicker-nav-buttonSize, 2rem);\n  padding: 0;\n  background: none;\n  border: none;\n  border-radius: var(--dyn-border-radius-sm);\n  color: var(--dyn-date-picker-color);\n  cursor: pointer;\n  transition: background-color var(--dyn-transition-fast);\n}\n\n.navButton:hover {\n  background-color: var(--dyn-semantic-surface-hover);\n}\n\n.navButton:focus-visible {\n  outline: var(--dyn-border-width-md, 2px) solid var(--dyn-semantic-border-focus);\n  outline-offset: var(--dyn-spacing-2xs, 2px);\n}\n\n/* Weekday Headers */\n.weekdays {\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  gap: var(--dyn-datePicker-calendar-gap, var(--dyn-spacing-2xs));\n  margin-bottom: var(--dyn-spacing-xs);\n}\n\n.weekday {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: var(--dyn-datePicker-weekday-height, 2rem);\n  font-size: var(--dyn-datePicker-weekday-fontSize, var(--dyn-font-size-xs));\n  font-weight: 500;\n  color: var(--dyn-datePicker-weekday-color, var(--dyn-semantic-text-secondary));\n  text-transform: lowercase;\n}\n\n/* Calendar Grid */\n.calendarGrid {\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  gap: var(--dyn-datePicker-calendar-gap, var(--dyn-spacing-2xs));\n}\n\n/* Day Cell */\n.day {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: var(--dyn-datePicker-day-size, 2.25rem);\n  height: var(--dyn-datePicker-day-size, 2.25rem);\n  font-size: var(--dyn-datePicker-day-fontSize, var(--dyn-font-size-sm));\n  color: var(--dyn-datePicker-day-default-color, var(--dyn-semantic-text));\n  background-color: var(--dyn-datePicker-day-default-bg, transparent);\n  border: 2px solid transparent;\n  border-radius: var(--dyn-datePicker-day-radius, var(--dyn-border-radius-sm));\n  cursor: pointer;\n  transition: all var(--dyn-datePicker-day-transition, var(--dyn-transition-fast));\n}\n\n.day:hover:not(.dayDisabled):not(.daySelected) {\n  background-color: var(--dyn-datePicker-day-hover-bg, var(--dyn-semantic-surface-hover));\n}\n\n.day:focus-visible {\n  outline: var(--dyn-border-width-md, 2px) solid var(--dyn-semantic-border-focus);\n  outline-offset: var(--dyn-spacing-2xs, 2px);\n}\n\n/* Today */\n.dayToday {\n  border-color: var(--dyn-datePicker-day-today-borderColor, var(--dyn-theme-primary));\n}\n\n/* Selected Day */\n.daySelected {\n  background-color: var(--dyn-datePicker-day-selected-bg, var(--dyn-theme-primary));\n  color: var(--dyn-datePicker-day-selected-color, var(--dyn-neutral-white));\n  font-weight: 600;\n}\n\n/* Outside Current Month */\n.dayOutside {\n  color: var(--dyn-datePicker-day-outside-color, var(--dyn-semantic-text-tertiary));\n}\n\n/* Disabled Day */\n.dayDisabled {\n  opacity: var(--dyn-datePicker-day-disabled-opacity, 0.4);\n  cursor: not-allowed;\n  pointer-events: none;\n}\n\n/* Shortcuts (Today, Clear buttons) */\n.shortcuts {\n  display: flex;\n  gap: var(--dyn-spacing-sm);\n  margin-top: var(--dyn-spacing-sm);\n  padding-top: var(--dyn-spacing-sm);\n  border-top: var(--dyn-border-width-sm, 1px) solid var(--dyn-date-picker-border);\n}\n\n.shortcut {\n  flex: 1;\n  padding: var(--dyn-spacing-xs) var(--dyn-spacing-sm);\n  font-size: var(--dyn-font-size-xs);\n  color: var(--dyn-date-picker-color);\n  background: none;\n  border: var(--dyn-border-width-sm, 1px) solid var(--dyn-date-picker-border);\n  border-radius: var(--dyn-border-radius-xs);\n  cursor: pointer;\n  transition: background-color var(--dyn-transition-fast);\n}\n\n.shortcut:hover {\n  background-color: var(--dyn-semantic-surface-hover);\n}\n\n.shortcut:focus-visible {\n  outline: var(--dyn-border-width-md, 2px) solid var(--dyn-semantic-border-focus);\n  outline-offset: var(--dyn-spacing-2xs, 2px);\n}\n\n/* Relative Text (\"Today\", \"Tomorrow\", etc.) */\n.relativeText {\n  margin-top: var(--dyn-spacing-xs);\n  font-size: var(--dyn-font-size-xs);\n  color: var(--dyn-semantic-text-secondary);\n}\n\n/* ============================================\n   RESPONSIVE\n   ============================================ */\n\n@media (max-width: 640px) {\n  .input {\n    font-size: var(--dyn-font-size-md);\n    height: var(--dyn-datePicker-input-height-lg, 3rem);\n  }\n\n  .dropdown {\n    width: 100%;\n    padding: var(--dyn-spacing-sm);\n  }\n}\n\n/* ============================================\n   ACCESSIBILITY\n   ============================================ */\n\n@media (prefers-reduced-motion: reduce) {\n\n  .input,\n  .calendarIcon,\n  .clearButton,\n  .day,\n  .navButton,\n  .shortcut {\n    transition: none;\n  }\n}\n\n@media (prefers-contrast: high) {\n  .input {\n    border-width: var(--dyn-border-width-md, 2px);\n  }\n\n  .day {\n    border-width: var(--dyn-border-width-lg, 3px);\n  }\n\n  .dayToday {\n    border-width: var(--dyn-border-width-lg, 3px);\n  }\n}\n\n/* ============================================\n   DARK MODE\n   Note: Handled automatically via semantic tokens!\n   ============================================ */", "metadata": {"type": "ui_component", "name": "DynDatePicker", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynDatePicker"}, "embedding": [-0.07718077301979065, 0.0028486629016697407, 0.06043444201350212, 0.09570981562137604, 0.06103508546948433, 0.0967288389801979, -0.046395935118198395, 0.054621029645204544, -0.037089474499225616, 0.016539081931114197, -0.1052568256855011, -0.08253015577793121, -0.05830322206020355, 0.038033369928598404, -0.04369822517037392, 0.040617216378450394, -0.10162156820297241, -0.0569768026471138, 0.006745330058038235, 0.007491950877010822, -0.0027699782513082027, -0.06199900433421135, 0.053484540432691574, -0.012950531207025051, 0.028148863464593887, 0.030177362263202667, 0.037610746920108795, 0.006000874098390341, 0.010435810312628746, -0.011495696380734444, -0.02815583162009716, 0.03649650886654854, -0.08563496917486191, -0.07140301913022995, 0.001269946456886828, 0.07308060675859451, -0.05035907402634621, 0.05401776731014252, -0.012567793019115925, -0.017371883615851402, 0.033014003187417984, -0.032858338207006454, 0.03621525689959526, -0.04455171898007393, -0.008234579116106033, -0.0681716799736023, -0.025218181312084198, -0.013410893268883228, -0.06146653741598129, 0.02232903428375721, -0.010958680883049965, 0.0006374511867761612, 0.03853713721036911, -0.0253515113145113, 0.0075994799844920635, 0.017893390730023384, 0.028576359152793884, 0.0015507495263591409, 0.018135851249098778, -0.011769646778702736, -0.03852255269885063, -0.0581156350672245, 0.013815881684422493, -0.08237088471651077, 0.006318734493106604, 0.07066855579614639, 0.008241882547736168, -0.032308634370565414, -0.008244553580880165, -0.07640306651592255, -0.0878303200006485, 0.011662851087749004, 0.04832899942994118, 0.0162259079515934, -0.0014865900157019496, -0.08860891312360764, -0.03951912373304367, 0.008166231215000153, 0.07450244575738907, -0.06718040257692337, 0.049377523362636566, 0.011145313270390034, -0.04953080788254738, 0.03242490068078041, -0.0020461981184780598, 0.08878859132528305, -0.03402842581272125, 0.04529513418674469, -0.05670270696282387, -0.06878340989351273, 0.05309215188026428, -0.044422294944524765, -0.038253188133239746, 0.06919509917497635, -0.007533788215368986, 0.007900362834334373, -0.12925925850868225, 0.13328863680362701, -0.02545097842812538, 0.04634375497698784, 0.014703758992254734, -0.033898625522851944, -0.09000825881958008, 0.0509207546710968, 0.08087746798992157, -0.03297790139913559, 0.011645965278148651, -0.10495214909315109, -0.035945262759923935, 0.015994621440768242, 0.03838516026735306, 0.07338730245828629, 0.007718787062913179, 0.056404516100883484, -0.036286305636167526, 0.046706292778253555, 0.021378526464104652, -0.029957255348563194, 0.030851585790514946, -0.04003981500864029, 0.01279449462890625, -0.021669382229447365, 0.04386577755212784, -0.04980706796050072, -0.001372781116515398, -0.027507629245519638, 0.16198231279850006, 8.494305115350196e-33, -0.03930674120783806, 0.011410800740122795, 0.006065423600375652, -0.011013640090823174, -0.023789893835783005, -0.06572377681732178, 0.021642344072461128, -0.07833824306726456, -0.0006429325439967215, -0.08720286935567856, 0.007414371240884066, -0.04985092207789421, -0.06837310642004013, -0.10104808211326599, 0.06035350635647774, -0.01565084233880043, 0.003338310867547989, 0.04681876301765442, 0.05852217227220535, 0.029873136430978775, 0.09664346277713776, -0.0603606291115284, -0.06419900059700012, 0.06095259636640549, 0.04828392341732979, -0.010324512608349323, -0.05666187033057213, 0.1357271820306778, -0.016607217490673065, -0.06521207094192505, 0.056521859019994736, -0.03050774335861206, 0.07055139541625977, 0.061643969267606735, 0.015061800368130207, -0.05914798751473427, -0.059550292789936066, 0.009064124897122383, -0.034492578357458115, 0.01743321865797043, 0.030943263322114944, -0.06292398273944855, -0.016162514686584473, 0.042489271610975266, 0.02046462893486023, 0.030513811856508255, -0.0038458651397377253, 0.01295426208525896, 0.07233235985040665, -0.0492929182946682, -0.007732936646789312, -0.02948070876300335, -0.00422329967841506, -0.14642110466957092, -0.03532141074538231, 0.05045214667916298, 0.008175761438906193, 0.013521316461265087, 0.11441446095705032, -0.03547036275267601, -0.002750132465735078, -0.01723431423306465, -0.004081281833350658, -0.02763100154697895, -0.01432006061077118, 0.014359503984451294, 0.0018399945693090558, -0.009282099083065987, -0.007556167431175709, -0.06659488379955292, 0.01339871808886528, -0.05073432996869087, -0.013372070156037807, 0.0303892120718956, 0.05286850407719612, -0.022803617641329765, 0.010222070850431919, 0.01970943994820118, 0.037191346287727356, -0.055710118263959885, -0.011665087193250656, -0.027137435972690582, -0.0595131553709507, 0.09417904913425446, 0.09347070008516312, -0.05446518957614899, -0.08934380114078522, 0.0007352091488428414, 0.07349003851413727, 0.012274078093469143, -0.060918260365724564, -0.03555193915963173, -0.061900269240140915, -0.07933955639600754, 1.3357776879274752e-05, -8.394432911252427e-33, 0.05563507601618767, 0.01970965787768364, -0.05071061849594116, 0.08124817907810211, 0.007821896113455296, 0.03882746398448944, 0.004450918175280094, 0.1276181936264038, 0.030775494873523712, -0.026012443006038666, 0.025316482409834862, 0.03910356014966965, 0.05831294134259224, -0.06452923268079758, -0.07580133527517319, 0.10984660685062408, -0.07969745993614197, 0.03440358489751816, 0.011341100558638573, -0.05683473125100136, 0.06627669930458069, -0.0124373072758317, -0.05302680283784866, 0.06838292628526688, -0.03255371004343033, 0.0514482706785202, 0.07684215903282166, 0.05294299125671387, 0.03960035368800163, 0.007528696209192276, -0.030979763716459274, 0.036204416304826736, -0.016551468521356583, 0.07901893556118011, 0.006111272610723972, -0.03523588553071022, -0.013539918698370457, -0.06068025901913643, -0.031245451420545578, 0.09128768742084503, -0.062116559594869614, 0.019709857180714607, -0.08615972846746445, -0.03313233330845833, -0.043851643800735474, 0.013028544373810291, 0.0004234316584188491, -0.03314311429858208, -0.02041706256568432, -0.04043416306376457, 0.057548750191926956, 0.00256149098277092, -0.05114772543311119, -0.038222938776016235, -0.0425877571105957, 0.05025539547204971, 0.06634761393070221, -0.0513002872467041, 0.1113707572221756, 0.05152305215597153, -0.01799813099205494, -0.0784161314368248, -0.011004626750946045, 0.011242872104048729, 0.019936228170990944, -0.025604262948036194, -0.017410553991794586, 0.03679986298084259, 0.05680501088500023, 0.02607973851263523, 0.0813412293791771, 0.03634826838970184, 0.05621625483036041, 0.013806839473545551, 0.03906648978590965, -0.03450934961438179, 0.0677778571844101, 0.0469452328979969, 0.06345641613006592, -0.01865994930267334, -0.026349591091275215, 0.0481901615858078, 0.02368442714214325, 0.018825305625796318, -0.021100465208292007, 0.07959845662117004, -0.003910435829311609, 0.05889180675148964, -0.0015236448962241411, -0.04004014655947685, -0.046794258058071136, -0.0380726121366024, -0.07438699156045914, -0.009894149377942085, -0.05847937613725662, -5.640015743324511e-08, -0.02042199857532978, 0.021889880299568176, -0.0023103735875338316, -0.039248332381248474, 0.027120377868413925, -0.08944611996412277, 0.032745420932769775, -0.0832095742225647, 0.07381836324930191, 0.014644433744251728, 0.013719598762691021, 0.038900259882211685, -0.02516438066959381, -0.07152506709098816, 0.04452529549598694, 0.03623146191239357, -0.0003071383689530194, 0.11834436655044556, -0.03549979254603386, 0.0495566725730896, 0.1115846186876297, -0.04218475520610809, 0.016444731503725052, -0.03417437523603439, 0.0940404087305069, -0.0326073132455349, -0.10208261013031006, 0.08887661248445511, 0.02186448499560356, 0.03994008153676987, -0.0003221625229343772, 0.0038563625421375036, 0.04651499539613724, -0.06854914873838425, -0.06162349879741669, 0.020019838586449623, 0.02750040590763092, -0.09245438128709793, 0.061458930373191833, 0.0701318308711052, -0.0028361782897263765, -0.017925666645169258, -0.051386963576078415, -0.03134263679385185, -0.09065534919500351, -0.0009827837347984314, -0.07340873032808304, -0.01145891472697258, 0.0032895959448069334, 0.08541230857372284, 0.002529955469071865, -0.05681995302438736, -0.02797911874949932, -0.013849449343979359, -0.02455173246562481, -0.023876188322901726, -0.0388638973236084, 0.007454481441527605, 0.011877750046551228, -0.07373028248548508, 0.012716046534478664, 0.019447902217507362, 0.05300905555486679, -0.005929680075496435]}, {"id": "dyn_ui_component_DynDialog", "text": "# Component: DynDialog\n\n--- Types (DynDialog.types.ts) ---\n\nexport type DialogConfig = {\n    title?: string;\n    message: string;\n    confirmLabel?: string;\n    cancelLabel?: string;\n    type?: 'confirm' | 'alert' | 'prompt';\n    defaultValue?: string;\n    placeholder?: string;\n};\n\nexport interface DynDialogRef {\n    confirm(config: DialogConfig): Promise<boolean>;\n    alert(message: string, title?: string): Promise<void>;\n    prompt(message: string, title?: string, defaultValue?: string): Promise<string | null>;\n}\n\nexport type DialogState = DialogConfig & {\n    isOpen: boolean;\n    resolve?: (value: any) => void;\n};\n\n\n--- Component (DynDialog.tsx) ---\nimport React, { useState, useRef, useImperativeHandle, forwardRef, useCallback } from 'react';\nimport { DynModal } from '../DynModal';\nimport { DynButton } from '../DynButton';\nimport { DynInput } from '../DynInput';\nimport { DialogConfig, DialogState, DynDialogRef } from './DynDialog.types';\nimport styles from './DynDialog.module.css';\n\nconst defaultState: DialogState = {\n    isOpen: false,\n    message: '',\n    type: 'confirm',\n};\n\nexport const DynDialog = forwardRef<DynDialogRef, {}>((_, ref) => {\n    const [state, setState] = useState<DialogState>(defaultState);\n    const [inputValue, setInputValue] = useState('');\n    const resolveRef = useRef<((value: any) => void) | null>(null);\n\n    const close = useCallback(() => {\n        setState((prev) => ({ ...prev, isOpen: false }));\n        setInputValue('');\n    }, []);\n\n    const handleConfirm = useCallback(() => {\n        if (state.type === 'prompt') {\n            resolveRef.current?.(inputValue);\n        } else {\n            resolveRef.current?.(true);\n        }\n        close();\n    }, [state.type, inputValue, close]);\n\n    const handleCancel = useCallback(() => {\n        if (state.type === 'prompt') {\n            resolveRef.current?.(null);\n        } else {\n            resolveRef.current?.(false);\n        }\n        close();\n    }, [state.type, close]);\n\n    useImperativeHandle(ref, () => ({\n        confirm: (config: DialogConfig) => {\n            return new Promise<boolean>((resolve) => {\n                resolveRef.current = resolve;\n                setState({ ...config, type: 'confirm', isOpen: true });\n            });\n        },\n        alert: (message: string, title?: string) => {\n            return new Promise<void>((resolve) => {\n                resolveRef.current = resolve;\n                setState({ message, title, type: 'alert', isOpen: true });\n            });\n        },\n        prompt: (message: string, title?: string, defaultValue: string = '') => {\n            return new Promise<string | null>((resolve) => {\n                resolveRef.current = resolve;\n                setInputValue(defaultValue);\n                setState({\n                    message,\n                    title,\n                    defaultValue,\n                    type: 'prompt',\n                    isOpen: true\n                });\n            });\n        },\n    }));\n\n    const isAlert = state.type === 'alert';\n    const isPrompt = state.type === 'prompt';\n\n    return (\n        <DynModal\n            isOpen={state.isOpen}\n            onClose={handleCancel}\n            title={state.title}\n            size=\"sm\"\n        >\n            <div className={styles.content}>\n                <p className={styles.message}>{state.message}</p>\n\n                {isPrompt && (\n                    <div className={styles.inputContainer}>\n                        <DynInput\n                            value={inputValue}\n                            onChange={(value) => setInputValue(String(value))}\n                            placeholder={state.placeholder}\n                            autoFocus\n                            className={styles.input}\n                            onKeyDown={(e) => {\n                                if (e.key === 'Enter') handleConfirm();\n                                if (e.key === 'Escape') handleCancel();\n                            }}\n                        />\n                    </div>\n                )}\n\n                <div className={styles.actions}>\n                    {!isAlert && (\n                        <DynButton kind=\"secondary\" onClick={handleCancel}>\n                            {state.cancelLabel || 'Cancel'}\n                        </DynButton>\n                    )}\n                    <DynButton kind=\"primary\" onClick={handleConfirm}>\n                        {state.confirmLabel || 'OK'}\n                    </DynButton>\n                </div>\n            </div>\n        </DynModal>\n    );\n});\n\nDynDialog.displayName = 'DynDialog';\n\n\n--- Usage Examples (DynDialog.stories.tsx) ---\n\nimport React from 'react';\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { DynDialog } from './DynDialog';\nimport { DynButton } from '../DynButton';\nimport { DynDialogRef } from './DynDialog.types';\n\nconst meta: Meta<typeof DynDialog> = {\n    title: 'Components/DynDialog',\n    component: DynDialog,\n    parameters: {\n        layout: 'centered',\n    },\n    tags: ['autodocs'],\n};\n\nexport default meta;\ntype Story = StoryObj<typeof DynDialog>;\n\nimport { DynDialogProvider, useDialog } from './DialogContext';\n\nconst HookDemo = () => {\n    const { confirm, alert, prompt } = useDialog();\n    const [lastAction, setLastAction] = React.useState<string>('None');\n\n    const showConfirm = async () => {\n        const result = await confirm({\n            title: 'Delete Item?',\n            message: 'Are you sure you want to delete this item? This action cannot be undone.',\n            confirmLabel: 'Keep',\n            cancelLabel: 'Delete',\n        });\n        setLastAction(`Confirm result: ${result}`);\n    };\n\n    const showAlert = async () => {\n        await alert('Operation completed successfully!', 'Success');\n        setLastAction('Alert closed');\n    };\n\n    const showPrompt = async () => {\n        const result = await prompt('Please enter your email address:', 'Subscribe', 'user@example.com');\n        setLastAction(`Prompt result: ${result}`);\n    };\n\n    return (\n        <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem', alignItems: 'center' }}>\n            <div style={{ display: 'flex', gap: '1rem' }}>\n                <DynButton onClick={showConfirm}>Show Confirm</DynButton>\n                <DynButton onClick={showAlert}>Show Alert</DynButton>\n                <DynButton onClick={showPrompt}>Show Prompt</DynButton>\n            </div>\n            <div>Last Action: {lastAction}</div>\n        </div>\n    );\n};\n\nexport const WithProvider: Story = {\n    render: () => (\n        <DynDialogProvider>\n            <HookDemo />\n        </DynDialogProvider>\n    ),\n};\n\nconst DialogDemo = () => {\n    const dialogRef = React.useRef<DynDialogRef>(null);\n    const [lastAllocution, setLastAction] = React.useState<string>('None');\n\n    const showConfirm = async () => {\n        const result = await dialogRef.current?.confirm({\n            title: 'Delete Item?',\n            message: 'Are you sure you want to delete this item? This action cannot be undone.',\n            confirmLabel: 'Keep',\n            cancelLabel: 'Delete',\n        });\n        setLastAction(`Confirm result: ${result}`);\n    };\n\n    const showAlert = async () => {\n        await dialogRef.current?.alert('Operation completed successfully!', 'Success');\n        setLastAction('Alert closed');\n    };\n\n    const showPrompt = async () => {\n        const result = await dialogRef.current?.prompt('Please enter your email address:', 'Subscribe', 'user@example.com');\n        setLastAction(`Prompt result: ${result}`);\n    };\n\n    return (\n        <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem', alignItems: 'center' }}>\n            <div style={{ display: 'flex', gap: '1rem' }}>\n                <DynButton onClick={showConfirm}>Show Confirm</DynButton>\n                <DynButton onClick={showAlert}>Show Alert</DynButton>\n                <DynButton onClick={showPrompt}>Show Prompt</DynButton>\n            </div>\n            <div>Last Action: {lastAllocution}</div>\n            <DynDialog ref={dialogRef} />\n        </div>\n    );\n};\n\nexport const Interactive: Story = {\n    render: () => <DialogDemo />,\n};\n\n\n--- Styles (DynDialog.module.css) ---\n.content {\n  /* Component tokens - 3-level fallback pattern */\n  --dyn-dialog-gap: var(--dyn-dialog-spacing-gap, var(--dyn-spacing-md, 1rem));\n  --dyn-dialog-text-color: var(--dyn-dialog-color-text, var(--dyn-semantic-text, #1e293b));\n  --dyn-dialog-actions-gap: var(--dyn-dialog-spacing-actions-gap, var(--dyn-spacing-sm, 0.75rem));\n  --dyn-dialog-actions-margin-top: var(--dyn-dialog-spacing-actions-margin, var(--dyn-spacing-sm, 0.5rem));\n\n  display: flex;\n  flex-direction: column;\n  gap: var(--dyn-dialog-gap);\n}\n\n.message {\n  color: var(--dyn-dialog-text-color);\n  font-size: var(--dyn-font-size-base, 1rem);\n  line-height: var(--dyn-line-height-base, 1.5);\n  margin: 0;\n}\n\n.inputContainer {\n  width: 100%;\n}\n\n.input {\n  width: 100%;\n}\n\n.actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: var(--dyn-dialog-actions-gap);\n  margin-top: var(--dyn-dialog-actions-margin-top);\n}", "metadata": {"type": "ui_component", "name": "DynDialog", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynDialog"}, "embedding": [-0.019170943647623062, 0.013225161470472813, 0.0489114373922348, 0.03826775774359703, -0.021358368918299675, -0.009611759334802628, 0.06534139811992645, 0.07388536632061005, 0.07073014974594116, -0.006348421797156334, -0.1027510017156601, -0.09645726531744003, -0.047936588525772095, 0.06556952744722366, 0.05245693027973175, -0.01372540183365345, -0.06188054755330086, -0.10434814542531967, -0.02210153639316559, 0.03627627342939377, 0.08001720905303955, 0.041583143174648285, 0.09161463379859924, 0.004270663484930992, 0.014643109403550625, -0.04988547042012215, -0.009506259113550186, -0.047769393771886826, 0.00457661971449852, -0.008571291342377663, -0.0030484579037874937, 0.07594725489616394, -0.014866159297525883, -0.05118618533015251, -0.05702412128448486, 0.06890781223773956, -0.05438587814569473, 0.045938678085803986, 0.03112962655723095, -0.04255992919206619, 0.052479322999715805, 0.09131752699613571, -0.03903833031654358, -0.07286998629570007, 0.017262818291783333, -0.07216543704271317, -0.04526612535119057, -0.03972097486257553, -0.05084618553519249, 0.057100240141153336, 0.016644584015011787, 0.04530756548047066, -0.06033797189593315, -0.013664430007338524, 0.03814190626144409, 0.06419602036476135, 0.0477498397231102, 0.029441965743899345, 0.0068021113984286785, 0.03574918955564499, -0.019848249852657318, -0.062394823879003525, -0.030395053327083588, -0.04729550704360008, 0.013111349195241928, 0.08834599703550339, -0.04749498516321182, 0.048781078308820724, 0.030557218939065933, -0.039245132356882095, -0.05967094749212265, 0.010230178013443947, 0.010165874846279621, -0.0304449200630188, -0.03976361081004143, -0.06982458382844925, -0.030972963199019432, 0.0179563220590353, -0.021689297631382942, 0.02241964265704155, 0.08870334178209305, 0.022263647988438606, 0.003972381819039583, 0.019335556775331497, 0.024337079375982285, 0.07945223897695541, 0.022113997489213943, -0.013363291509449482, -0.013847455382347107, 0.0038856801111251116, 0.028881382197141647, -0.11426584422588348, -0.0072558666579425335, 0.08662812411785126, -0.005907213781028986, 0.04969090223312378, -0.12506753206253052, -0.023001160472631454, -0.01525182370096445, 0.002377126133069396, 0.03718920052051544, -0.04940054565668106, 0.025957658886909485, -0.06724456697702408, -0.027315493673086166, 0.0068150851875543594, -0.0005918402457609773, -0.10244990140199661, -0.030606210231781006, 0.014195739291608334, -0.012168223038315773, 0.026830194517970085, 0.041968006640672684, 0.08248913288116455, 0.014208399690687656, -0.025540443137288094, 0.027907274663448334, -0.02118576504290104, 0.06359951198101044, -0.043355539441108704, 0.024870682507753372, -0.04691484943032265, 0.06359955668449402, -0.012590833008289337, 0.04827303811907768, 0.006948032416403294, 0.09421128779649734, 1.0894779190428513e-32, 0.011105113662779331, 0.024494832381606102, -0.03720924258232117, 0.08214615285396576, 0.032257892191410065, 0.03254375234246254, 0.02589542604982853, -0.04809398204088211, -0.013835464604198933, -0.03224441409111023, -0.028903311118483543, -0.01998070813715458, -0.04384702444076538, -0.030962254852056503, -0.04136433079838753, -0.019322112202644348, 0.057727959007024765, 0.017482005059719086, 0.03919040784239769, 0.019333388656377792, 0.07762645930051804, 0.10330897569656372, -0.011742748320102692, 0.018805470317602158, 0.15587903559207916, -0.08641036599874496, -0.02275989018380642, 0.051909539848566055, -0.04233275726437569, -0.057857923209667206, -0.008273479528725147, -0.04638785496354103, 0.04907957836985588, 0.05668392777442932, -0.010923654772341251, -0.014389139600098133, -0.09309258311986923, 0.014519439078867435, -0.0895405039191246, -0.014137838035821915, 0.014218415133655071, -0.03957871347665787, -0.08126847445964813, 0.07590806484222412, -0.002707668114453554, -0.07462626695632935, -0.02524721994996071, 0.04612436145544052, 0.07727021723985672, -0.034927643835544586, -0.04252917692065239, 0.04937634989619255, 0.001700271270237863, -0.11222978681325912, 0.038738079369068146, -0.0006330371834337711, 0.04778452590107918, 0.00541421165689826, 0.056826379150152206, -0.02343031018972397, -0.0077731492929160595, -0.04476841539144516, -0.03751794248819351, -0.00705731613561511, -0.009996145963668823, 0.055184256285429, -0.07447269558906555, -0.08883591741323471, -0.010480149649083614, -0.06975992023944855, -0.040383145213127136, -0.12801627814769745, -0.04883822053670883, 0.01436134148389101, 0.07428429275751114, 0.016945289447903633, -0.11247292160987854, 0.052856799215078354, 0.08823271840810776, -0.05582956224679947, -0.005758014041930437, -0.047118112444877625, -0.09930001944303513, 0.16096892952919006, 0.05143636092543602, -0.00674647931009531, -0.026769421994686127, -0.02607569843530655, 0.05266353115439415, 0.042289502918720245, -0.07517602294683456, -0.002875387202948332, -0.03950437530875206, 0.024138599634170532, -0.008958172053098679, -1.1748980813128329e-32, 0.047810740768909454, 0.03764083608984947, -0.06340623646974564, 0.01639273203909397, 0.0010429085232317448, 0.07084111869335175, 0.08304288983345032, 0.04547256976366043, 0.006915571168065071, -0.02917380817234516, 0.006425596307963133, 0.03634624928236008, 0.10788631439208984, 0.035146068781614304, -0.05573590472340584, 0.08319928497076035, 0.022557439282536507, 0.00482906261458993, -0.022753164172172546, -0.0648208037018776, 0.07995086163282394, 0.04134082794189453, -0.054816197603940964, 0.04305441677570343, -0.07517334818840027, 0.012404312379658222, 0.05781131237745285, 0.04596991464495659, 0.06929075717926025, -0.0528816394507885, -0.03794728219509125, 0.02297312766313553, 0.008802317082881927, 0.014190870337188244, 0.006414589937776327, -0.029934179037809372, 0.08184175938367844, -0.008590620011091232, -0.07418154925107956, 0.007113519590348005, 0.0607585571706295, -0.050586968660354614, -0.034671902656555176, -0.03858736902475357, -0.05335143953561783, -0.10817789286375046, 0.014950962737202644, -0.06013695150613785, 0.015070656314492226, 0.013052858412265778, 0.05050693452358246, -0.0538010336458683, -0.004232365172356367, -0.02496340125799179, -0.015104709193110466, -0.043941859155893326, 0.03783336281776428, -0.08337058871984482, 0.07665441930294037, 0.00816315971314907, -0.02704443223774433, -0.05141826346516609, 0.07835801690816879, -0.05662212893366814, 0.0011124475859105587, -0.06254666298627853, -0.08560425788164139, 0.009297446347773075, 0.09404700994491577, 0.017018191516399384, 0.05020802468061447, -0.02642723359167576, 0.02171911858022213, -0.0176272913813591, 0.05672325938940048, 0.004348310641944408, -0.006434337235987186, -0.07116187363862991, 0.10259900242090225, 0.054676152765750885, 0.07717767357826233, 0.034928254783153534, 0.07092367112636566, 0.06109056994318962, -0.038709793239831924, -0.019095614552497864, 0.026547569781541824, 0.0851963460445404, 0.03743712976574898, 0.08549820631742477, -0.018217355012893677, -0.02729608677327633, -0.02077854983508587, 0.016895100474357605, 0.013782388530671597, -5.8854173090594486e-08, -0.08754488080739975, -0.03562828525900841, 0.016342543065547943, -0.010599733330309391, -0.02032390795648098, -0.10703560709953308, 0.027119312435388565, -0.09011335670948029, -0.018958410248160362, -0.06293239444494247, -0.08151426911354065, 0.034996602684259415, -0.013301190920174122, -0.058835119009017944, 0.007968503050506115, 0.00999430287629366, -0.015537668950855732, 0.00020975091319996864, -0.025659950450062752, -0.026098819449543953, 0.06710921972990036, -0.0430147647857666, -0.06031137704849243, -0.010589977726340294, 0.05427870526909828, -0.02346624806523323, 0.0024510477669537067, 0.02352876029908657, -0.04095170274376869, 0.021928586065769196, -0.06933818757534027, -0.010471329092979431, -0.02263801544904709, -0.027617856860160828, -0.10704249888658524, 0.03418905660510063, 0.09181730449199677, -0.07760908454656601, 0.07921327650547028, -0.019098788499832153, -0.010509328916668892, -0.028724784031510353, -0.024150682613253593, -0.011112694628536701, -0.03929397463798523, -0.002367213601246476, -0.024686379358172417, 0.003440708853304386, 0.03854028135538101, 0.011624806560575962, -0.06404154002666473, -0.024337559938430786, -0.036652304232120514, 0.024218399077653885, -0.04805449768900871, -0.04526541009545326, -0.045182034373283386, 0.014393150806427002, 0.0219167098402977, -0.010345129296183586, 0.04690806195139885, -0.04754726588726044, 0.06169041991233826, -0.12726986408233643]}, {"id": "dyn_ui_component_DynDivider", "text": "# Component: DynDivider\n\n--- Types (DynDivider.types.ts) ---\nimport type { ComponentPropsWithoutRef, ElementRef } from 'react';\nimport type { BaseComponentProps, AccessibilityProps } from '../../types/theme';\n\n// Local type definitions (previously from ../../types)\nexport type DynDividerColor = 'default' | 'subtle' | 'primary' | 'secondary' | 'success' | 'warning' | 'danger';\nexport type DynDividerLabelPosition = 'left' | 'center' | 'right';\nexport type DynDividerLineStyle = 'solid' | 'dashed' | 'dotted';\nexport type DynDividerThickness = 'thin' | 'medium' | 'thick';\nexport type LayoutDirection = 'horizontal' | 'vertical';\nexport type LayoutSpacing = 'none' | 'xs' | 'sm' | 'md' | 'lg' | 'xl';\n\nexport interface DynDividerProps \n  extends BaseComponentProps,\n    AccessibilityProps,\n    Omit<ComponentPropsWithoutRef<'div'>, keyof BaseComponentProps> {\n  /** Direction of the divider */\n  direction?: LayoutDirection;\n  /** Thickness of the divider line */\n  thickness?: DynDividerThickness;\n  /** Style of the divider line */\n  lineStyle?: DynDividerLineStyle;\n  /** Color variant of the divider */\n  color?: DynDividerColor;\n  /** Label text to display */\n  label?: string;\n  /** Position of the label */\n  labelPosition?: DynDividerLabelPosition;\n  /** Spacing around the divider */\n  spacing?: LayoutSpacing;\n  /** Additional CSS classes */\n  className?: string;\n  /** Custom styles */\n  style?: React.CSSProperties;\n}\n\nexport type DynDividerRef = HTMLDivElement;\n\nexport interface DynDividerDefaultProps {\n  direction: LayoutDirection;\n  thickness: DynDividerThickness;\n  lineStyle: DynDividerLineStyle;\n  color: DynDividerColor;\n  labelPosition: DynDividerLabelPosition;\n  spacing: LayoutSpacing;\n  'data-testid': string;\n}\n\nexport const DYN_DIVIDER_DEFAULT_PROPS: DynDividerDefaultProps = {\n  direction: 'horizontal',\n  thickness: 'thin',\n  lineStyle: 'solid',\n  color: 'default',\n  labelPosition: 'center',\n  spacing: 'md',\n  'data-testid': 'dyn-divider',\n};\n\n--- Component (DynDivider.tsx) ---\nimport { forwardRef, useId } from 'react';\nimport type { ForwardedRef } from 'react';\nimport { cn } from '../../utils/classNames';\nimport {\n  DYN_DIVIDER_DEFAULT_PROPS,\n  DynDividerProps,\n  DynDividerRef,\n  DynDividerColor,\n  LayoutSpacing,\n} from './DynDivider.types';\nimport styles from './DynDivider.module.css';\n\nconst DynDividerComponent = (\n  {\n    label,\n    labelPosition = DYN_DIVIDER_DEFAULT_PROPS.labelPosition,\n    direction = DYN_DIVIDER_DEFAULT_PROPS.direction,\n    thickness = DYN_DIVIDER_DEFAULT_PROPS.thickness,\n    lineStyle = DYN_DIVIDER_DEFAULT_PROPS.lineStyle,\n    color = DYN_DIVIDER_DEFAULT_PROPS.color,\n    spacing = DYN_DIVIDER_DEFAULT_PROPS.spacing,\n    children,\n    className,\n    id,\n    'data-testid': dataTestId = DYN_DIVIDER_DEFAULT_PROPS['data-testid'],\n    ...rest\n  }: DynDividerProps,\n  ref: ForwardedRef<DynDividerRef>\n) => {\n  const generatedId = useId();\n  const orientation = direction === 'vertical' ? 'vertical' : 'horizontal';\n  const labelContent = children ?? label;\n  const labelId = labelContent ? `${id ?? `dyn-divider-${generatedId}`}-label` : undefined;\n  const ariaLabel =\n    !labelId && typeof labelContent === 'string' ? labelContent : undefined;\n\n  // Explicit mapping objects for type safety\n  const DIRECTION_MAP = {\n    horizontal: styles.directionHorizontal,\n    vertical: styles.directionVertical,\n  };\n\n  const THICKNESS_MAP = {\n    thin: styles.thicknessThin,\n    medium: styles.thicknessMedium,\n    thick: styles.thicknessThick,\n  };\n\n  const LINE_STYLE_MAP = {\n    solid: styles.lineStyleSolid,\n    dashed: styles.lineStyleDashed,\n    dotted: styles.lineStyleDotted,\n  };\n\n  const COLOR_MAP: Record<DynDividerColor, string | undefined> = {\n    default: styles.colorDefault,\n    primary: styles.colorPrimary,\n    secondary: styles.colorSecondary,\n    subtle: styles.colorMuted,\n    success: styles.colorSuccess,\n    warning: styles.colorWarning,\n    danger: styles.colorDanger,\n  };\n\n  const SPACING_MAP: Record<LayoutSpacing, string> = {\n    none: styles.spacingNone,\n    xs: styles.spacingXs,\n    sm: styles.spacingSm,\n    md: styles.spacingMd,\n    lg: styles.spacingLg,\n    xl: styles.spacingXl,\n  };\n\n  const LABEL_POSITION_MAP = {\n    left: styles.labelLeft,\n    center: undefined, // default, no class needed\n    right: styles.labelRight,\n  };\n\n  const dividerClassName = cn(\n    styles.root,\n    DIRECTION_MAP[orientation],\n    THICKNESS_MAP[thickness],\n    LINE_STYLE_MAP[lineStyle],\n    COLOR_MAP[color ?? 'default'],\n    SPACING_MAP[spacing],\n    Boolean(labelContent) && styles.withLabel,\n    Boolean(labelContent) && LABEL_POSITION_MAP[labelPosition],\n    className\n  );\n\n  return (\n    <div\n      ref={ref}\n      id={id}\n      role=\"separator\"\n      aria-orientation={orientation}\n      aria-labelledby={labelId}\n      aria-label={ariaLabel}\n      className={dividerClassName}\n      data-testid={dataTestId}\n      {...rest}\n    >\n      <span className={styles.line} aria-hidden=\"true\" />\n      {labelContent ? (\n        <span className={styles.label} id={labelId}>\n          {labelContent}\n        </span>\n      ) : null}\n      <span className={styles.line} aria-hidden=\"true\" />\n    </div>\n  );\n};\n\nconst DynDivider = forwardRef<DynDividerRef, DynDividerProps>(DynDividerComponent);\n\nDynDivider.displayName = 'DynDivider';\n\nexport { DynDivider };\nexport default DynDivider;\n\n\n--- Usage Examples (DynDivider.stories.tsx) ---\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { DynDivider } from './DynDivider';\nimport { ThemeProvider } from '../../theme/ThemeProvider';\n\nconst meta: Meta<typeof DynDivider> = {\n  title: 'Components/DynDivider',\n  component: DynDivider,\n  decorators: [Story => (\n    <ThemeProvider initialTheme=\"light\">\n      <Story />\n    </ThemeProvider>\n  )],\n  argTypes: {\n    children: { control: false },\n  },\n};\n\nexport default meta;\n\ntype Story = StoryObj<typeof DynDivider>;\n\nexport const Playground: Story = {\n  args: {\n    label: 'Section Title',\n    labelPosition: 'center',\n    direction: 'horizontal',\n    thickness: 'thin',\n    lineStyle: 'solid',\n    color: 'default',\n    spacing: 'md',\n  },\n};\n\nexport const WithoutLabel: Story = {\n  args: {\n    direction: 'horizontal',\n    spacing: 'sm',\n  },\n};\n\nexport const Vertical: Story = {\n  args: {\n    label: 'Timeline',\n    labelPosition: 'right',\n    direction: 'vertical',\n    thickness: 'medium',\n    lineStyle: 'dotted',\n    color: 'primary',\n    spacing: 'lg',\n  },\n  parameters: {\n    layout: 'centered',\n  },\n};\n\n\n--- Styles (DynDivider.module.css) ---\n/**\n * DynDivider Component Styles - Option B: Full Token Integration\n * 100% Design Token Compliance\n */\n\n.root {\n  /* Color tokens - semantic for auto theme switching */\n  --dyn-divider-color: var(--dyn-semantic-border, #e2e8f0);\n  --dyn-divider-text-color: var(--dyn-semantic-text-secondary, #64748b);\n\n  /* Sizing tokens */\n  --dyn-divider-gap: 0;\n  --dyn-divider-thickness: 1px;\n  --dyn-divider-line-style: solid;\n  --dyn-divider-spacing: var(--dyn-spacing-md, 1rem);\n\n  /* Base styles */\n\n  /* Base styles */\n  display: flex;\n  align-items: center;\n  width: 100%;\n  min-width: 0;\n  gap: var(--dyn-divider-gap);\n  color: var(--dyn-divider-text-color);\n  font-size: var(--dyn-font-size-xs);\n  font-weight: var(--dyn-font-weight-medium);\n  letter-spacing: 0.02em;\n}\n\n/* ============================================\n   DIRECTION VARIANTS\n   ============================================ */\n\n.directionHorizontal {\n  margin-block: var(--dyn-divider-spacing);\n}\n\n.directionVertical {\n  flex-direction: column;\n  justify-content: center;\n  width: auto;\n  min-height: 100%;\n  align-self: stretch;\n  margin-inline: var(--dyn-divider-spacing);\n}\n\n/* ============================================\n   LINE ELEMENT\n   ============================================ */\n\n.line {\n  flex: 1 1 0%;\n  border-top: var(--dyn-divider-thickness) var(--dyn-divider-line-style) var(--dyn-divider-color);\n  min-width: 0;\n}\n\n.directionVertical .line {\n  width: 0;\n  min-height: 1rem;\n  border-top: none;\n  border-left: var(--dyn-divider-thickness) var(--dyn-divider-line-style) var(--dyn-divider-color);\n}\n\n/* ============================================\n   LABEL\n   ============================================ */\n\n.withLabel {\n  --dyn-divider-gap: var(--dyn-spacing-sm);\n}\n\n.label {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0 var(--dyn-spacing-sm);\n  white-space: nowrap;\n  border-radius: 999px;\n  background: var(--dyn-semantic-background, #ffffff);\n  color: inherit;\n}\n\n.directionVertical .label {\n  padding: var(--dyn-spacing-xs) 0;\n  border-radius: 0;\n}\n\n.labelLeft .line:first-of-type {\n  flex: 0 1 2rem;\n}\n\n.labelRight .line:last-of-type {\n  flex: 0 1 2rem;\n}\n\n.directionVertical.labelLeft {\n  justify-content: flex-start;\n}\n\n.directionVertical.labelRight {\n  justify-content: flex-end;\n}\n\n/* ============================================\n   THICKNESS VARIANTS\n   ============================================ */\n\n.thicknessThin {\n  --dyn-divider-thickness: 1px;\n}\n\n.thicknessMedium {\n  --dyn-divider-thickness: 2px;\n}\n\n.thicknessThick {\n  --dyn-divider-thickness: var(--dyn-border-width-lg, 0.1875rem);\n}\n\n/* ============================================\n   LINE STYLE VARIANTS\n   ============================================ */\n\n.lineStyleSolid {\n  --dyn-divider-line-style: solid;\n}\n\n.lineStyleDashed {\n  --dyn-divider-line-style: dashed;\n}\n\n.lineStyleDotted {\n  --dyn-divider-line-style: dotted;\n}\n\n/* ============================================\n   COLOR VARIANTS\n   ============================================ */\n\n.colorDefault {\n  --dyn-divider-color: var(--dyn-semantic-border);\n  --dyn-divider-text-color: var(--dyn-semantic-text-secondary);\n}\n\n.colorPrimary {\n  --dyn-divider-color: var(--dyn-theme-primary);\n  --dyn-divider-text-color: var(--dyn-theme-primary);\n}\n\n.colorSecondary {\n  --dyn-divider-color: var(--dyn-theme-secondary);\n  --dyn-divider-text-color: var(--dyn-theme-secondary);\n}\n\n.colorMuted {\n  --dyn-divider-color: var(--dyn-semantic-surface-muted);\n  --dyn-divider-text-color: var(--dyn-semantic-text-secondary);\n}\n\n.colorSuccess {\n  --dyn-divider-color: var(--dyn-semantic-success-DEFAULT, #28a745);\n  --dyn-divider-text-color: var(--dyn-semantic-success-DEFAULT, #28a745);\n}\n\n.colorWarning {\n  --dyn-divider-color: var(--dyn-semantic-warning-DEFAULT, #ffc107);\n  --dyn-divider-text-color: var(--dyn-semantic-warning-DEFAULT, #ffc107);\n}\n\n.colorDanger {\n  --dyn-divider-color: var(--dyn-semantic-danger-DEFAULT, #dc3545);\n  --dyn-divider-text-color: var(--dyn-semantic-danger-DEFAULT, #dc3545);\n}\n\n/* ============================================\n   SPACING VARIANTS\n   ============================================ */\n\n.spacingNone {\n  --dyn-divider-spacing: 0;\n}\n\n.spacingXs {\n  --dyn-divider-spacing: var(--dyn-spacing-xs);\n}\n\n.spacingSm {\n  --dyn-divider-spacing: var(--dyn-spacing-sm);\n}\n\n.spacingMd {\n  --dyn-divider-spacing: var(--dyn-spacing-md);\n}\n\n.spacingLg {\n  --dyn-divider-spacing: var(--dyn-spacing-lg);\n}\n\n.spacingXl {\n  --dyn-divider-spacing: var(--dyn-spacing-xl, 2rem);\n}\n\n/* ============================================\n   ACCESSIBILITY\n   ============================================ */\n\n@media (prefers-reduced-motion: reduce) {\n  .label {\n    transition: none;\n  }\n}\n\n@media (prefers-contrast: high) {\n  .root {\n    --dyn-divider-color: currentColor;\n    --dyn-divider-text-color: currentColor;\n  }\n}\n\n/* ============================================\n   DARK MODE\n   Note: Handled automatically via semantic tokens!\n   ============================================ */", "metadata": {"type": "ui_component", "name": "DynDivider", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynDivider"}, "embedding": [-0.0649941936135292, -0.015984077006578445, 0.020754503086209297, 0.031212789937853813, 0.016328440979123116, 0.119699627161026, -0.02881084568798542, 0.1136246770620346, -0.015067693777382374, -0.008454256691038609, -0.08860510587692261, -0.0006348421447910368, -0.06303732097148895, 0.05866524204611778, 0.03368290886282921, 0.030320342630147934, -0.03892173618078232, -0.057529937475919724, 0.009272568859159946, 0.025704320520162582, 0.013301453553140163, -0.08326788991689682, 0.07979220896959305, -0.036547038704156876, 0.03248808905482292, 0.06337331980466843, 0.07251521944999695, 0.0084074130281806, 0.058263424783945084, -0.020655957981944084, -0.02438255026936531, 0.09546185284852982, -0.011263927444815636, -0.003573719644919038, -0.04358343407511711, 0.04898464307188988, -0.028460081666707993, 0.060998231172561646, -0.02066604048013687, -0.04758786782622337, 0.07874515652656555, 0.08091042190790176, 0.04700471833348274, -0.0784577950835228, -0.01781189814209938, -0.04760557413101196, -0.05314318463206291, -0.045819059014320374, -0.08213675022125244, 0.00549175962805748, 0.0029980328399688005, -0.000617138750385493, 0.0211953017860651, -0.02536173351109028, 0.01772746443748474, 0.08786407113075256, 0.04716447368264198, 0.08693798631429672, 0.06983330845832825, 0.03510336950421333, 0.042838286608457565, -0.02412514202296734, 0.04406345263123512, -0.10051363706588745, 0.030284538865089417, 0.04992445558309555, -0.030281469225883484, 0.04780764877796173, 0.0019314460223540664, -0.04755160212516785, -0.05334978923201561, 0.0016845578793436289, 0.06139665096998215, -0.0060535455122590065, 0.02122718095779419, -0.13002538681030273, 0.012299596332013607, 0.02729904092848301, 0.021416133269667625, -0.032009053975343704, 0.021087946370244026, 0.05398556590080261, -0.017411183565855026, 0.10886795073747635, 0.008319367654621601, 0.11439066380262375, 0.03671179711818695, -0.04221419617533684, -0.06654687970876694, -0.054465968161821365, -0.012864275835454464, -0.08935225009918213, -0.014665612950921059, 0.06422241777181625, -0.050077058374881744, 0.029035791754722595, -0.08775655925273895, 0.049032408744096756, -0.041719526052474976, -0.03270508721470833, 0.008278146386146545, -0.08953648805618286, 0.030573692172765732, 0.029757365584373474, -0.043495796620845795, -0.04458830878138542, -0.01007248554378748, -0.0811285451054573, -0.0507889986038208, -0.02677440643310547, 0.025327611714601517, 0.04486802592873573, -0.05340864136815071, 0.03330313414335251, -0.06750763952732086, -0.056763555854558945, -0.07833606004714966, -0.06508266925811768, 0.10890896618366241, 0.005098503548651934, 0.072015680372715, -0.022812901064753532, 0.052847977727651596, -0.017698829993605614, 0.06928330659866333, 0.034737955778837204, 0.08130273222923279, 6.262277176692806e-33, 0.005541672930121422, 0.023738475516438484, -0.0043618096970021725, 0.03977392986416817, 0.05872756242752075, -0.06476110965013504, 0.003055739216506481, -0.019442452117800713, -0.014503342099487782, -0.0009385380544699728, 0.021875455975532532, 0.028472546488046646, -0.12670210003852844, 0.04753640666604042, -0.0899977758526802, -0.08210452646017075, 0.05421212315559387, -0.010963963344693184, -0.08342904597520828, 0.002455054083839059, 0.021000435575842857, 0.10458745062351227, -0.06637794524431229, 0.007683544419705868, 0.037768978625535965, -0.07384797930717468, -0.016120020300149918, 0.08701065182685852, -0.002545413328334689, -0.050908781588077545, 0.037926144897937775, -0.03562431409955025, 0.09839409589767456, 0.07369640469551086, -0.06355009227991104, -0.02318909578025341, -0.08284180611371994, 0.019970238208770752, -0.040333572775125504, 0.028980877250432968, -0.005656225141137838, 0.04806032404303551, -0.03319986164569855, 0.039783693850040436, 0.0022810131777077913, 0.08987816423177719, 0.07681743800640106, -0.008567743003368378, 0.004719293210655451, -0.02711658552289009, -0.021240370348095894, 0.04531926289200783, 0.05211349204182625, -0.09707339107990265, 0.061210401356220245, 0.008218426257371902, 0.016570424661040306, 0.03624701499938965, 0.11828158795833588, -0.016478313133120537, -0.027751604095101357, 0.041353754699230194, -0.010976668447256088, -0.04068872332572937, -0.011294757947325706, 0.017722953110933304, -0.02562442049384117, -0.06570105254650116, 0.000465863588033244, -0.10357680171728134, 0.013725860975682735, -0.005748062860220671, -0.026374323293566704, 0.02079397812485695, 0.07923691719770432, 0.003350485349074006, -0.0554843544960022, 0.04655952379107475, 0.0498235747218132, -0.09381243586540222, -0.0922444686293602, -0.02710542641580105, -0.004782047588378191, 0.04042142257094383, 0.049957189708948135, -0.04676049202680588, -0.034861017018556595, -0.058675382286310196, 0.07009000331163406, -0.016989849507808685, -0.08546783775091171, -0.06716793775558472, 0.0015594051219522953, -0.06745599955320358, -0.00415914598852396, -7.778556156026106e-33, -0.016353745013475418, 0.03947790339589119, -0.060645535588264465, -0.02767099067568779, -0.056256119161844254, 0.025154728442430496, 0.029439855366945267, 0.05442047491669655, 0.04746090620756149, 0.034604866057634354, 0.013391146436333656, 0.09685301780700684, 0.004755079746246338, -0.03273748978972435, -0.13063205778598785, 0.07245758920907974, -0.0002579103456810117, 0.08547130972146988, 0.004468667786568403, -0.10225272923707962, 0.0010662544518709183, -0.0012687596026808023, -0.03934779763221741, 0.07478569447994232, -0.020541872829198837, 0.06036848947405815, 0.10937152057886124, 0.021070227026939392, 0.023228924721479416, -0.029328318312764168, -0.014161198399960995, -0.014908199198544025, -0.013806714676320553, 0.05903242900967598, -0.035295385867357254, -0.06612347066402435, -0.07359620928764343, -0.02638838067650795, -0.08399924635887146, -0.004610854666680098, -0.05782680958509445, -0.07170262187719345, 0.004282698035240173, -0.023235028609633446, -0.04269485920667648, -0.01371890027076006, 0.014068047516047955, 0.018432628363370895, -0.07889344543218613, 0.020293613895773888, 0.027997782453894615, -0.04718676954507828, 0.012647011317312717, -0.007582115475088358, -0.02900293469429016, -0.018959123641252518, 0.03920219466090202, -0.018113555386662483, 0.05400335043668747, 0.082038514316082, 0.05544959753751755, -0.07289700955152512, -0.07282384485006332, -0.02833797223865986, -0.025406131520867348, -0.07942485064268112, -0.12286628782749176, -0.04860880598425865, 0.030204178765416145, 0.0559893436729908, 0.03723908215761185, 0.06766527146100998, 0.016174441203475, -0.02940887212753296, 0.05843892693519592, -0.0561569444835186, 0.04456087946891785, 0.04773977771401405, 0.09587378799915314, 0.01948685757815838, -0.037762414664030075, 0.017259540036320686, 0.01680532842874527, 0.014986582100391388, 0.0033015082590281963, -0.00873321108520031, 0.0005754699814133346, 0.05194858834147453, 0.08916839957237244, 0.009261665865778923, -0.0241383109241724, -0.02539551630616188, 0.008818738162517548, 0.038761649280786514, -0.003051893087103963, -6.39994439666225e-08, 0.0025472852867096663, -0.06516411155462265, -0.024836422875523567, -0.06462369859218597, -0.04705244302749634, -0.13559259474277496, 0.023700157180428505, -0.04824346676468849, 0.018922654911875725, 0.026096798479557037, -0.017191091552376747, 0.059705089777708054, -0.05672990903258324, -0.010474402457475662, 0.05689637362957001, 0.036901991814374924, -2.4310518710990436e-05, 0.09043782204389572, -0.05419519543647766, 0.03775661438703537, -0.028166892006993294, -0.04429459944367409, -0.016232497990131378, 0.029274724423885345, 0.037228696048259735, -0.030354900285601616, -0.012099606916308403, -0.044700153172016144, 0.04790087044239044, 0.042675524950027466, -0.05106604844331741, 0.03154444321990013, 0.009358257986605167, -0.07064837217330933, -0.05921846255660057, -0.013287226669490337, 0.03412950038909912, -0.02497975528240204, 0.07788931578397751, 0.019256755709648132, -0.02069980278611183, -0.03438568115234375, -0.014989564195275307, 0.013984009623527527, 0.006539569236338139, -0.05776820331811905, -0.02438761107623577, 0.03740638867020607, -0.0009503167821094394, 0.01240480225533247, -0.022123385220766068, -0.03227301687002182, -0.11950991302728653, 0.014648695476353168, -0.026602093130350113, -0.017876438796520233, -0.05223618820309639, 0.06320199370384216, 0.044054821133613586, -0.06548307836055756, -0.030680662021040916, 0.031319085508584976, 0.05299172177910805, -0.041927799582481384]}, {"id": "dyn_ui_component_DynDropdown", "text": "# Component: DynDropdown\n\n--- Types (DynDropdown.types.ts) ---\nimport type { ReactNode, MouseEvent } from 'react';\nimport type { BaseComponentProps, AccessibilityProps } from '../../types';\n\nexport type DynDropdownPlacement =\n    | 'bottom-start'\n    | 'bottom-end'\n    | 'top-start'\n    | 'top-end'\n    | 'left-start'\n    | 'right-start';\n\nexport type DynDropdownTriggerType = 'click' | 'hover';\n\nexport interface DynDropdownItem {\n    /** Unique identifier for the item */\n    id: string;\n    /** Primary text to display */\n    label?: ReactNode;\n    /** Optional icon to display before label */\n    icon?: ReactNode;\n    /** Whether the item is disabled */\n    disabled?: boolean;\n    /** Item type */\n    type?: 'item' | 'divider';\n    /** Custom data associated with item */\n    data?: any;\n    /** Custom class for the item */\n    className?: string;\n    /** Click handler for this specific item */\n    onClick?: (item: DynDropdownItem, e: MouseEvent) => void;\n}\n\nexport interface DynDropdownProps extends BaseComponentProps, AccessibilityProps {\n    /** The element that triggers the dropdown */\n    trigger: ReactNode;\n\n    /** Array of menu items */\n    items?: DynDropdownItem[];\n\n    /** Controlled open state */\n    isOpen?: boolean;\n\n    /** Uncontrolled default open state */\n    defaultOpen?: boolean;\n\n    /** Callback when open state changes */\n    onOpenChange?: (open: boolean) => void;\n\n    /** Placement of the dropdown relative to trigger */\n    placement?: DynDropdownPlacement;\n\n    /** Gap between trigger and dropdown in pixels */\n    offset?: number;\n\n    /** Whether to close the dropdown when an item is clicked */\n    closeOnItemClick?: boolean;\n\n    /** Whether to close the dropdown when clicking outside */\n    closeOnOutsideClick?: boolean;\n\n    /** How the dropdown is triggered */\n    triggerType?: DynDropdownTriggerType;\n\n    /** Callback when an item is clicked */\n    onItemClick?: (item: DynDropdownItem, e: MouseEvent) => void;\n\n    /** Custom content if items are not used */\n    children?: ReactNode;\n\n    /** Whether to render in a portal (default: true) */\n    usePortal?: boolean;\n\n    /** Disabled state */\n    disabled?: boolean;\n\n    /**\n     * DOM element to wrap the trigger with.\n     * Use 'div' if the trigger contains interactive elements like inputs.\n     * Default: 'button'\n     */\n    triggerWrapper?: 'button' | 'div';\n\n    /**\n     * Optional ARIA role for the trigger wrapper.\n     * Defaults to 'button' when triggerWrapper is 'div'.\n     * Set to 'presentation' or 'none' if the trigger contains interactive elements.\n     */\n    triggerRole?: string;\n\n    /**\n     * Whether the dropdown container should take up the full width of its parent.\n     * Useful for form fields like DatePicker.\n     */\n    fullWidth?: boolean;\n}\n\n\nexport interface DynDropdownRef {\n    /** Programmatically open the dropdown */\n    open: () => void;\n    /** Programmatically close the dropdown */\n    close: () => void;\n    /** Toggle the dropdown state */\n    toggle: () => void;\n    /** Get the dropdown element */\n    getElement: () => HTMLDivElement | null;\n}\n\nexport const DYN_DROPDOWN_DEFAULT_PROPS = {\n    placement: 'bottom-start',\n    offset: 8,\n    closeOnItemClick: true,\n    closeOnOutsideClick: true,\n    triggerType: 'click',\n    usePortal: true,\n} as const;\n\n\n--- Component (DynDropdown.tsx) ---\nimport React, {\n    forwardRef,\n    useImperativeHandle,\n    useRef,\n    useState,\n    useEffect,\n    useCallback,\n    useId,\n} from 'react';\nimport { createPortal } from 'react-dom';\nimport { cn } from '../../utils/classNames';\nimport type {\n    DynDropdownProps,\n    DynDropdownRef,\n    DynDropdownItem,\n    DynDropdownPlacement\n} from './DynDropdown.types';\nimport { DYN_DROPDOWN_DEFAULT_PROPS } from './DynDropdown.types';\nimport styles from './DynDropdown.module.css';\n\nexport const DynDropdown = forwardRef<DynDropdownRef, DynDropdownProps>(\n    (\n        {\n            trigger,\n            items = [],\n            isOpen: isOpenProp,\n            defaultOpen = false,\n            onOpenChange,\n            placement = DYN_DROPDOWN_DEFAULT_PROPS.placement,\n            offset = DYN_DROPDOWN_DEFAULT_PROPS.offset,\n            closeOnItemClick = DYN_DROPDOWN_DEFAULT_PROPS.closeOnItemClick,\n            closeOnOutsideClick = DYN_DROPDOWN_DEFAULT_PROPS.closeOnOutsideClick,\n            triggerType = DYN_DROPDOWN_DEFAULT_PROPS.triggerType,\n            onItemClick,\n            children,\n            usePortal = DYN_DROPDOWN_DEFAULT_PROPS.usePortal,\n            disabled = false,\n            className,\n\n            style,\n            id,\n            'aria-label': ariaLabel,\n            'data-testid': dataTestId = 'dyn-dropdown',\n            triggerWrapper = 'button',\n            triggerRole,\n            fullWidth = false,\n        },\n\n        ref\n    ) => {\n        const [internalOpen, setInternalOpen] = useState(defaultOpen);\n        const isOpen = isOpenProp !== undefined ? isOpenProp : internalOpen;\n\n        const triggerRef = useRef<HTMLButtonElement | HTMLDivElement>(null);\n        const menuRef = useRef<HTMLDivElement>(null);\n        const [coords, setCoords] = useState({ top: 0, left: 0 });\n        const componentId = id || useId();\n\n        const updatePosition = useCallback(() => {\n            if (!triggerRef.current || !isOpen) return;\n\n            const triggerRect = triggerRef.current.getBoundingClientRect();\n            const { top, left, width, height } = triggerRect;\n            let menuTop = 0;\n            let menuLeft = 0;\n\n            // Basic positioning logic based on placement\n            // This is a simplified version of what floating-ui does\n            switch (placement) {\n                case 'bottom-start':\n                    menuTop = top + height + offset;\n                    menuLeft = left;\n                    break;\n                case 'bottom-end':\n                    menuTop = top + height + offset;\n                    menuLeft = left + width; // Needs adjustment based on menu width later\n                    break;\n                case 'top-start':\n                    menuTop = top - offset; // Needs adjustment based on menu height later\n                    menuLeft = left;\n                    break;\n                case 'top-end':\n                    menuTop = top - offset;\n                    menuLeft = left + width;\n                    break;\n                default:\n                    menuTop = top + height + offset;\n                    menuLeft = left;\n            }\n\n            setCoords({ top: menuTop + window.scrollY, left: menuLeft + window.scrollX });\n        }, [isOpen, offset, placement]);\n\n        const handleOpenChange = useCallback((open: boolean) => {\n            setInternalOpen(open);\n            onOpenChange?.(open);\n        }, [onOpenChange]);\n\n        const toggle = useCallback(() => {\n            handleOpenChange(!isOpen);\n        }, [handleOpenChange, isOpen]);\n\n        useImperativeHandle(ref, () => ({\n            open: () => handleOpenChange(true),\n            close: () => handleOpenChange(false),\n            toggle,\n            getElement: () => menuRef.current,\n        }), [handleOpenChange, toggle]);\n\n        // Handle outside click\n        useEffect(() => {\n            if (!isOpen || !closeOnOutsideClick) return;\n\n            const handleClickOutside = (event: MouseEvent) => {\n                if (\n                    triggerRef.current && !triggerRef.current.contains(event.target as Node) &&\n                    menuRef.current && !menuRef.current.contains(event.target as Node)\n                ) {\n                    handleOpenChange(false);\n                }\n            };\n\n            document.addEventListener('mousedown', handleClickOutside);\n            return () => document.removeEventListener('mousedown', handleClickOutside);\n        }, [isOpen, closeOnOutsideClick, handleOpenChange]);\n\n        // Update position when open or resizing\n        useEffect(() => {\n            if (isOpen) {\n                updatePosition();\n                window.addEventListener('resize', updatePosition);\n                window.addEventListener('scroll', updatePosition, true);\n            }\n            return () => {\n                window.removeEventListener('resize', updatePosition);\n                window.removeEventListener('scroll', updatePosition, true);\n            };\n        }, [isOpen, updatePosition]);\n\n        const handleItemClick = (item: DynDropdownItem, e: React.MouseEvent) => {\n            if (item.disabled) return;\n\n            onItemClick?.(item, e);\n            item.onClick?.(item, e);\n\n            if (closeOnItemClick) {\n                handleOpenChange(false);\n            }\n        };\n\n        const renderItems = () => {\n            if (children) return children;\n\n            return items.map((item, index) => {\n                if (item.type === 'divider') {\n                    return <div key={`divider-${index}`} className={styles.divider} role=\"separator\" />;\n                }\n\n                return (\n                    <button\n                        key={item.id}\n                        type=\"button\"\n                        className={cn(styles.item, item.className, item.id === 'active' && styles.itemActive)}\n                        onClick={(e) => handleItemClick(item, e)}\n                        disabled={item.disabled}\n                        role=\"menuitem\"\n                    >\n                        {item.icon && <span className={styles.itemIcon}>{item.icon}</span>}\n                        <span className={styles.itemLabel}>{item.label}</span>\n                    </button>\n                );\n            });\n        };\n\n        const menuContent = (\n            <div\n                ref={menuRef}\n                id={`${componentId}-menu`}\n                className={cn(styles.menu, isOpen && styles.menuOpen)}\n                style={{\n                    top: coords.top,\n                    left: coords.left,\n                    position: 'absolute', // We use absolute with scrollY/X added\n                    ...style\n                }}\n                role=\"menu\"\n                aria-label={ariaLabel}\n                data-testid={`${dataTestId}-menu`}\n            >\n                {renderItems()}\n            </div>\n        );\n\n        return (\n            <div className={cn(styles.container, fullWidth && styles.containerBlock, className)} data-testid={dataTestId}>\n                {triggerWrapper === 'button' ? (\n                    <button\n                        ref={triggerRef as React.RefObject<HTMLButtonElement>}\n                        type=\"button\"\n                        className={styles.trigger}\n                        onClick={!disabled && triggerType === 'click' ? toggle : undefined}\n                        onMouseEnter={!disabled && triggerType === 'hover' ? () => handleOpenChange(true) : undefined}\n                        aria-haspopup=\"true\"\n                        aria-expanded={isOpen}\n                        aria-controls={`${componentId}-menu`}\n                        aria-label={ariaLabel}\n                        disabled={disabled}\n                    >\n                        {trigger}\n                    </button>\n                ) : (\n                    <div\n                        ref={triggerRef as React.RefObject<HTMLDivElement>}\n                        className={styles.trigger}\n                        onClick={!disabled && triggerType === 'click' ? toggle : undefined}\n                        onMouseEnter={!disabled && triggerType === 'hover' ? () => handleOpenChange(true) : undefined}\n                        role={triggerRole ?? 'button'}\n                        tabIndex={triggerRole === 'presentation' || triggerRole === 'none' ? undefined : (disabled ? -1 : 0)}\n                        aria-haspopup={triggerRole === 'presentation' || triggerRole === 'none' ? undefined : \"true\"}\n                        aria-expanded={triggerRole === 'presentation' || triggerRole === 'none' ? undefined : isOpen}\n                        aria-controls={triggerRole === 'presentation' || triggerRole === 'none' ? undefined : `${componentId}-menu`}\n                        aria-label={ariaLabel}\n                    >\n                        {trigger}\n                    </div>\n                )}\n\n\n\n                {isOpen && (usePortal ? createPortal(menuContent, document.body) : menuContent)}\n            </div>\n        );\n    }\n);\n\nDynDropdown.displayName = 'DynDropdown';\n\n\n--- Usage Examples (DynDropdown.stories.tsx) ---\nimport React from 'react';\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { DynDropdown } from './DynDropdown';\nimport { DynButton } from '../DynButton';\n\nconst meta: Meta<typeof DynDropdown> = {\n    title: 'Components/DynDropdown',\n    component: DynDropdown,\n    tags: ['autodocs'],\n    argTypes: {\n        placement: {\n            control: 'select',\n            options: ['bottom-start', 'bottom-end', 'top-start', 'top-end'],\n        },\n        triggerType: {\n            control: 'radio',\n            options: ['click', 'hover'],\n        },\n    },\n};\n\nexport default meta;\ntype Story = StoryObj<typeof DynDropdown>;\n\nexport const Default: Story = {\n    args: {\n        trigger: <DynButton label=\"Open Dropdown\" />,\n        items: [\n            { id: 'profile', label: 'User Profile' },\n            { id: 'settings', label: 'Settings' },\n            { id: 'divider-1', type: 'divider' },\n            { id: 'logout', label: 'Logout', className: 'text-danger' },\n        ],\n        onItemClick: (item) => alert(`Clicked: ${item.label}`),\n    },\n};\n\nexport const WithIcons: Story = {\n    args: {\n        trigger: <DynButton label=\"Actions\" kind=\"secondary\" />,\n        items: [\n            { id: 'edit', label: 'Edit', icon: '\ud83d\udcdd' },\n            { id: 'copy', label: 'Copy', icon: '\ud83d\udccb' },\n            { id: 'delete', label: 'Delete', icon: '\ud83d\uddd1\ufe0f', disabled: true },\n        ],\n    },\n};\n\nexport const CustomContent: Story = {\n    args: {\n        trigger: <DynButton label=\"Custom Content\" />,\n        children: (\n            <div style={{ padding: '16px', maxWidth: '300px' }}>\n                <h3>Custom Header</h3>\n                <p>You can render any React content inside the dropdown.</p>\n                <DynButton label=\"Accept\" size=\"sm\" fullWidth />\n            </div>\n        ),\n    },\n};\n\n\n--- Styles (DynDropdown.module.css) ---\n/**\n * DynDropdown Component Styles - Option B: Full Token Integration\n * 100% Design Token Compliance\n */\n\n/* ============================================\n   COMPONENT TOKENS\n   ============================================ */\n\n.container {\n  display: inline-block;\n  width: auto;\n}\n\n.containerBlock {\n  display: block;\n  width: 100%;\n}\n\n.containerBlock .trigger {\n  width: 100%;\n  display: flex;\n}\n\n/* ============================================\n   TRIGGER\n   ============================================ */\n\n.trigger {\n  display: inline-flex;\n  align-items: center;\n  cursor: pointer;\n  background: none;\n  border: none;\n  padding: 0;\n  font-family: inherit;\n}\n\n/* ============================================\n   MENU\n   ============================================ */\n\n.menu {\n  /* Color tokens - semantic for auto theme switching */\n  --dyn-dropdown-bg: var(--dyn-semantic-background, #ffffff);\n  --dyn-dropdown-border-color: var(--dyn-semantic-border, #e2e8f0);\n  --dyn-dropdown-text-color: var(--dyn-semantic-text, #0f172a);\n  --dyn-dropdown-text-secondary: var(--dyn-semantic-text-secondary, #64748b);\n  --dyn-dropdown-item-bg-hover: var(--dyn-semantic-surface-hover, #f1f5f9);\n  --dyn-dropdown-item-bg-active: var(--dyn-semantic-surface-active, #eff6ff);\n  --dyn-dropdown-item-text-active: var(--dyn-theme-primary, #3b82f6);\n  --dyn-dropdown-divider-color: var(--dyn-semantic-border, #e2e8f0);\n\n  /* Size tokens */\n  --dyn-dropdown-min-width: 200px;\n  --dyn-dropdown-max-width: 400px;\n  --dyn-dropdown-padding: var(--dyn-spacing-sm, 8px);\n  --dyn-dropdown-item-height: 40px;\n  --dyn-dropdown-item-padding-y: var(--dyn-spacing-sm, 8px);\n  --dyn-dropdown-item-padding-x: var(--dyn-spacing-md, 12px);\n  --dyn-dropdown-border-radius: var(--dyn-border-radius-md, 6px);\n\n  /* Typography */\n  --dyn-dropdown-font-size: var(--dyn-font-size-sm, 14px);\n\n  /* Effects */\n  --dyn-dropdown-shadow: var(--dyn-elevation-high, 0 10px 15px -3px rgba(0, 0, 0, 0.1));\n  --dyn-dropdown-transition: var(--dyn-transition-fast, 150ms ease);\n  --dyn-dropdown-z-index: 1000;\n\n\n  position: fixed;\n  min-width: var(--dyn-dropdown-min-width);\n  max-width: var(--dyn-dropdown-max-width);\n  background-color: var(--dyn-dropdown-bg);\n  border: var(--dyn-border-width-sm, 1px) solid var(--dyn-dropdown-border-color);\n  border-radius: var(--dyn-dropdown-border-radius);\n  box-shadow: var(--dyn-dropdown-shadow);\n  padding: var(--dyn-dropdown-padding);\n  font-size: var(--dyn-dropdown-font-size);\n  line-height: 1.5;\n  color: var(--dyn-dropdown-text-color);\n  z-index: var(--dyn-dropdown-z-index);\n  opacity: 0;\n  visibility: hidden;\n  transform: translateY(-10px);\n  transition: all var(--dyn-dropdown-transition);\n  pointer-events: none;\n}\n\n.menuOpen {\n  opacity: 1;\n  visibility: visible;\n  transform: translateY(0);\n  pointer-events: auto;\n}\n\n/* ============================================\n   ITEM\n   ============================================ */\n\n.item {\n  display: flex;\n  align-items: center;\n  height: var(--dyn-dropdown-item-height);\n  padding: var(--dyn-dropdown-item-padding-y) var(--dyn-dropdown-item-padding-x);\n  background-color: transparent;\n  border: none;\n  border-radius: var(--dyn-border-radius-sm);\n  cursor: pointer;\n  color: var(--dyn-dropdown-text-color);\n  font-family: inherit;\n  font-size: inherit;\n  transition: all var(--dyn-dropdown-transition);\n  width: 100%;\n  text-align: left;\n}\n\n.item:hover {\n  background-color: var(--dyn-dropdown-item-bg-hover);\n}\n\n.item:focus-visible {\n  outline: 2px solid var(--dyn-semantic-border-focus);\n  outline-offset: -2px;\n}\n\n.itemActive {\n  background-color: var(--dyn-dropdown-item-bg-active);\n  color: var(--dyn-dropdown-item-text-active);\n  font-weight: var(--dyn-font-weight-medium);\n}\n\n/* ============================================\n   DIVIDER\n   ============================================ */\n\n.divider {\n  height: 1px;\n  background-color: var(--dyn-dropdown-divider-color);\n  margin: var(--dyn-spacing-xs) 0;\n  border: none;\n}\n\n/* ============================================\n   RESPONSIVE\n   ============================================ */\n\n@media (max-width: 767px) {\n  .menu {\n    min-width: 100%;\n    width: calc(100vw - 2 * var(--dyn-spacing-md));\n    max-width: none;\n  }\n}\n\n/* ============================================\n   ACCESSIBILITY\n   ============================================ */\n\n@media (prefers-contrast: high) {\n  .item:focus-visible {\n    outline-width: var(--dyn-border-width-lg, 3px);\n  }\n}\n\n@media (prefers-reduced-motion: reduce) {\n\n  .menu,\n  .item {\n    transition: none;\n  }\n}\n\n/* ============================================\n   DARK MODE\n   Note: Handled automatically via semantic tokens!\n   ============================================ */", "metadata": {"type": "ui_component", "name": "DynDropdown", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynDropdown"}, "embedding": [-0.08752193301916122, -0.00560360960662365, 0.015079057775437832, 0.060472890734672546, 0.04001610726118088, 0.05593203753232956, 0.04415587708353996, 0.0367291122674942, -0.025563348084688187, -0.01020113006234169, -0.09503550827503204, 0.038178279995918274, -0.11649305373430252, 0.0652577131986618, 0.009401937946677208, 0.0579979345202446, -0.021666374057531357, -0.03802885115146637, -0.018315168097615242, 0.006802997086197138, 0.028017226606607437, -0.11701519787311554, 0.040723223239183426, -0.0106872683390975, 0.00495293689891696, 0.04315544292330742, 0.014349343255162239, -0.011829403229057789, 0.01991887204349041, -0.013250106014311314, -0.04937596619129181, 0.04436167702078819, 0.007857386954128742, -0.03013276867568493, -0.04264877736568451, 0.014420684427022934, -0.0169063787907362, 0.065296471118927, 0.00858023576438427, -0.002400179160758853, 0.08211082220077515, 0.030740465968847275, -0.0029763602651655674, -0.10883351415395737, -0.002070532413199544, -0.021953603252768517, 0.0035196992103010416, -0.020242653787136078, -0.0466964915394783, 0.08606670051813126, 0.06721003353595734, 0.08307094871997833, 0.05430750921368599, -0.005244767758995295, 0.08396441489458084, 0.06412894278764725, 0.09916223585605621, 0.013524666428565979, 0.00479319179430604, 0.0036245640367269516, 0.06311172991991043, -0.03684121370315552, -0.000920410908292979, -0.11456058919429779, 0.052947066724300385, 0.0456770621240139, -0.0026741065084934235, -0.0007360779563896358, -0.009789583273231983, -0.04895169660449028, 0.013464135117828846, -0.047433577477931976, 0.06166897714138031, 0.03309624269604683, 0.011235199868679047, -0.12970775365829468, 0.043807290494441986, 0.023786243051290512, 0.05041520670056343, 0.04494968801736832, 0.05878198519349098, 0.05309126153588295, -0.02863902412354946, 0.058581579476594925, -0.015735771507024765, 0.11850893497467041, -0.02631136029958725, 0.03391367197036743, -0.0957118347287178, -0.08672540634870529, -0.047392185777425766, -0.1053045466542244, -0.02429238148033619, 0.0460258424282074, 0.052102550864219666, 0.03958137333393097, -0.07428333908319473, 0.028581956401467323, -0.03840693458914757, -0.03373751789331436, 0.023011934012174606, -0.041369982063770294, -0.029053669422864914, -0.0076921917498111725, -0.07242865860462189, -0.0742545947432518, 0.028824811801314354, -0.16138102114200592, -0.06178915500640869, 0.0626930445432663, -0.016985882073640823, 0.04029315710067749, -0.06303508579730988, 0.08948774635791779, -0.07956626266241074, -0.04880049079656601, -0.008341309614479542, -0.045337826013565063, 0.07025545835494995, -0.06150941923260689, 0.06717729568481445, 0.03496980667114258, 0.07569951564073563, -0.0016710880445316434, 0.022483620792627335, 0.0702284723520279, 0.018101569265127182, 2.8943091700923443e-33, -0.005297210067510605, -0.06503245234489441, -0.018751615658402443, -0.02678523398935795, 0.04574156552553177, -0.10169968754053116, -0.031761981546878815, -0.08974135667085648, 0.0008486730512231588, 0.03595348820090294, 0.0662451758980751, -0.009601613506674767, -0.013373312540352345, -0.03357752412557602, -0.005505225155502558, -0.05282914638519287, 0.09944087266921997, -0.0490562841296196, -0.01885385625064373, -0.06891072541475296, -0.011735554784536362, 0.03369135409593582, -0.1459483504295349, 0.025224972516298294, 0.09770297259092331, -0.036613404750823975, -0.0617743618786335, 0.0699646845459938, 0.05823826789855957, -0.03359625115990639, -0.0019639322999864817, -0.051691580563783646, 0.027457229793071747, 0.02241862751543522, -0.053326576948165894, -0.044780246913433075, -0.11644130200147629, 0.04379041865468025, -0.02976970747113228, -0.02454027347266674, -0.009377147071063519, -0.017212241888046265, -0.04384949803352356, 0.03594224527478218, -0.07724087685346603, 0.016202513128519058, 0.04933421313762665, -0.052184782922267914, 0.019116386771202087, -0.05905642732977867, -0.051392678171396255, -0.01774817705154419, 0.012970403768122196, -0.14112712442874908, 0.0014492536429315805, 0.010432170704007149, -0.04112383723258972, 0.015641897916793823, 0.046478744596242905, 0.02591611258685589, -0.007107069715857506, 0.0032317282166332006, 0.07957704365253448, -0.026798956096172333, 0.037251200526952744, 0.05992606282234192, -0.036594782024621964, -0.011217160150408745, 0.03956698626279831, -0.06384368985891342, -0.017974192276597023, -9.183376823784783e-05, 0.040614452213048935, -0.040952201932668686, 0.08839374035596848, 0.028273221105337143, -0.008477797731757164, -0.043043188750743866, 0.037137653678655624, -0.08533516526222229, -0.016419103369116783, -0.06960631161928177, 0.05203655734658241, 0.03909358009696007, 0.05460365489125252, -0.008713996969163418, -0.08372656255960464, -0.014210980385541916, 0.008448605425655842, 0.005525944288820028, -0.039808765053749084, -0.061335932463407516, 0.031763482838869095, -0.07701794803142548, -0.028997886925935745, -4.998484098340564e-33, 0.018159661442041397, 0.0508333258330822, -0.03584303706884384, -0.011533195152878761, -0.02455412968993187, 0.04969124123454094, -0.006593231577426195, 0.014531818218529224, -0.02193639613687992, 0.060791220515966415, -0.03289519250392914, 0.02464614436030388, 0.014942038804292679, -0.031121041625738144, -0.04544965177774429, 0.1352904886007309, -0.07901842892169952, 0.05564470961689949, 0.051354922354221344, -0.059682365506887436, 0.10960336774587631, 0.006566713098436594, 0.003731012577190995, 0.059542734175920486, -0.13171328604221344, 0.019367076456546783, 0.07554327696561813, 0.01879505254328251, 0.081341952085495, -0.06898465752601624, -0.0044732531532645226, 0.02856135182082653, 0.023086106404662132, 0.03513428941369057, -0.009043647907674313, -0.07453963160514832, -0.013503738678991795, 0.00518777035176754, -0.06474718451499939, 0.02322494052350521, -0.04413793236017227, -0.03023185208439827, 0.008202713914215565, 0.020666779950261116, -0.013548919931054115, -0.09570812433958054, -0.0547766387462616, 0.05819635093212128, 0.015083341859281063, 0.040456850081682205, -0.018666883930563927, -0.014617182314395905, -0.04334104061126709, 0.014263984747231007, 0.023470262065529823, 0.007417220156639814, 0.07241937518119812, -0.003943844698369503, 0.007914828136563301, 0.05590933933854103, -0.01705816760659218, -0.12667855620384216, -0.0655042752623558, 0.06935214251279831, 0.03812854737043381, -0.030122248455882072, -0.10842982679605484, 0.03377383574843407, -0.019764790311455727, 0.0681888535618782, 0.045842494815588, 0.09478092193603516, 0.08014708757400513, -0.07512607425451279, 0.04925215244293213, -0.0459485687315464, 0.05713288486003876, 0.06653159111738205, 0.14591830968856812, 0.00802417378872633, 0.013201524503529072, -0.006096370052546263, -0.023220619186758995, 0.054322462528944016, -0.022451547905802727, 0.0017419183859601617, -0.019372785463929176, 0.06625914573669434, 0.0675579234957695, -0.009138365276157856, -0.018285518512129784, -0.07409392297267914, -0.060633182525634766, 0.03489886224269867, -0.05143025517463684, -5.979900663533044e-08, 0.008446034044027328, -0.08317043632268906, -0.03983744978904724, -0.04196757450699806, -0.0074443151243031025, -0.019991200417280197, -0.035388026386499405, -0.047259263694286346, 0.009143738076090813, -0.02881494164466858, -0.031672850251197815, 0.05531851574778557, -0.042651012539863586, -0.014715396799147129, 0.05965273454785347, 0.028674619272351265, -0.007031921297311783, 0.030512768775224686, -0.003031289204955101, 0.08686549961566925, 0.027140473946928978, -0.026896238327026367, -0.04396453872323036, 0.04218725487589836, 0.048067856580019, -0.015569904819130898, -0.019035661593079567, -0.01660769246518612, 0.01808665320277214, 0.03733842074871063, -0.030979391187429428, 0.03036666475236416, -0.015535176731646061, -0.028031419962644577, -0.03380776196718216, -0.01050478033721447, 0.045638300478458405, -0.043451618403196335, 0.06427821516990662, 0.0015688430285081267, 0.017059097066521645, -0.08485078811645508, -0.019848329946398735, 0.029716363176703453, -0.056343987584114075, -0.007409000303596258, -0.0838923454284668, 0.003301474032923579, 0.004975259769707918, 0.04842035472393036, -0.0473187118768692, 0.018123118206858635, 0.014893929474055767, 0.05025887116789818, -0.00032099513919092715, 0.0272611603140831, -0.059960465878248215, 0.009836183860898018, 0.03130501136183739, 0.03988051787018776, 0.060569778084754944, -0.012931402772665024, -0.0020762544590979815, 0.012186587788164616]}, {"id": "dyn_ui_component_DynFieldContainer", "text": "# Component: DynFieldContainer\n\n--- Types (DynFieldContainer.types.ts) ---\nimport type { HTMLAttributes, ReactNode } from 'react';\nimport type { BaseComponentProps } from '../../types';\n\nexport interface DynFieldContainerOwnProps {\n  /** Form field element that should be wrapped */\n  children: ReactNode;\n  /** Optional label to display above the field */\n  label?: string;\n  /** Indicates the field is required */\n  required?: boolean;\n  /** Indicates the field is optional */\n  optional?: boolean;\n  /** Informational helper text displayed below the field */\n  helpText?: string;\n  /** Error message displayed below the field */\n  errorText?: string;\n  /** Controls whether validation messages are shown */\n  showValidation?: boolean;\n  /** Id of the input element for the label association */\n  htmlFor?: string;\n}\n\nexport type DynFieldContainerProps = Omit<BaseComponentProps, 'children'> &\n  DynFieldContainerOwnProps &\n  Omit<HTMLAttributes<HTMLDivElement>, 'children'>;\n\nexport interface DynFieldContainerDefaultProps {\n  showValidation: boolean;\n  'data-testid': string;\n}\n\nexport const DYN_FIELD_CONTAINER_DEFAULT_PROPS: DynFieldContainerDefaultProps = {\n  showValidation: true,\n  'data-testid': 'dyn-field-container',\n};\n\n\n--- Component (DynFieldContainer.tsx) ---\nimport { forwardRef } from 'react';\nimport { cn } from '../../utils/classNames';\nimport {\n  DYN_FIELD_CONTAINER_DEFAULT_PROPS,\n  type DynFieldContainerProps,\n} from './DynFieldContainer.types';\nimport styles from './DynFieldContainer.module.css';\n\nexport const DynFieldContainer = forwardRef<HTMLDivElement, DynFieldContainerProps>(\n  (props, ref) => {\n    const {\n      children,\n      label,\n      required = false,\n      optional = false,\n      helpText,\n      errorText,\n      showValidation = DYN_FIELD_CONTAINER_DEFAULT_PROPS.showValidation,\n      className,\n      htmlFor,\n      id,\n      'data-testid': dataTestIdProp,\n      ...rest\n    } = props;\n\n    const dataTestId =\n      dataTestIdProp ?? DYN_FIELD_CONTAINER_DEFAULT_PROPS['data-testid'];\n\n    const containerClasses = cn(\n      styles.container,\n      errorText && styles.containerError,\n      required && styles.containerRequired,\n      optional && styles.containerOptional,\n      className\n    );\n\n    const errorId = htmlFor ? `${htmlFor}-error` : undefined;\n    const helpId = htmlFor ? `${htmlFor}-help` : undefined;\n\n    return (\n      <div\n        {...rest}\n        ref={ref}\n        id={id}\n        className={containerClasses}\n        data-testid={dataTestId}\n      >\n        {label && (\n          <label className={styles.label} htmlFor={htmlFor}>\n            {label}\n            {required && (\n              <span className={styles.required} aria-hidden=\"true\">\n                *\n              </span>\n            )}\n            {optional && (\n              <span className={styles.optional}>\n                (optional)\n              </span>\n            )}\n\n          </label>\n        )}\n\n        {children}\n\n        {showValidation && (helpText || errorText) && (\n          <div className={styles.feedback}>\n            {errorText ? (\n              <div\n                className={styles.error}\n                id={errorId}\n                role=\"alert\"\n                aria-live=\"polite\"\n              >\n                {errorText}\n              </div>\n            ) : helpText ? (\n              <div className={styles.help} id={helpId}>\n                {helpText}\n              </div>\n            ) : null}\n          </div>\n        )}\n      </div>\n    );\n  }\n);\n\nDynFieldContainer.displayName = 'DynFieldContainer';\n\nexport default DynFieldContainer;\n\n\n--- Usage Examples (DynFieldContainer.stories.tsx) ---\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { DynFieldContainer } from './DynFieldContainer';\nimport type { DynFieldContainerProps } from './DynFieldContainer.types';\nimport { DynInput } from '../DynInput';\nimport { DynCheckbox } from '../DynCheckbox';\n\nconst meta: Meta<typeof DynFieldContainer> = {\n  title: 'Components/Form/DynFieldContainer',\n  component: DynFieldContainer,\n  parameters: {\n    layout: 'centered',\n    docs: {\n      description: {\n        component: 'Container component that provides consistent layout and validation display for form fields.',\n      },\n    },\n  },\n  tags: ['autodocs'],\n  argTypes: {\n    required: {\n      control: 'boolean',\n    },\n    optional: {\n      control: 'boolean',\n    },\n  },\n};\n\nexport default meta;\ntype Story = StoryObj<DynFieldContainerProps>;\n\nexport const Default: Story = {\n  args: {\n    label: 'Field Label',\n    children: <input type=\"text\" placeholder=\"Enter text\" style={{ padding: '8px', border: '1px solid #ccc', borderRadius: '4px' }} />,\n  },\n};\n\nexport const WithHelp: Story = {\n  args: {\n    label: 'Field with Help',\n    helpText: 'This is helpful information about the field.',\n    children: <input type=\"text\" placeholder=\"Enter text\" style={{ padding: '8px', border: '1px solid #ccc', borderRadius: '4px' }} />,\n  },\n};\n\nexport const Required: Story = {\n  args: {\n    label: 'Required Field',\n    required: true,\n    children: <input type=\"text\" placeholder=\"Enter text\" style={{ padding: '8px', border: '1px solid #ccc', borderRadius: '4px' }} />,\n  },\n};\n\nexport const Optional: Story = {\n  args: {\n    label: 'Optional Field',\n    optional: true,\n    children: <input type=\"text\" placeholder=\"Enter text\" style={{ padding: '8px', border: '1px solid #ccc', borderRadius: '4px' }} />,\n  },\n};\n\nexport const WithError: Story = {\n  args: {\n    label: 'Field with Error',\n    errorText: 'This field is required.',\n    children: <input type=\"text\" placeholder=\"Enter text\" style={{ padding: '8px', border: '1px solid #ccc', borderRadius: '4px', borderColor: '#e53e3e' }} />,\n  },\n};\n\nexport const WithDynInput: Story = {\n  render: () => (\n    <div style={{ width: '300px' }}>\n      <DynFieldContainer\n        label=\"Input Field\"\n        helpText=\"Enter your name\"\n        required\n      >\n        <DynInput\n          name=\"example-input\"\n          placeholder=\"Your name\"\n        />\n      </DynFieldContainer>\n    </div>\n  ),\n};\n\nexport const WithDynCheckbox: Story = {\n  render: () => (\n    <div style={{ width: '300px' }}>\n      <DynFieldContainer\n        helpText=\"Check this to agree to terms\"\n        required\n      >\n        <DynCheckbox\n          name=\"terms\"\n          label=\"I agree to the terms and conditions\"\n        />\n      </DynFieldContainer>\n    </div>\n  ),\n};\n\nexport const AllVariants: Story = {\n  render: () => (\n    <div style={{ display: 'flex', flexDirection: 'column', gap: '2rem', width: '400px' }}>\n      <DynFieldContainer label=\"Basic Field\">\n        <input type=\"text\" placeholder=\"Basic input\" style={{ padding: '8px', border: '1px solid #ccc', borderRadius: '4px' }} />\n      </DynFieldContainer>\n\n      <DynFieldContainer label=\"Required Field\" required>\n        <input type=\"text\" placeholder=\"Required input\" style={{ padding: '8px', border: '1px solid #ccc', borderRadius: '4px' }} />\n      </DynFieldContainer>\n\n      <DynFieldContainer label=\"Optional Field\" optional>\n        <input type=\"text\" placeholder=\"Optional input\" style={{ padding: '8px', border: '1px solid #ccc', borderRadius: '4px' }} />\n      </DynFieldContainer>\n\n      <DynFieldContainer label=\"Field with Help\" helpText=\"This field needs some explanation\">\n        <input type=\"text\" placeholder=\"Input with help\" style={{ padding: '8px', border: '1px solid #ccc', borderRadius: '4px' }} />\n      </DynFieldContainer>\n\n      <DynFieldContainer label=\"Field with Error\" errorText=\"This field has an error\">\n        <input type=\"text\" placeholder=\"Input with error\" style={{ padding: '8px', border: '1px solid #e53e3e', borderRadius: '4px' }} />\n      </DynFieldContainer>\n    </div>\n  ),\n};\n\n\n--- Styles (DynFieldContainer.module.css) ---\n/**\n * DynFieldContainer Component Styles\n * 100% Design Token Compliance\n * Unified Token Strategy: 3-Level Fallback Pattern\n * \n * Uses tokens from: @dyn-ui/design-tokens \u2192 field-container.css\n */\n\n.container {\n  /* Color Tokens - Override Layer \u2192 Generated Token \u2192 Foundation Fallback */\n  --dyn-field-label-text: var(--dyn-field-container-label-text, var(--dyn-semantic-text, #18181b));\n  --dyn-field-label-text-error: var(--dyn-field-container-label-textError, var(--dyn-feedback-negative-default, #dc3545));\n  --dyn-field-help-text: var(--dyn-field-container-help-text, var(--dyn-semantic-text-secondary, #52525b));\n  --dyn-field-error-text: var(--dyn-field-container-error-text, var(--dyn-feedback-negative-default, #dc3545));\n  --dyn-field-required-text: var(--dyn-field-container-required-text, var(--dyn-feedback-negative-default, #dc3545));\n  --dyn-field-optional-text: var(--dyn-field-container-optional-text, var(--dyn-semantic-text-secondary, #52525b));\n\n  /* Typography Tokens */\n  --dyn-field-label-fontSize: var(--dyn-field-container-label-fontSize, var(--dyn-font-size-sm, 14px));\n  --dyn-field-label-fontWeight: var(--dyn-field-container-label-fontWeight, var(--dyn-font-weight-semibold, 600));\n  --dyn-field-help-fontSize: var(--dyn-field-container-help-fontSize, var(--dyn-font-size-sm, 14px));\n  --dyn-field-error-fontSize: var(--dyn-field-container-error-fontSize, var(--dyn-font-size-sm, 14px));\n\n  /* Spacing Tokens */\n  --dyn-field-gap: var(--dyn-field-container-spacing-gap, var(--dyn-spacing-sm, 8px));\n  --dyn-field-marginBottom: var(--dyn-field-container-spacing-marginBottom, var(--dyn-spacing-sm, 8px));\n  --dyn-field-label-marginBottom: var(--dyn-field-container-label-marginBottom, var(--dyn-spacing-sm, 8px));\n\n  /* Transition */\n  --dyn-field-transition: var(--dyn-field-container-transition, var(--dyn-transition-normal, 0.2s ease-in-out));\n}\n\n.container {\n  /* ==========================================================================\n     COMPONENT TOKENS (Layer 2) - Referencing generated tokens\n     Layer 3 Override variables are prefixed without 'generated' suffix\n     ========================================================================== */\n\n  /* ==========================================================================\n     BASE STYLES\n     ========================================================================== */\n  display: flex;\n  flex-direction: column;\n  gap: var(--dyn-field-gap);\n  margin-bottom: var(--dyn-field-marginBottom);\n  width: 100%;\n  text-align: left;\n}\n\n.containerError .label {\n  color: var(--dyn-field-label-text-error);\n  transition: color var(--dyn-field-transition);\n}\n\n.label {\n  font-family: var(--dyn-font-family-base, inherit);\n  font-size: var(--dyn-field-label-fontSize);\n  font-weight: var(--dyn-field-label-fontWeight);\n  color: var(--dyn-field-label-text);\n  margin-bottom: var(--dyn-field-label-marginBottom);\n  line-height: var(--dyn-typography-lineHeight-normal, 1.4);\n  transition: color var(--dyn-field-transition);\n}\n\n.feedback {\n  display: flex;\n  flex-direction: column;\n  gap: var(--dyn-field-gap);\n}\n\n.error {\n  font-family: var(--dyn-font-family-base, inherit);\n  font-size: var(--dyn-field-error-fontSize);\n  color: var(--dyn-field-error-text);\n  line-height: var(--dyn-typography-lineHeight-normal, 1.4);\n  margin-top: var(--dyn-field-gap);\n  display: flex;\n  align-items: center;\n  gap: var(--dyn-spacing-xs, 4px);\n}\n\n.help {\n  font-family: var(--dyn-font-family-base, inherit);\n  font-size: var(--dyn-field-help-fontSize);\n  color: var(--dyn-field-help-text);\n  line-height: var(--dyn-typography-lineHeight-normal, 1.4);\n  margin-top: var(--dyn-field-gap);\n}\n\n.required {\n  display: inline-block;\n  color: var(--dyn-field-required-text);\n  font-weight: var(--dyn-font-weight-semibold, 600);\n  margin-left: var(--dyn-spacing-2xs, 2px);\n}\n\n.optional {\n  display: inline-block;\n  color: var(--dyn-field-optional-text);\n  font-style: italic;\n  font-size: 0.9em;\n  margin-left: var(--dyn-spacing-xs, 4px);\n}\n\n/* ============================================\n   ACCESSIBILITY\n   ============================================ */\n\n@media (prefers-reduced-motion: reduce) {\n\n  .label,\n  .containerError .label {\n    transition: none;\n  }\n}\n\n@media (prefers-contrast: high) {\n  .label {\n    font-weight: var(--dyn-font-weight-bold, 700);\n  }\n\n  .error {\n    font-weight: var(--dyn-font-weight-semibold, 600);\n  }\n}\n\n/* ============================================\n   DARK MODE\n   Handled automatically via semantic tokens!\n   ============================================ */", "metadata": {"type": "ui_component", "name": "DynFieldContainer", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynFieldContainer"}, "embedding": [-0.03175295144319534, 0.0679931566119194, -0.006563844159245491, 0.06169769912958145, 0.06123008206486702, 0.07926695793867111, -0.006317850202322006, 0.08760488778352737, 0.025200601667165756, -0.018573850393295288, -0.062234267592430115, -0.11226502060890198, -0.05911756306886673, 0.10626359283924103, 0.0060197943821549416, 0.07051762193441391, 0.009903750382363796, -0.0812118798494339, -0.029856080189347267, -0.022428421303629875, 0.010003486648201942, -0.04198547080159187, 0.0601348914206028, 0.008453459478914738, -0.009460722096264362, 0.07483045756816864, -0.01800723932683468, 0.030256399884819984, -0.012560546398162842, 0.033886104822158813, -0.04540441557765007, 0.026046138256788254, -0.003541641402989626, -0.007016761694103479, 0.026479851454496384, 0.051342640072107315, -0.012672843411564827, 0.1075601875782013, -0.037772126495838165, 0.00016981110093183815, 0.015565398149192333, 0.011268042027950287, -0.006477740593254566, -0.01055886410176754, 0.021427450701594353, -0.049110762774944305, -0.009474103339016438, -0.07033941894769669, -0.03326070308685303, -0.009021716192364693, 0.0010456647723913193, 0.048719193786382675, 0.07499702274799347, 0.010201194323599339, 0.005743164103478193, 0.06657592207193375, 0.08466649055480957, -0.04694024473428726, -0.06975989788770676, 0.06827597320079803, 0.02939402498304844, -0.04913555085659027, 0.011739031411707401, -0.08350775390863419, 0.009398051537573338, 0.07678274065256119, -0.004756847862154245, -0.01956837810575962, -0.026174919679760933, -0.012871083803474903, -0.0073051550425589085, 0.012824938632547855, 0.028542155399918556, -0.03982844203710556, -0.01017915178090334, -0.032926857471466064, -0.01177301723510027, 0.041073352098464966, 0.07011263817548752, -0.04158557578921318, 0.028571749106049538, 0.09330308437347412, -0.027905749157071114, -0.007392531260848045, -0.0002929039183072746, 0.07634580135345459, -0.006463383324444294, -0.003083647694438696, -0.06964952498674393, -0.0468415766954422, 0.057264018803834915, -0.12209529429674149, -0.022133205085992813, 0.12630389630794525, 0.014841717667877674, 0.03581295162439346, -0.0912833884358406, 0.023182440549135208, -0.0742005780339241, -0.028119603171944618, -0.014328083023428917, -0.12238714843988419, -0.019862530753016472, -0.012320064008235931, -0.002689159009605646, -0.08113593608140945, 0.027528066188097, -0.0228166151791811, -0.02300131320953369, 0.031146017834544182, -0.0025581801310181618, 0.037511710077524185, -0.08907755464315414, 0.09263639152050018, -0.05781428515911102, -0.0011775570455938578, 0.0555076077580452, -0.04313521087169647, 0.004510896280407906, -0.04405120387673378, -0.00044740489101968706, 0.005781150888651609, 0.04928117245435715, 0.027171418070793152, 0.05223807692527771, -0.0295134074985981, 0.034258075058460236, 6.51537506942026e-33, 0.015520647168159485, 0.102098748087883, 0.006941803731024265, 0.043772321194410324, 0.0012101614847779274, 0.001791290007531643, -0.027587221935391426, -0.022165080532431602, 0.004611570853739977, 0.02773282676935196, 0.038975056260824203, 0.014676175080239773, -0.05042339488863945, -0.12310764193534851, -0.033125754445791245, -0.14163832366466522, 0.01141740009188652, -0.028932083398103714, -0.010167556814849377, -0.03264696151018143, -0.02719891630113125, 0.019594013690948486, -0.057574816048145294, -0.026734819635748863, 0.05644277110695839, -0.040757808834314346, -0.08214201778173447, 0.037517987191677094, -0.056744854897260666, -0.03806893527507782, -0.026058558374643326, -0.11899298429489136, 0.10182993859052658, -0.01252902764827013, 0.002033585449680686, -0.04122180491685867, -0.02398030459880829, -0.023409387096762657, -0.053052354604005814, -0.010246844962239265, -0.012184195220470428, -0.01218211930245161, 0.01534195989370346, 0.009994345717132092, -0.0059636482037603855, -0.040567584335803986, 0.06531921774148941, 0.010534428991377354, 0.05158416926860809, -0.040091972798109055, -0.018120454624295235, -0.006567056756466627, 0.055984411388635635, -0.12936611473560333, 0.038257744163274765, 0.0419573150575161, -0.014222660101950169, 0.04025709256529808, 0.028685683384537697, -0.027898866683244705, -0.023987190797924995, -0.014103442430496216, -0.03837296739220619, -0.06000525504350662, -0.012178021483123302, 0.05313924327492714, -0.01115210447460413, -0.05053144693374634, 0.023300085216760635, -0.08868999034166336, -0.0348815843462944, -0.01072647888213396, -0.055234696716070175, 0.04515664279460907, 0.037484753876924515, -0.0029003210365772247, -0.03579360619187355, 0.026294909417629242, 0.04750509560108185, -0.0581219419836998, -0.05553467944264412, -0.05905497819185257, -0.009835381992161274, 0.13571907579898834, 0.06536714732646942, -0.0047152419574558735, -0.026552150025963783, 0.01959911175072193, -0.005860017612576485, 0.016653604805469513, 0.007127310615032911, -0.06364922970533371, -0.023271892219781876, -0.05135681852698326, 0.016948765143752098, -7.291043383909579e-33, 0.053131431341171265, -0.026547474786639214, -0.03697514533996582, -0.045537207275629044, 0.05019671097397804, 0.02007068693637848, 0.013222147710621357, 0.06754406541585922, 0.05496589094400406, 0.04489956796169281, 0.001093246741220355, -0.013597032986581326, 0.05346430093050003, -0.035721465945243835, -0.12869301438331604, 0.0845252126455307, -0.10487648844718933, 0.053594574332237244, 0.12600412964820862, -0.04238834232091904, 0.11212331801652908, 0.02778519317507744, -0.009106223471462727, 0.04724297672510147, -0.09061311185359955, 0.018186228349804878, 0.06939850002527237, 0.026185419410467148, 0.02518746256828308, -0.005589649546891451, 0.07313007116317749, -0.01714501343667507, 0.04766104742884636, 0.013942359946668148, 0.00293550081551075, -0.031150804832577705, 0.04430833458900452, 0.02656528539955616, -0.07730080932378769, 0.043940406292676926, -0.021750811487436295, 0.03779815137386322, -0.04304353892803192, 0.024394752457737923, -0.10768546164035797, -0.03714023157954216, -0.021350853145122528, -0.013317049480974674, -0.01385463960468769, 0.028296446427702904, -0.015161925926804543, -0.0794985219836235, -0.06620143353939056, 0.021284036338329315, -0.07913194596767426, 0.03564075380563736, -0.009742498397827148, 0.02012793719768524, 0.03911592811346054, 0.02687402069568634, 0.04156004264950752, -0.033567555248737335, -0.05504907667636871, -0.011115903034806252, 0.0609435960650444, -0.024322200566530228, -0.13507215678691864, 0.059762127697467804, 0.05401553958654404, 0.007497420534491539, 0.07280031591653824, 0.03691399097442627, -0.015176698565483093, -0.006629977375268936, 0.027852701023221016, -0.014090919867157936, 0.046830371022224426, -0.0024924110621213913, 0.12130173295736313, -0.00010646248119883239, 0.046089429408311844, 0.014736492186784744, -0.03206914663314819, 0.04434943571686745, -0.0056078555062413216, -0.045458655804395676, 0.04340890049934387, 0.084251768887043, -0.012671501375734806, -0.024848664179444313, 0.02538243494927883, -0.030678046867251396, -0.0346478633582592, 0.022264661267399788, -0.04021696373820305, -5.96549085685183e-08, 0.007383884396404028, -0.04142822325229645, 0.0009282722021453083, -0.13034501671791077, -0.019069630652666092, -0.08013185113668442, 0.048793163150548935, -0.09821221977472305, 0.04220467060804367, -0.039447806775569916, -0.03415125980973244, 0.05396846681833267, -0.10271453112363815, -0.09718380123376846, 0.03535838425159454, 0.020846068859100342, 0.003881650511175394, 0.034372612833976746, -0.00010252789070364088, 0.08527721464633942, 0.08822179585695267, -0.062269359827041626, -0.06844218820333481, 0.0248709823936224, 0.09741393476724625, -0.04794254153966904, 0.015333656221628189, 0.023263055831193924, 0.012466599233448505, 0.04741000756621361, 0.043946005403995514, -0.04021207243204117, 0.018422074615955353, 0.002524818992242217, -0.034359026700258255, 0.06192214787006378, 0.009548233821988106, -0.133701890707016, 0.05088089406490326, 0.09812184423208237, -0.0006660162471234798, -0.00644935667514801, -0.04095114395022392, 0.004732602741569281, 0.0310092531144619, 0.013361707329750061, -0.09006920456886292, -0.014342672191560268, 0.014423499815165997, -0.03384579345583916, -0.04691338911652565, -0.0440961979329586, -0.06813666224479675, 0.04509570822119713, -0.08506029099225998, 0.025070177391171455, -0.01026467327028513, 0.09076433628797531, -0.011346536688506603, -0.014537842944264412, 0.04421519115567207, 0.062039464712142944, 0.1426490992307663, -0.022200794890522957]}, {"id": "dyn_ui_component_DynFlex", "text": "# Component: DynFlex\n\n--- Types (DynFlex.types.ts) ---\nimport type { ElementType, ReactNode, ComponentPropsWithoutRef } from 'react';\nimport type { BaseComponentProps, AccessibilityProps } from '../../types';\n\nexport type DynFlexDirection = 'row' | 'column' | 'row-reverse' | 'column-reverse';\nexport type DynFlexJustify = 'start' | 'center' | 'end' | 'between' | 'around' | 'evenly';\nexport type DynFlexAlign = 'start' | 'center' | 'end' | 'stretch' | 'baseline';\nexport type DynFlexWrap = 'nowrap' | 'wrap' | 'wrap-reverse';\nexport type DynFlexGap = 'none' | '2xs' | 'xs' | 'sm' | 'md' | 'lg' | 'xl' | '2xl' | '3xl' | '4xl';\n\nexport interface DynFlexOwnProps extends BaseComponentProps, AccessibilityProps {\n    /** Flex direction */\n    direction?: DynFlexDirection;\n\n    /** Justify content */\n    justify?: DynFlexJustify;\n\n    /** Align items */\n    align?: DynFlexAlign;\n\n    /** Flex wrap */\n    wrap?: DynFlexWrap;\n\n    /** Gap between items */\n    gap?: DynFlexGap;\n\n    /** Display as inline-flex */\n    inline?: boolean;\n\n    /** Padding around the container */\n    padding?: DynFlexGap;\n\n    /** Children to render */\n    children?: ReactNode;\n}\n\ntype PolymorphicComponentProps<E extends ElementType, P> = P &\n    Omit<ComponentPropsWithoutRef<E>, keyof P>;\n\nexport type DynFlexProps<E extends ElementType = 'div'> = PolymorphicComponentProps<\n    E,\n    DynFlexOwnProps\n> & {\n    as?: E;\n};\n\nexport type DynFlexRef<E extends ElementType = 'div'> = React.ComponentRef<E>;\n\nexport const DYN_FLEX_DEFAULT_PROPS = {\n    direction: 'row',\n    justify: 'start',\n    align: 'stretch',\n    wrap: 'nowrap',\n    gap: 'md',\n    inline: false,\n} as const;\n\n\n--- Component (DynFlex.tsx) ---\nimport React, { forwardRef } from 'react';\nimport { cn } from '../../utils/classNames';\nimport type { DynFlexProps, DynFlexRef } from './DynFlex.types';\nimport { DYN_FLEX_DEFAULT_PROPS } from './DynFlex.types';\nimport styles from './DynFlex.module.css';\n\nconst toPascalCase = (s: string) => s ? s.replace(/(^\\w|-\\w)/g, (c) => c.replace('-', '').toUpperCase()) : '';\n\n// Valid token keys from flex.json (approximate list for gap/padding)\nconst TOKEN_KEYS = ['none', '2xs', 'xs', 'sm', 'md', 'lg', 'xl', '2xl', '3xl', '4xl'];\nconst isToken = (v?: string | number) => v !== undefined && TOKEN_KEYS.includes(String(v));\n\n// Layout enums\nconst DIRECTIONS = ['row', 'column', 'row-reverse', 'column-reverse'];\nconst WRAPS = ['nowrap', 'wrap', 'wrap-reverse'];\nconst ALIGNS = ['start', 'center', 'end', 'stretch', 'baseline'];\nconst JUSTIFIES = ['start', 'center', 'end', 'between', 'around', 'evenly'];\n\nfunction DynFlexInner<E extends React.ElementType = 'div'>(\n    {\n        as,\n        direction = DYN_FLEX_DEFAULT_PROPS.direction,\n        justify = DYN_FLEX_DEFAULT_PROPS.justify,\n        align = DYN_FLEX_DEFAULT_PROPS.align,\n        wrap = DYN_FLEX_DEFAULT_PROPS.wrap,\n        gap = DYN_FLEX_DEFAULT_PROPS.gap,\n        inline = DYN_FLEX_DEFAULT_PROPS.inline,\n        padding,\n        className,\n        style,\n        children,\n        ...rest\n    }: DynFlexProps<E>,\n    ref: React.Ref<any>\n) {\n    const Component = as || 'div';\n\n    const classes = cn(\n        styles.flex,\n        inline && styles.flexInline,\n\n        // Direction\n        direction && DIRECTIONS.includes(direction) && styles[`flex${toPascalCase(direction)}` as keyof typeof styles],\n\n        // Wrap\n        wrap && WRAPS.includes(wrap) && styles[`flex${toPascalCase(wrap)}` as keyof typeof styles],\n\n        // Alignment\n        align && ALIGNS.includes(align) && styles[`align${toPascalCase(align)}` as keyof typeof styles],\n        justify && JUSTIFIES.includes(justify) && styles[`justify${toPascalCase(justify)}` as keyof typeof styles],\n\n        // Gap & Padding (Tokens)\n        gap && isToken(gap) && styles[`gap${toPascalCase(String(gap))}` as keyof typeof styles],\n        padding && isToken(padding) && styles[`padding${toPascalCase(String(padding))}` as keyof typeof styles],\n\n        className\n    );\n\n    // Dynamic Overrides\n    const styleVars: React.CSSProperties = {\n        ...(direction && !DIRECTIONS.includes(direction) ? { '--dyn-flex-flex-direction': direction } : {}),\n        ...(wrap && !WRAPS.includes(wrap) ? { '--dyn-flex-flex-wrap': wrap } : {}),\n        ...(align && !ALIGNS.includes(align) ? { '--dyn-flex-align-items': align } : {}),\n        ...(justify && !JUSTIFIES.includes(justify) ? { '--dyn-flex-justify-content': justify } : {}),\n        ...(gap && !isToken(gap) ? { '--dyn-flex-gap': typeof gap === 'number' || /^\\d+$/.test(String(gap)) ? `${gap}px` : gap } : {}),\n        ...(padding && !isToken(padding) ? { '--dyn-flex-padding': typeof padding === 'number' || /^\\d+$/.test(String(padding)) ? `${padding}px` : padding } : {}),\n        ...style,\n    } as React.CSSProperties;\n\n    return (\n        <Component ref={ref} className={classes} style={styleVars} {...rest}>\n            {children}\n        </Component>\n    );\n}\n\nconst _DynFlex = forwardRef(DynFlexInner) as React.NamedExoticComponent<any>;\nexport const DynFlex = _DynFlex as <E extends React.ElementType = 'div'>(\n    props: DynFlexProps<E> & { ref?: DynFlexRef<E> }\n) => React.ReactElement | null;\n\n(_DynFlex as any).displayName = 'DynFlex';\n\nexport default DynFlex;\n\n\n--- Usage Examples (DynFlex.stories.tsx) ---\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { DynFlex } from './DynFlex';\nimport { DynButton } from '../DynButton';\n\nconst meta: Meta<typeof DynFlex> = {\n    title: 'Components/Layout/DynFlex',\n    component: DynFlex,\n    tags: ['autodocs'],\n    argTypes: {\n        direction: {\n            control: 'radio',\n            options: ['row', 'column'],\n        },\n        justify: {\n            control: 'select',\n            options: ['start', 'center', 'end', 'between', 'around', 'evenly'],\n        },\n        align: {\n            control: 'select',\n            options: ['start', 'center', 'end', 'baseline', 'stretch'],\n        },\n        wrap: {\n            control: 'radio',\n            options: ['nowrap', 'wrap'],\n        },\n        gap: {\n            control: 'select',\n            options: ['xs', 'sm', 'md', 'lg', 'xl', '2xl'],\n        },\n        inline: {\n            control: 'boolean',\n        },\n        as: {\n            control: 'text',\n            description: 'Polymorphic component tag (e.g. section, main)',\n        },\n    },\n};\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\nconst Box = ({ color = '#e0e0e0', width = 50, height = 50, text = '' }) => (\n    <div\n        style={{\n            backgroundColor: color,\n            width: width,\n            height: height,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            border: '1px solid #ccc',\n            borderRadius: '4px',\n            color: '#000000',\n        }}\n    >\n        {text}\n    </div>\n);\n\nexport const Default: Story = {\n    args: {\n        gap: 'md',\n        children: (\n            <>\n                <Box text=\"1\" />\n                <Box text=\"2\" />\n                <Box text=\"3\" />\n            </>\n        ),\n    },\n};\n\nexport const Column: Story = {\n    args: {\n        direction: 'column',\n        gap: 'md',\n        children: (\n            <>\n                <Box text=\"1\" />\n                <Box text=\"2\" />\n                <Box text=\"3\" />\n            </>\n        ),\n    },\n};\n\nexport const Centered: Story = {\n    args: {\n        justify: 'center',\n        align: 'center',\n        gap: 'lg',\n        style: { height: '200px', border: '1px dashed #999' },\n        children: (\n            <>\n                <Box text=\"A\" color=\"#ffcccc\" />\n                <Box text=\"B\" color=\"#ccffcc\" />\n                <Box text=\"C\" color=\"#ccccff\" />\n            </>\n        ),\n    },\n};\n\nexport const WithButtons: Story = {\n    args: {\n        justify: 'between',\n        align: 'center',\n        gap: 'md',\n        style: { width: '100%', padding: '10px', border: '1px solid #eee' },\n        children: (\n            <>\n                <strong>Toolbar</strong>\n                <DynFlex gap=\"sm\">\n                    <DynButton label=\"Cancel\" kind=\"secondary\" />\n                    <DynButton label=\"Save\" kind=\"primary\" />\n                </DynFlex>\n            </>\n        ),\n    },\n};\n\n\n--- Styles (DynFlex.module.css) ---\n/**\n * DynFlex Component Styles - Unified Component Token Strategy\n * Supports both component tokens and dynamic overrides\n */\n\n.flex {\n   /* Base Layout Variables with Defaults */\n   --dyn-flex-display: flex;\n   --dyn-flex-flex-direction: row;\n   --dyn-flex-flex-wrap: nowrap;\n\n   --dyn-flex-display-val: var(--dyn-flex-display);\n   --dyn-flex-direction-val: var(--dyn-flex-flex-direction);\n   --dyn-flex-wrap-val: var(--dyn-flex-flex-wrap);\n\n   /* Alignment Variables */\n   --dyn-flex-justify-content: flex-start;\n   --dyn-flex-align-items: stretch;\n\n   --dyn-flex-justify-val: var(--dyn-flex-justify-content);\n   --dyn-flex-align-val: var(--dyn-flex-align-items);\n\n   /* Spacing Variables - default gap: sm (8px) per STYLE_REGISTRY */\n   --dyn-flex-gap: var(--dyn-spacing-sm, 0.5rem);\n   --dyn-flex-padding: 0;\n\n   --dyn-flex-gap-val: var(--dyn-flex-gap);\n   --dyn-flex-padding-val: var(--dyn-flex-padding);\n\n   display: var(--dyn-flex-display-val);\n   flex-direction: var(--dyn-flex-direction-val);\n   flex-wrap: var(--dyn-flex-wrap-val);\n\n   justify-content: var(--dyn-flex-justify-val);\n   align-items: var(--dyn-flex-align-val);\n\n   gap: var(--dyn-flex-gap-val);\n   padding: var(--dyn-flex-padding-val);\n\n   width: 100%;\n   box-sizing: border-box;\n}\n\n/* ============================================\n   DISPLAY VARIANTS\n   ============================================ */\n.flexInline {\n   --dyn-flex-display: inline-flex;\n}\n\n/* ============================================\n   DIRECTION VARIANTS\n   ============================================ */\n.flexRow {\n   --dyn-flex-flex-direction: row;\n}\n\n.flexColumn {\n   --dyn-flex-flex-direction: column;\n}\n\n.flexRowReverse {\n   --dyn-flex-flex-direction: row-reverse;\n}\n\n.flexColumnReverse {\n   --dyn-flex-flex-direction: column-reverse;\n}\n\n/* ============================================\n   WRAP VARIANTS\n   ============================================ */\n.flexWrap {\n   --dyn-flex-flex-wrap: wrap;\n}\n\n.flexNowrap {\n   --dyn-flex-flex-wrap: nowrap;\n}\n\n.flexWrapReverse {\n   --dyn-flex-flex-wrap: wrap-reverse;\n}\n\n/* ============================================\n   GAP VARIANTS (Component Tokens)\n   ============================================ */\n.gapNone {\n   --dyn-flex-gap: 0;\n}\n\n.gap2xs {\n   --dyn-flex-gap: var(--dyn-spacing-2xs, 0.25rem);\n}\n\n.gapXs {\n   --dyn-flex-gap: var(--dyn-spacing-xs, 0.5rem);\n}\n\n.gapSm {\n   --dyn-flex-gap: var(--dyn-spacing-sm, 0.75rem);\n}\n\n.gapMd {\n   --dyn-flex-gap: var(--dyn-spacing-md, 1rem);\n}\n\n.gapLg {\n   --dyn-flex-gap: var(--dyn-spacing-lg, 1.5rem);\n}\n\n.gapXl {\n   --dyn-flex-gap: var(--dyn-spacing-xl, 2rem);\n}\n\n.gap2xl {\n   --dyn-flex-gap: var(--dyn-spacing-2xl, 3rem);\n}\n\n.gap3xl {\n   --dyn-flex-gap: var(--dyn-spacing-3xl, 4rem);\n}\n\n.gap4xl {\n   --dyn-flex-gap: var(--dyn-spacing-4xl, 6rem);\n}\n\n/* ============================================\n   PADDING VARIANTS (Component Tokens)\n   ============================================ */\n.paddingNone {\n   --dyn-flex-padding: 0;\n}\n\n.padding2xs {\n   --dyn-flex-padding: var(--dyn-spacing-2xs, 0.25rem);\n}\n\n.paddingXs {\n   --dyn-flex-padding: var(--dyn-spacing-xs, 0.5rem);\n}\n\n.paddingSm {\n   --dyn-flex-padding: var(--dyn-spacing-sm, 0.75rem);\n}\n\n.paddingMd {\n   --dyn-flex-padding: var(--dyn-spacing-md, 1rem);\n}\n\n.paddingLg {\n   --dyn-flex-padding: var(--dyn-spacing-lg, 1.5rem);\n}\n\n.paddingXl {\n   --dyn-flex-padding: var(--dyn-spacing-xl, 2rem);\n}\n\n.padding2xl {\n   --dyn-flex-padding: var(--dyn-spacing-2xl, 3rem);\n}\n\n.padding3xl {\n   --dyn-flex-padding: var(--dyn-spacing-3xl, 4rem);\n}\n\n.padding4xl {\n   --dyn-flex-padding: var(--dyn-spacing-4xl, 6rem);\n}\n\n/* ============================================\n   ALIGNMENT UTILITIES\n   ============================================ */\n.alignStart {\n   --dyn-flex-align-items: flex-start;\n}\n\n.alignCenter {\n   --dyn-flex-align-items: center;\n}\n\n.alignEnd {\n   --dyn-flex-align-items: flex-end;\n}\n\n.alignStretch {\n   --dyn-flex-align-items: stretch;\n}\n\n.alignBaseline {\n   --dyn-flex-align-items: baseline;\n}\n\n/* ============================================\n   JUSTIFY UTILITIES\n   ============================================ */\n.justifyStart {\n   --dyn-flex-justify-content: flex-start;\n}\n\n.justifyCenter {\n   --dyn-flex-justify-content: center;\n}\n\n.justifyEnd {\n   --dyn-flex-justify-content: flex-end;\n}\n\n.justifyBetween {\n   --dyn-flex-justify-content: space-between;\n}\n\n.justifyAround {\n   --dyn-flex-justify-content: space-around;\n}\n\n.justifyEvenly {\n   --dyn-flex-justify-content: space-evenly;\n}\n\n/* ============================================\n   RESPONSIVE\n   ============================================ */\n@media (max-width: 768px) {\n   .flex {\n      min-width: 0;\n   }\n}\n\n/* ============================================\n   ACCESSIBILITY\n   ============================================ */\n.flex> :focus-visible {\n   outline: 2px solid var(--dyn-semantic-border-focus);\n   outline-offset: 2px;\n}\n\n@media (prefers-reduced-motion: reduce) {\n   .flex>* {\n      animation: none !important;\n      transition: none !important;\n   }\n}\n\n@media (prefers-contrast: high) {\n   .flex> :focus-visible {\n      outline-width: var(--dyn-border-width-lg, 3px);\n   }\n}", "metadata": {"type": "ui_component", "name": "DynFlex", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynFlex"}, "embedding": [-0.060197990387678146, -0.04482842981815338, 0.008198949508368969, -0.0002464769931975752, -0.07894662767648697, 0.05880029872059822, -0.06172144412994385, 0.0870005190372467, -0.046361226588487625, 0.08350364863872528, -0.05781758204102516, 0.003481602994725108, -0.05818944424390793, 0.02456539496779442, -0.021853141486644745, 0.060397855937480927, -0.04777953401207924, -0.016803836449980736, -0.003658066503703594, 0.09793764352798462, 0.017765069380402565, -0.08109921216964722, 0.06879135221242905, -0.015723297372460365, 0.026026882231235504, 0.10940328240394592, 0.05451328307390213, 0.06722301244735718, 0.06572145968675613, -0.03446830436587334, -0.07065064460039139, 0.06430470943450928, -0.11162718385457993, -0.007082961034029722, -0.09734434634447098, 0.04879847168922424, -0.051203444600105286, 0.08217021822929382, 0.03873404860496521, -0.016177615150809288, 0.09888742864131927, 0.05179598182439804, 0.026241138577461243, -0.029964501038193703, 0.07074670493602753, -0.03574897348880768, -0.06347362697124481, -0.0088887894526124, -0.017389552667737007, -0.00930711254477501, 0.021725207567214966, 0.05422386899590492, 0.03869042545557022, 0.03900879621505737, -0.020168082788586617, 0.009136850014328957, 0.05186344310641289, 0.04478084668517113, 0.06544522196054459, 0.03135684132575989, 0.06755741685628891, -0.05795763060450554, 0.03522980213165283, -0.07326127588748932, 0.014269515872001648, 0.08170615881681442, -0.052514154464006424, 0.01735447719693184, 0.0102069778367877, -0.009047375060617924, -0.0879332572221756, 0.004908893257379532, 0.04571785032749176, -0.02378450520336628, 0.02401505969464779, -0.11359648406505585, 0.04664129763841629, 0.05409601330757141, 0.054420553147792816, 0.05940390005707741, 0.011281919665634632, 0.006800096947699785, -0.03056999295949936, 0.09405384212732315, -0.05533084645867348, 0.06632696092128754, 0.011773447506129742, -0.042631182819604874, -0.004401038866490126, -0.007599410600960255, -0.017934953793883324, -0.0717693492770195, -0.033954158425331116, 0.07016165554523468, -0.04851796478033066, -0.00026235755649395287, -0.03299880772829056, 0.08266319334506989, -0.06212686002254486, -0.04142197221517563, 0.016665933653712273, 0.004999091383069754, -0.000642577011603862, 0.00700471643358469, -0.050771571695804596, -0.04712127521634102, -0.04601006209850311, -0.1079801544547081, -0.06081830710172653, -0.007204712834209204, -0.03448465093970299, 0.051460474729537964, -0.06279555708169937, 0.012994086369872093, -0.06549495458602905, -0.041434094309806824, 0.007179280277341604, -0.06209375336766243, 0.07389409840106964, -0.06253233551979065, 0.0868661105632782, 0.01737234741449356, 0.016684815287590027, 0.0037451833486557007, 0.06693543493747711, 0.11088524758815765, 0.05178164690732956, 6.012047490181358e-33, -0.08456091582775116, 0.040348250418901443, 0.02124454639852047, 0.012478535994887352, 0.02240569144487381, -0.0281072948127985, -0.03941018879413605, 0.014409579336643219, -0.03191092237830162, -0.008260352537035942, 0.02246471308171749, 0.0518503412604332, -0.10399211943149567, -0.024779995903372765, -0.06343801319599152, -0.029737643897533417, 0.016845667734742165, -0.048110198229551315, -0.09496964514255524, -0.052175991237163544, 0.0019769177306443453, 0.05369363725185394, -0.048477113246917725, -0.016606610268354416, 0.018096011132001877, -0.06315895915031433, -0.025876743718981743, 0.06321141123771667, -0.04218898341059685, -0.060134101659059525, 0.035787276923656464, -0.03805704787373543, 0.03264821320772171, 0.0196355190128088, -0.029230309650301933, -0.020154697820544243, -0.06317472457885742, 0.005114108324050903, -0.005439558066427708, 0.007877469062805176, -0.07320602983236313, 0.06818985939025879, -0.008079391904175282, -0.016104092821478844, 0.037864867597818375, 0.007252557203173637, 0.11584315448999405, 0.009330551140010357, 0.07471310347318649, -0.07394327223300934, 0.02027478814125061, 0.049125004559755325, 0.03424042835831642, -0.12911781668663025, 0.01863694004714489, -0.02094672992825508, 0.03569255396723747, 0.05692523345351219, 0.06645527482032776, 0.040696680545806885, -0.07143053412437439, -0.035041484981775284, 0.03447869420051575, -0.010132750496268272, -0.0270557701587677, 0.022360704839229584, -0.011118730530142784, -0.06285551190376282, 0.010479387827217579, -0.04657435044646263, 0.010232921689748764, -0.02298804745078087, -0.02871030382812023, 0.0038206297904253006, 0.021272480487823486, 0.015489507466554642, 0.007577707525342703, 0.016847582533955574, 0.10177256166934967, -0.10905039310455322, 0.007693692110478878, -0.03811035305261612, -0.01764822192490101, 0.047630827873945236, 0.023125872015953064, -0.058212220668792725, -0.038585588335990906, -0.04827667400240898, 0.06239496171474457, 0.004007783718407154, -0.047104962170124054, -0.07510276138782501, 0.032459698617458344, -0.041696734726428986, 0.020351767539978027, -7.777749473027854e-33, 0.013814659789204597, -0.0021342094987630844, -0.08889994025230408, 0.03554666414856911, 0.02159179002046585, 0.0004974830662831664, -0.04318111389875412, 0.09286952018737793, 0.03109729290008545, 0.04998099431395531, 0.032286807894706726, 0.05876995995640755, 0.01475758757442236, -0.018513593822717667, -0.09651819616556168, 0.0966743752360344, 0.0522003173828125, 0.05523958429694176, 0.028944244608283043, -0.10710220783948898, 0.0932520404458046, 0.03156577795743942, 0.0008725895313546062, 0.09827474504709244, 0.015184311196208, -0.001777862897142768, 0.09219074249267578, 0.034911151975393295, 0.02076086215674877, -0.037171367555856705, -0.0362003929913044, -0.07432414591312408, 0.060356318950653076, 0.05378958582878113, -0.006281901150941849, -0.034016598016023636, -0.05601973459124565, 0.050778597593307495, 0.016923587769269943, -0.032589368522167206, -0.03360100835561752, -0.02673421986401081, 0.015142922289669514, -0.03407411277294159, -0.023248568177223206, -0.013790061697363853, -0.07248961180448532, 0.008050252683460712, -0.08469893038272858, 0.03529630973935127, 0.028817975893616676, 0.03555984050035477, -0.03151668608188629, -0.022674206644296646, -0.02644004300236702, -0.005342778284102678, 0.0009945165365934372, -0.05505380779504776, 0.019852807745337486, 0.0427863635122776, 0.01448814943432808, -0.06035482883453369, 0.01351833250373602, -0.04697050526738167, 0.03072667121887207, -0.025243401527404785, -0.14290659129619598, -0.07198023796081543, -0.04232015460729599, 0.02843129262328148, -0.009178481064736843, 0.05111102759838104, 0.0027291469741612673, -0.04734744504094124, 0.05608959123492241, -0.029744889587163925, 0.02986838109791279, 0.028507214039564133, 0.08716566860675812, 0.012810951098799706, -0.050157830119132996, -0.043336737900972366, 0.08922435343265533, 0.009977485984563828, -0.07124285399913788, -0.009201587177813053, -0.03152838721871376, 0.1023041382431984, 0.042948417365550995, 0.09787124395370483, 0.009142882190644741, -0.07834035903215408, -0.03489336743950844, -0.0238760095089674, 0.02276512421667576, -6.135459074130267e-08, -0.03249949589371681, -0.06746099889278412, 0.0059371693059802055, -0.016081059351563454, -0.07241062074899673, -0.09409910440444946, 0.003647848265245557, -0.04411888122558594, -0.00856392178684473, -0.0015583724016323686, 0.008674584329128265, 0.12407614290714264, -0.03584212437272072, -0.00941262487322092, 0.013005991466343403, 0.026536092162132263, -0.04853982478380203, 0.020259914919734, -0.05191977694630623, 0.029602956026792526, -0.014627588912844658, -0.04838293418288231, -0.05240669474005699, 0.006071408279240131, 0.079562246799469, -0.0626693144440651, -0.061181969940662384, 0.0022224353160709143, 0.04924631118774414, -0.006770497187972069, -0.00887763686478138, -0.043602414429187775, 0.07708808779716492, -0.057148925960063934, -0.0943998172879219, 0.001378124812617898, 0.09686470031738281, -0.06360063701868057, 0.0711340457201004, 0.06792481988668442, -0.008417523466050625, -0.04326585680246353, -0.00898147001862526, 0.03433109074831009, -0.04076015576720238, -0.009109647944569588, -0.015529475174844265, 0.06045517325401306, 0.02740911953151226, -0.048578158020973206, 0.07580943405628204, -0.09137563407421112, -0.06332281976938248, -0.07347524911165237, -0.006131848786026239, 0.051533397287130356, -0.06905955821275711, 0.06066977605223656, 0.05727172642946243, 0.010477094911038876, -0.06049155816435814, 0.0463050901889801, 0.05969961732625961, -0.02237953245639801]}, {"id": "dyn_ui_component_DynGauge", "text": "# Component: DynGauge\n\n--- Types (DynGauge.types.ts) ---\nimport { BaseComponentProps } from '../../types';\n\nexport interface GaugeRange {\n  from: number;\n  to: number;\n  color: string;\n  label?: string;\n}\n\nexport type GaugeSize = 'sm' | 'md' | 'lg';\nexport type GaugeType = 'arc' | 'circle' | 'line';\n\nexport interface DynGaugeProps extends BaseComponentProps {\n  /** Current value to display */\n  value: number;\n\n  /** Minimum value */\n  min?: number;\n\n  /** Maximum value */\n  max?: number;\n\n  /** Gauge title */\n  title?: string;\n\n  /** Gauge label (alias for title) */\n  label?: string;\n\n  /** Gauge subtitle */\n  subtitle?: string;\n\n  /** Gauge type/style */\n  type?: GaugeType;\n\n  /** Unit of measurement */\n  unit?: string;\n\n  /** Color ranges */\n  ranges?: GaugeRange[];\n\n  /** Show the numeric value */\n  showValue?: boolean;\n\n  /** Show range indicators */\n  showRanges?: boolean;\n\n  /** Gauge size */\n  size?: GaugeSize;\n\n  /** Arc thickness */\n  thickness?: number;\n\n  /** Rounded line caps */\n  rounded?: boolean;\n\n  /** Animated transitions */\n  animated?: boolean;\n\n  /** Custom color (overrides range colors) */\n  color?: string;\n\n  /** Background arc color */\n  backgroundColor?: string;\n\n  /** Custom value formatter */\n  format?: (value: number) => string;\n}\n\nexport type DynGaugeDefaultProps = Required<\n  Pick<\n    DynGaugeProps,\n    | 'min'\n    | 'max'\n    | 'type'\n    | 'unit'\n    | 'ranges'\n    | 'showValue'\n    | 'showRanges'\n    | 'size'\n    | 'thickness'\n    | 'rounded'\n    | 'animated'\n    | 'backgroundColor'\n  >\n>;\n\nexport const DYN_GAUGE_DEFAULT_PROPS: DynGaugeDefaultProps = {\n  min: 0,\n  max: 100,\n  type: 'arc',\n  unit: '%',\n  ranges: [],\n  showValue: true,\n  showRanges: true,\n  size: 'md',\n  thickness: 20,\n  rounded: true,\n  animated: true,\n  backgroundColor: '',\n};\n\n--- Component (DynGauge.tsx) ---\nimport {\n  forwardRef,\n  useCallback,\n  useEffect,\n  useId,\n  useMemo,\n  useRef,\n} from 'react';\n\nimport { cn } from '../../utils/classNames';\nimport {\n  DYN_GAUGE_DEFAULT_PROPS,\n  DynGaugeProps,\n  GaugeRange,\n  GaugeSize,\n  GaugeType,\n} from './DynGauge.types';\nimport styles from './DynGauge.module.css';\n\nconst gaugeDimensionsMap: Record<GaugeSize, { width: number; height: number }> = {\n  sm: { width: 120, height: 120 },\n  md: { width: 200, height: 200 },\n  lg: { width: 280, height: 280 },\n};\n\nconst sizeClassNameMap: Partial<Record<GaugeSize, string | undefined>> = {\n  sm: styles['sizeSm'],\n  md: styles['sizeMd'],\n  lg: styles['sizeLg'],\n};\n\nconst typeClassNameMap: Partial<Record<GaugeType, string | undefined>> = {\n  arc: styles.typeArc,\n  circle: styles.typeCircle,\n  line: styles.typeLine,\n};\n\nconst clampGaugeValue = (value: number, min: number, max: number): number => {\n  if (!Number.isFinite(value)) {\n    return min;\n  }\n\n  if (max <= min) {\n    return min;\n  }\n\n  return Math.min(max, Math.max(min, value));\n};\n\nconst findRangeForValue = (ranges: GaugeRange[], value: number) =>\n  ranges.find(range => value >= range.from && value <= range.to);\n\nexport const DynGauge = forwardRef<HTMLDivElement, DynGaugeProps>((props, ref) => {\n  const {\n    value,\n    min = DYN_GAUGE_DEFAULT_PROPS.min,\n    max = DYN_GAUGE_DEFAULT_PROPS.max,\n    title,\n    label,\n    subtitle,\n    type = DYN_GAUGE_DEFAULT_PROPS.type,\n    unit = DYN_GAUGE_DEFAULT_PROPS.unit,\n    ranges = DYN_GAUGE_DEFAULT_PROPS.ranges,\n    showValue = DYN_GAUGE_DEFAULT_PROPS.showValue,\n    showRanges = DYN_GAUGE_DEFAULT_PROPS.showRanges,\n    size = DYN_GAUGE_DEFAULT_PROPS.size,\n    thickness = DYN_GAUGE_DEFAULT_PROPS.thickness,\n    rounded = DYN_GAUGE_DEFAULT_PROPS.rounded,\n    animated = DYN_GAUGE_DEFAULT_PROPS.animated,\n    color,\n    backgroundColor = DYN_GAUGE_DEFAULT_PROPS.backgroundColor,\n    className,\n    format,\n    id,\n    'data-testid': dataTestId,\n    ...rest\n  } = props;\n\n  const instanceId = useId();\n  const componentId = id ?? instanceId;\n  const titleId = title || label ? `${componentId}-title` : undefined;\n  const subtitleId = subtitle ? `${componentId}-subtitle` : undefined;\n\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const animationFrameRef = useRef<number | undefined>(undefined);\n  const currentValueRef = useRef<number>(clampGaugeValue(value, min, max));\n\n  const gaugeDimensions = gaugeDimensionsMap[size] ?? gaugeDimensionsMap.md;\n  const resolvedTitle = title ?? label;\n  const safeValue = clampGaugeValue(value, min, max);\n\n  const numberFormatter = useMemo(\n    () =>\n      new Intl.NumberFormat(undefined, {\n        maximumFractionDigits: 1,\n      }),\n    []\n  );\n\n  const formatValue = useCallback(\n    (val: number): string => {\n      if (typeof format === 'function') {\n        return format(val);\n      }\n\n      const formattedNumber = numberFormatter.format(val);\n\n      if (!unit) {\n        return formattedNumber;\n      }\n\n      const trimmedUnit = unit.trim();\n      const shouldJoin = trimmedUnit.startsWith('%') || trimmedUnit.startsWith('\u00b0');\n\n      return shouldJoin\n        ? `${formattedNumber}${trimmedUnit}`\n        : `${formattedNumber} ${trimmedUnit}`;\n    },\n    [format, numberFormatter, unit]\n  );\n\n  const getColorForValue = useCallback(\n    (val: number) => {\n      if (typeof color === 'string' && color.length > 0) {\n        return color;\n      }\n\n      return findRangeForValue(ranges, val)?.color ?? '#0066cc';\n    },\n    [color, ranges]\n  );\n\n  // Read theme colors from CSS variables\n  const getThemeColors = useCallback(() => {\n    const defaultColors = {\n      track: '#e0e0e0',\n      ticks: '#666',\n      text: '#666',\n      needle: '#0f172a',\n      needleCenter: '#ffffff',\n      fontSizeSm: '10px',\n      fontSizeMd: '12px',\n      fontSizeLg: '14px',\n      duration: 800,\n    };\n\n    if (typeof window === 'undefined' || !canvasRef.current) return defaultColors;\n\n    const style = getComputedStyle(canvasRef.current);\n    return {\n      track: style.getPropertyValue('--dyn-gauge-track') || defaultColors.track,\n      ticks: style.getPropertyValue('--dyn-gauge-ticks') || defaultColors.ticks,\n      text: style.getPropertyValue('--dyn-gauge-text-secondary') || defaultColors.text,\n      needle: style.getPropertyValue('--dyn-gauge-needle-color') || defaultColors.needle,\n      needleCenter: style.getPropertyValue('--dyn-gauge-needle-center') || defaultColors.needleCenter,\n      fontSizeSm: style.getPropertyValue('--dyn-gauge-font-size-sm') || defaultColors.fontSizeSm,\n      fontSizeMd: style.getPropertyValue('--dyn-gauge-font-size-md') || defaultColors.fontSizeMd,\n      fontSizeLg: style.getPropertyValue('--dyn-gauge-font-size-lg') || defaultColors.fontSizeLg,\n      duration: parseFloat(style.getPropertyValue('--dyn-gauge-animation-duration')) || defaultColors.duration,\n    };\n  }, []);\n\n  const drawGauge = useCallback(\n    (displayValue: number) => {\n      const canvas = canvasRef.current;\n      if (!canvas) {\n        return;\n      }\n\n      const context = canvas.getContext('2d');\n      if (!context) {\n        return;\n      }\n\n      const { width, height } = gaugeDimensions;\n      const centerX = width / 2;\n      const centerY = height / 2;\n      const radius = Math.min(width, height) / 2 - thickness / 2 - 10;\n      const startAngle = -Math.PI * 0.75;\n      const sweepAngle = Math.PI * 1.5;\n      const span = Math.max(max - min, Number.EPSILON);\n      const normalizedValue = (clampGaugeValue(displayValue, min, max) - min) / span;\n      const currentColor = getColorForValue(displayValue) || '#0066cc';\n\n      const colors = getThemeColors();\n      const resolvedBackgroundColor = backgroundColor || colors.track || '#e0e0e0';\n\n      canvas.width = width;\n      canvas.height = height;\n\n      context.clearRect(0, 0, width, height);\n\n      context.beginPath();\n      context.arc(centerX, centerY, radius, startAngle, startAngle + sweepAngle);\n      context.strokeStyle = resolvedBackgroundColor;\n      context.lineWidth = thickness;\n      context.lineCap = rounded ? 'round' : 'butt';\n      context.stroke();\n\n      if (showRanges && ranges.length > 0) {\n        for (const range of ranges) {\n          const rangeStart = startAngle + ((range.from - min) / span) * sweepAngle;\n          const rangeEnd = startAngle + ((range.to - min) / span) * sweepAngle;\n\n          context.beginPath();\n          context.arc(centerX, centerY, radius, rangeStart, rangeEnd);\n          context.strokeStyle = range.color;\n          context.lineWidth = thickness * 0.3;\n          context.lineCap = rounded ? 'round' : 'butt';\n          context.stroke();\n        }\n      }\n\n      if (normalizedValue > 0) {\n        const endAngle = startAngle + normalizedValue * sweepAngle;\n\n        context.beginPath();\n        context.arc(centerX, centerY, radius, startAngle, endAngle);\n        context.strokeStyle = currentColor || '#0066cc';\n        context.lineWidth = thickness;\n        context.lineCap = rounded ? 'round' : 'butt';\n        context.stroke();\n      }\n\n      const tickCount = 11;\n      for (let index = 0; index < tickCount; index += 1) {\n        const angle = startAngle + (index / (tickCount - 1)) * sweepAngle;\n        const isMajorTick = index % 2 === 0;\n        const tickLength = isMajorTick ? 15 : 8;\n        const tickWidth = isMajorTick ? 2 : 1;\n\n        const outerRadius = radius + thickness / 2 + 5;\n        const innerRadius = outerRadius + tickLength;\n\n        const startX = centerX + Math.cos(angle) * outerRadius;\n        const startY = centerY + Math.sin(angle) * outerRadius;\n        const endX = centerX + Math.cos(angle) * innerRadius;\n        const endY = centerY + Math.sin(angle) * innerRadius;\n\n        context.beginPath();\n        context.moveTo(startX, startY);\n        context.lineTo(endX, endY);\n        context.strokeStyle = colors.ticks || '#666';\n        context.lineWidth = tickWidth;\n        context.lineCap = 'round';\n        context.stroke();\n\n        if (isMajorTick) {\n          const labelRadius = innerRadius + 15;\n          const labelX = centerX + Math.cos(angle) * labelRadius;\n          const labelY = centerY + Math.sin(angle) * labelRadius;\n          const tickValue = min + (index / (tickCount - 1)) * span;\n\n          context.fillStyle = colors.text || '#666';\n          const fontSize =\n            (size === 'sm'\n              ? colors.fontSizeSm\n              : size === 'lg'\n                ? colors.fontSizeLg\n                : colors.fontSizeMd) || '12px';\n\n          context.font = `${fontSize} Arial`;\n          context.textAlign = 'center';\n          context.textBaseline = 'middle';\n          context.fillText(numberFormatter.format(tickValue), labelX, labelY);\n        }\n      }\n\n      const needleAngle = startAngle + normalizedValue * sweepAngle;\n      const needleLength = radius - 20;\n      const needleX = centerX + Math.cos(needleAngle) * needleLength;\n      const needleY = centerY + Math.sin(needleAngle) * needleLength;\n\n      context.beginPath();\n      context.arc(centerX, centerY, 8, 0, Math.PI * 2);\n      context.fillStyle = currentColor || '#0066cc';\n      context.fill();\n\n      context.beginPath();\n      context.moveTo(centerX, centerY);\n      context.lineTo(needleX, needleY);\n      context.strokeStyle = currentColor || '#0066cc';\n      context.lineWidth = 3;\n      context.lineCap = 'round';\n      context.stroke();\n\n      context.beginPath();\n      context.arc(centerX, centerY, 4, 0, Math.PI * 2);\n      context.fillStyle = colors.needleCenter || '#ffffff';\n      context.shadowBlur = 2;\n      context.shadowColor = 'rgba(0,0,0,0.5)';\n      context.fill();\n      context.shadowBlur = 0;\n      context.strokeStyle = currentColor || '#0066cc';\n      context.lineWidth = 2;\n      context.stroke();\n    },\n    [\n      backgroundColor,\n      gaugeDimensions,\n      getColorForValue,\n      max,\n      min,\n      numberFormatter,\n      ranges,\n      rounded,\n      showRanges,\n      size,\n      thickness,\n    ]\n  );\n\n  const animateToValue = useCallback(\n    (target: number) => {\n      const clampedTarget = clampGaugeValue(target, min, max);\n\n      if (!animated) {\n        currentValueRef.current = clampedTarget;\n        drawGauge(clampedTarget);\n        return;\n      }\n\n      const startValue = currentValueRef.current;\n      const distance = clampedTarget - startValue;\n\n      if (Math.abs(distance) <= 0.001) {\n        currentValueRef.current = clampedTarget;\n        drawGauge(clampedTarget);\n        return;\n      }\n\n      let startTime: number | null = null;\n      const themeConfig = getThemeColors();\n      const duration = themeConfig.duration ?? 800; // Provide fallback if undefined\n\n      const step = (timestamp: number) => {\n        if (startTime === null) {\n          startTime = timestamp;\n        }\n\n        const elapsed = timestamp - startTime;\n        const progress = Math.min(elapsed / duration, 1);\n        const easedProgress = 1 - Math.pow(1 - progress, 3);\n        const nextValue = startValue + distance * easedProgress;\n\n        currentValueRef.current = nextValue;\n        drawGauge(nextValue);\n\n        if (progress < 1) {\n          animationFrameRef.current = requestAnimationFrame(step);\n        } else {\n          currentValueRef.current = clampedTarget;\n          drawGauge(clampedTarget);\n        }\n      };\n\n      if (animationFrameRef.current) {\n        cancelAnimationFrame(animationFrameRef.current);\n      }\n\n      animationFrameRef.current = requestAnimationFrame(step);\n    },\n    [animated, drawGauge, max, min]\n  );\n\n  useEffect(() => {\n    animateToValue(value);\n\n    return () => {\n      if (animationFrameRef.current) {\n        cancelAnimationFrame(animationFrameRef.current);\n      }\n    };\n  }, [animateToValue, value]);\n\n  useEffect(() => {\n    drawGauge(currentValueRef.current);\n  }, [drawGauge]);\n\n  const currentRange = useMemo(\n    () => findRangeForValue(ranges, safeValue),\n    [ranges, safeValue]\n  );\n\n  const rootClassName = cn(\n    styles.root,\n    sizeClassNameMap[size] ?? styles.sizeMd,\n    typeClassNameMap[type],\n    animated && styles.animated,\n    rounded && styles.rounded,\n    className\n  );\n\n  return (\n    <div\n      ref={ref}\n      id={componentId}\n      role=\"progressbar\"\n      aria-valuemin={min}\n      aria-valuemax={max}\n      aria-valuenow={safeValue}\n      aria-labelledby={titleId}\n      aria-describedby={subtitleId}\n      data-testid={dataTestId ?? 'dyn-gauge'}\n      data-size={size}\n      data-type={type}\n      className={rootClassName}\n      {...rest}\n    >\n      <figure className={styles.figure}>\n        {(resolvedTitle || subtitle) && (\n          <header className={styles.header}>\n            {resolvedTitle ? (\n              <h3 id={titleId} className={styles.title}>\n                {resolvedTitle}\n              </h3>\n            ) : null}\n            {subtitle ? (\n              <p id={subtitleId} className={styles.subtitle}>\n                {subtitle}\n              </p>\n            ) : null}\n          </header>\n        )}\n\n        <div className={styles.content}>\n          <div className={styles.canvasContainer}>\n            <canvas\n              ref={canvasRef}\n              className={styles.canvas}\n              style={{\n                width: gaugeDimensions.width,\n                height: gaugeDimensions.height,\n              }}\n            />\n\n            {showValue ? (\n              <div className={styles.value}>\n                <span className={styles.valueText}>{formatValue(safeValue)}</span>\n                {currentRange?.label ? (\n                  <span className={styles.valueLabel}>{currentRange.label}</span>\n                ) : null}\n              </div>\n            ) : null}\n          </div>\n        </div>\n\n        {showRanges && ranges.length > 0 ? (\n          <figcaption className={styles.legend}>\n            {ranges.map((range, index) => (\n              <div\n                key={`${range.from}-${range.to}-${index}`}\n                className={styles.legendItem}\n              >\n                <span\n                  className={styles.legendColor}\n                  style={{ backgroundColor: range.color }}\n                  aria-hidden=\"true\"\n                />\n                <span className={styles.legendLabel}>\n                  {range.label ?? `${formatValue(range.from)} - ${formatValue(range.to)}`}\n                </span>\n              </div>\n            ))}\n          </figcaption>\n        ) : null}\n      </figure>\n    </div>\n  );\n});\n\nDynGauge.displayName = 'DynGauge';\n\nexport default DynGauge;\n\n\n--- Usage Examples (DynGauge.stories.tsx) ---\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { DynGauge } from './DynGauge';\nimport type { DynGaugeProps } from './DynGauge.types';\n\nconst meta: Meta<typeof DynGauge> = {\n  title: 'Components/DataDisplay/DynGauge',\n  component: DynGauge,\n  parameters: {\n    layout: 'centered',\n    docs: {\n      description: {\n        component: 'Gauge component for displaying progress and metrics with customizable appearance.',\n      },\n    },\n  },\n  tags: ['autodocs'],\n  argTypes: {\n    type: {\n      control: 'select',\n      options: ['arc', 'circle', 'line'],\n    },\n    size: {\n      control: 'select',\n      options: ['sm', 'md', 'lg'],\n    },\n    value: {\n      control: { type: 'range', min: 0, max: 100, step: 1 },\n    },\n  },\n};\n\nexport default meta;\ntype Story = StoryObj<DynGaugeProps>;\n\nexport const Default: Story = {\n  args: {\n    value: 65,\n  },\n};\n\nexport const WithLabel: Story = {\n  args: {\n    value: 75,\n    label: 'Progress',\n  },\n};\n\nexport const Linear: Story = {\n  args: {\n    type: 'line',\n    value: 45,\n    label: 'Linear Gauge',\n  },\n};\n\nexport const Sizes: Story = {\n  render: () => (\n    <div style={{ display: 'flex', gap: '2rem', alignItems: 'center' }}>\n      <DynGauge size=\"sm\" value={60} label=\"Small\" />\n      <DynGauge size=\"md\" value={60} label=\"Medium\" />\n      <DynGauge size=\"lg\" value={60} label=\"Large\" />\n    </div>\n  ),\n};\n\nexport const DifferentValues: Story = {\n  render: () => (\n    <div style={{ display: 'flex', gap: '2rem', alignItems: 'center' }}>\n      <DynGauge value={25} label=\"25%\" />\n      <DynGauge value={50} label=\"50%\" />\n      <DynGauge value={75} label=\"75%\" />\n      <DynGauge value={100} label=\"100%\" />\n    </div>\n  ),\n};\n\nexport const BothTypes: Story = {\n  render: () => (\n    <div style={{ display: 'flex', flexDirection: 'column', gap: '2rem', alignItems: 'center' }}>\n      <div style={{ textAlign: 'center' }}>\n        <h3>Circular Gauges</h3>\n        <div style={{ display: 'flex', gap: '1rem' }}>\n          <DynGauge type=\"circle\" value={30} label=\"Low\" />\n          <DynGauge type=\"circle\" value={65} label=\"Medium\" />\n          <DynGauge type=\"circle\" value={90} label=\"High\" />\n        </div>\n      </div>\n\n      <div style={{ textAlign: 'center', width: '100%' }}>\n        <h3>Linear Gauges</h3>\n        <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem', width: '300px' }}>\n          <DynGauge type=\"line\" value={30} label=\"CPU Usage\" />\n          <DynGauge type=\"line\" value={65} label=\"Memory\" />\n          <DynGauge type=\"line\" value={90} label=\"Storage\" />\n        </div>\n      </div>\n    </div>\n  ),\n};\n\n\n--- Styles (DynGauge.module.css) ---\n/**\n * DynGauge Component Styles - Option B: Full Token Integration\n * 100% Design Token Compliance\n */\n\n.root {\n  /* Component Tokens - 3-level fallback */\n  --dyn-gauge-bg: var(--dyn-gauge-background, var(--dyn-semantic-background, #ffffff));\n  --dyn-gauge-border: var(--dyn-gauge-border-color, var(--dyn-semantic-border, #e2e8f0));\n  --dyn-gauge-text-primary: var(--dyn-gauge-text, var(--dyn-semantic-text, #0f172a));\n  --dyn-gauge-text-secondary: var(--dyn-gauge-text-muted, var(--dyn-semantic-text-secondary, #64748b));\n  --dyn-gauge-track: var(--dyn-gauge-track-color, var(--dyn-semantic-background-secondary, #f1f5f9));\n  --dyn-gauge-ticks: var(--dyn-gauge-tick-color, var(--dyn-semantic-border-strong, #94a3b8));\n  --dyn-gauge-radius: var(--dyn-gauge-border-radius, var(--dyn-border-radius-md, 8px));\n  \n  /* Gauge specific tokens */\n  --dyn-gauge-font-size-sm: var(--dyn-gauge-text-sm, 10px);\n  --dyn-gauge-font-size-md: var(--dyn-gauge-text-md, 12px);\n  --dyn-gauge-font-size-lg: var(--dyn-gauge-text-lg, 14px);\n  --dyn-gauge-needle-color: var(--dyn-gauge-needle, var(--dyn-semantic-text, #0f172a));\n  --dyn-gauge-needle-center: var(--dyn-gauge-needle-bg, var(--dyn-semantic-background, #ffffff));\n  \n  /* Animation */\n  --dyn-gauge-animation-duration: var(--dyn-gauge-animation, 800ms);\n  \n  /* Breakpoints */\n  --dyn-gauge-breakpoint-mobile: var(--dyn-gauge-mobile-break, 768px);\n\n  /* Base styles */\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: var(--dyn-spacing-md);\n  background: var(--dyn-gauge-bg);\n  border-radius: var(--dyn-gauge-radius);\n  border: var(--dyn-border-width-sm, 1px) solid var(--dyn-gauge-border);\n  padding: var(--dyn-spacing-md);\n  font-family: inherit;\n}\n\n/* ... (figure & header styles) ... */\n\n/* ============================================\n   SIZE VARIANTS\n   ============================================ */\n\n.sizeSm {\n  padding: var(--dyn-spacing-sm);\n}\n\n.sizeSm .title {\n  font-size: var(--dyn-font-size-md);\n}\n\n.sizeSm .subtitle {\n  font-size: var(--dyn-font-size-xs);\n}\n\n.sizeSm .valueText {\n  font-size: var(--dyn-font-size-lg);\n}\n\n.sizeSm .valueLabel {\n  font-size: var(--dyn-font-size-xs);\n}\n\n.sizeMd {\n  padding: var(--dyn-spacing-md);\n}\n\n.sizeMd .title {\n  font-size: var(--dyn-font-size-lg);\n}\n\n.sizeMd .subtitle {\n  font-size: var(--dyn-font-size-sm);\n}\n\n.sizeMd .valueText {\n  font-size: var(--dyn-font-size-xl);\n}\n\n.sizeMd .valueLabel {\n  font-size: var(--dyn-font-size-xs);\n}\n\n.sizeLg {\n  padding: var(--dyn-spacing-lg);\n}\n\n.sizeLg .title {\n  font-size: var(--dyn-font-size-xl);\n}\n\n.sizeLg .subtitle {\n  font-size: var(--dyn-font-size-md);\n}\n\n.sizeLg .valueText {\n  font-size: var(--dyn-font-size-2xl);\n}\n\n.sizeLg .valueLabel {\n  font-size: var(--dyn-font-size-sm);\n}\n\n/* ============================================\n   ACCESSIBILITY\n   ============================================ */\n\n@media (prefers-reduced-motion: reduce) {\n  .root {\n    animation: none;\n  }\n}\n\n/* ============================================\n   RESPONSIVE\n   ============================================ */\n\n@media (max-width: 768px) {\n  .root {\n    padding: var(--dyn-spacing-sm);\n    gap: var(--dyn-spacing-sm);\n  }\n\n  .title {\n    font-size: var(--dyn-font-size-md);\n  }\n\n  .subtitle {\n    font-size: var(--dyn-font-size-xs);\n  }\n\n  .legend {\n    gap: var(--dyn-spacing-xs);\n  }\n\n  .legendItem {\n    gap: var(--dyn-spacing-xs);\n    font-size: var(--dyn-font-size-xs);\n  }\n}\n\n/* ============================================\n   DARK MODE\n   Note: Handled automatically via semantic tokens!\n   ============================================ */", "metadata": {"type": "ui_component", "name": "DynGauge", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynGauge"}, "embedding": [-0.05246756225824356, 0.01735571213066578, -0.028656993061304092, 0.06479957699775696, -0.02945612370967865, 0.06924716383218765, 0.07091989368200302, 0.09213139116764069, -0.024289507418870926, -0.019500724971294403, -0.06402174383401871, -0.05959782749414444, -0.06879996508359909, 0.05558953806757927, 0.013260181993246078, 0.019233442842960358, -0.06117964908480644, -0.03727919980883598, -0.047696951776742935, -0.03938630595803261, 0.052341122180223465, 0.04754713922739029, 0.01951427571475506, 0.022327549755573273, 0.009332467801868916, -0.027891334146261215, 0.02774895913898945, 0.060805656015872955, 0.022615348920226097, -0.05134761705994606, -0.011157246306538582, 0.028364790603518486, -0.02474137768149376, 0.028800860047340393, -0.001451232354156673, 0.04728953167796135, -0.028270771726965904, 0.030107645317912102, -0.02561892196536064, -0.025412829592823982, 0.10477200895547867, 0.08957934379577637, 0.04897968843579292, -0.06678582727909088, 0.022447021678090096, -0.028905389830470085, -0.10572700202465057, -0.03969908505678177, -0.01879725232720375, 0.04480576142668724, 0.02760470286011696, -0.027415430173277855, -0.011132754385471344, -0.01765153743326664, 0.035291966050863266, 0.04530063644051552, -0.001678113010711968, 0.048151835799217224, 0.03830605000257492, 0.005956984590739012, -0.011471216566860676, -0.028719238936901093, 0.056646380573511124, -0.11784212291240692, 0.011381260119378567, -0.023708458989858627, -0.021092597395181656, 0.0766482725739479, 0.04011518880724907, -0.06741789728403091, -0.037314560264348984, -0.01147262193262577, -0.025511011481285095, 0.03433811292052269, 0.016544800251722336, -0.015126438811421394, -0.03576849028468132, -0.03250616788864136, 0.06195941939949989, -0.08529412746429443, -0.006582518573850393, 0.06662938743829727, -0.00711418129503727, 0.1025104820728302, 0.04526469483971596, 0.09829618781805038, 0.05238870903849602, -0.028114935383200645, -0.011546558700501919, -0.05652003362774849, 0.006960832979530096, -0.05860637500882149, -0.12230154126882553, 0.0697898417711258, -0.029469583183526993, 0.07209137082099915, -0.07445378601551056, 0.04114791378378868, -0.07700598984956741, 0.06453278660774231, 0.007870393805205822, -0.04748418182134628, -0.0008141633588820696, 0.06820746511220932, -0.06888791918754578, -0.056856751441955566, 0.06410939246416092, 0.0006918641738593578, -0.07892578095197678, -0.012278924696147442, 0.08662360906600952, 0.06604825705289841, -0.05589782074093819, -0.028907161206007004, -0.0061463541351258755, 0.002299937419593334, -0.003402067581191659, -0.008936150930821896, 0.006838303059339523, -0.02244429476559162, 0.04200752079486847, -0.021514808759093285, -0.005907909944653511, 0.023607799783349037, 0.02124142460525036, 0.07751648128032684, 0.10624315589666367, 4.652525825317995e-33, -0.0026981253176927567, -0.037061721086502075, -0.009950533509254456, 0.03832240030169487, -0.02298816479742527, -0.05880042910575867, -0.031903158873319626, -0.017158422619104385, 0.0038145375438034534, 0.08612807840108871, -0.07961418479681015, 0.058794014155864716, -0.1029978096485138, -0.08602776378393173, -0.018267067149281502, -0.1260785311460495, 0.08838169276714325, 0.03729214146733284, -0.01887700706720352, -0.016377504914999008, 0.0475340336561203, 0.08428584039211273, -0.08873619139194489, 0.011074624955654144, 0.05506991595029831, 0.03948391601443291, -0.011616447940468788, 0.08030595630407333, -0.05290302261710167, -0.023861253634095192, 0.09031260013580322, -0.03725506737828255, 0.06569550931453705, 0.03480377793312073, -0.057861413806676865, -0.09532196819782257, -0.060652606189250946, 0.03586699441075325, -0.009866590611636639, -0.019592197611927986, 0.020765338093042374, 0.009466791525483131, -0.031870950013399124, 0.008272284641861916, -0.034948304295539856, 0.04443451762199402, 0.06596297025680542, -0.009209922514855862, 0.055591605603694916, -0.04264673963189125, -0.0370827279984951, 0.05586325377225876, 0.015917744487524033, -0.05336112156510353, 0.0456240139901638, 0.0060291532427072525, 0.031010348349809647, -0.00481661781668663, 0.09190339595079422, 0.008643035776913166, -0.07767367362976074, 0.08093421161174774, -0.0017365344101563096, -0.027606381103396416, 0.04724777489900589, 0.036906976252794266, 0.02932450920343399, -0.03719021752476692, -0.0121543537825346, -0.07788142561912537, -0.03600464016199112, -0.0264765452593565, -0.05118893086910248, -0.0032067957799881697, 0.06933698803186417, 0.010214071720838547, 0.004306998569518328, 0.08936051279306412, 0.03536469116806984, -0.09281963855028152, -0.08745908737182617, -0.06450306624174118, 0.0033139782026410103, 0.08865994215011597, 0.080286905169487, -0.053435418754816055, -0.04907330498099327, -0.08450097590684891, 0.02966616116464138, -0.048861339688301086, -0.04918621480464935, -0.003759317100048065, -0.04130544885993004, -0.07287528365850449, -0.01970779336988926, -4.891409052608131e-33, 0.028249118477106094, 0.09351590275764465, -0.059741221368312836, -0.048134613782167435, -0.009794266894459724, -0.034896232187747955, 0.028792448341846466, 0.0491827018558979, 0.0051150391809642315, 0.09986082464456558, 0.005388062912970781, 0.044187866151332855, -0.04725547879934311, -0.0220697782933712, -0.03590743988752365, 0.0540352389216423, -0.061726994812488556, -0.004181518219411373, 0.030274346470832825, -0.03954390063881874, -0.04718242213129997, 0.079048752784729, -0.006383019033819437, -0.002309179864823818, -0.04960145056247711, 0.07337494939565659, 0.10850053280591965, 0.015183097682893276, 0.04752739146351814, -0.03640538826584816, 0.016194557771086693, -0.018311994150280952, 0.04372624680399895, 0.09278466552495956, -0.0634135827422142, -0.14774413406848907, 0.08450037986040115, -0.0008399449288845062, -0.07037533074617386, 0.07082795351743698, 0.01097118854522705, 0.0002849624725058675, -0.024379810318350792, -0.023139024153351784, -0.03996377810835838, -0.022982502356171608, 0.09985759109258652, 0.013448935002088547, -0.06390966475009918, -0.014170650392770767, 0.046838633716106415, -0.03418400138616562, -0.02844885177910328, -0.0276496522128582, -0.0824647843837738, -0.007181605324149132, 0.05754586681723595, -0.01813472807407379, -0.034328069537878036, 0.06223401799798012, 0.02897672913968563, -0.11987832188606262, 0.01680191047489643, -0.02665363810956478, 0.024644210934638977, -0.004302470479160547, -0.0811421349644661, -0.08363614976406097, -0.025247767567634583, 0.03627690300345421, 0.02307463064789772, -0.005891432985663414, 0.04210186004638672, -0.08897881954908371, 0.022988535463809967, -0.06909577548503876, 0.009580579586327076, 0.04834660515189171, 0.1523001343011856, 0.0027606228832155466, -0.023183772340416908, 0.04518934711813927, 0.04030914604663849, 0.020942535251379013, 0.03371882438659668, 0.004400490317493677, -0.046929311007261276, 0.1056256890296936, 0.08395244181156158, 0.037955429404973984, -0.0715453177690506, -0.035645321011543274, 0.014079042710363865, 0.048614539206027985, -0.020913563668727875, -5.4519770031902226e-08, -0.0732983723282814, 0.04653094708919525, -0.05962630361318588, -0.01368046086281538, -0.0049758413806557655, -0.07811754196882248, -0.016981586813926697, -0.031221237033605576, 0.019162209704518318, 0.07231328636407852, -0.03873065486550331, 0.010935308411717415, -0.08476676046848297, -0.04931284859776497, 0.059009864926338196, -0.035086922347545624, 0.006028704345226288, 0.05305942893028259, -0.05521256849169731, 0.021725762635469437, 0.01816691644489765, -0.0060598659329116344, -0.01860789954662323, -0.009815286844968796, 0.04098888114094734, -0.07146365195512772, -0.022136064246296883, 0.007494562771171331, 0.07724637538194656, 0.028642553836107254, 0.007141139358282089, 0.04933393374085426, 0.01346102450042963, 0.003820978570729494, -0.08381273597478867, -0.02268165349960327, -0.03430676460266113, 0.005014691036194563, 0.09495732188224792, 0.02627251297235489, -0.08029597997665405, -0.024178804829716682, -0.013922370038926601, 0.0519290566444397, 0.018157297745347023, -0.011318440549075603, 0.004323729779571295, -0.017944417893886566, 0.012044697999954224, 0.03672381117939949, -0.0445912703871727, -0.06882332265377045, -0.05269337818026543, -0.011631211265921593, -0.07173237204551697, -0.018781783059239388, -0.00933552160859108, 0.029490942135453224, -0.0673026591539383, -0.024472519755363464, -0.016357731074094772, -0.1061357706785202, 0.005341216456145048, -0.045750491321086884]}, {"id": "dyn_ui_component_DynGrid", "text": "# Component: DynGrid\n\n--- Types (DynGrid.types.ts) ---\nimport type { HTMLAttributes, ReactNode } from 'react';\nimport type { BaseComponentProps } from '../../types';\nimport type { LayoutSize } from '../../types/layout.types';\n\nexport type DynGridSortDirection = 'asc' | 'desc';\n\nexport interface DynGridColumn {\n  key: string;\n  title: ReactNode;\n  width?: string | number;\n  minWidth?: string | number;\n  sortable?: boolean;\n  filterable?: boolean;\n  resizable?: boolean;\n  render?: (value: unknown, record: Record<string, unknown>, index: number) => ReactNode;\n  align?: 'left' | 'center' | 'right';\n  fixed?: 'left' | 'right';\n  hidden?: boolean;\n}\n\nexport interface DynGridPagination {\n  current: number;\n  pageSize: number;\n  total: number;\n  showSizeChanger?: boolean;\n  showQuickJumper?: boolean;\n  showTotal?: (total: number, range: [number, number]) => ReactNode;\n  onChange?: (page: number, pageSize: number) => void;\n}\n\nexport type DynGridSelectable = boolean | 'single' | 'multiple';\n\nexport interface DynGridProps\n  extends BaseComponentProps,\n  Omit<HTMLAttributes<HTMLDivElement>, keyof BaseComponentProps | 'children'> {\n  columns: DynGridColumn[];\n  data: Record<string, unknown>[];\n  loading?: boolean;\n  size?: LayoutSize;\n  bordered?: boolean;\n  striped?: boolean;\n  hoverable?: boolean;\n  sortable?: boolean;\n  filterable?: boolean;\n  selectable?: DynGridSelectable;\n  selectedKeys?: string[];\n  onSelectionChange?: (selectedKeys: string[], selectedRows: Record<string, unknown>[]) => void;\n  onSort?: (column: string, direction: DynGridSortDirection) => void;\n  onFilter?: (filters: Record<string, unknown>) => void;\n  pagination?: DynGridPagination;\n  emptyText?: ReactNode;\n}\n\nexport interface DynGridDefaultProps\n  extends Required<\n    Pick<\n      DynGridProps,\n      | 'loading'\n      | 'size'\n      | 'bordered'\n      | 'striped'\n      | 'hoverable'\n      | 'sortable'\n      | 'filterable'\n      | 'selectable'\n      | 'selectedKeys'\n      | 'emptyText'\n    >\n  > {\n  'data-testid': string;\n}\n\nexport const DYN_GRID_DEFAULT_PROPS: DynGridDefaultProps = {\n  loading: false,\n  size: 'md',\n  bordered: true,\n  striped: false,\n  hoverable: true,\n  sortable: true,\n  filterable: false,\n  selectable: false,\n  selectedKeys: [],\n  emptyText: 'No data available',\n  'data-testid': 'dyn-grid',\n};\n\n\n--- Component (DynGrid.tsx) ---\nimport {\n  forwardRef,\n  useCallback,\n  useEffect,\n  useId,\n  useMemo,\n  useState,\n} from 'react';\nimport type { ReactNode } from 'react';\nimport { cn } from '../../utils/classNames';\nimport { DynCheckbox } from '../DynCheckbox';\nimport { DynRadio } from '../DynRadio';\nimport { DynLoading } from '../DynLoading';\nimport { DynButton } from '../DynButton';\nimport type {\n  DynGridColumn,\n  DynGridProps,\n  DynGridSortDirection,\n} from './DynGrid.types';\nimport { DYN_GRID_DEFAULT_PROPS } from './DynGrid.types';\nimport styles from './DynGrid.module.css';\n\nconst headerAlignClassMap: Record<'center' | 'right', string> = {\n  center: styles.headerCellAlignCenter,\n  right: styles.headerCellAlignRight,\n};\n\nconst cellAlignClassMap: Record<'center' | 'right', string> = {\n  center: styles.cellAlignCenter,\n  right: styles.cellAlignRight,\n};\n\nconst sizeClassNameMap: Record<NonNullable<DynGridProps['size']>, string | undefined> = {\n  sm: styles['sizeSm'],\n  md: undefined,\n  lg: styles['sizeLg'],\n};\n\nconst DynGrid = forwardRef<HTMLDivElement, DynGridProps>((props, ref) => {\n  const {\n    columns,\n    data,\n    loading,\n    size,\n    bordered,\n    striped,\n    hoverable,\n    sortable,\n    filterable,\n    selectable,\n    selectedKeys,\n    onSelectionChange,\n    onSort,\n    onFilter,\n    pagination,\n    emptyText,\n    className,\n    id,\n    'data-testid': dataTestId,\n    ...rest\n  } = props;\n\n  // Apply defaults only when undefined\n  const effectiveLoading = loading ?? DYN_GRID_DEFAULT_PROPS.loading;\n  const effectiveSize = size ?? DYN_GRID_DEFAULT_PROPS.size;\n  const effectiveBordered = bordered ?? DYN_GRID_DEFAULT_PROPS.bordered;\n  const effectiveStriped = striped ?? DYN_GRID_DEFAULT_PROPS.striped;\n  const effectiveHoverable = hoverable ?? DYN_GRID_DEFAULT_PROPS.hoverable;\n  const effectiveSortable = sortable ?? DYN_GRID_DEFAULT_PROPS.sortable;\n  const effectiveFilterable = filterable ?? DYN_GRID_DEFAULT_PROPS.filterable;\n  const effectiveSelectable = selectable ?? DYN_GRID_DEFAULT_PROPS.selectable;\n  const effectiveEmptyText = emptyText ?? DYN_GRID_DEFAULT_PROPS.emptyText;\n  const effectiveDataTestId = dataTestId ?? DYN_GRID_DEFAULT_PROPS['data-testid'];\n\n  const buttonSize = effectiveSize === 'sm' ? 'xs' : (effectiveSize === 'lg' ? 'md' : 'sm');\n\n  const selectionName = useId();\n\n  void effectiveFilterable;\n  void onFilter;\n\n  const selectionMode: 'none' | 'single' | 'multiple' = useMemo(() => {\n    if (effectiveSelectable === 'single') {\n      return 'single';\n    }\n\n    if (effectiveSelectable === 'multiple' || effectiveSelectable === true) {\n      return 'multiple';\n    }\n\n    return 'none';\n  }, [effectiveSelectable]);\n\n  const [sortConfig, setSortConfig] = useState<{\n    key: string;\n    direction: DynGridSortDirection;\n  } | null>(null);\n\n  const resolvedSelectedKeys = useMemo(\n    () => selectedKeys ?? DYN_GRID_DEFAULT_PROPS.selectedKeys,\n    [selectedKeys]\n  );\n\n  const [selectedRows, setSelectedRows] = useState<string[]>(resolvedSelectedKeys);\n\n  useEffect(() => {\n    setSelectedRows(resolvedSelectedKeys);\n  }, [resolvedSelectedKeys]);\n\n  const visibleColumns = useMemo(\n    () => columns.filter(column => !column.hidden),\n    [columns]\n  );\n\n  const getRowKey = useCallback((record: Record<string, unknown>, index: number) => {\n    const candidate =\n      (record.id as string | number | undefined) ??\n      (record.key as string | number | undefined) ??\n      (record.rowKey as string | number | undefined);\n\n    if (typeof candidate === 'string' || typeof candidate === 'number') {\n      return String(candidate);\n    }\n\n    return index.toString();\n  }, []);\n\n  // Sort data internally if sortable is enabled\n  const sortedData = useMemo(() => {\n    if (!sortConfig || !effectiveSortable) {\n      return data;\n    }\n\n    const sorted = [...data].sort((a, b) => {\n      const aValue = a[sortConfig.key];\n      const bValue = b[sortConfig.key];\n\n      // Handle null/undefined\n      if (aValue == null && bValue == null) return 0;\n      if (aValue == null) return 1;\n      if (bValue == null) return -1;\n\n      // String comparison\n      if (typeof aValue === 'string' && typeof bValue === 'string') {\n        const comparison = aValue.localeCompare(bValue);\n        return sortConfig.direction === 'asc' ? comparison : -comparison;\n      }\n\n      // Number comparison\n      if (typeof aValue === 'number' && typeof bValue === 'number') {\n        return sortConfig.direction === 'asc' ? aValue - bValue : bValue - aValue;\n      }\n\n      // Boolean comparison\n      if (typeof aValue === 'boolean' && typeof bValue === 'boolean') {\n        const comparison = aValue === bValue ? 0 : aValue ? 1 : -1;\n        return sortConfig.direction === 'asc' ? comparison : -comparison;\n      }\n\n      // Date comparison\n      if (aValue instanceof Date && bValue instanceof Date) {\n        const comparison = aValue.getTime() - bValue.getTime();\n        return sortConfig.direction === 'asc' ? comparison : -comparison;\n      }\n\n      // Fallback: convert to string\n      const aStr = String(aValue);\n      const bStr = String(bValue);\n      const comparison = aStr.localeCompare(bStr);\n      return sortConfig.direction === 'asc' ? comparison : -comparison;\n    });\n\n    return sorted;\n  }, [data, sortConfig, effectiveSortable]);\n\n  const handleSort = useCallback(\n    (columnKey: string) => {\n      if (!effectiveSortable) {\n        return;\n      }\n\n      const column = visibleColumns.find(col => col.key === columnKey);\n      if (!column?.sortable) {\n        return;\n      }\n\n      let direction: DynGridSortDirection = 'asc';\n\n      if (sortConfig?.key === columnKey && sortConfig.direction === 'asc') {\n        direction = 'desc';\n      }\n\n      setSortConfig({ key: columnKey, direction });\n      onSort?.(columnKey, direction);\n    },\n    [effectiveSortable, visibleColumns, sortConfig, onSort]\n  );\n\n  const getSelectedRowData = useCallback(\n    (keys: string[]): Record<string, unknown>[] =>\n      keys\n        .map(key => {\n          const rowIndex = sortedData.findIndex((record, index) => getRowKey(record, index) === key);\n          return rowIndex >= 0 ? sortedData[rowIndex] : undefined;\n        })\n        .filter((record): record is Record<string, unknown> => Boolean(record)),\n    [sortedData, getRowKey]\n  );\n\n  const handleRowSelect = useCallback(\n    (rowKey: string, selected: boolean) => {\n      if (selectionMode === 'none') {\n        return;\n      }\n\n      let newSelection: string[];\n\n      if (selectionMode === 'single') {\n        newSelection = selected ? [rowKey] : [];\n      } else {\n        newSelection = selected\n          ? [...new Set([...selectedRows, rowKey])]\n          : selectedRows.filter(key => key !== rowKey);\n      }\n\n      setSelectedRows(newSelection);\n      onSelectionChange?.(newSelection, getSelectedRowData(newSelection));\n    },\n    [selectionMode, selectedRows, onSelectionChange, getSelectedRowData]\n  );\n\n  const handleSelectAll = useCallback(\n    (selected: boolean) => {\n      if (selectionMode !== 'multiple') {\n        return;\n      }\n\n      const allKeys = sortedData.map((record, index) => getRowKey(record, index));\n      const newSelection = selected ? allKeys : [];\n\n      setSelectedRows(newSelection);\n      onSelectionChange?.(newSelection, selected ? sortedData : []);\n    },\n    [selectionMode, sortedData, getRowKey, onSelectionChange]\n  );\n\n  const renderCell = useCallback(\n    (column: DynGridColumn, record: Record<string, unknown>, rowIndex: number) => {\n      if (column.render) {\n        return column.render(record[column.key], record, rowIndex);\n      }\n\n      return record[column.key] as ReactNode;\n    },\n    []\n  );\n\n  const isAllSelected = useMemo(() => {\n    if (selectionMode !== 'multiple' || sortedData.length === 0) {\n      return false;\n    }\n\n    const allKeys = sortedData.map((record, index) => getRowKey(record, index));\n    return allKeys.every(key => selectedRows.includes(key));\n  }, [selectionMode, sortedData, getRowKey, selectedRows]);\n\n  const isSelectionIndeterminate = useMemo(() => {\n    if (selectionMode !== 'multiple' || sortedData.length === 0) {\n      return false;\n    }\n\n    const selectedCount = sortedData.filter((record, index) => selectedRows.includes(getRowKey(record, index))).length;\n    return selectedCount > 0 && selectedCount < sortedData.length;\n  }, [selectionMode, sortedData, getRowKey, selectedRows]);\n\n  const totalPages = pagination ? Math.ceil(pagination.total / pagination.pageSize) : 1;\n  const canGoPrevious = pagination ? pagination.current > 1 : false;\n  const canGoNext = pagination ? pagination.current < totalPages : false;\n\n  const handlePageChange = useCallback(\n    (newPage: number) => {\n      if (!pagination?.onChange) return;\n      pagination.onChange(newPage, pagination.pageSize);\n    },\n    [pagination]\n  );\n\n  const gridClassName = cn(\n    styles.root,\n    sizeClassNameMap[effectiveSize],\n    effectiveBordered && styles.bordered,\n    effectiveStriped && styles.striped,\n    effectiveHoverable && styles.hoverable,\n    effectiveLoading && styles.loading,\n    className\n  );\n\n  if (effectiveLoading) {\n    return (\n      <div ref={ref} className={gridClassName} id={id} data-testid={effectiveDataTestId} {...rest}>\n        <div className={styles.loadingState}>\n          <DynLoading\n            variant=\"spinner\"\n            size=\"lg\"\n            label=\"Loading data\u2026\"\n            color=\"primary\"\n          />\n        </div>\n      </div>\n    );\n  }\n\n  if (sortedData.length === 0) {\n    return (\n      <div ref={ref} className={gridClassName} id={id} data-testid={effectiveDataTestId} {...rest}>\n        <div className={styles.emptyState}>\n          {typeof effectiveEmptyText === 'string' ? (\n            <span>{effectiveEmptyText}</span>\n          ) : (\n            effectiveEmptyText\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div ref={ref} className={gridClassName} id={id} data-testid={effectiveDataTestId} {...rest}>\n      <div className={styles.wrapper}>\n        <table className={styles.table} role=\"table\">\n          <thead className={styles.header}>\n            <tr className={styles.headerRow}>\n              {selectionMode === 'multiple' && (\n                <th className={cn(styles.headerCell, styles.selectionCell)} scope=\"col\">\n                  <DynCheckbox\n                    checked={isAllSelected}\n                    indeterminate={isSelectionIndeterminate}\n                    onChange={checked => handleSelectAll(checked)}\n                    aria-label=\"Select all rows\"\n                  />\n                </th>\n              )}\n              {visibleColumns.map(column => {\n                const isSorted = sortConfig?.key === column.key;\n                const direction = isSorted ? sortConfig?.direction : undefined;\n                const headerAlignmentClass =\n                  column.align && column.align !== 'left'\n                    ? headerAlignClassMap[column.align]\n                    : undefined;\n\n                return (\n                  <th\n                    key={column.key}\n                    className={cn(\n                      styles.headerCell,\n                      headerAlignmentClass,\n                      column.sortable && effectiveSortable && styles.headerCellSortable,\n                      isSorted && styles.headerCellSorted\n                    )}\n                    style={{ width: column.width, minWidth: column.minWidth }}\n                    onClick={() => column.sortable && handleSort(column.key)}\n                    aria-sort={\n                      column.sortable && effectiveSortable\n                        ? direction === 'asc'\n                          ? 'ascending'\n                          : direction === 'desc'\n                            ? 'descending'\n                            : 'none'\n                        : undefined\n                    }\n                    scope=\"col\"\n                  >\n                    <div className={styles.headerContent}>\n                      <span>{column.title}</span>\n                      {column.sortable && effectiveSortable && (\n                        <span className={styles.sortIndicator} aria-hidden=\"true\">\n                          {isSorted ? (direction === 'asc' ? '\u2191' : '\u2193') : '\u2195'}\n                        </span>\n                      )}\n                    </div>\n                  </th>\n                );\n              })}\n            </tr>\n          </thead>\n          <tbody className={styles.body}>\n            {sortedData.map((record, rowIndex) => {\n              const rowKey = getRowKey(record, rowIndex);\n              const isSelected = selectedRows.includes(rowKey);\n\n              return (\n                <tr\n                  key={rowKey}\n                  className={cn(\n                    styles.row,\n                    rowIndex % 2 === 0 ? styles.rowEven : styles.rowOdd,\n                    isSelected && styles.rowSelected\n                  )}\n                  role=\"row\"\n                >\n                  {selectionMode !== 'none' && (\n                    <td className={cn(styles.cell, styles.selectionCell)}>\n                      {selectionMode === 'single' ? (\n                        <DynRadio\n                          name={selectionName}\n                          value={rowKey}\n                          checked={isSelected}\n                          onChange={checked => checked && handleRowSelect(rowKey, true)}\n                          aria-label={`Select row ${rowIndex + 1}`}\n                        />\n                      ) : (\n                        <DynCheckbox\n                          checked={isSelected}\n                          onChange={checked => handleRowSelect(rowKey, checked)}\n                          aria-label={`Select row ${rowIndex + 1}`}\n                        />\n                      )}\n                    </td>\n                  )}\n                  {visibleColumns.map(column => (\n                    <td\n                      key={column.key}\n                      className={cn(\n                        styles.cell,\n                        column.align && column.align !== 'left'\n                          ? cellAlignClassMap[column.align]\n                          : undefined\n                      )}\n                    >\n                      {renderCell(column, record, rowIndex)}\n                    </td>\n                  ))}\n                </tr>\n              );\n            })}\n          </tbody>\n        </table>\n      </div>\n\n      {pagination && (\n        <div className={styles.pagination} role=\"navigation\" aria-label=\"Table pagination\">\n          <div className={styles.paginationInfo}>\n            {pagination.showTotal?.(\n              pagination.total,\n              [\n                (pagination.current - 1) * pagination.pageSize + 1,\n                Math.min(pagination.current * pagination.pageSize, pagination.total),\n              ]\n            )}\n          </div>\n          <div className={styles.paginationControls}>\n            <DynButton\n              kind=\"secondary\"\n              size={buttonSize}\n              onClick={() => handlePageChange(1)}\n              disabled={!canGoPrevious}\n              aria-label=\"First page\"\n            >\n              \u00ab\n            </DynButton>\n            <DynButton\n              kind=\"secondary\"\n              size={buttonSize}\n              onClick={() => handlePageChange(pagination.current - 1)}\n              disabled={!canGoPrevious}\n              aria-label=\"Previous page\"\n            >\n              \u2039\n            </DynButton>\n            <span className={styles.paginationText}>\n              Page {pagination.current} of {totalPages}\n            </span>\n            <DynButton\n              kind=\"secondary\"\n              size={buttonSize}\n              onClick={() => handlePageChange(pagination.current + 1)}\n              disabled={!canGoNext}\n              aria-label=\"Next page\"\n            >\n              \u203a\n            </DynButton>\n            <DynButton\n              kind=\"secondary\"\n              size={buttonSize}\n              onClick={() => handlePageChange(totalPages)}\n              disabled={!canGoNext}\n              aria-label=\"Last page\"\n            >\n              \u00bb\n            </DynButton>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n});\n\nDynGrid.displayName = 'DynGrid';\n\nexport { DynGrid };\nexport default DynGrid;\n\n\n--- Usage Examples (DynGrid.stories.tsx) ---\n/**\n * DynGrid Component Stories\n * Part of DYN UI Layout Components Group - SCOPE 7\n */\n\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { DynGrid } from './DynGrid';\nimport type { DynGridColumn } from './DynGrid.types';\nimport { DynBadge } from '../DynBadge';\nimport { DynButton } from '../DynButton';\nimport React from 'react';\n\nconst meta: Meta<typeof DynGrid> = {\n  title: 'Layout/DynGrid',\n  component: DynGrid,\n  parameters: {\n    layout: 'padded',\n    docs: {\n      description: {\n        component: 'Advanced data table component with sorting, filtering, and selection capabilities.'\n      }\n    }\n  },\n  tags: ['autodocs'],\n  argTypes: {\n    size: {\n      control: 'select',\n      options: ['sm', 'md', 'lg']\n    },\n    selectable: {\n      control: 'select',\n      options: [false, 'single', 'multiple']\n    },\n    emptyText: {\n      control: 'text'\n    }\n  }\n};\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\n// Helper to generate columns based on size for consistency\nconst getColumns = (size: 'sm' | 'md' | 'lg' = 'md'): DynGridColumn[] => {\n  const badgeSize = size === 'sm' ? 'xs' : 'sm';\n  const buttonSize = size === 'sm' ? 'xs' : (size === 'lg' ? 'md' : 'sm');\n\n  return [\n    {\n      key: 'id',\n      title: 'ID',\n      width: 80,\n      sortable: true,\n      align: 'center'\n    },\n    {\n      key: 'name',\n      title: 'Full Name',\n      sortable: true,\n      width: '15%'\n    },\n    {\n      key: 'email',\n      title: 'Email Address',\n      width: '20%'\n    },\n    {\n      key: 'department',\n      title: 'Department',\n      sortable: true,\n      width: '15%'\n    },\n    {\n      key: 'salary',\n      title: 'Salary',\n      sortable: true,\n      align: 'right',\n      width: '10%',\n      render: (value: unknown) => {\n        const amount = typeof value === 'number' ? value : 0;\n        return `$${amount.toLocaleString()}`;\n      }\n    },\n    {\n      key: 'role',\n      title: 'Role',\n      sortable: true,\n      align: 'center',\n      width: '10%',\n      render: value => {\n        const role = typeof value === 'string' ? value : '';\n        if (!role) return '\u2014';\n\n        const label = role.charAt(0).toUpperCase() + role.slice(1);\n        const colorMap: Record<string, any> = {\n          admin: 'primary',\n          manager: 'info',\n          user: 'secondary'\n        };\n\n        return (\n          <DynBadge color={colorMap[role] || 'neutral'} variant=\"soft\" size={badgeSize}>\n            {label}\n          </DynBadge>\n        );\n      }\n    },\n    {\n      key: 'status',\n      title: 'Status',\n      align: 'center',\n      width: '10%',\n      render: value => {\n        const status = typeof value === 'string' ? value : '';\n        if (!status) return '\u2014';\n\n        const isSuccess = status === 'active';\n        const color = isSuccess ? 'success' : 'danger';\n        const label = status.charAt(0).toUpperCase() + status.slice(1);\n\n        return (\n          <DynBadge\n            color={color}\n            variant=\"dot\"\n            size={badgeSize}\n          >\n            {label}\n          </DynBadge>\n        );\n      }\n    },\n    {\n      key: 'joinDate',\n      title: 'Join Date',\n      width: '10%',\n      render: (value: unknown) => {\n        const date = value ? new Date(value as string) : null;\n        return date && !Number.isNaN(date.getTime()) ? date.toLocaleDateString() : '\u2014';\n      }\n    },\n    {\n      key: 'lastLogin',\n      title: 'Last Login',\n      width: '10%',\n      render: value => {\n        const resolvedValue =\n          value instanceof Date || typeof value === 'number' || typeof value === 'string'\n            ? value\n            : undefined;\n        if (resolvedValue === undefined) {\n          return '\u2014';\n        }\n\n        const date =\n          resolvedValue instanceof Date ? resolvedValue : new Date(resolvedValue);\n\n        return Number.isNaN(date.getTime()) ? '\u2014' : date.toLocaleDateString();\n      }\n    },\n    {\n      key: 'actions',\n      title: 'Actions',\n      width: 140,\n      align: 'center',\n      render: (_, record) => (\n        <div style={{ display: 'flex', gap: '8px', justifyContent: 'center' }}>\n          <DynButton\n            size={buttonSize}\n            kind=\"soft\"\n            onClick={(e) => { e.stopPropagation(); alert(`Edit ${record.name}`); }}\n          >\n            Edit\n          </DynButton>\n          <DynButton\n            size={buttonSize}\n            kind=\"secondary\"\n            danger\n            onClick={(e) => { e.stopPropagation(); alert(`Delete ${record.name}`); }}\n          >\n            Delete\n          </DynButton>\n        </div>\n      )\n    }\n  ];\n};\n\nconst data = [\n  {\n    id: 1,\n    name: 'John Doe',\n    email: 'john.doe@example.com',\n    department: 'Engineering',\n    salary: 85000,\n    joinDate: '2023-01-15',\n    role: 'admin',\n    status: 'active',\n    lastLogin: '2023-10-01T10:30:00Z'\n  },\n  {\n    id: 2,\n    name: 'Jane Smith',\n    email: 'jane.smith@example.com',\n    department: 'Design',\n    salary: 72000,\n    joinDate: '2023-03-10',\n    role: 'user',\n    status: 'active',\n    lastLogin: '2023-10-02T14:15:00Z'\n  },\n  {\n    id: 3,\n    name: 'Bob Johnson',\n    email: 'bob.johnson@example.com',\n    department: 'Sales',\n    salary: 65000,\n    joinDate: '2023-05-20',\n    role: 'manager',\n    status: 'inactive',\n    lastLogin: '2023-09-28T09:45:00Z'\n  },\n  {\n    id: 4,\n    name: 'Alice Brown',\n    email: 'alice.brown@example.com',\n    department: 'Engineering',\n    salary: 95000,\n    joinDate: '2022-11-05',\n    role: 'user',\n    status: 'active',\n    lastLogin: '2023-10-03T16:20:00Z'\n  },\n  {\n    id: 5,\n    name: 'Charlie Davis',\n    email: 'charlie.davis@example.com',\n    department: 'Product',\n    salary: 88000,\n    joinDate: '2023-02-28',\n    role: 'admin',\n    status: 'active',\n    lastLogin: '2023-10-03T11:10:00Z'\n  }\n];\n\nexport const Basic: Story = {\n  args: {\n    columns: getColumns('md'),\n    data\n  }\n};\n\nexport const WithSelection: Story = {\n  args: {\n    columns: getColumns('md'),\n    data,\n    selectable: 'multiple'\n  }\n};\n\nexport const SingleSelection: Story = {\n  args: {\n    columns: getColumns('md'),\n    data,\n    selectable: 'single'\n  }\n};\n\nexport const WithBorders: Story = {\n  args: {\n    columns: getColumns('md'),\n    data,\n    bordered: true,\n    striped: true,\n    hoverable: true\n  }\n};\n\nexport const SmallSize: Story = {\n  args: {\n    columns: getColumns('sm'),\n    data,\n    size: 'sm',\n    bordered: true\n  }\n};\n\nexport const LargeSize: Story = {\n  args: {\n    columns: getColumns('lg'),\n    data,\n    size: 'lg',\n    bordered: true\n  }\n};\n\nexport const Loading: Story = {\n  args: {\n    columns: getColumns('md'),\n    data: [],\n    loading: true\n  }\n};\n\nexport const Empty: Story = {\n  args: {\n    columns: getColumns('md'),\n    data: [],\n    emptyText: 'No users found'\n  }\n};\n\nconst PaginationWrapper = (args: any) => {\n  const [currentPage, setCurrentPage] = React.useState(1);\n  const pageSize = 3;\n\n  // Generate 15 items for demo\n  const allData = Array.from({ length: 15 }, (_, i) => ({\n    id: i + 1,\n    name: `User ${i + 1}`,\n    email: `user${i + 1}@example.com`,\n    role: i % 3 === 0 ? 'admin' : i % 3 === 1 ? 'manager' : 'user',\n    status: i % 2 === 0 ? 'active' : 'inactive',\n    lastLogin: new Date(Date.now() - i * 86400000).toISOString()\n  }));\n\n  const paginatedData = allData.slice((currentPage - 1) * pageSize, currentPage * pageSize);\n\n  return (\n    <DynGrid\n      {...args}\n      data={paginatedData}\n      pagination={{\n        ...args.pagination,\n        current: currentPage,\n        pageSize: pageSize,\n        total: allData.length,\n        onChange: (page: number) => setCurrentPage(page)\n      }}\n    />\n  );\n};\n\nexport const WithPagination: Story = {\n  render: (args) => <PaginationWrapper {...args} />,\n  args: {\n    columns: getColumns('md'),\n    pagination: {\n      current: 1,\n      pageSize: 3,\n      total: 15,\n      showTotal: (total: number, range: [number, number]) => `${range[0]}-${range[1]} of ${total} items`,\n    }\n  }\n};\n\nexport const Interactive: Story = {\n  args: {\n    columns: getColumns('md'),\n    data,\n    sortable: true,\n    selectable: 'multiple',\n    bordered: true,\n    hoverable: true,\n    onSort: (column: string, direction: 'asc' | 'desc') => console.log('Sort:', column, direction),\n    onSelectionChange: (keys: string[], rows: Record<string, unknown>[]) => console.log('Selection:', keys, rows)\n  }\n};\n\n\n--- Styles (DynGrid.module.css) ---\n/**\n * DynGrid Component Styles - Unified Component Token Strategy\n * 100% Design Token Compliance with 3-Level Fallback Pattern\n */\n\n.root {\n  /* Color Tokens */\n  /* Color Tokens */\n  --dyn-grid-bg: var(--dyn-grid-root-backgroundColor, var(--dyn-semantic-surface, #ffffff));\n  --dyn-grid-color: var(--dyn-grid-root-textColor, var(--dyn-semantic-text, #1e293b));\n  --dyn-grid-border: var(--dyn-grid-root-borderColor, var(--dyn-semantic-border, #e2e8f0));\n\n  /* Row Styles */\n  --dyn-grid-row-border: var(--dyn-grid-row-borderColor, var(--dyn-grid-border));\n  --dyn-grid-hover-bg: var(--dyn-grid-row-hover-backgroundColor, var(--dyn-semantic-surface-hover, #f8fafc));\n  --dyn-grid-striped-bg: var(--dyn-grid-row-striped-backgroundColor, var(--dyn-semantic-surface-muted, #f1f5f9));\n  --dyn-grid-selected-bg: var(--dyn-grid-row-selected-backgroundColor, var(--dyn-semantic-surface-selected, #e2e8f0));\n\n  /* Header Tokens */\n  --dyn-grid-header-bg: var(--dyn-grid-header-backgroundColor, var(--dyn-semantic-surface-muted, #f1f5f9));\n  --dyn-grid-header-color: var(--dyn-grid-header-textColor, var(--dyn-semantic-text, #1e293b));\n  --dyn-grid-header-font-weight: var(--dyn-grid-header-fontWeight, var(--dyn-font-weight-semibold, 600));\n\n  /* Sizing Tokens */\n  --dyn-grid-padding-y: var(--dyn-grid-size-medium-paddingY, var(--dyn-spacing-md, 1rem));\n  --dyn-grid-padding-x: var(--dyn-grid-size-medium-paddingX, var(--dyn-spacing-sm, 0.75rem));\n  --dyn-grid-font-size: var(--dyn-grid-root-fontSize, var(--dyn-font-size-sm, 0.875rem));\n  --dyn-grid-radius: var(--dyn-grid-root-borderRadius, var(--dyn-border-radius-md, 0.5rem));\n\n  /* Pagination Tokens */\n  --dyn-grid-pagination-bg: var(--dyn-grid-pagination-backgroundColor, var(--dyn-grid-header-bg));\n  --dyn-grid-pagination-color: var(--dyn-grid-pagination-textColor, var(--dyn-semantic-text-secondary, #64748b));\n  --dyn-grid-pagination-border: var(--dyn-grid-pagination-borderColor, var(--dyn-grid-border));\n\n  /* ==========================================================================\n     BASE STYLES\n     ========================================================================== */\n  width: 100%;\n  background-color: var(--dyn-grid-bg);\n  color: var(--dyn-grid-color);\n  font-family: var(--dyn-grid-root-fontFamily, inherit);\n  font-size: var(--dyn-grid-font-size);\n  border-radius: var(--dyn-grid-radius);\n  overflow: hidden;\n  border: var(--dyn-border-width-sm, 1px) solid transparent;\n  transition: all var(--dyn-duration-fast, 150ms) var(--dyn-easing-ease-in-out, ease-in-out);\n}\n\n.root.bordered {\n  border-color: var(--dyn-grid-border);\n}\n\n.wrapper {\n  overflow-x: auto;\n  width: 100%;\n}\n\n.table {\n  width: 100%;\n  border-collapse: collapse;\n  border-spacing: 0;\n}\n\n/* ==========================================================================\n   HEADER\n   ========================================================================== */\n\n.header {\n  background-color: var(--dyn-grid-header-bg);\n}\n\n.headerRow {\n  border-bottom: var(--dyn-border-width-md, 2px) solid var(--dyn-grid-border);\n}\n\n.headerCell {\n  padding: var(--dyn-grid-padding-y) var(--dyn-grid-padding-x);\n  text-align: left;\n  font-weight: var(--dyn-grid-header-font-weight);\n  color: var(--dyn-grid-header-color);\n  line-height: var(--dyn-typography-lineHeight-normal, 1.5);\n  white-space: nowrap;\n}\n\n.headerCellSortable {\n  cursor: pointer;\n  user-select: none;\n  transition: background-color var(--dyn-duration-fast, 150ms);\n}\n\n.headerCellSortable:hover {\n  background-color: var(--dyn-grid-hover-bg);\n}\n\n.headerCellSorted {\n  color: var(--dyn-theme-primary, #3b82f6);\n}\n\n.headerContent {\n  display: flex;\n  align-items: center;\n  gap: var(--dyn-spacing-xs, 4px);\n}\n\n.sortIndicator {\n  font-size: 0.85em;\n  opacity: 0.7;\n}\n\n/* ==========================================================================\n   BODY\n   ========================================================================== */\n\n.row {\n  border-bottom: var(--dyn-border-width-sm, 1px) solid var(--dyn-grid-row-border);\n  background-color: transparent;\n  transition: background-color var(--dyn-duration-fast, 150ms);\n}\n\n.row:last-child {\n  border-bottom: none;\n}\n\n.hoverable .row:hover {\n  background-color: var(--dyn-grid-hover-bg);\n}\n\n.striped .rowOdd {\n  background-color: var(--dyn-grid-striped-bg);\n}\n\n.rowSelected {\n  background-color: var(--dyn-grid-selected-bg) !important;\n}\n\n.cell {\n  padding: var(--dyn-grid-padding-y) var(--dyn-grid-padding-x);\n  color: inherit;\n  line-height: var(--dyn-typography-lineHeight-normal, 1.5);\n}\n\n/* ==========================================================================\n   SELECTION\n   ========================================================================== */\n\n.selectionCell {\n  width: var(--dyn-spacing-xl, 3rem);\n  text-align: center;\n}\n\n.checkbox {\n  cursor: pointer;\n  accent-color: var(--dyn-theme-primary, #3b82f6);\n}\n\n/* ==========================================================================\n   SIZE VARIANTS\n   ========================================================================== */\n\n.sizeSm {\n  --dyn-grid-padding-y: var(--dyn-grid-size-small-paddingY, var(--dyn-spacing-sm, 8px));\n  --dyn-grid-padding-x: var(--dyn-grid-size-small-paddingX, var(--dyn-spacing-xs, 4px));\n  --dyn-grid-font-size: var(--dyn-grid-size-small-fontSize, var(--dyn-font-size-xs, 12px));\n}\n\n.sizeLg {\n  --dyn-grid-padding-y: var(--dyn-grid-size-large-paddingY, var(--dyn-spacing-lg, 24px));\n  --dyn-grid-padding-x: var(--dyn-grid-size-large-paddingX, var(--dyn-spacing-md, 16px));\n  --dyn-grid-font-size: var(--dyn-grid-size-large-fontSize, var(--dyn-font-size-md, 16px));\n}\n\n/* ==========================================================================\n   LOADING & EMPTY STATES\n   ========================================================================== */\n\n.loading {\n  position: relative;\n  min-height: 12.5rem;\n}\n\n.loadingState,\n.emptyState {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: var(--dyn-spacing-xl, 3rem);\n  text-align: center;\n  min-height: 12.5rem;\n  color: var(--dyn-grid-pagination-color);\n  flex: 1;\n}\n\n/* ==========================================================================\n   PAGINATION\n   ========================================================================== */\n\n.pagination {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: var(--dyn-spacing-md, 16px);\n  border-top: var(--dyn-border-width-sm, 1px) solid var(--dyn-grid-pagination-border);\n  background-color: var(--dyn-grid-pagination-bg);\n}\n\n.paginationInfo {\n  font-size: var(--dyn-font-size-sm, 14px);\n  color: var(--dyn-grid-pagination-color);\n}\n\n.paginationControls {\n  display: flex;\n  align-items: center;\n  gap: var(--dyn-spacing-xs, 8px);\n}\n\n.paginationButton {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  min-width: 2rem;\n  height: 2rem;\n  padding: 0 var(--dyn-spacing-xs, 8px);\n  border: var(--dyn-border-width-sm, 1px) solid var(--dyn-grid-border);\n  border-radius: var(--dyn-border-radius-sm, 4px);\n  background-color: var(--dyn-grid-bg);\n  color: var(--dyn-grid-color);\n  font-family: inherit;\n  font-size: var(--dyn-font-size-sm, 14px);\n  cursor: pointer;\n  transition: all var(--dyn-duration-fast, 150ms);\n  user-select: none;\n}\n\n.paginationButton:hover:not(:disabled) {\n  background-color: var(--dyn-grid-header-bg);\n  border-color: var(--dyn-theme-primary, #3b82f6);\n  color: var(--dyn-theme-primary, #3b82f6);\n}\n\n.paginationButton:active:not(:disabled) {\n  transform: translateY(1px);\n}\n\n.paginationButton:disabled {\n  opacity: var(--dyn-opacity-disabled, 0.5);\n  cursor: not-allowed;\n}\n\n.paginationText {\n  padding: 0 var(--dyn-spacing-sm, 12px);\n  font-size: var(--dyn-font-size-sm, 14px);\n  color: var(--dyn-grid-color);\n}\n\n/* ==========================================================================\n   RESPONSIVE & UTILITIES\n   ========================================================================== */\n\n.alignCenter {\n  text-align: center;\n}\n\n.alignRight {\n  text-align: right;\n}\n\n@media (max-width: 768px) {\n\n  .headerCell,\n  .cell {\n    padding: var(--dyn-spacing-sm) var(--dyn-spacing-xs);\n    font-size: var(--dyn-font-size-xs);\n  }\n\n  .pagination {\n    flex-direction: column;\n    gap: var(--dyn-spacing-sm);\n    text-align: center;\n  }\n}\n\n/* Accessibility */\n@media (prefers-contrast: high) {\n  .root.bordered {\n    border-width: var(--dyn-border-width-md, 2px);\n  }\n\n  .headerRow {\n    border-bottom-width: var(--dyn-border-width-lg, 3px);\n  }\n\n  .row {\n    border-bottom-width: var(--dyn-border-width-md, 2px);\n  }\n}\n\n@media (prefers-reduced-motion: reduce) {\n\n  .root,\n  .row,\n  .headerCellSortable,\n  .spinner,\n  .paginationButton {\n    transition: none;\n    animation: none;\n  }\n}", "metadata": {"type": "ui_component", "name": "DynGrid", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynGrid"}, "embedding": [-0.07896928489208221, 0.05475260689854622, -0.010123341344296932, 0.10244771838188171, -0.022132912650704384, 0.1024971455335617, -0.0865512564778328, 0.035860855132341385, 0.035930536687374115, 0.04591802880167961, -0.09958461672067642, -0.003556416369974613, -0.05519026890397072, 0.035064730793237686, -0.0467957966029644, -0.010401559993624687, -0.08392436802387238, -0.013142048381268978, -0.03170286491513252, -0.00890987366437912, 0.05485021695494652, -0.062278907746076584, 0.045328956097364426, -0.03462926670908928, 0.058078862726688385, 0.053725775331258774, -0.018510419875383377, 0.0389738455414772, 0.015386476181447506, -0.041509248316287994, -0.005054321140050888, 0.07457669079303741, -0.08003011345863342, 0.02682354673743248, -0.027359314262866974, 0.0533904992043972, -0.056979525834321976, 0.06470946967601776, 0.0320332832634449, -0.0610501654446125, 0.07499191164970398, 0.0756654292345047, 0.016440661624073982, -0.0626528412103653, 0.0345170684158802, -0.008477609604597092, -0.13373036682605743, 0.013559444807469845, -0.06550860404968262, -0.05661306902766228, 0.013402278535068035, 0.07349830865859985, 0.04708843305706978, 0.01773773320019245, 0.04243962839245796, 0.009028331376612186, 0.052248191088438034, 0.0016738655976951122, 0.033957503736019135, 0.04516854137182236, 0.08970867842435837, -0.055661965161561966, 0.048484548926353455, -0.08425218611955643, -0.013635654002428055, 0.041882045567035675, -0.004547080025076866, 0.01989966444671154, 0.03996571525931358, -0.033136527985334396, -0.03555703163146973, 0.03196488320827484, 0.10037227720022202, -0.0347246490418911, 0.06022552773356438, -0.13158273696899414, 0.029701637104153633, -0.03896951675415039, 0.03547002375125885, 0.01632513664662838, 0.04735933244228363, 0.05783123895525932, -0.04088129848241806, 0.033241402357816696, -0.01274305023252964, 0.017072897404432297, -0.02030293457210064, -0.04655535891652107, -0.04941999539732933, -0.00762763200327754, -0.022954044863581657, -0.03918394073843956, 0.001930104335770011, 0.09563245624303818, 0.03228377923369408, 0.0450717955827713, -0.04654906690120697, 0.096180759370327, -0.07340735197067261, -0.02376987785100937, 0.0039468565955758095, 0.0014156649122014642, -0.01516218576580286, 0.01813480816781521, 0.007118343375623226, -0.07327435165643692, 0.05914035439491272, -0.08440275490283966, -0.0636560320854187, -0.005601842422038317, 0.01014411635696888, 0.06231001392006874, -0.09140574187040329, 0.03415629640221596, -0.09760836511850357, -0.034059587866067886, 0.03004870004951954, -0.05642935261130333, 0.053678177297115326, -0.08774571120738983, 0.04315662756562233, 0.019948884844779968, -0.02810707502067089, 0.011084886267781258, 0.08404795825481415, 0.06410013139247894, 0.07014551758766174, 6.584560993489814e-33, -0.02570401132106781, 0.00035439300700090826, -0.03576807677745819, 0.05965485796332359, 0.08168204873800278, -0.010262543335556984, 0.02017555944621563, -0.03333834186196327, 0.012820242904126644, 0.01925288327038288, -0.012777107767760754, 0.05250658839941025, -0.12454663962125778, 0.011228779330849648, -0.03463679924607277, -0.05118143558502197, 0.02592618018388748, 0.003268701722845435, -0.059980303049087524, -0.059288449585437775, 0.0018882554722949862, 0.053590524941682816, -0.053353648632764816, -0.06609894335269928, 0.09277098625898361, -0.04842669889330864, -0.07301398366689682, 0.06073988229036331, -0.05971674993634224, -0.071083202958107, 0.023917360231280327, -0.02497336082160473, 0.01858602836728096, 0.03908023238182068, -0.022721773013472557, -0.06690827012062073, -0.09781069308519363, -0.0037330584600567818, -0.03195316717028618, 0.010611210018396378, -0.06406382471323013, 0.056338194757699966, -0.04520400986075401, -0.01209395844489336, -0.049730438739061356, 0.048705898225307465, 0.10057681798934937, -0.0121785718947649, 0.035290248692035675, -0.042865339666604996, 0.010636146180331707, 0.10288473218679428, 0.046587731689214706, -0.11959602683782578, 0.03759356588125229, -0.06547444313764572, 0.06974953413009644, 0.035510819405317307, 0.11708462238311768, 0.06387391686439514, -0.06170252710580826, -0.029460666701197624, 0.04700787737965584, -0.03619597479701042, 0.018729334697127342, 0.030504491180181503, -0.031005188822746277, -0.008258366025984287, 0.015159526839852333, -0.07155843079090118, -0.0038383910432457924, -0.06688901036977768, 0.01377340778708458, 0.009117982350289822, 0.07803691923618317, 0.036120928823947906, -0.042851679027080536, 0.022069493308663368, -0.006706710439175367, -0.0980619266629219, 0.03498552367091179, -0.027232347056269646, 0.003803947940468788, 0.08365287631750107, 0.03992662578821182, 0.011046943254768848, -0.05306752398610115, -0.015925075858831406, 0.056869667023420334, -0.00960593018680811, -0.06758885085582733, -0.07813543826341629, 0.08490634709596634, -0.043266329914331436, 0.04440997540950775, -8.560484712617522e-33, -0.00327610713429749, 0.056765031069517136, -0.06639895588159561, -0.04755871742963791, -0.011462797410786152, 0.005177431274205446, -0.022016923874616623, 0.0716409757733345, 0.02468700148165226, 0.04229890927672386, 0.0396856926381588, 0.0002645409549586475, 0.0091941487044096, 0.018349792808294296, -0.10266079008579254, 0.1216721162199974, -0.012914484366774559, 0.01928112842142582, 0.02021637186408043, -0.05862667039036751, 0.005913897417485714, 0.07754632085561752, -0.0014435234479606152, 0.0864056721329689, -0.01516182254999876, 0.02582474797964096, 0.10154130309820175, 0.011356799863278866, 0.013188020326197147, -0.0010199698153883219, 0.051084209233522415, -0.03040248714387417, 0.01605355180799961, 0.03977561742067337, -0.0005845812265761197, -0.059653494507074356, -0.023107090964913368, 0.00865700002759695, -0.027663759887218475, 0.049709416925907135, -0.06190309673547745, -0.0606878437101841, 0.005455033853650093, 0.004308001138269901, -0.055732011795043945, -0.05263799428939819, 0.0177503302693367, 0.07956693321466446, -0.05190268158912659, 0.03891424834728241, 0.012350897304713726, 0.022011885419487953, -0.060443777590990067, -0.04058367386460304, -0.014615414664149284, -0.017171399667859077, 0.013038876466453075, 0.00999304000288248, 0.01937810890376568, -0.02101510763168335, 0.004195995628833771, -0.06773389130830765, -0.04293375462293625, -0.02094884030520916, 0.016227396205067635, -0.00799208041280508, -0.13793133199214935, -0.033581413328647614, 0.013554724864661694, 0.054720666259527206, 0.029168760403990746, 0.07874402403831482, -0.01770782470703125, -0.04848900064826012, 0.03874394670128822, -0.045411717146635056, 0.051127005368471146, 0.06537609547376633, 0.13384364545345306, 0.027503132820129395, -0.04788747802376747, 0.007389174308627844, 0.03686799481511116, -0.040135275572538376, -0.026664212346076965, -0.026785017922520638, 0.03296574577689171, 0.07405436038970947, -0.027080370113253593, 0.024672137573361397, 0.02091818116605282, -0.11468221247196198, -0.06595048308372498, 0.008266111835837364, -0.013949332758784294, -5.684085380153192e-08, -0.013577480800449848, -0.017861975356936455, -0.030773021280765533, -0.06205204874277115, -0.01865602843463421, -0.1321590095758438, 0.004797094501554966, -0.04775452986359596, -0.026900073513388634, 0.04830367863178253, 0.03811607509851456, 0.09524025022983551, -0.020718466490507126, -0.03383995220065117, 0.013022474013268948, -0.03714768961071968, -0.07788759469985962, 0.012965028174221516, -0.039236295968294144, 0.041104476898908615, 0.020397590473294258, -0.04323089122772217, -0.12862075865268707, 0.026433121412992477, 0.13408584892749786, -0.02611943520605564, -0.002267487347126007, -0.01230759546160698, 0.05825859680771828, 0.024496842175722122, 0.01904800534248352, -0.010453715920448303, 0.023369943723082542, -0.014244094491004944, -0.0008267059456557035, -0.008802857249975204, 0.0545574389398098, -0.06263449043035507, 0.0009196943137794733, -0.02654545195400715, -0.01922932267189026, -0.05508747324347496, 0.028687411919236183, 0.05767139047384262, -0.08259689807891846, 0.00949387438595295, -0.03764718398451805, 0.0006743175908923149, 0.016263319179415703, 0.035434119403362274, 0.03089393675327301, -0.10298428684473038, -0.0075677866116166115, -0.02806103602051735, -0.03823953866958618, -0.009051822125911713, -0.07590547949075699, 0.05290968343615532, 0.06256697326898575, 0.0034688650630414486, 0.0067740012891590595, -0.03571132570505142, 0.006043555680662394, -0.04224608838558197]}, {"id": "dyn_ui_component_DynIcon", "text": "# Component: DynIcon\n\n--- Types (DynIcon.types.ts) ---\nimport type { HTMLAttributes, ReactNode } from 'react';\n\nexport type DynIconTone = 'success' | 'warning' | 'danger' | 'info';\nexport type DynIconSizeToken = 'xs' | 'sm' | 'md' | 'lg' | 'xl';\n\nexport interface DynIconProps extends Omit<HTMLAttributes<HTMLSpanElement>, 'color'> {\n  /** Icon identifier - string (dictionary key, class names) or React node */\n  icon?: string | ReactNode;\n\n  /** Icon size token or explicit dimension */\n  size?: DynIconSizeToken | number | string;\n\n  /** Semantic tone helper that maps to predefined colors */\n  tone?: DynIconTone;\n\n  /** Custom color override */\n  color?: string;\n\n  /** Custom stroke width for registry icons */\n  strokeWidth?: number | string;\n\n  /** Mirror/flip the icon */\n  mirror?: 'horizontal' | 'vertical' | 'both';\n\n  /** Whether the icon should spin */\n  spin?: boolean;\n\n  /** Disabled state prevents interaction */\n  disabled?: boolean;\n\n  /** Icon content fallback */\n  children?: ReactNode;\n\n  /** Test identifier for automated testing */\n  'data-testid'?: string;\n}\n\nexport interface DynIconDefaultProps {\n  size: DynIconSizeToken;\n  spin: boolean;\n  disabled: boolean;\n}\n\nexport const DYN_ICON_DEFAULT_PROPS: DynIconDefaultProps = {\n  size: 'md',\n  spin: false,\n  disabled: false,\n} as const;\n\nexport type IconDictionary = Record<string, string>;\n\nexport interface ProcessedIcon {\n  baseClass: string;\n  iconClass: string;\n}\n\n\n--- Component (DynIcon.tsx) ---\nimport React, {\n  forwardRef,\n  isValidElement,\n  useMemo,\n} from 'react';\nimport type {\n  CSSProperties,\n  ForwardedRef,\n  ReactElement,\n} from 'react';\nimport { cn } from '../../utils/classNames';\nimport { processIconString } from '../../utils/dynFormatters';\nimport { useIconDictionary } from '../../hooks/useIconDictionary';\nimport { DEFAULT_ICON_DICTIONARY } from '../../providers/IconDictionaryProvider';\nimport type { IconDictionary } from '../../types';\nimport { iconRegistry } from './icons';\nimport type {\n  DynIconProps,\n  DynIconSizeToken,\n} from './DynIcon.types';\nimport { DYN_ICON_DEFAULT_PROPS } from './DynIcon.types';\nimport styles from './DynIcon.module.css';\n\ntype RegistryIcon = ReactElement | null;\n\nconst SIZE_CLASS_MAP: Record<DynIconSizeToken, string> = {\n  xs: styles['sizeXs']!,\n  sm: styles['sizeSm']!,\n  md: styles['sizeMd']!,\n  lg: styles['sizeLg']!,\n  xl: styles['sizeXl']!,\n};\n\nconst MIRROR_CLASS_MAP: Record<NonNullable<DynIconProps['mirror']>, string> = {\n  horizontal: styles.mirrorHorizontal!,\n  vertical: styles.mirrorVertical!,\n  both: styles.mirrorBoth!,\n};\n\nconst TONE_CLASS_MAP: Partial<Record<NonNullable<DynIconProps['tone']>, string>> = {\n  success: styles.success!,\n  warning: styles.warning!,\n  danger: styles.danger!,\n  info: styles.info!,\n};\n\nconst resolveRegistryIcon = (iconKey: string): RegistryIcon => {\n  const normalizedKey = iconKey.trim();\n  if (!normalizedKey) {\n    return null;\n  }\n\n  const registryIcon = iconRegistry[normalizedKey as keyof typeof iconRegistry];\n  if (!registryIcon) {\n    return null;\n  }\n\n  return registryIcon;\n};\n\nconst DynIconComponent = (\n  props: DynIconProps,\n  ref: ForwardedRef<HTMLSpanElement>\n) => {\n  const {\n    icon,\n    size = DYN_ICON_DEFAULT_PROPS.size,\n    tone,\n    color,\n    strokeWidth,\n    mirror,\n    spin = DYN_ICON_DEFAULT_PROPS.spin,\n    disabled = DYN_ICON_DEFAULT_PROPS.disabled,\n    onClick,\n    className,\n    style,\n    id,\n    'data-testid': dataTestId,\n    role,\n    children,\n    ...rest\n  } = props;\n\n  const { tabIndex, ...domProps } = rest;\n\n  let dictionary: IconDictionary;\n  try {\n    dictionary = useIconDictionary();\n  } catch (error) {\n    dictionary = DEFAULT_ICON_DICTIONARY;\n  }\n  const normalizedIcon = typeof icon === 'string' ? icon.trim() : '';\n\n  const iconTokens = useMemo(() => {\n    if (!normalizedIcon) {\n      return [] as string[];\n    }\n\n    return normalizedIcon\n      .split(/\\s+/)\n      .map(token => token.trim())\n      .filter(Boolean);\n  }, [normalizedIcon]);\n\n  const shouldUseRegistry = useMemo(() => {\n    if (!normalizedIcon || iconTokens.length === 0) {\n      return false;\n    }\n\n    // Proveri registry PRE dictionary-a kako bi SVG ikone imale prednost\n    if (Boolean(resolveRegistryIcon(normalizedIcon))) {\n      return true;\n    }\n\n    const hasDictionaryMatch = iconTokens.some(token => Boolean(dictionary[token]));\n    const hasDirectClass = iconTokens.some(token => token.startsWith('dyn-icon-'));\n    const hasFontClass = iconTokens.some(token => token.startsWith('fa'));\n\n    if (hasDictionaryMatch || hasDirectClass || hasFontClass) {\n      return false;\n    }\n\n    return false;\n  }, [dictionary, iconTokens, normalizedIcon]);\n\n  const registryIcon = useMemo(() => {\n    if (!shouldUseRegistry) {\n      return null;\n    }\n\n    const baseIcon = resolveRegistryIcon(normalizedIcon);\n    if (baseIcon && strokeWidth && isValidElement(baseIcon)) {\n      // Propagation strokeWidth to the SVG element\n      return React.cloneElement(baseIcon as ReactElement<{ strokeWidth?: string }>, {\n        strokeWidth: strokeWidth.toString(),\n      });\n    }\n\n    return baseIcon;\n  }, [normalizedIcon, shouldUseRegistry, strokeWidth]);\n\n  const processedIconClasses = useMemo(() => {\n    if (typeof icon !== 'string' || shouldUseRegistry) {\n      return null;\n    }\n\n    return processIconString(icon, dictionary);\n  }, [icon, dictionary, shouldUseRegistry]);\n\n  const resolvedSizeClass =\n    typeof size === 'string' && SIZE_CLASS_MAP[size as DynIconSizeToken];\n\n  const inlineDimensionStyle: CSSProperties | undefined = useMemo(() => {\n    if (typeof size === 'number') {\n      return {\n        width: size,\n        height: size,\n        fontSize: size,\n      } satisfies CSSProperties;\n    }\n\n    if (typeof size === 'string' && !SIZE_CLASS_MAP[size as DynIconSizeToken]) {\n      return {\n        width: size,\n        height: size,\n        fontSize: size,\n      } satisfies CSSProperties;\n    }\n\n    return undefined;\n  }, [size]);\n\n  const mergedStyle: CSSProperties | undefined = useMemo(() => {\n    if (!color && !inlineDimensionStyle) {\n      return style;\n    }\n\n    return {\n      ...inlineDimensionStyle,\n      ...style,\n      ...(color ? { color } : null),\n    } as CSSProperties | undefined;\n  }, [color, inlineDimensionStyle, style]);\n\n  const isInteractive = typeof onClick === 'function' && !disabled;\n\n  const toneClass = tone ? TONE_CLASS_MAP[tone] : undefined;\n  const mirrorClass = mirror ? MIRROR_CLASS_MAP[mirror] : undefined;\n\n  const rootClassName = cn(\n    styles.dynIcon,\n    resolvedSizeClass,\n    toneClass,\n    mirrorClass,\n    spin ? styles.spinning : undefined,\n    disabled ? styles.disabled : undefined,\n    isInteractive ? styles.iconClickable : undefined,\n    processedIconClasses?.baseClass,\n    processedIconClasses?.iconClass,\n    className\n  );\n\n  const ariaRole = role ?? (isInteractive ? 'button' : 'img');\n  const shouldHideFromScreenReader =\n    !isInteractive &&\n    (ariaRole === 'img' || ariaRole === 'presentation' || ariaRole === 'none') &&\n    !rest['aria-label'] &&\n    !rest['aria-labelledby'];\n  const ariaHidden = rest['aria-hidden'] ?? (shouldHideFromScreenReader ? true : undefined);\n\n  const handleClick = (event: Parameters<NonNullable<typeof onClick>>[0]) => {\n    if (!isInteractive || !onClick) {\n      return;\n    }\n\n    onClick(event);\n  };\n\n  const content = (() => {\n    if (registryIcon) {\n      return (\n        <span className={styles.dynIconSvg} aria-hidden=\"true\">\n          {registryIcon}\n        </span>\n      );\n    }\n\n    if (typeof icon === 'string') {\n      // Check if it's a fallback string (no special classes recognized)\n      const isPlainString =\n        processedIconClasses?.baseClass === 'dyn-icon' &&\n        processedIconClasses?.iconClass === icon;\n\n      if (isPlainString || (!processedIconClasses?.iconClass && !processedIconClasses?.baseClass)) {\n        return (\n          <span className={styles.dynIconFallback} aria-hidden=\"true\">\n            {icon}\n          </span>\n        );\n      }\n\n      return null;\n    }\n\n    if (isValidElement(icon)) {\n      if (strokeWidth) {\n        return (\n          <span className={styles.dynIconCustom} aria-hidden=\"true\">\n            {React.cloneElement(icon as ReactElement<{ strokeWidth?: string }>, {\n              strokeWidth: strokeWidth.toString(),\n            })}\n          </span>\n        );\n      }\n      return (\n        <span className={styles.dynIconCustom} aria-hidden=\"true\">\n          {icon}\n        </span>\n      );\n    }\n\n    if (icon) {\n      return icon;\n    }\n\n    return children ?? null;\n  })();\n\n  return (\n    <span\n      ref={ref}\n      id={id}\n      data-testid={dataTestId}\n      role={ariaRole}\n      className={rootClassName}\n      style={mergedStyle}\n      onClick={disabled ? undefined : handleClick}\n      aria-disabled={disabled || undefined}\n      tabIndex={isInteractive ? tabIndex ?? 0 : tabIndex}\n      {...domProps}\n      aria-hidden={ariaHidden}\n    >\n      {content}\n    </span>\n  );\n};\n\nconst DynIcon = forwardRef<HTMLSpanElement, DynIconProps>(DynIconComponent);\n\nDynIcon.displayName = 'DynIcon';\n\nexport { DynIcon };\nexport default DynIcon;\n\n\n--- Usage Examples (DynIcon.stories.tsx) ---\nimport type { Meta, StoryObj } from '@storybook/react';\nimport DynIcon from './DynIcon';\nimport { IconDictionaryProvider } from '../../providers/IconDictionaryProvider';\n\nconst meta: Meta<typeof DynIcon> = {\n  title: 'Components/DynIcon',\n  component: DynIcon,\n  decorators: [\n    Story => (\n      <IconDictionaryProvider>\n        <div style={{ padding: '2rem', display: 'flex', gap: '1rem', alignItems: 'center', flexWrap: 'wrap' }}>\n          <Story />\n        </div>\n      </IconDictionaryProvider>\n    ),\n  ],\n  argTypes: {\n    icon: {\n      control: 'text',\n      description: 'Dictionary key, class string, or icon identifier',\n    },\n    size: {\n      control: 'select',\n      options: ['xs', 'sm', 'md', 'lg', 'xl'],\n    },\n    tone: {\n      control: 'select',\n      options: ['success', 'warning', 'danger', 'info', undefined],\n    },\n    strokeWidth: {\n      control: { type: 'range', min: 0.5, max: 4, step: 0.5 },\n    },\n    mirror: {\n      control: 'select',\n      options: [undefined, 'horizontal', 'vertical', 'both'],\n    },\n    spin: {\n      control: 'boolean',\n    },\n    disabled: {\n      control: 'boolean',\n    },\n    onClick: { action: 'clicked' },\n  },\n  args: {\n    icon: 'ok',\n    size: 'md',\n    spin: false,\n    disabled: false,\n  },\n};\n\nexport default meta;\n\ntype Story = StoryObj<typeof DynIcon>;\n\nexport const Sizes: Story = {\n  render: () => (\n    <>\n      <DynIcon icon=\"check\" size=\"xs\" />\n      <DynIcon icon=\"check\" size=\"sm\" />\n      <DynIcon icon=\"check\" size=\"md\" />\n      <DynIcon icon=\"check\" size=\"lg\" />\n      <DynIcon icon=\"check\" size=\"xl\" />\n    </>\n  ),\n};\n\nexport const StrokeWeights: Story = {\n  render: () => (\n    <>\n      <DynIcon icon=\"close\" size=\"xl\" strokeWidth={1} />\n      <DynIcon icon=\"close\" size=\"xl\" strokeWidth={2} />\n      <DynIcon icon=\"close\" size=\"xl\" strokeWidth={3} />\n      <DynIcon icon=\"close\" size=\"xl\" strokeWidth={4} />\n    </>\n  ),\n};\n\nexport const Mirroring: Story = {\n  render: () => (\n    <>\n      <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\n        <p>Original</p>\n        <DynIcon icon=\"warning\" size=\"xl\" />\n      </div>\n      <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\n        <p>Horizontal</p>\n        <DynIcon icon=\"warning\" size=\"xl\" mirror=\"horizontal\" />\n      </div>\n      <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\n        <p>Vertical</p>\n        <DynIcon icon=\"warning\" size=\"xl\" mirror=\"vertical\" />\n      </div>\n    </>\n  ),\n};\n\nexport const Interactive: Story = {\n  args: {\n    icon: 'search',\n    size: 'xl',\n    onClick: () => alert('Clicked!'),\n  },\n};\n\n\n--- Styles (DynIcon.module.css) ---\n/**\n * DynIcon Component Styles\n * Design Token Compliance & Standardized Sizes\n */\n\n:root {\n  /* Component tokens */\n  --dyn-icon-color-success: var(--dyn-feedback-positive, #22c55e);\n  --dyn-icon-color-warning: var(--dyn-feedback-warning, #f59e0b);\n  --dyn-icon-color-danger: var(--dyn-feedback-negative-default, #ef4444);\n  --dyn-icon-color-info: var(--dyn-feedback-info, #3b82f6);\n  --dyn-icon-radius: var(--dyn-icon-radius, var(--dyn-border-radius-sm, 0.25rem));\n  --dyn-icon-transition: var(--dyn-icon-clickable-transition, var(--dyn-transition-fast, 0.15s ease));\n  --dyn-icon-focus-ring: var(--dyn-semantic-border-focus, #3b82f6);\n}\n\n.dynIcon {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n  color: currentColor;\n  vertical-align: middle;\n}\n\n/* Size Variants */\n.sizeXs {\n  min-width: var(--dyn-icon-size-xs, 0.75rem);\n  min-height: var(--dyn-icon-size-xs, 0.75rem);\n  font-size: var(--dyn-icon-size-xs, 0.75rem);\n}\n\n.sizeSm {\n  min-width: var(--dyn-icon-size-sm, 1rem);\n  min-height: var(--dyn-icon-size-sm, 1rem);\n  font-size: var(--dyn-icon-size-sm, 1rem);\n}\n\n.sizeMd {\n  min-width: var(--dyn-icon-size-md, 1.5rem);\n  min-height: var(--dyn-icon-size-md, 1.5rem);\n  font-size: var(--dyn-icon-size-md, 1.5rem);\n}\n\n.sizeLg {\n  min-width: var(--dyn-icon-size-lg, 2rem);\n  min-height: var(--dyn-icon-size-lg, 2rem);\n  font-size: var(--dyn-icon-size-lg, 2rem);\n}\n\n.sizeXl {\n  min-width: var(--dyn-icon-size-xl, 3rem);\n  min-height: var(--dyn-icon-size-xl, 3rem);\n  font-size: var(--dyn-icon-size-xl, 3rem);\n}\n\n/* Tone Variants */\n.success {\n  color: var(--dyn-icon-color-success);\n}\n\n.warning {\n  color: var(--dyn-icon-color-warning);\n}\n\n.danger {\n  color: var(--dyn-icon-color-danger);\n}\n\n.info {\n  color: var(--dyn-icon-color-info);\n}\n\n/* Animation States */\n.spinning {\n  animation-name: dynIconSpin !important;\n  animation-duration: var(--dyn-icon-animation-spin-duration, 2s) !important;\n  animation-timing-function: var(--dyn-icon-animation-spin-timing-function, linear) !important;\n  animation-iteration-count: infinite !important;\n  will-change: transform;\n}\n\n@keyframes dynIconSpin {\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n/* Interaction States */\n.iconClickable {\n  cursor: pointer;\n  padding: var(--dyn-icon-clickable-padding, var(--dyn-spacing-2xs));\n  margin: calc(var(--dyn-icon-clickable-padding, var(--dyn-spacing-2xs)) * -1);\n  border-radius: var(--dyn-icon-radius);\n  transition: transform var(--dyn-icon-transition), background-color var(--dyn-icon-transition), opacity var(--dyn-icon-transition);\n  outline: none;\n}\n\n.iconClickable:hover:not(.disabled) {\n  transform: scale(var(--dyn-icon-clickable-hoverScale, 1.1));\n  background-color: var(--dyn-semantic-surface-hover);\n}\n\n.iconClickable:active:not(.disabled) {\n  transform: scale(var(--dyn-icon-clickable-activeScale, 0.95));\n  opacity: 0.8;\n}\n\n.iconClickable:focus-visible {\n  outline: var(--dyn-border-width-md, 0.125rem) solid var(--dyn-icon-focus-ring);\n  outline-offset: var(--dyn-border-width-md, 0.125rem);\n}\n\n/* Mirror Effects */\n.mirrorHorizontal {\n  transform: var(--dyn-icon-mirror-horizontal, scaleX(-1));\n}\n\n.mirrorVertical {\n  transform: var(--dyn-icon-mirror-vertical, scaleY(-1));\n}\n\n.mirrorBoth {\n  transform: var(--dyn-icon-mirror-both, scale(-1));\n}\n\n/* SVG specific container */\n.dynIconSvg {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n}\n\n.dynIconSvg svg {\n  width: 1em;\n  height: 1em;\n  display: block;\n  fill: none;\n  stroke: currentColor;\n}\n\n/* Fallback/Text state */\n.dynIconFallback {\n  line-height: 1;\n  font-family: inherit;\n  font-weight: normal;\n}\n\n/* Disabled state */\n.disabled {\n  opacity: var(--dyn-icon-state-disabled-opacity, 0.5);\n  cursor: not-allowed !important;\n  pointer-events: none;\n}", "metadata": {"type": "ui_component", "name": "DynIcon", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynIcon"}, "embedding": [-0.04507673531770706, 0.013165396638214588, 0.017881173640489578, 2.753932130872272e-05, -0.0009153416031040251, 0.064487986266613, 0.006909387186169624, 0.036475054919719696, -0.05796138197183609, 0.0054932208731770515, -0.10371717810630798, -0.024545051157474518, -0.014859700575470924, -0.007778167724609375, 0.06617421656847, 0.10046663135290146, -0.03942491486668587, -0.010062756948173046, -0.062313906848430634, -0.008743729442358017, 0.08491262793540955, -0.08299968391656876, 0.03156421706080437, -0.051386404782533646, 0.03628503531217575, 0.0530838668346405, 0.05984126776456833, 0.023373177275061607, 0.027837922796607018, 0.006535807158797979, -0.007215304300189018, 0.010935504920780659, -0.0053957621566951275, 0.0323888398706913, -0.08342505991458893, 0.07071837782859802, 0.008824883960187435, 0.03988613560795784, 0.01255359873175621, -0.025538817048072815, 0.07548126578330994, 0.0763760581612587, -0.02154906652867794, -0.06585176289081573, 0.06130169704556465, -0.02008257806301117, -0.06138569489121437, -0.05394931510090828, -0.10904519259929657, -0.029343385249376297, -0.00524597242474556, -0.02309183031320572, 0.00256751524284482, -0.050249695777893066, 0.0224996916949749, -0.024161847308278084, 0.07547793537378311, -0.0002561370492912829, 0.03918915241956711, -0.0031601046212017536, -0.005226474720984697, -0.05735848471522331, 0.08857375383377075, -0.047088250517845154, 0.04177975282073021, 0.043715715408325195, -0.05654922127723694, 0.01183377020061016, 0.06579597294330597, -0.05695679783821106, -0.06401167809963226, -0.03205538168549538, 0.06860285252332687, 0.0331960953772068, -0.019341476261615753, -0.04818848893046379, 0.0955614522099495, 0.03682911396026611, -0.026309100911021233, -0.02148747816681862, 0.029670367017388344, 0.03649423271417618, -0.005035791080445051, 0.09627353399991989, 0.08877529948949814, 0.13591355085372925, -0.016491148620843887, -0.05088452994823456, -0.07192133367061615, -0.005629643332213163, -0.028960108757019043, -0.10368477553129196, -0.04288860037922859, 0.019191913306713104, 0.013634352013468742, -0.02847358025610447, -0.0368364080786705, -0.00678389985114336, -0.06339666247367859, 0.0017180482391268015, 0.03958776220679283, -0.07608037441968918, -0.0407051146030426, -0.0010869137477129698, -0.040592845529317856, -0.017703073099255562, -0.007701998110860586, -0.0723031610250473, -0.009954399429261684, 0.04405694827437401, 0.044086165726184845, 0.009416510351002216, -0.0517231784760952, -0.031718913465738297, -0.06207013130187988, -0.010979946702718735, -0.06764981895685196, -0.023894712328910828, 0.13765539228916168, -0.0010408696252852678, 0.08065222948789597, -0.02460927702486515, 0.033922724425792694, 0.020621441304683685, 0.008878077380359173, 0.053750813007354736, -0.024235762655735016, 4.3948754633749965e-33, -0.04122627526521683, 0.03616843745112419, 0.012203165329992771, 0.026865752413868904, 0.022907380014657974, -0.0720522478222847, -0.022673241794109344, -0.10076356679201126, 0.04295842722058296, -0.04062299430370331, 0.027945585548877716, 0.05755210295319557, -0.07232293486595154, 0.029103044420480728, -0.08397765457630157, -0.028728261590003967, 0.08356170356273651, -0.025678779929876328, -0.006044686306267977, -0.06466281414031982, -0.017910480499267578, 0.022477468475699425, -0.1024109348654747, 0.023950941860675812, 0.04982432723045349, -0.03748954087495804, 0.008388209156692028, 0.14814436435699463, -0.010778408497571945, -0.05484938621520996, 0.03723070025444031, -0.0663556233048439, 0.0754702240228653, 0.11217691004276276, -0.052738651633262634, -0.045407213270664215, -0.13475824892520905, 0.005733078811317682, -0.005769555456936359, 0.014620726928114891, -0.011498295702040195, 0.017347941175103188, -0.0604020431637764, 0.07888887822628021, -0.012621071189641953, 0.05664192512631416, 0.011519605293869972, -0.09715818613767624, 0.028654994443058968, -0.015600132755935192, -0.021156704053282738, 0.005805198103189468, 0.05287119001150131, -0.0765923261642456, 0.03883396089076996, -0.03181590512394905, 0.059347402304410934, -0.03854691982269287, 0.08385439962148666, -0.02208823896944523, -0.024753760546445847, -0.0060881879180669785, 0.1002383679151535, -0.06773948669433594, 0.010525044985115528, 0.0749722272157669, -0.00036136197741143405, -0.014032299630343914, -0.009748943150043488, -0.07277421653270721, 0.047836702316999435, 0.0192607082426548, 0.054879479110240936, -0.03231856971979141, 0.019498921930789948, -0.0033651203848421574, 0.030565360561013222, 0.030549926683306694, 0.013819616287946701, -0.03663255646824837, -0.00663226842880249, -0.04340484365820885, -0.035903219133615494, 0.03489118441939354, 0.040341928601264954, -0.047604210674762726, -0.005111594218760729, -0.0835450068116188, 0.018385525792837143, -0.006683355662971735, -0.04164579510688782, -0.08249631524085999, -0.056103311479091644, -0.016070948913693428, -0.06681627780199051, -6.032534887348252e-33, -0.014024898409843445, 0.058618925511837006, -0.02841864712536335, 0.014320389367640018, -0.030556602403521538, -0.003476176643744111, 0.009628895670175552, 0.08290266990661621, 0.005542564671486616, 0.0677272379398346, 0.00773633411154151, 0.021098431199789047, -0.018982887268066406, -0.05207299068570137, -0.06074129790067673, 0.0973951444029808, -0.02537679113447666, 0.07861710339784622, 0.010904495604336262, -0.0502108633518219, 0.005110105033963919, 0.032326314598321915, 0.0031497315503656864, 0.08339213579893112, -0.07972737401723862, 0.0717846006155014, 0.06541140377521515, -0.03669077530503273, -0.005704503506422043, -0.06927026808261871, -0.00456055486574769, -0.010599530301988125, 0.02771487459540367, 0.05354156717658043, 0.026118719950318336, -0.08732239156961441, 0.01959744282066822, -0.04685969650745392, -0.04203513637185097, 0.06320982426404953, -0.06314223259687424, -0.06893041729927063, 0.02519412524998188, 0.02223036251962185, -0.05124123767018318, -0.053188107907772064, -0.0026795894373208284, 0.01424892246723175, -0.011205033399164677, 0.045800115913152695, 0.11497491598129272, -0.04200432077050209, 0.0004536248743534088, 0.035219475626945496, -0.029047489166259766, -0.010982089675962925, 0.06220504269003868, 0.07271768897771835, 0.0029802070930600166, 0.11075039952993393, 0.00726318359375, -0.17448969185352325, -0.05768176168203354, 0.014287744648754597, -0.05083446577191353, -0.015434427186846733, -0.11395098268985748, -0.013744208961725235, 0.02481837384402752, 0.10353542119264603, 0.02640930376946926, 0.10190268605947495, -0.0014789553824812174, -0.048251356929540634, 0.04370657354593277, -0.06611856818199158, 0.03400067985057831, -0.022329071536660194, 0.007512912154197693, 0.003285294398665428, -0.0680006742477417, 0.03827988728880882, 0.03998357802629471, 0.08767660707235336, -0.005730116739869118, -0.014097282662987709, 0.008479151874780655, 0.057533394545316696, 0.02571067027747631, -0.012828932143747807, -0.005942162591964006, 0.031912606209516525, 0.01681353710591793, 0.01730906404554844, -0.022164778783917427, -5.4093590051707e-08, 0.006504569668322802, -0.05940625071525574, 0.02102890983223915, -0.009001722559332848, -0.012008870020508766, -0.06593472510576248, -0.0474395789206028, -0.10263737291097641, 0.018748195841908455, 0.06687623262405396, -0.013411064632236958, 0.09387452900409698, -0.07858309894800186, -0.03892387077212334, 0.0011865431442856789, -0.034817323088645935, -0.03918646648526192, 0.05082981660962105, -0.013591106981039047, -0.00430991081520915, 0.00969785824418068, 0.022753475233912468, -0.09803608059883118, 0.0008347486145794392, 0.09116844087839127, -0.045856136828660965, -0.004144820384681225, 0.052985820919275284, -0.000812420854344964, -0.0011109826155006886, -0.07190759479999542, -0.025781814008951187, -0.028259528800845146, -0.04606478661298752, -0.027870874851942062, -0.046696726232767105, -0.0077044363133609295, -0.06782027333974838, 0.02098708786070347, 0.025920741260051727, 0.016787203028798103, -0.022701425477862358, 0.00019845539645757526, 0.06833302229642868, 0.012512525543570518, 0.0018553122645244002, -0.05876569077372551, -0.0010526820551604033, -0.013629510998725891, 0.04348267242312431, 0.04881208762526512, -0.039414115250110626, -0.07883436977863312, 0.00788106955587864, -0.057616155594587326, -0.03260029852390289, -0.07884584367275238, 0.1652323305606842, 0.05120570957660675, 0.06558259576559067, 0.022395577281713486, 0.00976340752094984, 0.053621258586645126, -0.07525800913572311]}, {"id": "dyn_ui_component_DynInput", "text": "# Component: DynInput\n\n--- Types (DynInput.types.ts) ---\nimport type {\n  InputHTMLAttributes,\n  FocusEventHandler,\n  ChangeEventHandler,\n  ReactNode,\n} from 'react';\nimport type { BaseComponentProps, AccessibilityProps } from '../../types';\nimport type { DynValidationRule } from '../../hooks/useDynFieldValidation';\n\n/**\n * Input size variants using design token scale\n */\nexport type DynInputSize = 'sm' | 'md' | 'lg';\n\n/**\n * Input type variants\n */\nexport type DynInputType =\n  | 'text'\n  | 'password'\n  | 'email'\n  | 'number'\n  | 'tel'\n  | 'url'\n  | 'search'\n  | 'currency';\n\n/**\n * Validation rule function type\n */\nexport type DynInputValidationRule = (value: string) => string | null | undefined;\n\n/**\n * Input mask configuration\n */\nexport interface DynInputMask {\n  /** Mask pattern (e.g., '(99) 9999-9999' for phone) */\n  pattern: string;\n  /** Whether to format the model value with mask */\n  formatModel?: boolean;\n  /** Custom mask character definitions */\n  definitions?: Record<string, RegExp>;\n}\n\n/**\n * Currency input configuration\n */\nexport interface CurrencyInputConfig {\n  /** ISO 4217 currency code */\n  currencyCode: string;\n  /** Number of decimal places */\n  precision?: number;\n  /** Character used to group thousands */\n  thousandSeparator?: string;\n  /** Character used for decimal separation */\n  decimalSeparator?: string;\n  /** Whether to render the currency symbol */\n  showSymbol?: boolean;\n  /** Custom currency symbol override */\n  symbol?: string;\n  /** Placement of the currency symbol */\n  symbolPosition?: 'prefix' | 'suffix';\n  /** Whether to automatically format values */\n  autoFormat?: boolean;\n}\n\n/**\n * Props interface for DynInput component\n * Follows DynAvatar's standardized pattern with BaseComponentProps and AccessibilityProps\n */\nexport interface DynInputProps\n  extends BaseComponentProps,\n  AccessibilityProps,\n  Omit<\n    InputHTMLAttributes<HTMLInputElement>,\n    | 'size'\n    | 'value'\n    | 'onChange'\n    | 'onBlur'\n    | 'onFocus'\n    | 'type'\n    | keyof BaseComponentProps\n    | keyof AccessibilityProps\n  > {\n\n  /** Input name attribute (also used as ID if not provided) */\n  name?: string;\n\n  /** Label text for the input */\n  label?: string;\n\n  /** Help text displayed below the input */\n  help?: string;\n\n  /** Help text displayed below the input (alias for help) */\n  helpText?: string;\n\n  /** Input type */\n  type?: DynInputType;\n\n  /** Input size */\n  size?: DynInputSize;\n\n  /** Input value */\n  value?: string | number;\n\n  /** Placeholder text */\n  placeholder?: string;\n\n  /** Whether the input is disabled */\n  disabled?: boolean;\n\n  /** Whether the input is readonly */\n  readOnly?: boolean;\n\n  /** Whether the input is readonly (alias) */\n  readonly?: boolean;\n\n  /** Whether the input is required */\n  required?: boolean;\n\n  /** Whether to show optional indicator */\n  optional?: boolean;\n\n  /** Whether the input is visible */\n  visible?: boolean;\n\n  /** Whether the input is in invalid state */\n  invalid?: boolean;\n\n  /** Whether the input is in valid state */\n  valid?: boolean;\n\n  /** Custom error message */\n  errorMessage?: string;\n\n  /** Success message when valid */\n  successMessage?: string;\n\n  /** Validation rule function or array of functions */\n  validation?: DynValidationRule | DynValidationRule[];\n\n  /** Validation rules array (alias) */\n  validationRules?: DynValidationRule[];\n\n  /** Whether to validate on change */\n  validateOnChange?: boolean;\n\n  /** Whether to validate on blur */\n  validateOnBlur?: boolean;\n\n  /** Icon to display inside the input */\n  icon?: string | ReactNode;\n\n  /** Whether to show clear button when input has value */\n  showClearButton?: boolean;\n\n  /** Alias for backward compatibility */\n  showCleanButton?: boolean;\n\n\n  /** Whether to show spin buttons for numeric inputs */\n  showSpinButtons?: boolean;\n\n  /** Input mask configuration */\n  mask?: string | DynInputMask;\n\n  /** Whether to format the model value with mask */\n  maskFormatModel?: boolean;\n\n  /** Loading state */\n  loading?: boolean;\n\n  /** Minimum value for number inputs */\n  min?: number;\n\n  /** Maximum value for number inputs */\n  max?: number;\n\n  /** Step value for number inputs */\n  step?: number;\n\n  /** Currency input behaviour configuration */\n  currencyConfig?: CurrencyInputConfig;\n\n  /** Change event handler */\n  onChange?: (value: string | number) => void;\n\n  /** Blur event handler */\n  onBlur?: FocusEventHandler<HTMLInputElement>;\n\n  /** Focus event handler */\n  onFocus?: FocusEventHandler<HTMLInputElement>;\n\n  /** Validation event handler */\n  onValidate?: (isValid: boolean, errorMessage?: string) => void;\n\n  /** Key down event handler */\n  onKeyDown?: React.KeyboardEventHandler<HTMLInputElement>;\n}\n\n/**\n * Ref type for DynInput component\n */\nexport interface DynInputRef {\n  /** Focus the input element */\n  focus: () => void;\n\n  /** Blur the input element */\n  blur: () => void;\n\n  /** Clear the input value */\n  clear: () => void;\n\n  /** Get the current input value */\n  getValue: () => string | number;\n\n  /** Set the input value programmatically */\n  setValue: (value: string | number) => void;\n\n  /** Validate the input and return validation result (async for compatibility) */\n  validate: () => Promise<boolean>;\n\n  /** Clear any validation errors */\n  clearError: () => void;\n\n  /** Get the native input element */\n  getElement: () => HTMLInputElement | null;\n}\n\n/**\n * Default props type for DynInput\n */\nexport type DynInputDefaultProps = Required<\n  Pick<\n    DynInputProps,\n    | 'type'\n    | 'size'\n    | 'disabled'\n    | 'readOnly'\n    | 'required'\n    | 'optional'\n    | 'visible'\n    | 'showClearButton'\n    | 'maskFormatModel'\n  >\n>;\n\n/**\n * Default props values for DynInput component\n */\nexport const DYN_INPUT_DEFAULT_PROPS: DynInputDefaultProps = {\n  type: 'text',\n  size: 'md',\n  disabled: false,\n  readOnly: false,\n  required: false,\n  optional: false,\n  visible: true,\n  showClearButton: false,\n  maskFormatModel: false,\n} as const;\n\n/**\n * Input validation states\n */\nexport type DynInputValidationState = 'valid' | 'invalid' | 'pending' | 'initial';\n\n/**\n * Input validation result\n */\nexport interface DynInputValidationResult {\n  /** Whether the input is valid */\n  isValid: boolean;\n\n  /** Error message if invalid */\n  errorMessage?: string;\n\n  /** Validation state */\n  state: DynInputValidationState;\n}\n\n--- Component (DynInput.tsx) ---\n/**\n * DynInput - Advanced input component with validation and masking\n * Part of DYN UI Form Components Group - SCOPE 6\n */\n\nimport React, {\n  forwardRef,\n  useImperativeHandle,\n  useRef,\n  useState,\n  useEffect,\n  useMemo,\n  useCallback,\n  useLayoutEffect\n} from 'react';\nimport { cn } from '../../utils/classNames';\n\n\n\nimport type { DynInputProps, DynInputRef, CurrencyInputConfig, DynInputSize } from './DynInput.types';\nimport { DYN_INPUT_DEFAULT_PROPS } from './DynInput.types';\nimport type { DynCurrencyConfig } from '../../utils/dynFormatters';\nimport { DynFieldContainer } from '../DynFieldContainer';\nimport useDynFieldValidation from '../../hooks/useDynFieldValidation';\nimport type { DynValidationRule } from '../../hooks/useDynFieldValidation';\n\nimport { useDynMask } from '../../hooks/useDynMask';\n\n\nimport { DynIcon } from '../DynIcon';\nimport styles from './DynInput.module.css';\n\n// NOTE: DynInput implements its own formatting helpers; do not import formatCurrencyValue\n// from utils to avoid name collision with local implementations.\n\ninterface ResolvedCurrencyConfig {\n  currencyCode: string;\n  precision: number;\n  thousandSeparator: string;\n  decimalSeparator: string;\n  showSymbol: boolean;\n  symbol: string;\n  symbolPosition: 'prefix' | 'suffix';\n  autoFormat: boolean;\n  symbolSpacing: string;\n}\n\nconst DEFAULT_CURRENCY_CODE = 'BRL';\nconst DEFAULT_PRECISION = 2;\n\nexport const DynInput = forwardRef<DynInputRef, DynInputProps>(\n\n  (\n    {\n      name,\n      id,\n      label,\n      help,\n      placeholder,\n      disabled = false,\n      readonly = false,\n      required = false,\n      optional = false,\n      visible = true,\n      value: propValue = '',\n      showSpinButtons = false,\n      errorMessage,\n      validation,\n      className,\n      type = DYN_INPUT_DEFAULT_PROPS.type,\n      size = DYN_INPUT_DEFAULT_PROPS.size,\n      maxLength,\n      minLength,\n      mask,\n      maskFormatModel = DYN_INPUT_DEFAULT_PROPS.maskFormatModel,\n      pattern,\n      icon,\n      showClearButton: showClearButtonProp,\n      showCleanButton,\n      step,\n      min,\n      max,\n\n      currencyConfig,\n      onChange,\n      onBlur,\n      onFocus,\n      onValidate,\n      validationRules\n    },\n    ref\n  ) => {\n    const showClearButton = showClearButtonProp ?? showCleanButton;\n\n    const isCurrencyType = type === 'currency';\n    const resolvedCurrencyConfig = useMemo(\n      () => resolveCurrencyConfig(currencyConfig, type),\n      [currencyConfig, type]\n    );\n\n    const [inputValue, setInputValue] = useState<string>(() =>\n      initializeInputValue(propValue, type, resolvedCurrencyConfig)\n    );\n    const [focused, setFocused] = useState(false);\n    const inputRef = useRef<HTMLInputElement>(null);\n    const generatedIdRef = useRef<string>(`dyn-input-${Math.random().toString(36).slice(2, 9)}`);\n    const inputId = id ?? name ?? generatedIdRef.current;\n\n    const [touched, setTouched] = useState(false);\n\n    const { error, validate, clearError } = useDynFieldValidation({\n      value: inputValue,\n      required,\n      validation: validation || validationRules, // Support both props\n      customError: errorMessage\n    });\n\n    // Notify parent about validation status changes\n    useEffect(() => {\n      onValidate?.(!error, error);\n    }, [error, onValidate]);\n\n    // Initial validation on mount (silently) to ensure parent knows current validity state (e.g. for Progress Bar)\n    useEffect(() => {\n      validate();\n    }, []);\n\n    // Re-validate when value changes\n    useEffect(() => {\n      // If we are already showing errors (touched), validate live to clear them\n      // Or if checking rules like max-length/numeric that should prevent input? No, standard validation\n      if (touched) {\n        validate();\n      }\n    }, [inputValue, validate, touched]);\n\n\n    const { maskedValue, unmaskValue, handleMaskedChange } = useDynMask(\n      typeof mask === 'string' ? mask : mask?.pattern,\n      inputValue,\n      maskFormatModel\n    );\n\n\n    useImperativeHandle(ref, () => ({\n      focus: () => inputRef.current?.focus(),\n      blur: () => inputRef.current?.blur(),\n      validate: () => validate(),\n      clear: () => {\n        setInputValue('');\n        onChange?.('');\n        clearError();\n      },\n      clearError: () => clearError(),\n      getValue: () => {\n        if (isCurrencyType) {\n          const numericValue = parseCurrencyLikeValue(inputValue, resolvedCurrencyConfig);\n          return numericValue ?? '';\n        }\n        const resolvedMask = typeof mask === 'string' ? mask : mask?.pattern;\n        return resolvedMask && !maskFormatModel ? unmaskValue(inputValue) : inputValue;\n      },\n      setValue: (newValue: any) => {\n\n        if (isCurrencyType) {\n          const numericValue = parseCurrencyLikeValue(newValue, resolvedCurrencyConfig);\n          if (numericValue == null) {\n            setInputValue('');\n            onChange?.('');\n            return;\n          }\n\n          const normalizedValue = roundToPrecision(numericValue, resolvedCurrencyConfig.precision);\n          const formattedValue = resolvedCurrencyConfig.autoFormat\n            ? formatCurrencyValue(normalizedValue, { ...resolvedCurrencyConfig, showSymbol: false })\n            : formatPlainCurrencyValue(normalizedValue, resolvedCurrencyConfig);\n\n          setInputValue(formattedValue);\n          onChange?.(normalizedValue);\n          return;\n        }\n\n        const stringValue = newValue == null ? '' : String(newValue);\n        setInputValue(stringValue);\n        onChange?.(stringValue);\n      },\n      getElement: () => inputRef.current\n    }));\n\n    const mergedCurrencyConfig = useMemo<Required<DynCurrencyConfig> & {\n      showCurrencyCode: boolean;\n    }>(() => {\n      const defaultConfig: Required<DynCurrencyConfig> & {\n        showCurrencyCode: boolean;\n      } = {\n        symbol: 'R$',\n        currencyCode: 'BRL',\n        showCurrencyCode: false,\n        precision: 2,\n        decimalSeparator: ',',\n        thousandSeparator: '.'\n      };\n\n      return {\n        ...defaultConfig,\n        ...(currencyConfig ?? {})\n      };\n    }, [currencyConfig]);\n\n    const sanitizeCurrencyValue = useCallback(\n      (rawValue: string | number | null | undefined) => {\n        if (rawValue == null || rawValue === '') {\n          return '';\n        }\n\n        const valueAsString = String(rawValue);\n        const { decimalSeparator, thousandSeparator, symbol, currencyCode } =\n          mergedCurrencyConfig;\n\n        let sanitized = valueAsString.replace(/\\s/g, '');\n\n        if (symbol) {\n          sanitized = sanitized.replace(new RegExp(escapeRegExp(symbol), 'g'), '');\n        }\n\n        if (currencyCode) {\n          sanitized = sanitized.replace(new RegExp(escapeRegExp(currencyCode), 'gi'), '');\n        }\n\n        const allowedSeparator = decimalSeparator ?? '.';\n        sanitized = sanitized.replace(\n          new RegExp(`[^0-9${escapeRegExp(allowedSeparator)}\\\\.\\\\-]`, 'g'),\n          ''\n        );\n\n        const dotMatches = sanitized.match(/\\./g) ?? [];\n        let decimalMarker: string | null = null;\n\n        if (sanitized.includes(allowedSeparator)) {\n          decimalMarker = allowedSeparator;\n        } else if (sanitized.includes('.')) {\n          const digitsAfterLastDot = sanitized.length - sanitized.lastIndexOf('.') - 1;\n          if (\n            thousandSeparator === '.' &&\n            (dotMatches.length > 1 || digitsAfterLastDot === 3)\n          ) {\n            decimalMarker = null;\n          } else {\n            decimalMarker = '.';\n          }\n        }\n\n        if (thousandSeparator && thousandSeparator !== decimalMarker) {\n          sanitized = sanitized.replace(new RegExp(escapeRegExp(thousandSeparator), 'g'), '');\n        }\n\n        if (decimalMarker) {\n          const escapedDecimal = escapeRegExp(decimalMarker);\n          const lastDecimalIndex = sanitized.lastIndexOf(decimalMarker);\n          if (lastDecimalIndex !== -1) {\n            const before = sanitized\n              .slice(0, lastDecimalIndex)\n              .replace(new RegExp(escapedDecimal, 'g'), '')\n              .replace(/\\./g, '');\n            const after = sanitized\n              .slice(lastDecimalIndex + 1)\n              .replace(new RegExp(escapedDecimal, 'g'), '')\n              .replace(/\\./g, '');\n            sanitized = `${before}.${after}`;\n          }\n        }\n\n        sanitized = sanitized.replace(/[^0-9.\\-]/g, '');\n\n        const minusIndex = sanitized.indexOf('-');\n        if (minusIndex > 0) {\n          sanitized = sanitized.replace(/-/g, '');\n        } else if (minusIndex === 0) {\n          sanitized = `-${sanitized.slice(1).replace(/-/g, '')}`;\n        } else {\n          sanitized = sanitized.replace(/-/g, '');\n        }\n\n        if (sanitized.split('.').length > 2) {\n          const [integerPart, ...decimalParts] = sanitized.split('.');\n          sanitized = `${integerPart}.${decimalParts.join('')}`;\n        }\n\n        return sanitized;\n      },\n      [mergedCurrencyConfig]\n    );\n\n    useEffect(() => {\n      if (isCurrencyType) {\n        const formattedValue = initializeInputValue(propValue, type, resolvedCurrencyConfig);\n        setInputValue(formattedValue);\n      } else {\n        const stringValue = propValue == null ? '' : String(propValue);\n        setInputValue(stringValue);\n      }\n    }, [propValue, isCurrencyType, type, resolvedCurrencyConfig]);\n\n    const handleCurrencyChange = (rawValue: string) => {\n      processCurrencyChange(rawValue, resolvedCurrencyConfig, setInputValue, onChange);\n    };\n\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n      const newValue = e.target.value;\n\n      if (mask) {\n        const processedValue = handleMaskedChange(newValue);\n        setInputValue(processedValue);\n        onChange?.(maskFormatModel ? processedValue : unmaskValue(processedValue));\n      } else if (isCurrencyType) {\n        handleCurrencyChange(newValue);\n      } else {\n        setInputValue(newValue);\n\n        if (type === 'number') {\n          if (newValue === '' || newValue === '-' || newValue === '.') {\n            onChange?.('');\n          } else {\n            const numericValue = Number(newValue);\n            onChange?.(Number.isNaN(numericValue) ? newValue : numericValue);\n          }\n        } else {\n          onChange?.(newValue);\n        }\n      }\n\n      clearError();\n    };\n\n    const handleStepChange = useCallback(\n      (direction: 1 | -1) => {\n        if (disabled || readonly) return;\n\n        const stepValue = step ?? 1;\n        const currentNumeric = type === 'currency'\n          ? (parseCurrencyLikeValue(inputValue, resolvedCurrencyConfig) ?? 0)\n          : Number(inputValue || 0);\n\n        const baseValue = Number.isNaN(currentNumeric) ? 0 : currentNumeric;\n        let nextValue = baseValue + direction * stepValue;\n\n        if (typeof min === 'number') {\n          nextValue = Math.max(nextValue, min);\n        }\n\n        if (typeof max === 'number') {\n          nextValue = Math.min(nextValue, max);\n        }\n\n        const nextValueString = String(nextValue);\n\n        if (type === 'currency') {\n          const normalizedNext = roundToPrecision(nextValue, resolvedCurrencyConfig.precision);\n          const formatted = resolvedCurrencyConfig.autoFormat\n            ? formatCurrencyValue(normalizedNext, { ...resolvedCurrencyConfig, showSymbol: false })\n            : formatPlainCurrencyValue(normalizedNext, resolvedCurrencyConfig);\n          setInputValue(formatted);\n          onChange?.(normalizedNext);\n        } else {\n          setInputValue(nextValueString);\n          onChange?.(type === 'number' ? nextValue : nextValueString);\n        }\n\n        clearError();\n      },\n      [\n        clearError,\n        disabled,\n        inputValue,\n        max,\n        min,\n        onChange,\n        readonly,\n        resolvedCurrencyConfig,\n        step,\n        type\n      ]\n    );\n\n    const handleBlur = (e: React.FocusEvent<HTMLInputElement>) => {\n      setFocused(false);\n      setTouched(true);\n      validate();\n      onBlur?.(e);\n    };\n\n    const handleFocus = (e: React.FocusEvent<HTMLInputElement>) => {\n      setFocused(true);\n      // clearError(); // Don't clear immediately on focus, let user type to fix it\n      onFocus?.(e);\n    };\n\n    const handleClean = () => {\n      setInputValue('');\n      onChange?.('');\n      clearError();\n      inputRef.current?.focus();\n    };\n\n    if (!visible) return null;\n\n    // Map props to Full Word CSS classes as per Technical Documentation\n    const SIZE_MAP: Record<DynInputSize, string> = {\n      sm: 'sizeSm',\n      md: 'sizeMd',\n      lg: 'sizeLg'\n    };\n\n    const inputClasses = cn(\n      styles.input,\n      styles[SIZE_MAP[size] || 'sizeMd'],\n      {\n        [styles['inputFocused']]: focused,\n        [styles['inputError']]: !!((touched || errorMessage) && error), // Show error if touched OR if external error provided\n        [styles['inputDisabled']]: disabled,\n        [styles['inputReadonly']]: readonly,\n        [styles['inputWithIcon']]: !!icon,\n        [styles['inputClearable']]: !!(showCleanButton && inputValue && !readonly && !disabled)\n      }\n    );\n\n    const displayValue = mask ? maskedValue : inputValue;\n\n    const containerDivClass = cn(styles.container, className);\n\n    const showSpin = showSpinButtons && (type === 'number' || type === 'currency');\n\n    return (\n      <DynFieldContainer\n        label={label}\n        helpText={help}\n        required={required}\n        optional={optional}\n        errorText={(touched || errorMessage) ? error : ''} // Show error if touched OR if external error provided\n        className={className}\n        htmlFor={inputId}\n        id={id}\n      >\n        <div className={containerDivClass}>\n          {type === 'currency' && resolvedCurrencyConfig.symbol && (\n            <span className={styles['dyn-input-currency-symbol']} aria-hidden=\"true\">\n              {resolvedCurrencyConfig.symbol}\n            </span>\n          )}\n\n          {icon && (\n            <div className={styles['icon-container']}>\n              <DynIcon icon={icon} />\n            </div>\n          )}\n\n          <input\n            ref={inputRef}\n            id={inputId}\n            name={name}\n            type={type === 'number' || isCurrencyType ? 'text' : type}\n            className={inputClasses}\n            placeholder={placeholder}\n            value={displayValue}\n            disabled={disabled}\n            readOnly={readonly}\n            required={required}\n            aria-required={required}\n            aria-disabled={disabled}\n            maxLength={maxLength}\n            minLength={minLength}\n            pattern={pattern}\n            step={type === 'number' ? step : undefined}\n            min={type === 'number' ? min : undefined}\n            max={type === 'number' ? max : undefined}\n            inputMode={type === 'number' || isCurrencyType ? 'decimal' : undefined}\n            onChange={handleChange}\n            onBlur={handleBlur}\n            onFocus={handleFocus}\n            aria-invalid={!!error}\n            aria-describedby={error ? `${name}-error` : undefined}\n          />\n\n          {showCleanButton && inputValue && !readonly && !disabled && (\n            <button\n              type=\"button\"\n              className={styles.clearButton}\n              onClick={handleClean}\n              tabIndex={-1}\n              aria-label=\"Clear field\"\n            >\n              <DynIcon icon=\"close\" />\n\n            </button>\n          )}\n\n          {showSpin && (\n            <div className={styles['dyn-input-spin-buttons']} aria-hidden={disabled || readonly}>\n              <button\n                type=\"button\"\n                className={styles['dyn-input-spin-button']}\n                onClick={() => handleStepChange(1)}\n                tabIndex={-1}\n                aria-label=\"Increase value\"\n                disabled={disabled || readonly}\n              >\n                \u25b2\n              </button>\n              <button\n                type=\"button\"\n                className={styles['dyn-input-spin-button']}\n                onClick={() => handleStepChange(-1)}\n                tabIndex={-1}\n                aria-label=\"Decrease value\"\n                disabled={disabled || readonly}\n              >\n                \u25bc\n              </button>\n            </div>\n          )}\n        </div>\n      </DynFieldContainer>\n    );\n  }\n);\n\nDynInput.displayName = 'DynInput';\n\nexport default DynInput;\n\nfunction resolveCurrencyConfig(\n  config: CurrencyInputConfig | undefined,\n  type: DynInputProps['type']\n): ResolvedCurrencyConfig {\n  const precision = Math.max(0, config?.precision ?? DEFAULT_PRECISION);\n  const currencyCode = config?.currencyCode ?? DEFAULT_CURRENCY_CODE;\n\n  if (type !== 'currency') {\n    return {\n      currencyCode,\n      precision,\n      thousandSeparator: config?.thousandSeparator ?? ',',\n      decimalSeparator: config?.decimalSeparator ?? '.',\n      showSymbol: config?.showSymbol ?? true,\n      symbol: config?.symbol ?? currencyCode,\n      symbolPosition: config?.symbolPosition ?? 'prefix',\n      autoFormat: config?.autoFormat ?? true,\n      symbolSpacing: ' '\n    };\n  }\n\n  const defaults = deriveCurrencyDefaults(currencyCode, precision);\n\n  return {\n    currencyCode,\n    precision,\n    thousandSeparator: config?.thousandSeparator ?? defaults.group,\n    decimalSeparator: config?.decimalSeparator ?? defaults.decimal,\n    showSymbol: config?.showSymbol ?? true,\n    symbol: config?.symbol ?? defaults.symbol,\n    symbolPosition: config?.symbolPosition ?? 'prefix',\n    autoFormat: config?.autoFormat ?? true,\n    symbolSpacing: defaults.spacing\n  };\n}\n\nfunction initializeInputValue(\n  value: string | number,\n  type: DynInputProps['type'],\n  config: ResolvedCurrencyConfig\n): string {\n  if (type === 'currency') {\n    const numericValue = parseCurrencyLikeValue(value, config);\n    if (numericValue == null) {\n      return typeof value === 'string' ? value : '';\n    }\n\n    const normalizedValue = roundToPrecision(numericValue, config.precision);\n    return config.autoFormat\n      ? formatCurrencyValue(normalizedValue, { ...config, showSymbol: false })\n      : formatPlainCurrencyValue(normalizedValue, config);\n  }\n\n  if (value == null) return '';\n  return typeof value === 'string' ? value : String(value);\n}\n\nfunction parseCurrencyLikeValue(\n  value: unknown,\n  config: ResolvedCurrencyConfig\n): number | null {\n  if (value == null || value === '') {\n    return null;\n  }\n\n  if (typeof value === 'number') {\n    return Number.isFinite(value) ? value : null;\n  }\n\n  if (typeof value === 'string') {\n    const sanitized = sanitizeCurrencyInput(value, config);\n    if (!/[0-9]/.test(sanitized)) {\n      return null;\n    }\n\n    const numericValue = Number(sanitized);\n    return Number.isNaN(numericValue) ? null : numericValue;\n  }\n\n  return null;\n}\n\nfunction processCurrencyChange(\n  rawValue: string,\n  config: ResolvedCurrencyConfig,\n  setValue: (value: string) => void,\n  notifyChange?: DynInputProps['onChange']\n) {\n  const sanitizedValue = sanitizeCurrencyInput(rawValue, config);\n\n  if (!/[0-9]/.test(sanitizedValue)) {\n    setValue(rawValue);\n    notifyChange?.('');\n    return;\n  }\n\n  const numericValue = Number(sanitizedValue);\n\n  if (Number.isNaN(numericValue)) {\n    setValue(rawValue);\n    notifyChange?.(sanitizedValue);\n    return;\n  }\n\n  const normalizedValue = roundToPrecision(numericValue, config.precision);\n  const formattedValue = config.autoFormat\n    ? formatCurrencyValue(normalizedValue, { ...config, showSymbol: false })\n    : formatPlainCurrencyValue(normalizedValue, config);\n\n  setValue(formattedValue);\n  notifyChange?.(normalizedValue);\n}\n\nfunction roundToPrecision(value: number, precision: number): number {\n  if (!Number.isFinite(value)) return value;\n  return Number(value.toFixed(precision));\n}\n\nfunction formatCurrencyValue(value: number, config: ResolvedCurrencyConfig): string {\n  const {\n    precision,\n    thousandSeparator,\n    decimalSeparator,\n    showSymbol,\n    symbol,\n    symbolPosition,\n    symbolSpacing,\n    currencyCode\n  } = config;\n\n  const absoluteValue = Math.abs(value);\n  const [integerPartRaw, fractionalPartRaw = ''] = absoluteValue\n    .toFixed(precision)\n    .split('.');\n\n  const groupedInteger =\n    thousandSeparator && thousandSeparator.length > 0\n      ? integerPartRaw.replace(/\\B(?=(\\d{3})+(?!\\d))/g, thousandSeparator)\n      : integerPartRaw;\n\n  let formatted = groupedInteger;\n  if (precision > 0) {\n    formatted += `${decimalSeparator}${fractionalPartRaw}`;\n  }\n\n  if (showSymbol) {\n    const symbolValue = symbol || currencyCode;\n    const spacing = symbolSpacing ?? '';\n\n    if (symbolPosition === 'suffix') {\n      formatted = `${formatted}${spacing}${symbolValue}`;\n    } else {\n      formatted = `${symbolValue}${spacing}${formatted}`;\n    }\n  }\n\n  if (value < 0) {\n    formatted = `-${formatted}`;\n  }\n\n  return formatted;\n}\n\nfunction formatPlainCurrencyValue(value: number, config: ResolvedCurrencyConfig): string {\n  const { precision, decimalSeparator } = config;\n  const absoluteValue = Math.abs(value);\n  const [integerPart, fractionalPart = ''] = absoluteValue.toFixed(precision).split('.');\n\n  let formatted = integerPart;\n  if (precision > 0) {\n    formatted += `${decimalSeparator}${fractionalPart}`;\n  }\n\n  if (value < 0) {\n    formatted = `-${formatted}`;\n  }\n\n  return formatted;\n}\n\nfunction sanitizeCurrencyInput(value: string, config: ResolvedCurrencyConfig): string {\n  if (!value) return '';\n\n  let normalized = value;\n\n  if (config.thousandSeparator) {\n    normalized = normalized.replace(new RegExp(escapeRegExp(config.thousandSeparator), 'g'), '');\n  }\n\n  if (config.symbolSpacing) {\n    normalized = normalized.replace(new RegExp(escapeRegExp(config.symbolSpacing), 'g'), '');\n  }\n\n  if (config.symbol) {\n    normalized = normalized.replace(new RegExp(escapeRegExp(config.symbol), 'g'), '');\n  }\n\n  if (config.currencyCode) {\n    normalized = normalized.replace(new RegExp(escapeRegExp(config.currencyCode), 'gi'), '');\n  }\n\n  normalized = normalized.replace(/\\s+/g, '');\n\n  if (config.decimalSeparator && config.decimalSeparator !== '.') {\n    normalized = normalized.replace(new RegExp(escapeRegExp(config.decimalSeparator), 'g'), '.');\n  }\n\n  normalized = normalized.replace(/[^0-9.-]/g, '');\n\n  const hasNegative = normalized.includes('-');\n  normalized = normalized.replace(/-/g, '');\n  if (hasNegative) {\n    normalized = normalized.length > 0 ? `-${normalized}` : '-';\n  }\n\n  const firstDecimalIndex = normalized.indexOf('.');\n  if (firstDecimalIndex !== -1) {\n    const before = normalized.slice(0, firstDecimalIndex + 1);\n    const after = normalized.slice(firstDecimalIndex + 1).replace(/\\./g, '');\n    normalized = before + after;\n  }\n\n  return normalized;\n}\n\nfunction deriveCurrencyDefaults(currencyCode: string, precision: number) {\n  try {\n    const formatter = new Intl.NumberFormat(undefined, {\n      style: 'currency',\n      currency: currencyCode,\n      minimumFractionDigits: precision,\n      maximumFractionDigits: precision\n    });\n    const parts = formatter.formatToParts(1234567.89);\n    const group = parts.find((part) => part.type === 'group')?.value ?? ',';\n    const decimal = parts.find((part) => part.type === 'decimal')?.value ?? '.';\n    const symbol = parts.find((part) => part.type === 'currency')?.value ?? currencyCode;\n\n    let spacing = '';\n    const currencyIndex = parts.findIndex((part) => part.type === 'currency');\n    if (currencyIndex !== -1) {\n      const nextPart = parts[currencyIndex + 1];\n      const previousPart = parts[currencyIndex - 1];\n      if (nextPart?.type === 'literal') {\n        spacing = nextPart.value;\n      } else if (previousPart?.type === 'literal') {\n        spacing = previousPart.value;\n      }\n    }\n\n    return { group, decimal, symbol, spacing };\n  } catch (error) {\n    return { group: ',', decimal: '.', symbol: currencyCode, spacing: ' ' };\n  }\n}\n\nfunction escapeRegExp(value: string): string {\n  return value.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n}\n\n\n--- Usage Examples (DynInput.stories.tsx) ---\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { fn } from '@storybook/test';\nimport { DynInput } from './DynInput';\nimport { MASK_PATTERNS } from '../../hooks/useDynMask';\n\nconst meta: Meta<typeof DynInput> = {\n  title: 'Form/DynInput',\n  component: DynInput,\n  parameters: {\n    layout: 'padded',\n    docs: {\n      description: {\n        component:\n          'DynInput je standardizovana input komponenta sa validacijom, maskiranjem, ikonama i clear funkcionalno\u0161\u0107u. Implementira WCAG 2.1 AA, koristi dizajn tokene i Vitest za testove.'\n      }\n    }\n  },\n  tags: ['autodocs'],\n  argTypes: {\n    type: {\n      control: 'select',\n      options: ['text', 'email', 'password', 'number', 'tel', 'url', 'search', 'currency'],\n      description: 'Input type'\n    },\n    size: {\n      control: 'radio',\n      options: ['sm', 'md', 'lg'],\n      description: 'Size variant'\n    },\n    mask: {\n      control: 'select',\n      options: [undefined, ...Object.values(MASK_PATTERNS)],\n      description: 'Mask pattern'\n    },\n    disabled: { control: 'boolean' },\n    readonly: { control: 'boolean' },\n    required: { control: 'boolean' },\n    optional: { control: 'boolean' },\n    showCleanButton: { control: 'boolean' },\n    showSpinButtons: { control: 'boolean' },\n    icon: { control: 'text', description: 'Icon name or ReactNode' },\n    placeholder: { control: 'text' },\n    help: { control: 'text' },\n    value: { control: 'text' },\n    currencyConfig: {\n      control: 'object',\n      description: 'Currency formatting configuration'\n    }\n  },\n  args: {\n    label: 'Input',\n    size: 'md',\n    onChange: fn(),\n    onBlur: fn(),\n    onFocus: fn(),\n    onValidate: fn()\n  }\n};\n\nexport default meta;\n\ntype Story = StoryObj<typeof meta>;\n\nexport const Playground: Story = {\n  args: {\n    label: 'Full Name',\n    placeholder: 'Enter full name',\n    help: 'User identification field',\n    showCleanButton: true\n  }\n};\n\nexport const Sizes: Story = {\n  render: () => (\n    <div style={{ display: 'grid', gap: '1rem', maxWidth: 480 }}>\n      <DynInput label=\"Small\" size=\"sm\" placeholder=\"Small\" />\n      <DynInput label=\"Medium\" size=\"md\" placeholder=\"Medium\" />\n      <DynInput label=\"Large\" size=\"lg\" placeholder=\"Large\" />\n    </div>\n  )\n};\n\nexport const States: Story = {\n  render: () => (\n    <div style={{ display: 'grid', gap: '1rem', maxWidth: 480 }}>\n      <DynInput label=\"Required\" required placeholder=\"Required field\" />\n      <DynInput label=\"Optional\" optional placeholder=\"Optional field\" />\n      <DynInput label=\"With Error\" errorMessage=\"Invalid input\" />\n      <DynInput label=\"Disabled\" disabled value=\"Disabled\" />\n      <DynInput label=\"Readonly\" readonly value=\"Read only\" />\n    </div>\n  )\n};\n\nexport const WithIconAndClear: Story = {\n  args: {\n    label: 'Search',\n    icon: 'search',\n    placeholder: 'Search...',\n    showCleanButton: true\n  }\n};\n\nexport const Masking: Story = {\n  render: () => (\n    <div style={{ display: 'grid', gap: '1rem', maxWidth: 480 }}>\n      <DynInput label=\"Phone\" mask={MASK_PATTERNS.phone} placeholder=\"(11) 9999-9999\" />\n      <DynInput label=\"CPF\" mask={MASK_PATTERNS.cpf} placeholder=\"000.000.000-00\" />\n      <DynInput label=\"Credit Card\" mask={MASK_PATTERNS.creditCard} placeholder=\"0000 0000 0000 0000\" />\n    </div>\n  )\n};\n\nexport const Types: Story = {\n  render: () => (\n    <div style={{ display: 'grid', gap: '1rem', maxWidth: 480 }}>\n      <DynInput label=\"Email\" type=\"email\" placeholder=\"email@example.com\" />\n      <DynInput label=\"Password\" type=\"password\" placeholder=\"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\" />\n      <DynInput label=\"Age\" type=\"number\" placeholder=\"18\" min={0} max={120} />\n      <DynInput label=\"Phone\" type=\"tel\" placeholder=\"\" />\n    </div>\n  )\n};\n\nexport const Currency: Story = {\n  args: {\n    label: 'Amount',\n    type: 'currency',\n    value: 1234.56,\n    showSpinButtons: true,\n    step: 50,\n    min: 0,\n    currencyConfig: {\n      symbol: '$',\n      currencyCode: 'USD',\n      decimalSeparator: '.',\n      thousandSeparator: ',',\n      precision: 2\n    }\n  }\n};\n\nexport const NumberWithSpinButtons: Story = {\n  args: {\n    label: 'Quantity',\n    type: 'number',\n    value: 2,\n    step: 1,\n    min: 0,\n    max: 10,\n    showSpinButtons: true\n  }\n};\n\nexport const DarkTheme: Story = {\n  parameters: {\n    backgrounds: { default: 'dark' },\n  },\n  render: () => (\n    <div data-theme=\"dark\" style={{ padding: '2rem', background: '#1a1a1a', borderRadius: 8 }}>\n      <div style={{ display: 'grid', gap: '1rem', maxWidth: 480 }}>\n        <DynInput label=\"Email\" type=\"email\" placeholder=\"email@example.com\" />\n        <DynInput label=\"With Error\" errorMessage=\"Error\" />\n        <DynInput label=\"Readonly\" readonly value=\"Read only\" />\n      </div>\n    </div>\n  )\n};\n\n\n\n--- Styles (DynInput.module.css) ---\n/* ================================================\n   COMPONENT TOKENS (Layer 2)\n   Per COMPLETE_KNOWLEDGE_BASE.md lines 320-336\n   ================================================ */\n/* Tokens moved to :root for better component scoping (consistent with DynCheckbox) */\n\n.container {\n  /* Component tokens - scoped to input for better isolation */\n  /* Color tokens */\n  --dyn-input-bg: var(--dyn-semantic-input-bg, #ffffff);\n  --dyn-input-color: var(--dyn-semantic-text, #0f172a);\n  --dyn-input-border: var(--dyn-semantic-input-border, #cbd5e1);\n  --dyn-input-border-hover: var(--dyn-neutral-mid-400, #94a3b8);\n  --dyn-input-border-focus: var(--dyn-theme-primary, #3b82f6);\n  --dyn-input-focus-ring: var(--dyn-action-focus, #3b82f6);\n  --dyn-input-placeholder: var(--dyn-semantic-text-secondary, #94a3b8);\n  --dyn-input-disabled-bg: var(--dyn-semantic-surface-muted, #f1f5f9);\n  --dyn-input-disabled-color: var(--dyn-semantic-text-secondary, #94a3b8);\n  --dyn-input-readonly-bg: var(--dyn-semantic-surface, #f8fafc);\n  --dyn-input-error: var(--dyn-feedback-negative-default, #dc2626);\n\n  /* Layout tokens */\n  --dyn-input-radius: var(--dyn-border-radius-md, 0.375rem);\n  --dyn-input-padding-y: var(--dyn-spacing-sm, 0.5rem);\n  --dyn-input-padding-x: var(--dyn-spacing-md, 0.75rem);\n  --dyn-input-font-size: var(--dyn-font-size-sm, 0.875rem);\n  --dyn-input-transition: var(--dyn-transition-normal, 0.2s ease);\n\n  /* Height tokens per STYLE_REGISTRY.md */\n  --dyn-input-height-sm: 32px;\n  --dyn-input-height-md: 40px;\n  --dyn-input-height-lg: 48px;\n}\n\n/* ================================================\n   BASE STYLES\n   ================================================ */\n.container {\n  display: flex;\n  align-items: center;\n  position: relative;\n  width: 100%;\n}\n\n.input {\n  appearance: none;\n  width: 100%;\n  text-align: left;\n  color: var(--dyn-input-color);\n  background: var(--dyn-input-bg);\n  border: var(--dyn-border-width-sm, 1px) solid var(--dyn-input-border, #e2e8f0);\n  border-radius: var(--dyn-input-radius);\n  padding: var(--dyn-input-padding-y) var(--dyn-input-padding-x);\n  font-family: inherit;\n  font-size: var(--dyn-input-font-size);\n  line-height: var(--dyn-line-height-base, 1.5);\n  transition: border-color var(--dyn-input-transition), box-shadow var(--dyn-input-transition), background-color var(--dyn-input-transition);\n}\n\n.input::placeholder {\n  color: var(--dyn-input-placeholder);\n}\n\n/* ================================================\n   INTERACTIVE STATES\n   ================================================ */\n.input:hover:not(:disabled):not(.inputReadonly) {\n  border-color: var(--dyn-input-border-hover);\n}\n\n.input:focus-visible {\n  outline: none;\n  border-color: var(--dyn-input-border-focus);\n  box-shadow: 0 0 0 var(--dyn-border-width-lg, 3px) var(--dyn-input-focus-ring);\n}\n\n.inputFocused {\n  border-color: var(--dyn-input-border-focus);\n  box-shadow: 0 0 0 var(--dyn-border-width-lg, 3px) var(--dyn-input-focus-ring);\n}\n\n.input:disabled,\n.inputDisabled {\n  background: var(--dyn-input-disabled-bg);\n  color: var(--dyn-input-disabled-color);\n  cursor: not-allowed;\n  opacity: 0.6;\n}\n\n.inputReadonly {\n  background: var(--dyn-input-readonly-bg);\n}\n\n.inputError {\n  border-color: var(--dyn-input-error);\n}\n\n/* ================================================\n   SIZE VARIANTS\n   ================================================ */\n.sizeSm {\n  height: var(--dyn-input-height-sm);\n  padding: var(--dyn-spacing-xs) var(--dyn-spacing-sm);\n  font-size: var(--dyn-font-size-xs);\n}\n\n.sizeMd {\n  /* Medium uses default values from .input */\n  height: var(--dyn-input-height-md);\n  padding: var(--dyn-spacing-sm) var(--dyn-spacing-md);\n  font-size: var(--dyn-font-size-sm);\n}\n\n.sizeLg {\n  height: var(--dyn-input-height-lg);\n  padding: var(--dyn-spacing-md) var(--dyn-spacing-lg);\n  font-size: var(--dyn-font-size-md);\n}\n\n/* ================================================\n   ICON SUPPORT\n   ================================================ */\n.inputWithIcon {\n  padding-left: var(--dyn-input-icon-padding, 2.5rem);\n}\n\n.inputClearable {\n  padding-right: var(--dyn-input-icon-padding, 2.5rem);\n}\n\n.icon-container {\n  position: absolute;\n  left: var(--dyn-spacing-md);\n  top: 50%;\n  transform: translateY(-50%);\n  color: var(--dyn-input-placeholder);\n  pointer-events: none;\n  display: flex;\n}\n\n.clearButton {\n  position: absolute;\n  right: var(--dyn-spacing-sm);\n  top: 50%;\n  transform: translateY(-50%);\n  background: transparent;\n  border: none;\n  color: var(--dyn-input-placeholder);\n  padding: var(--dyn-spacing-xs);\n  border-radius: var(--dyn-border-radius-xs);\n  display: inline-flex;\n  cursor: pointer;\n  transition: all var(--dyn-transition-fast);\n}\n\n.clearButton:hover {\n  color: var(--dyn-input-color);\n  background-color: var(--dyn-semantic-surface-hover);\n}\n\n/* ================================================\n   DARK MODE\n   Note: Handled automatically via semantic tokens!\n   ================================================ */", "metadata": {"type": "ui_component", "name": "DynInput", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynInput"}, "embedding": [-0.02153647318482399, 0.02262413501739502, -0.018781613558530807, 0.04579435661435127, -0.018249673768877983, 0.06599367409944534, -0.016615821048617363, 0.08617324382066727, 0.010155228897929192, -0.033966757357120514, -0.0871027410030365, -0.03401624783873558, -0.06527812778949738, 0.046752337366342545, -0.0006164887454360723, 0.0292213037610054, -0.0783936008810997, -0.009862052276730537, -0.07263655215501785, -0.0641358494758606, 0.04964452609419823, -0.06848809123039246, 0.01997753046452999, -0.04301903396844864, -0.014744065701961517, 0.018900316208600998, -0.020428605377674103, -0.02491895481944084, 0.04135655611753464, 0.022822890430688858, -0.017945757135748863, 0.03735819086432457, -0.046136822551488876, -0.042717862874269485, -0.03226786479353905, 0.038031015545129776, -0.054411690682172775, 0.06346243619918823, -0.02118392288684845, -0.025389360263943672, 0.04114343971014023, -4.008283940493129e-05, 0.0038061721716076136, -0.01719360053539276, 0.020035790279507637, -0.08735211193561554, -0.06657738983631134, -0.031838737428188324, -0.06865936517715454, 0.0009352067718282342, -0.006198027171194553, 0.02959565259516239, 0.03307618200778961, 0.031186237931251526, 0.01795847713947296, -0.032625503838062286, 0.052819058299064636, 0.05284290760755539, 0.01855098269879818, -0.08365701138973236, -0.024910857900977135, -0.05767803266644478, 0.047529835253953934, -0.08180419355630875, 0.03142988309264183, 0.10021142661571503, 0.01148486789315939, -0.0852767825126648, 0.013811500743031502, -0.046804267913103104, -0.01581866294145584, 0.024197200313210487, 0.0016216435469686985, -0.0038026266265660524, 0.007399735972285271, -0.042357876896858215, -0.048395171761512756, -0.009685179218649864, 0.056026898324489594, -0.0021153371781110764, 0.05747731029987335, -0.006956798490136862, -0.07131664454936981, 0.029164496809244156, 0.045822836458683014, 0.11260094493627548, -0.035970184952020645, -0.017243411391973495, -0.005103160161525011, -0.08039099723100662, 0.04847191274166107, -0.05353659391403198, -0.07228747755289078, 0.09251686185598373, -0.006957607343792915, -0.025055373087525368, -0.10116375237703323, 0.08197008073329926, -0.0389474518597126, 0.028049707412719727, 0.006654054392129183, -0.03258758410811424, -0.06592222303152084, 0.006119721569120884, 0.034604206681251526, -0.009741098619997501, 0.06682553887367249, -0.052491240203380585, -0.024852406233549118, -0.015849679708480835, 0.014859139919281006, 0.046373385936021805, -0.014992103911936283, 0.09583473205566406, -0.011939052492380142, 0.04113253951072693, 0.043723251670598984, -0.04316328093409538, 0.02319384552538395, 0.06041789427399635, 0.03862771764397621, -0.026728272438049316, -0.04517197981476784, -0.021669479086995125, 0.00976127851754427, -0.008361805230379105, 0.052301060408353806, 6.843513582768333e-33, -0.04616130143404007, 0.10062552243471146, -0.009516604244709015, -0.0027269481215626, -0.0036212760023772717, -0.004544692113995552, 0.03727621212601662, -0.007428130134940147, -0.052896641194820404, -0.026517357677221298, -0.026989735662937164, -0.005562570411711931, -0.05561206862330437, -0.06447247415781021, 0.013096068054437637, -0.09456761181354523, 0.042073190212249756, -0.02040122263133526, 0.009880662895739079, -0.00020876213966403157, 0.08334311097860336, 0.016197258606553078, -0.06085772067308426, 0.07538331300020218, 0.040343496948480606, -0.033264994621276855, -0.051126714795827866, 0.0989418774843216, -0.01662224717438221, -0.02817145362496376, 0.03132367134094238, -0.07522871345281601, 0.04602959752082825, 0.05197891592979431, -0.06473098695278168, -0.07298380136489868, -0.010746242478489876, 0.006660632323473692, -0.0017482290277257562, -0.027487482875585556, 0.006748569197952747, 0.008893038146197796, -0.0003203839296475053, 0.05633050575852394, -0.045346613973379135, -0.013818281702697277, 0.05944877117872238, 0.01597953960299492, 0.031094541773200035, -0.06205228343605995, -0.03520070016384125, 0.03692968189716339, -0.0010868620593100786, -0.14707256853580475, 0.03547939285635948, -0.0034070792607963085, -0.007773941848427057, 0.012853758409619331, 0.09392593801021576, 0.009148330427706242, -0.024968478828668594, -0.018745258450508118, -0.00022786215413361788, 0.006505697034299374, -0.0301816426217556, 0.03179122880101204, -0.03555205836892128, -0.11672963947057724, -0.011270526796579361, -0.09404469281435013, 0.012422513216733932, -0.02116616629064083, -0.02767234668135643, 0.043337251991033554, 0.012347513809800148, -0.0376022607088089, -0.005022721830755472, 0.022246161475777626, -0.00865234900265932, -0.12563344836235046, -0.043544258922338486, -0.006995798088610172, -0.025880906730890274, 0.18532554805278778, 0.1179133728146553, -0.03187745437026024, -0.08958130329847336, -0.018726136535406113, 0.01993292197585106, 0.008509821258485317, -0.03671671450138092, -0.059074848890304565, -0.01634388603270054, -0.14889255166053772, -0.007081200368702412, -6.737647826849308e-33, -0.01590540073812008, 0.028829526156187057, -0.06399183720350266, 0.056299369782209396, 0.02871517278254032, 0.05122419819235802, 0.0010356229031458497, 0.07902878522872925, 0.06729569286108017, 0.01610635407269001, 0.0007700690184719861, 0.02087690494954586, 0.03102966584265232, -0.05766613408923149, -0.11270100623369217, 0.08097705990076065, -0.0782862976193428, 0.019974708557128906, 0.07107894867658615, -0.04351756349205971, 0.08092541247606277, 0.004125096369534731, -0.013766121119260788, 0.1295919418334961, -0.11055450886487961, 0.062157317996025085, 0.04152832552790642, -0.001267980202101171, 0.019276486709713936, 0.012008417397737503, -0.10478971153497696, 0.048668600618839264, -0.03305358067154884, 0.1109791174530983, -0.0020159261766821146, -0.10287389904260635, 0.040628764778375626, -0.004510187543928623, -0.019365081563591957, 0.11836986243724823, -0.02227306179702282, 0.036314837634563446, -0.0052240025252103806, -0.011033707298338413, -0.05211051553487778, -0.05944858118891716, -0.0010953834280371666, 0.011066924780607224, 0.0024511157535016537, -0.03864886984229088, 0.05282852053642273, -0.02056761272251606, -0.06772441416978836, 0.01869267039000988, -0.0851888507604599, 0.0802343562245369, 0.09926802664995193, -0.03999744728207588, 0.04518888518214226, 0.031341709196567535, 0.013528416864573956, -0.08199546486139297, -0.018169855698943138, 0.04086969047784805, 0.04406902194023132, -0.021621810272336006, -0.06353085488080978, 0.030430523678660393, 0.08394987881183624, 0.027765020728111267, 0.027125688269734383, 0.029728488996624947, 0.10677352547645569, 0.006532444152981043, 0.04107317700982094, -0.06572427600622177, -0.005735298618674278, -0.003817568765953183, 0.15735705196857452, 0.06652134656906128, -0.024615630507469177, 0.026397019624710083, 0.06641260534524918, 0.02386339195072651, 0.02985992841422558, 0.06854706257581711, -0.023701634258031845, 0.0994778499007225, -0.0016139171784743667, 0.02148306556046009, -0.03890395537018776, -0.01936308853328228, -0.033774860203266144, -0.02218356914818287, -0.02880695089697838, -6.270352059800643e-08, 0.001701260101981461, -0.029488204047083855, -0.025415074080228806, 0.013405897654592991, -0.03267769515514374, -0.10339754819869995, -0.0011972022475674748, -0.08221267908811569, 0.044811975210905075, -0.002839025342836976, -0.027913564816117287, 0.020281009376049042, -0.03519656881690025, -0.05656749755144119, 0.01958763226866722, 0.04640567675232887, -0.010243034921586514, 0.02214609645307064, -0.056146495044231415, 0.05931441858410835, 0.11381200700998306, 0.014347241260111332, -0.08187078684568405, 0.0011289261747151613, 0.1424291580915451, -0.06322544813156128, -0.03206953778862953, 0.07112816721200943, 0.002896970836445689, 0.012754909694194794, 0.0030640626791864634, -0.003878213930875063, 0.010480671189725399, -0.05215371772646904, -0.07425937056541443, -0.024873649701476097, 0.05135715380311012, -0.05999108403921127, 0.049377042800188065, 0.07834842056035995, 0.024550866335630417, -0.044863782823085785, -0.07389193028211594, -0.017928455024957657, -0.02879389375448227, 0.012647232972085476, -0.036999452859163284, 0.008428974077105522, 0.023120835423469543, 0.05466972663998604, 0.022323939949274063, -0.024723703041672707, -0.044777970761060715, 0.007011096924543381, -9.74987997324206e-05, -0.0477416068315506, -0.029593288898468018, 0.020999310538172722, 0.03307553380727768, -0.04825947806239128, 0.060894545167684555, 0.014276561327278614, 0.06862938404083252, -0.06751906871795654]}, {"id": "dyn_ui_component_DynLabel", "text": "# Component: DynLabel\n\n--- Types (DynLabel.types.ts) ---\nimport type { LabelHTMLAttributes } from 'react';\nimport type { BaseComponentProps } from '../../types/theme';\n\nexport interface DynLabelProps extends BaseComponentProps, Omit<LabelHTMLAttributes<HTMLLabelElement>, keyof BaseComponentProps | 'htmlFor'> {\n  /** Associated form element ID */\n  htmlFor?: string;\n\n  /** Disabled state */\n  disabled?: boolean;\n\n  /** Required field indicator */\n  required?: boolean;\n\n  /** Optional field indicator */\n  optional?: boolean;\n\n  /** Help text to display */\n  helpText?: string;\n}\n\nexport const DYN_LABEL_DEFAULT_PROPS = {\n  disabled: false,\n  required: false,\n  optional: false,\n} as const;\n\n\n--- Component (DynLabel.tsx) ---\nimport React, { forwardRef } from 'react';\nimport { cn } from '../../utils/classNames';\nimport type { DynLabelProps } from './DynLabel.types';\nimport { DYN_LABEL_DEFAULT_PROPS } from './DynLabel.types';\nimport styles from './DynLabel.module.css';\n\n/**\n * DynLabel Component\n * Standardized label component for forms with requirement indicators and help text.\n */\nexport const DynLabel = forwardRef<HTMLLabelElement, DynLabelProps>(({\n  children,\n  htmlFor,\n  disabled = DYN_LABEL_DEFAULT_PROPS.disabled,\n  required = DYN_LABEL_DEFAULT_PROPS.required,\n  optional = DYN_LABEL_DEFAULT_PROPS.optional,\n  helpText,\n  className,\n  style,\n  ...rest\n}, ref) => {\n  const containerClasses = cn(\n    styles.container\n  );\n\n  const labelClasses = cn(\n    styles.label,\n    disabled && styles.disabled,\n    (required || optional) && styles.withRequirement,\n    className\n  );\n\n\n  const renderRequirementIndicator = () => {\n    if (required) {\n      return (\n        <span className={cn(styles.requirement, styles.required)}>\n          <span className={styles.asterisk} aria-hidden=\"true\">*</span>\n        </span>\n      );\n    }\n\n    if (optional) {\n      return (\n        <span\n          className={cn(styles.requirement, styles.optional)}\n          data-testid=\"optional-indicator\"\n        >\n          <span className={styles.optionalText}>(optional)</span>\n        </span>\n      );\n    }\n\n    return null;\n  };\n\n  const renderHelpText = () => {\n    if (!helpText) return null;\n\n    return (\n      <span className={styles.helpText} id={htmlFor ? `${htmlFor}-help` : undefined}>\n        {helpText}\n      </span>\n    );\n  };\n\n  const labelContent = (\n    <span className={styles.text}>\n      {children}\n      {renderRequirementIndicator()}\n    </span>\n  );\n\n  const elementProps = {\n    className: labelClasses,\n    ...(htmlFor && { htmlFor }),\n    ...(helpText && htmlFor && { 'aria-describedby': `${htmlFor}-help` }),\n    ...rest,\n    ref\n  };\n\n  return (\n    <div className={containerClasses} style={style} role=\"group\">\n      {htmlFor ? (\n        <label {...elementProps}>\n          {labelContent}\n        </label>\n      ) : (\n        <span {...(elementProps as any)}>\n          {labelContent}\n        </span>\n      )}\n      {renderHelpText()}\n    </div>\n  );\n});\n\nDynLabel.displayName = 'DynLabel';\n\nexport default DynLabel;\n\n--- Usage Examples (DynLabel.stories.tsx) ---\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { DynLabel } from './DynLabel';\nimport type { DynLabelProps } from '../../types/label.types';\n\nconst meta: Meta<typeof DynLabel> = {\n  title: 'Components/Display/DynLabel',\n  component: DynLabel,\n  parameters: {\n    layout: 'centered',\n    docs: {\n      description: {\n        component: 'Label component for form fields and general text display with semantic styling.',\n      },\n    },\n  },\n  tags: ['autodocs'],\n  argTypes: {\n    required: {\n      control: 'boolean',\n    },\n    optional: {\n      control: 'boolean',\n    },\n  },\n};\n\nexport default meta;\ntype Story = StoryObj<DynLabelProps>;\n\nexport const Default: Story = {\n  args: {\n    children: 'Default Label',\n  },\n};\n\nexport const Required: Story = {\n  args: {\n    children: 'Required Label',\n    required: true,\n  },\n};\n\nexport const Optional: Story = {\n  args: {\n    children: 'Optional Label',\n    optional: true,\n  },\n};\n\nexport const WithHtmlFor: Story = {\n  render: () => (\n    <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>\n      <DynLabel htmlFor=\"example-input\" required>\n        Email Address\n      </DynLabel>\n      <input\n        id=\"example-input\"\n        type=\"email\"\n        placeholder=\"Enter your email\"\n        style={{ padding: '8px', border: '1px solid #ccc', borderRadius: '4px' }}\n      />\n    </div>\n  ),\n};\n\nexport const AllVariants: Story = {\n  render: () => (\n    <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\n      <DynLabel>Basic Label</DynLabel>\n      <DynLabel required>Required Label</DynLabel>\n      <DynLabel optional>Optional Label</DynLabel>\n      <DynLabel className=\"custom-style\" style={{ color: '#007acc' }}>Styled Label</DynLabel>\n    </div>\n  ),\n};\n\n\n--- Styles (DynLabel.module.css) ---\n/**\n * DynLabel Component Styles - Option B: Full Token Integration\n * 100% Design Token Compliance\n */\n\n/* ============================================\n   COMPONENT TOKENS\n   ============================================ */\n\n:root {\n  /* Color tokens - semantic for auto theme switching */\n  --dyn-label-text-color: var(--dyn-semantic-text);\n  --dyn-label-text-color-secondary: var(--dyn-semantic-text-secondary);\n  --dyn-label-text-color-required: var(--dyn-feedback-negative-default);\n  --dyn-label-text-color-disabled: var(--dyn-semantic-text-muted);\n  --dyn-label-text-color-focus: var(--dyn-theme-primary);\n\n  /* Typography tokens */\n  --dyn-label-font-size: var(--dyn-font-size-sm);\n  --dyn-label-font-size-help: var(--dyn-font-size-xs);\n  --dyn-label-font-weight: var(--dyn-font-weight-medium);\n\n  /* Spacing tokens */\n  --dyn-label-gap: var(--dyn-spacing-xs);\n  --dyn-label-transition: color var(--dyn-transition-fast);\n}\n\n.container {\n  display: flex;\n  flex-direction: column;\n  gap: var(--dyn-label-gap);\n  width: 100%;\n  text-align: left;\n}\n\n/* ============================================\n   LABEL ELEMENT\n   ============================================ */\n\n.label {\n  display: inline-block;\n  margin-bottom: 0;\n  font-family: inherit;\n  font-weight: var(--dyn-label-font-weight);\n  font-size: var(--dyn-label-font-size);\n  color: var(--dyn-label-text-color);\n  transition: var(--dyn-label-transition);\n}\n\n.text {\n  display: flex;\n  align-items: center;\n  gap: var(--dyn-label-gap);\n}\n\n/* ============================================\n   REQUIREMENT INDICATORS\n   ============================================ */\n\n.requirement {\n  font-size: 0.875em;\n  font-weight: normal;\n  color: var(--dyn-label-text-color-secondary);\n}\n\n.asterisk {\n  color: var(--dyn-label-text-color-required, #dc2626);\n  font-weight: bold;\n  margin-left: var(--dyn-label-gap, 0.25rem);\n}\n\n.optionalText {\n  color: var(--dyn-label-text-color-secondary);\n  font-style: italic;\n  font-weight: normal;\n}\n\n/* ============================================\n   HELP TEXT\n   ============================================ */\n\n.helpText {\n  font-size: var(--dyn-label-font-size-help);\n  color: var(--dyn-label-text-color-secondary);\n  line-height: 1.5;\n  margin-top: var(--dyn-label-gap);\n}\n\n/* ============================================\n   STATES\n   ============================================ */\n\n.label.disabled {\n  color: var(--dyn-label-text-color-disabled);\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n\n.label:focus-within .text {\n  color: var(--dyn-label-text-color-focus);\n}\n\n/* ============================================\n   DARK MODE\n   Note: Handled automatically via semantic tokens!\n   ============================================ */", "metadata": {"type": "ui_component", "name": "DynLabel", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynLabel"}, "embedding": [-0.055126287043094635, 0.07937068492174149, -0.03634580969810486, 0.04324126988649368, 0.019948715344071388, 0.129564568400383, 0.02148871123790741, 0.05978221446275711, -0.010061942040920258, -0.022404255345463753, -0.05325717478990555, -0.057177599519491196, -0.04245568811893463, 0.05133645609021187, 0.03342833369970322, 0.03643703833222389, 0.021656451746821404, -0.08450146019458771, -0.010038298554718494, -0.021602172404527664, 0.005042748060077429, -0.014590634033083916, 0.07605836540460587, 0.019388211891055107, -0.009606409817934036, 0.03772071748971939, -0.0244675911962986, -0.010002553462982178, 0.035667676478624344, 0.02387416735291481, -0.023667950183153152, 0.021981162950396538, -0.06619339436292648, -0.00771581893786788, -0.03124714270234108, 0.05585494637489319, -0.06907080113887787, 0.06486578285694122, -0.02632458508014679, -0.047255173325538635, 0.04780245199799538, 0.04501485079526901, -0.02234816737473011, -0.07828861474990845, 0.025662072002887726, -0.013832898810505867, -0.028192855417728424, -0.05506842955946922, -0.0691620260477066, -0.009571378119289875, 0.007003623992204666, 0.022291509434580803, 0.028952723369002342, -0.06607577204704285, 0.056948017328977585, 0.057429198175668716, 0.10740090906620026, -0.0029649771749973297, -0.0211955439299345, 0.06035006046295166, -0.01966322399675846, -0.020045913755893707, 0.027852565050125122, -0.08290262520313263, 0.02454276569187641, 0.08309728652238846, -0.02145886979997158, -0.005301059689372778, -0.04127168655395508, -0.010814874432981014, -0.052428822964429855, 0.0070119802840054035, 0.08023028820753098, -0.038121238350868225, 0.035982828587293625, -0.08339694887399673, -0.029306862503290176, 0.029568973928689957, 0.03388847038149834, -0.016426218673586845, 0.0484989657998085, 0.05820678919553757, -0.011683149263262749, 0.06933098286390305, 0.01803615689277649, 0.11809470504522324, 0.008593938313424587, -0.00891092699021101, -0.03592689335346222, -0.0946466475725174, 0.03666297718882561, -0.1178755834698677, 0.008646516129374504, 0.04772074148058891, 0.01322171837091446, 0.07980772107839584, -0.0830424502491951, 0.06312919408082962, -0.05864538624882698, 0.00804829876869917, 0.007322183344513178, -0.09225450456142426, -0.01067067589610815, -0.0006199262570589781, -0.02760329097509384, -0.06969565898180008, 0.06989865005016327, -0.03159939497709274, -0.002425989368930459, -0.013375760987401009, 0.006994248367846012, 0.03211476281285286, -0.07630516588687897, 0.08007438480854034, -0.10533367097377777, -0.029422231018543243, 0.07335665822029114, -0.054713424295186996, 0.06812169402837753, -0.049971576780080795, 0.0012601098278537393, -0.0016230903565883636, 0.05707395449280739, 0.042687032371759415, 0.006007527466863394, 0.013593092560768127, 0.039672695100307465, 7.578651586725268e-33, 0.010866926051676273, 0.07566750794649124, -0.0049996827729046345, -0.010615875013172626, -0.0018910642247647047, -0.05735577270388603, -0.02476421371102333, -0.06282851845026016, 0.014113705605268478, 0.018634485080838203, 0.07784373313188553, 0.051662418991327286, -0.05841019004583359, -0.04964025318622589, -0.07463396340608597, -0.1090276911854744, 0.08526729792356491, 0.011678805574774742, 0.019793415442109108, -0.08345735818147659, 0.008970826864242554, 0.08274772018194199, -0.005108220968395472, -0.03708765283226967, 0.04987502098083496, -0.06096019223332405, -0.10621849447488785, 0.10589656978845596, -0.023630401119589806, -0.06851430237293243, 0.060819078236818314, -0.08934006094932556, 0.06882058829069138, 0.06407911330461502, -0.0378434844315052, -0.044836197048425674, -0.05815725401043892, -0.005416275467723608, -0.05529896914958954, -0.015389874577522278, 0.0035607069730758667, 0.047717541456222534, 0.003043702570721507, -0.044328413903713226, -0.01742144674062729, 0.007784806191921234, 0.018844975158572197, -0.04424535855650902, 0.047195013612508774, -0.05773276463150978, -0.05249761790037155, 0.02486611157655716, 0.036995090544223785, -0.11855868995189667, 0.038319073617458344, 0.02637927420437336, -0.014146177098155022, 0.017687980085611343, 0.059361957013607025, 0.012402798980474472, -0.03982941806316376, -0.0128755709156394, 0.013159948401153088, -0.03457793965935707, -0.0001509984431322664, 0.04750916361808777, 0.001492675393819809, -0.040988221764564514, 0.04280226677656174, -0.09362105280160904, -0.0299157053232193, -0.029819287359714508, -0.051252592355012894, 0.009702766314148903, 0.09157855063676834, -0.00804992951452732, -0.06942279636859894, -0.02303849346935749, -0.0015560900792479515, -0.018029838800430298, -0.04295516014099121, -0.07767090946435928, -0.04113183915615082, 0.13430722057819366, 0.10049979388713837, -0.00608427356928587, -0.07066334038972855, -0.054308466613292694, 0.0820542573928833, 0.02896549180150032, 0.007630189880728722, -0.04478061571717262, -0.07566442340612411, -0.04076007008552551, -0.017916390672326088, -8.292077475338545e-33, 0.018337616696953773, 0.01738172024488449, -0.04008592665195465, -0.02730286866426468, 0.016797158867120743, 0.02321956865489483, 0.07631222903728485, 0.07695864886045456, 0.045871518552303314, 0.04576830193400383, 0.07103501260280609, -0.004071031231433153, 0.05052972584962845, -0.044418130069971085, -0.09949274361133575, 0.06951676309108734, -0.08694475889205933, 0.06033637374639511, 0.0494527705013752, 0.006533529609441757, 0.041891273111104965, 0.07463882118463516, 0.0006523009506054223, 0.03913884982466698, -0.09538645297288895, 0.06778833270072937, 0.05469130352139473, 0.045121338218450546, 0.01912715844810009, -0.05843909829854965, 0.0057375370524823666, 0.011346675455570221, 0.01473074872046709, 0.038410525768995285, -0.02798321470618248, -0.050209369510412216, -0.013694936409592628, 0.059994328767061234, -0.11980761587619781, 0.03121534362435341, -0.008711977861821651, 0.026447677984833717, -0.03036625124514103, 0.045669738203287125, -0.09098052978515625, -0.02210131473839283, 0.0019361537415534258, -0.026294730603694916, -0.03486230969429016, 0.019580340012907982, 0.02654893882572651, -0.10667967051267624, -0.024878567084670067, -0.03236188739538193, -0.044606465846300125, -0.03201066330075264, 0.03038574568927288, 0.0025219323579221964, 0.01991010271012783, 0.0547444112598896, 0.030966633930802345, -0.03191923722624779, -0.031105246394872665, -0.010999572463333607, 0.05881210044026375, -0.07234746962785721, -0.13653044402599335, 0.012379391118884087, 0.06371735036373138, 0.039939749985933304, 0.09160693734884262, 0.09749162942171097, -0.008217979222536087, -0.02993461675941944, 0.009038491174578667, -0.019561251625418663, 0.023656625300645828, 0.005769562441855669, 0.05278315395116806, -0.02492283657193184, 0.07465588301420212, 0.03426804021000862, -0.04691086336970329, 0.037573542445898056, 0.0071897609159350395, -0.024249156937003136, -9.399055852554739e-05, 0.06817597150802612, 0.0025655038189142942, 0.028653660789132118, -0.010148628614842892, 0.013522849418222904, -0.02376664988696575, 0.13932445645332336, -0.013313018716871738, -5.8033833738591056e-08, -0.02387787215411663, -0.03061874769628048, -0.07129905372858047, -0.08973409235477448, -0.06578005105257034, -0.07662425190210342, 0.019226500764489174, -0.08350841701030731, -0.004917055834084749, -0.008875254541635513, -0.03241925686597824, 0.0494210310280323, -0.07485479861497879, -0.07736105471849442, -0.03515167161822319, 0.036317888647317886, -0.021417737007141113, 0.05275605618953705, -0.0009905076585710049, 0.04682851955294609, 0.00473124161362648, -0.030782420188188553, -0.08086526393890381, 0.02514486201107502, 0.1045408770442009, -0.021537702530622482, 0.03531046211719513, 0.03219681978225708, 0.061373572796583176, 0.03514014184474945, -0.011158700101077557, -0.005020728800445795, -0.022694101557135582, 0.026777595281600952, -0.030899832025170326, 0.01210642047226429, -0.06624802201986313, -0.09839124232530594, 0.10043608397245407, 0.059896133840084076, 0.011030545458197594, 0.03965853154659271, -0.05879543721675873, 0.008503592573106289, 0.001522660837508738, 0.016928667202591896, -0.07732151448726654, -0.0009797256207093596, 0.04171984642744064, -0.013076605275273323, -0.04228224977850914, -0.043590426445007324, -0.06008491665124893, 0.07723075151443481, -0.05327650159597397, 0.013783232308924198, -0.025144699960947037, 0.04867088794708252, -0.023210056126117706, 0.007900707423686981, 0.06988861411809921, -0.003845861181616783, 0.1040164977312088, -0.05940013751387596]}, {"id": "dyn_ui_component_DynListView", "text": "# Component: DynListView\n\n--- Types (DynListView.types.ts) ---\nimport { BaseComponentProps, AccessibilityProps } from '../../types';\nimport { ReactNode } from 'react';\n\nexport interface ListViewItem {\n  id: string | number;\n  label?: string;\n  value?: any;\n  description?: string;\n  icon?: string | ReactNode;\n  disabled?: boolean;\n  selected?: boolean;\n  [key: string]: any;\n}\n\nexport interface ListViewTemplate {\n  primary?: string;\n  secondary?: string;\n  icon?: string;\n  image?: string;\n  actions?: string[];\n}\n\nexport interface ListAction {\n  key: string;\n  title: string;\n  icon?: string;\n  type?: 'default' | 'primary' | 'danger';\n  onClick: (item: any, index: number) => void;\n  visible?: (item: any) => boolean;\n  disabled?: (item: any) => boolean;\n}\n\nexport type ListViewSize = 'sm' | 'md' | 'lg';\n\nexport interface DynListViewProps extends BaseComponentProps, AccessibilityProps {\n  /** Items to display in list */\n  items?: ListViewItem[];\n\n  /** Data array to display (legacy alias for items) */\n  data?: ListViewItem[];\n\n  /** Currently selected value(s) */\n  value?: string | string[];\n\n  /** Default selected value(s) */\n  defaultValue?: string | string[];\n\n  /** Allow multiple selections */\n  multiSelect?: boolean;\n\n  /** Disable entire list */\n  disabled?: boolean;\n\n  /** Selection change handler */\n  onChange?: (value: string | string[], items: ListViewItem | ListViewItem[]) => void;\n\n  /** Available actions for each item */\n  actions?: ListAction[];\n\n  /** Loading state */\n  loading?: boolean;\n\n  /** List item size */\n  size?: ListViewSize;\n\n  /** Show borders around items */\n  bordered?: boolean;\n\n  /** Enable item selection */\n  selectable?: boolean;\n\n  /** Currently selected item keys */\n  selectedKeys?: string[];\n\n  /** Function to get unique key for each item */\n  itemKey?: string | ((item: ListViewItem) => string);\n\n  /** Custom item renderer */\n  renderItem?: (item: ListViewItem, index: number) => ReactNode;\n\n  /** Selection change callback */\n  onSelectionChange?: (keys: string[], items: ListViewItem[]) => void;\n\n  /** Text to show when no data */\n  emptyText?: string;\n\n  /** Fixed height for scrollable list */\n  height?: number | string;\n\n  /** Text shown during loading state */\n  loadingText?: string;\n\n  /** Text for select all checkbox */\n  selectAllText?: string;\n\n  /** Text for expand button */\n  expandText?: string;\n\n  /** Text for collapse button */\n  collapseText?: string;\n\n  /** Show dividers between items */\n  dividers?: boolean;\n\n  /** Show striped backgrounds (zebra pattern) */\n  striped?: boolean;\n\n  /** ARIA label for list */\n  'aria-label'?: string;\n\n  /** ARIA labelledby for list */\n  'aria-labelledby'?: string;\n}\n\nexport interface DynListViewRef {\n  focus: () => void;\n  selectAll: () => void;\n  clearSelection: () => void;\n}\n\n--- Component (DynListView.tsx) ---\nimport React, { forwardRef, useEffect, useImperativeHandle, useMemo, useRef, useState, useId } from 'react';\nimport { cn } from '../../utils/classNames';\nimport styles from './DynListView.module.css';\nimport type { DynListViewProps, DynListViewRef, ListViewItem, ListAction } from './DynListView.types';\nimport { DynIcon } from '../DynIcon';\nimport { DynCheckbox } from '../DynCheckbox';\nimport { DynButton } from '../DynButton';\nimport { DynStack } from '../DynStack';\nimport { DynBox } from '../DynBox';\nimport { DynLoading } from '../DynLoading';\n\n\nconst isComplexItem = (item: any) => {\n  // Consider item complex if it has more than typical display fields\n  const displayKeys = new Set(['id', 'title', 'label', 'value', 'description', 'icon', 'disabled', 'selected']);\n  const keys = Object.keys(item || {});\n  return keys.filter(k => !displayKeys.has(k)).length >= 3; // threshold can be tuned\n};\n\nexport const DynListView = forwardRef<HTMLDivElement, DynListViewProps>(function DynListView(\n  {\n    items = [],\n    data = [], // legacy alias\n    value,\n    defaultValue,\n    multiSelect = false,\n    selectable = false,\n    disabled = false,\n    loading = false,\n    emptyText = 'No data available',\n    loadingText = 'Loading...',\n    selectAllText = 'Select All',\n    expandText = 'Expand',\n    collapseText = 'Collapse',\n    dividers = false,\n    striped = false,\n    actions = [],\n    renderItem,\n    size,\n    height,\n    bordered = false,\n    selectedKeys = [],\n    itemKey,\n    onChange,\n    onSelectionChange,\n    className,\n    id,\n    'aria-label': ariaLabel,\n    'aria-labelledby': ariaLabelledBy,\n    'data-testid': dataTestId,\n    ...rest\n  }, ref) {\n\n  // Internal ref for imperative handle\n  const rootRef = useRef<HTMLDivElement>(null);\n\n  // Use items prop, fallback to data for backward compatibility\n  const listItems = items.length > 0 ? items : data;\n\n  const generatedId = useId();\n  const internalId = id || generatedId;\n  const isControlled = value !== undefined;\n  const [selected, setSelected] = useState<string[] | string | undefined>(\n    value ?? (multiSelect ? [] : defaultValue)\n  );\n  const [activeIndex, setActiveIndex] = useState(0);\n  const [expanded, setExpanded] = useState<Record<string, boolean>>({});\n\n  useEffect(() => {\n    if (isControlled) setSelected(value as any);\n  }, [isControlled, value]);\n\n  const itemIds = useMemo(() =>\n    listItems.map((_, i) => `${internalId}-option-${i}`),\n    [listItems, internalId]\n  );\n\n  const getItemKey = (item: ListViewItem, index: number): string => {\n    if (typeof itemKey === 'function') return itemKey(item);\n    if (typeof itemKey === 'string') return String((item as any)[itemKey]);\n    return item.id ? String(item.id) : item.value ? String(item.value) : String(index);\n  };\n\n  const isSelected = (val: string) => {\n    return multiSelect || selectable ? Array.isArray(selected) && selected.includes(val) : selected === val;\n  };\n\n  const commit = (vals: string[] | string) => {\n    if (!isControlled) setSelected(vals as any);\n\n    const valArray = Array.isArray(vals) ? vals : [vals];\n    const selectedItems = listItems.filter((item, idx) => valArray.includes(getItemKey(item, idx)));\n\n    onChange?.(vals as any, (multiSelect || selectable) ? selectedItems : selectedItems[0]);\n    onSelectionChange?.(valArray, selectedItems);\n  };\n\n  const toggle = (val: string) => {\n    if (disabled) return;\n    if (multiSelect || selectable) {\n      const current = Array.isArray(selected) ? selected : [];\n      const next = current.includes(val) ? current.filter(v => v !== val) : [...current, val];\n      commit(next);\n    } else {\n      commit(val);\n    }\n  };\n\n  const moveActive = (delta: number) => {\n    const count = listItems.length;\n    if (!count) return;\n    setActiveIndex(idx => (idx + delta + count) % count);\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLDivElement>) => {\n    switch (e.key) {\n      case 'ArrowDown': e.preventDefault(); moveActive(1); break;\n      case 'ArrowUp': e.preventDefault(); moveActive(-1); break;\n      case 'Home': e.preventDefault(); setActiveIndex(0); break;\n      case 'End': e.preventDefault(); setActiveIndex(Math.max(0, listItems.length - 1)); break;\n      case 'Enter':\n      case ' ': {\n        e.preventDefault();\n        const item = listItems[activeIndex];\n        if (item) {\n          const key = getItemKey(item, activeIndex);\n          toggle(key);\n        }\n        break;\n      }\n    }\n  };\n\n  const badgeSize = size === 'sm' ? 'xs' : 'sm';\n  const iconSize = size === 'sm' ? 'xs' : 'sm';\n  // Match DynTable button sizing logic\n  const buttonSize = size === 'sm' ? 'xs' : (size === 'lg' ? 'md' : 'sm');\n\n  const rootClasses = cn(\n    styles.root,\n    size === 'sm' && styles['sizeSm'],\n    size === 'lg' && styles['sizeLg'],\n    bordered && styles.bordered,\n    dividers && styles.dividers,\n    striped && styles.striped,\n    className\n  );\n\n  const rootStyle = height ? {\n    height: typeof height === 'number' ? `${height}px` : String(height)\n  } : undefined;\n\n  const allKeys = listItems.map((item, i) => getItemKey(item, i));\n  const allChecked = (multiSelect || selectable) && allKeys.length > 0 && allKeys.every(k => isSelected(k));\n\n  // Expose imperative methods via ref\n  useImperativeHandle(ref, () => ({\n    focus: () => rootRef.current?.focus(),\n    selectAll: () => commit(allKeys),\n    clearSelection: () => commit(multiSelect ? [] : ''),\n  }) as unknown as HTMLDivElement, [allKeys, multiSelect, commit]);\n\n  return (\n    <div\n      ref={rootRef}\n      id={internalId}\n      role=\"listbox\"\n      aria-multiselectable={multiSelect || selectable || undefined}\n      aria-label={ariaLabel}\n      aria-labelledby={ariaLabelledBy}\n      aria-activedescendant={listItems[activeIndex] ? itemIds[activeIndex] : undefined}\n      aria-busy={loading}\n      aria-disabled={disabled || undefined}\n      className={rootClasses}\n      data-testid={dataTestId || 'dyn-listview'}\n      tabIndex={disabled ? -1 : 0}\n      onKeyDown={handleKeyDown}\n      style={rootStyle}\n      {...rest}\n    >\n      {(multiSelect || selectable) && (\n        <DynBox\n          display=\"flex\"\n          align=\"center\"\n          gap={size === 'sm' ? 'xs' : size === 'lg' ? 'md' : 'sm'}\n          px={size === 'sm' ? 'sm' : size === 'lg' ? 'lg' : 'md'}\n          py={size === 'sm' ? '2xs' : size === 'lg' ? 'md' : 'sm'}\n          className={cn(\n            styles.option,\n            size === 'sm' && styles['optionSm'],\n            size === 'lg' && styles['optionLg']\n          )}\n          role=\"option\"\n          aria-selected={allChecked}\n        >\n          <DynBox display=\"flex\" align=\"center\" justify=\"center\" onClick={(e: any) => e.stopPropagation()} style={{ flex: 'none' }}>\n            <DynCheckbox\n              size={buttonSize}\n              checked={allChecked}\n              onChange={() => commit(allChecked ? [] : allKeys)}\n              aria-label={selectAllText}\n            />\n          </DynBox>\n          <DynBox width=\"50%\" display=\"flex\" align=\"center\" gap=\"sm\">\n            <span className={cn(\n              styles.optionLabel,\n              size === 'sm' && styles['optionLabelSm'],\n              size === 'lg' && styles['optionLabelLg']\n            )}>{selectAllText}</span>\n          </DynBox>\n        </DynBox>\n      )}\n\n      {loading ? (\n        <div role=\"status\" className={styles.loading}>\n          <DynLoading label={loadingText} size={size === 'lg' ? 'lg' : size === 'sm' ? 'sm' : 'md'} />\n        </div>\n      ) : listItems.length === 0 ? (\n        <div role=\"note\" className={styles.empty}>\n          {emptyText}\n        </div>\n      ) : (\n        listItems.map((item, i) => {\n          const key = getItemKey(item, i);\n          const selectedState = isSelected(key);\n          const title = (item as any).title ?? (item as any).label ?? (item as any).name ?? (item as any).value ?? String((item as any).id ?? i + 1);\n          const desc = (item as any).description ?? (item as any).email ?? (item as any).role;\n          const complex = isComplexItem(item);\n\n          return (\n            <DynBox\n              key={key}\n              id={itemIds[i]}\n              role=\"option\"\n              aria-selected={selectedState}\n              aria-setsize={listItems.length}\n              aria-posinset={i + 1}\n              direction=\"column\"\n              align=\"stretch\"\n              gap=\"none\"\n              px={size === 'sm' ? 'sm' : size === 'lg' ? 'lg' : 'md'}\n              py={size === 'sm' ? '2xs' : size === 'lg' ? 'md' : 'sm'}\n              radius=\"sm\"\n              className={cn(\n                styles.option,\n                size === 'sm' && styles['optionSm'],\n                size === 'lg' && styles['optionLg'],\n                selectedState && styles.optionSelected,\n                i === activeIndex && styles.optionActive,\n                item.disabled && styles.optionDisabled\n              )}\n              onMouseEnter={() => !item.disabled && setActiveIndex(i)}\n              onMouseDown={(e: any) => e.preventDefault()}\n              onClick={() => !item.disabled && toggle(key)}\n            >\n              <DynBox\n                display=\"flex\"\n                direction=\"row\"\n                align=\"center\"\n                width=\"100%\"\n                gap={size === 'sm' ? 'xs' : size === 'lg' ? 'md' : 'sm'}\n                minHeight={size === 'sm' ? '2rem' : size === 'lg' ? '3.5rem' : '2.5rem'}\n              >\n                {(selectable || multiSelect) && (\n                  <DynBox display=\"flex\" direction=\"row\" align=\"center\" justify=\"center\" onClick={(e: any) => e.stopPropagation()} style={{ flex: 'none' }}>\n                    <DynCheckbox\n                      size={buttonSize}\n                      checked={!!selectedState}\n                      disabled={item.disabled}\n                      onChange={() => !item.disabled && toggle(key)}\n                      aria-label={`Select ${title}`}\n                    />\n                  </DynBox>\n                )}\n\n                <DynBox\n                  display=\"flex\"\n                  direction=\"row\"\n                  align=\"center\"\n                  gap=\"sm\"\n                  className={styles.optionContentWrapper}\n                  style={{ minWidth: 0, flex: 1 }}\n                >\n                  {item.icon && (\n                    <DynBox display=\"flex\" direction=\"row\" align=\"center\" justify=\"center\" mr=\"xs\" style={{ flex: 'none' }}>\n                      <DynIcon icon={item.icon} size={iconSize} />\n                    </DynBox>\n                  )}\n                  <DynStack direction=\"vertical\" gap=\"none\" flex={1} style={{ minWidth: 0 }}>\n                    {renderItem ? (\n                      renderItem(item, i)\n                    ) : (\n                      <DynStack direction=\"vertical\" gap={size === 'lg' ? 'xs' : '2xs'}>\n                        <span className={cn(\n                          styles.optionLabel,\n                          size === 'sm' && styles['optionLabelSm'],\n                          size === 'lg' && styles['optionLabelLg']\n                        )}>\n                          {title}\n                        </span>\n                        {desc && (\n                          <span className={cn(\n                            styles.optionDescription,\n                            size === 'sm' && styles['optionDescSm'],\n                            size === 'lg' && styles['optionDescLg']\n                          )}>\n                            {desc}\n                          </span>\n                        )}\n                      </DynStack>\n                    )}\n                  </DynStack>\n                </DynBox>\n\n                {actions && actions.length > 0 && (\n                  <div\n                    className={styles.optionActions}\n                    onClick={(e) => e.stopPropagation()}\n                    style={{ flex: 'none' }}\n                  >\n                    {actions.map((action) => (\n                      <DynButton\n                        key={action.key}\n                        size={buttonSize}\n                        kind={action.type === 'primary' ? 'soft' : action.type === 'danger' ? 'secondary' : 'tertiary'}\n                        color={action.type === 'danger' ? 'danger' : 'primary'}\n                        onClick={() => action.onClick(item, i)}\n                        title={action.title}\n                        icon={action.icon}\n                        label={action.title}\n                      />\n                    ))}\n                  </div>\n                )}\n\n                {complex && (\n                  <DynButton\n                    kind=\"tertiary\"\n                    size={buttonSize}\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      setExpanded(prev => ({ ...prev, [key]: !prev[key] }));\n                    }}\n                    aria-expanded={!!expanded[key]}\n                    label={expanded[key] ? collapseText : expandText}\n                    title={expanded[key] ? collapseText : expandText}\n                  />\n                )}\n              </DynBox>\n\n              {expanded[key] && (\n                <DynBox\n                  mt=\"sm\"\n                  p=\"md\"\n                  background=\"surface\"\n                  border=\"default\"\n                  radius=\"sm\"\n                  className={styles.optionDetails}\n                  width=\"100%\"\n                >\n                  {Object.entries(item).map(([k, v]) => (\n                    <DynBox\n                      key={k}\n                      py=\"2xs\"\n                      style={{ borderBottom: k === Object.keys(item).pop() ? 'none' : '1px solid var(--dyn-semantic-border)' }}\n                    >\n                      <strong>{k}:</strong> {String(v)}\n                    </DynBox>\n                  ))}\n                </DynBox>\n              )}\n            </DynBox>\n          );\n        })\n      )}\n    </div>\n  );\n});\n\nexport default DynListView;\n\n\n--- Usage Examples (DynListView.stories.tsx) ---\nimport type { Meta, StoryObj } from '@storybook/react';\nimport DynListView from './DynListView';\nimport { DynListViewProps, ListAction } from './DynListView.types';\nimport { DynAvatar } from '../DynAvatar';\nimport { DynBadge } from '../DynBadge';\n\nconst meta: Meta<typeof DynListView> = {\n  title: 'Data Display/DynListView',\n  component: DynListView,\n  parameters: {\n    layout: 'padded',\n    docs: {\n      description: {\n        component: 'A flexible list component for displaying and managing collections of data with built-in selection, actions, and expansion capabilities.'\n      }\n    }\n  },\n  tags: ['autodocs'],\n  argTypes: {\n    data: {\n      description: 'Array of data items to display in the list'\n    },\n    size: {\n      control: { type: 'select' },\n      options: ['sm', 'md', 'lg'],\n      description: 'Size variant of the list items'\n    },\n    selectable: {\n      control: 'boolean',\n      description: 'Enable item selection with checkboxes'\n    },\n    bordered: {\n      control: 'boolean',\n      description: 'Show borders around the list'\n    },\n    dividers: {\n      control: 'boolean',\n      description: 'Show dividers between list items'\n    },\n    striped: {\n      control: 'boolean',\n      description: 'Show alternating background colors (zebra pattern)'\n    },\n    loading: {\n      control: 'boolean',\n      description: 'Show loading state'\n    },\n    height: {\n      control: { type: 'number' },\n      description: 'Fixed height for scrollable list'\n    },\n    emptyText: {\n      control: 'text',\n      description: 'Text to show when no data is available'\n    },\n    loadingText: {\n      control: 'text',\n      description: 'Text shown during loading state'\n    },\n    selectAllText: {\n      control: 'text',\n      description: 'Text for the \"Select All\" checkbox'\n    },\n  },\n};\n\nexport default meta;\ntype Story = StoryObj<typeof DynListView>;\n\n// Sample data\nconst sampleData = [\n  { id: 1, title: 'Task 1', description: 'Complete project documentation', priority: 'High', status: 'In Progress' },\n  { id: 2, title: 'Task 2', description: 'Review code changes', priority: 'Medium', status: 'Pending' },\n  { id: 3, title: 'Task 3', description: 'Update dependencies', priority: 'Low', status: 'Completed' },\n  { id: 4, title: 'Task 4', description: 'Fix reported bugs', priority: 'High', status: 'In Progress' },\n  { id: 5, title: 'Task 5', description: 'Optimize performance', priority: 'Medium', status: 'Pending' },\n];\n\nconst users = [\n  { id: 1, name: 'John Doe', email: 'john@example.com', role: 'Admin', active: true },\n  { id: 2, name: 'Jane Smith', email: 'jane@example.com', role: 'User', active: true },\n  { id: 3, name: 'Bob Johnson', email: 'bob@example.com', role: 'User', active: false },\n];\n\nconst sampleActions: ListAction[] = [\n  {\n    key: 'edit',\n    title: 'Edit',\n    type: 'primary',\n    onClick: (item) => alert(`Edit ${item.title || item.name}`),\n  },\n  {\n    key: 'delete',\n    title: 'Delete',\n    type: 'danger',\n    onClick: (item) => alert(`Delete ${item.title || item.name}`),\n  },\n];\n\n// Default story\nexport const Default: Story = {\n  args: {\n    data: sampleData,\n    size: 'md',\n    bordered: true,\n    selectable: false,\n    loading: false,\n  },\n};\n\n// With Selection\nexport const WithSelection: Story = {\n  args: {\n    ...Default.args,\n    selectable: true,\n    selectedKeys: ['1', '3'],\n    onSelectionChange: (keys: string[], items: any[]) => {\n      console.log('Selected keys:', keys);\n      console.log('Selected items:', items);\n    },\n  },\n};\n\n// With Actions\nexport const WithActions: Story = {\n  args: {\n    ...Default.args,\n    actions: sampleActions,\n  },\n};\n\n// Small Size\nexport const SmallSize: Story = {\n  args: {\n    ...Default.args,\n    size: 'sm',\n    data: users,\n  },\n};\n\n// Large Size\nexport const LargeSize: Story = {\n  args: {\n    ...Default.args,\n    size: 'lg',\n    data: users,\n  },\n};\n\n// Loading State\nexport const Loading: Story = {\n  args: {\n    ...Default.args,\n    loading: true,\n  },\n};\n\n// Empty State\nexport const Empty: Story = {\n  args: {\n    ...Default.args,\n    data: [],\n  },\n};\n\n// Custom Empty Text\nexport const CustomEmptyText: Story = {\n  args: {\n    ...Default.args,\n    data: [],\n    emptyText: 'No tasks found. Create your first task to get started!',\n  },\n};\n\n// Fixed Height (Scrollable)\nexport const FixedHeight: Story = {\n  args: {\n    ...Default.args,\n    height: 300,\n    data: [\n      ...sampleData.map(item => ({ ...item, id: `${item.id}-1` })),\n      ...sampleData.map(item => ({ ...item, id: `${item.id}-2` })),\n      ...sampleData.map(item => ({ ...item, id: `${item.id}-3` }))\n    ],\n  },\n};\n\n// Custom Render Item\nexport const CustomRenderItem: Story = {\n  args: {\n    ...Default.args,\n    data: users,\n    renderItem: (user: any) => (\n      <div style={{ display: 'flex', alignItems: 'flex-start', gap: '20px', width: '100%' }}>\n        <DynAvatar\n          alt={user.name}\n          initials={user.name.substring(0, 2).toUpperCase()}\n          status={user.active ? 'online' : 'offline'}\n          size=\"md\"\n        />\n        <div style={{ flex: 1, minWidth: 0 }}>\n          <div style={{ display: 'flex', alignItems: 'center', gap: '8px', marginBottom: '4px' }}>\n            <div style={{ fontWeight: '600', color: 'var(--dyn-semantic-text)' }}>{user.name}</div>\n            <DynBadge\n              variant=\"soft\"\n              color={user.active ? 'success' : 'neutral'}\n              size=\"xs\"\n            >\n              {user.role}\n            </DynBadge>\n          </div>\n          <div style={{ fontSize: '13px', color: 'var(--dyn-semantic-text-secondary)' }}>{user.email}</div>\n        </div>\n      </div>\n    ),\n  },\n};\n\n// All Features Combined\nexport const AllFeatures: Story = {\n  args: {\n    data: sampleData,\n    size: 'md',\n    selectable: true,\n    bordered: true,\n    actions: sampleActions,\n    height: 400,\n    onSelectionChange: (keys: string[], items: any[]) => {\n      console.log('Selection changed:', { keys, items });\n    },\n  },\n};\n\n// With Dividers\nexport const WithDividers: Story = {\n  args: {\n    data: sampleData,\n    size: 'md',\n    bordered: true,\n    dividers: true,\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: 'List items with dividers between them for improved visual separation.'\n      }\n    }\n  }\n};\n\n// Striped Variant\nexport const Striped: Story = {\n  args: {\n    data: sampleData,\n    size: 'md',\n    bordered: true,\n    striped: true,\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: 'Alternating background colors (zebra pattern) for better scannability.'\n      }\n    }\n  }\n};\n\n// Dividers with Selection\nexport const DividersWithSelection: Story = {\n  args: {\n    data: sampleData,\n    size: 'md',\n    bordered: true,\n    dividers: true,\n    selectable: true,\n  },\n};\n\n// Striped with Actions\nexport const StripedWithActions: Story = {\n  args: {\n    data: sampleData,\n    size: 'md',\n    bordered: true,\n    striped: true,\n    actions: sampleActions,\n  },\n};\n\n// Localized Text\nexport const LocalizedText: Story = {\n  args: {\n    data: [],\n    bordered: true,\n    loading: false,\n    emptyText: 'Nema dostupnih podataka',\n    loadingText: 'U\u010ditavanje...',\n    selectAllText: 'Izaberi sve',\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: 'Example with localized (Serbian) text for internationalization support.'\n      }\n    }\n  }\n};\n\n// Loading with Custom Text\nexport const LoadingCustomText: Story = {\n  args: {\n    data: [],\n    bordered: true,\n    loading: true,\n    loadingText: 'Please wait, loading data...',\n  },\n};\n\n// Combined Variants (Dividers + Striped)\nexport const CombinedVariants: Story = {\n  args: {\n    data: [\n      ...sampleData.map(item => ({ ...item, id: `${item.id}-1` })),\n      ...sampleData.map(item => ({ ...item, id: `${item.id}-2` }))\n    ],\n    size: 'md',\n    bordered: true,\n    dividers: true,\n    striped: true,\n    height: 400,\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: 'Both dividers and striped enabled for maximum visual distinction.'\n      }\n    }\n  }\n};\n\n\n--- Styles (DynListView.module.css) ---\n/**\n * DynListView Component Styles - Option B: Full Token Integration\n * 100% Design Token Compliance\n */\n\n/* ============================================\n   COMPONENT TOKENS\n   ============================================ */\n\n.root {\n  /* Component Tokens - 3-Level Fallback Pattern */\n  --dyn-list-view-item-min-height-sm: var(--dyn-list-item-height-sm, 1.75rem);\n  --dyn-list-view-item-min-height-md: var(--dyn-list-item-height-md, 3rem);\n  --dyn-list-view-item-min-height-lg: var(--dyn-list-item-height-lg, 5rem);\n  --dyn-list-view-item-min-height-mobile: var(--dyn-list-item-height-mobile, 2.75rem);\n  --dyn-list-view-checkbox-size: var(--dyn-list-checkbox-size, 1.125rem);\n  --dyn-list-view-focus-outline-offset: var(--dyn-list-focus-offset, var(--dyn-spacing-2xs, 2px));\n  --dyn-list-view-divider-color: var(--dyn-list-divider, var(--dyn-semantic-border, #e2e8f0));\n  --dyn-list-view-stripe-bg: var(--dyn-list-stripe, var(--dyn-semantic-surface, #f8fafc));\n\n  /* Color tokens - 3-level fallback */\n  --dyn-list-view-bg: var(--dyn-list-background, var(--dyn-semantic-background, #ffffff));\n  --dyn-list-view-border: var(--dyn-list-border, var(--dyn-semantic-border, #cbd5e1));\n  --dyn-list-view-text-primary: var(--dyn-list-text, var(--dyn-semantic-text, #111827));\n  --dyn-list-view-text-secondary: var(--dyn-list-text-secondary, var(--dyn-semantic-text-secondary, #64748b));\n  --dyn-list-view-item-bg-hover: var(--dyn-list-item-hover, var(--dyn-semantic-surface-hover, #f1f5f9));\n  --dyn-list-view-item-bg-active: var(--dyn-list-item-active, var(--dyn-semantic-surface-active, #e0e7ff));\n  --dyn-list-view-item-border-active: var(--dyn-list-item-border-active, var(--dyn-theme-primary, #3b82f6));\n  --dyn-list-view-item-bg-selected: var(--dyn-list-item-selected-bg, var(--dyn-semantic-surface-active, #dbeafe));\n  --dyn-list-view-item-color-selected: var(--dyn-list-item-selected-text, var(--dyn-theme-primary, #2563eb));\n\n  /* Layout tokens */\n  --dyn-list-view-radius: var(--dyn-list-radius, var(--dyn-border-radius-md, 6px));\n  --dyn-list-view-padding: var(--dyn-list-padding, var(--dyn-spacing-sm, 8px));\n  --dyn-list-view-item-padding: var(--dyn-list-item-padding, var(--dyn-spacing-sm, 8px));\n\n  /* Base styles */\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  background: var(--dyn-list-view-bg, var(--dyn-semantic-background, #ffffff));\n  border: var(--dyn-border-width-sm, 1px) solid var(--dyn-list-view-border, var(--dyn-semantic-border, #cbd5e1));\n  border-radius: var(--dyn-list-view-radius, var(--dyn-border-radius-md, 6px));\n  padding: var(--dyn-list-view-padding, var(--dyn-spacing-sm, 8px));\n  font-family: inherit;\n  overflow-y: auto;\n  outline: none;\n}\n\n.root:focus-visible {\n  outline: var(--dyn-border-width-md, 2px) solid var(--dyn-semantic-border-focus, #3b82f6);\n  outline-offset: var(--dyn-list-view-focus-outline-offset, var(--dyn-spacing-2xs, 2px));\n}\n\n/* ============================================\n   ROOT VARIANTS\n   ============================================ */\n\n.bordered {\n  border-width: var(--dyn-border-width-md);\n}\n\n.sizeSm {\n  padding: var(--dyn-spacing-xs);\n}\n\n.sizeLg {\n  padding: var(--dyn-spacing-md);\n}\n\n/* ============================================\n   OPTION (LIST ITEM)\n   ============================================ */\n\n.option {\n  cursor: pointer;\n  transition: all var(--dyn-transition-fast, 0.15s ease);\n  user-select: none;\n  background: transparent;\n  border: var(--dyn-border-width-sm, 1px) solid transparent;\n  padding: var(--dyn-list-view-item-padding);\n  border-radius: var(--dyn-border-radius-sm, 4px);\n  min-height: var(--dyn-list-view-item-min-height-md);\n}\n\n.option:hover:not(.optionDisabled) {\n  background: var(--dyn-list-view-item-bg-hover);\n}\n\n.optionActive:not(.optionDisabled) {\n  background: var(--dyn-list-view-item-bg-active);\n  border-color: var(--dyn-list-view-item-border-active);\n}\n\n.optionSelected {\n  background: var(--dyn-list-view-item-bg-selected, var(--dyn-semantic-surface-active, #dbeafe));\n  color: var(--dyn-list-view-item-color-selected, var(--dyn-theme-primary, #2563eb));\n  font-weight: var(--dyn-font-weight-medium, 500);\n}\n\n.optionDisabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n  pointer-events: none;\n}\n\n\n\n/* ============================================\n   CHECKBOX\n   ============================================ */\n\n.checkboxWrapper {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n}\n\n/* ============================================\n   CONTENT\n   ============================================ */\n\n.optionContent {\n  display: flex;\n  flex-direction: column;\n  gap: var(--dyn-spacing-xs, 4px);\n  min-width: 0;\n}\n\n.optionLabel {\n  font-size: var(--dyn-font-size-sm, 0.875rem);\n  font-weight: var(--dyn-font-weight-semibold, 600);\n  line-height: 1.4;\n  color: var(--dyn-list-view-text-primary, #111827);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.optionLabel a {\n  color: var(--dyn-link-color, var(--dyn-theme-primary, #2563eb));\n  text-decoration: var(--dyn-link-textDecoration, none);\n  transition: all var(--dyn-link-transition, var(--dyn-transition-normal, 0.2s));\n}\n\n.optionLabel a:hover {\n  color: var(--dyn-link-hover-color, var(--dyn-action-hover, #1d4ed8));\n  text-decoration: var(--dyn-link-hover-textDecoration, underline);\n}\n\n.optionLabelSm {\n  font-size: var(--dyn-font-size-2xs, 0.6875rem);\n}\n\n.optionLabelLg {\n  font-size: var(--dyn-font-size-lg, 1.25rem);\n}\n\n.optionDescription {\n  font-size: var(--dyn-font-size-xs);\n  font-weight: var(--dyn-font-weight-normal);\n  line-height: 1.6;\n  color: var(--dyn-list-view-text-secondary);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.optionDescSm {\n  font-size: var(--dyn-font-size-3xs, 0.625rem);\n}\n\n.optionDescLg {\n  font-size: var(--dyn-font-size-md, 1rem);\n}\n\n.optionContentWrapper {\n  display: flex;\n  align-items: center;\n  gap: var(--dyn-spacing-sm, 8px);\n  min-width: 0;\n}\n\n.optionIcon {\n  flex-shrink: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--dyn-list-view-text-secondary);\n}\n\n/* ============================================\n   EXPAND BUTTON\n   ============================================ */\n\n/* .optionExpand and related styles removed - handled by DynButton */\n\n/* ============================================\n   ACTIONS\n   ============================================ */\n\n/* Internal elements scaling is handled by passing props, \n   CSS overrides are only for layout positioning */\n.optionActions {\n  display: flex;\n  gap: var(--dyn-spacing-xs, 0.25rem);\n  /* Tighter gap matching DynTable */\n  align-items: center;\n  justify-content: flex-end;\n}\n\n/* Actions buttons should follow standard DynButton sizing */\n\n/* ============================================\n   DETAILS\n   ============================================ */\n\n.optionDetails {\n  margin-top: var(--dyn-spacing-sm);\n  padding: var(--dyn-spacing-md);\n  background: var(--dyn-semantic-surface);\n  border: var(--dyn-border-width-sm, 1px) solid var(--dyn-list-view-border);\n  border-radius: var(--dyn-border-radius-sm);\n  font-size: var(--dyn-list-view-details-font-size, var(--dyn-font-size-xs));\n  line-height: 1.6;\n}\n\n.sizeSm .optionDetails {\n  --dyn-list-view-details-font-size: var(--dyn-font-size-2xs);\n}\n\n.sizeLg .optionDetails {\n  --dyn-list-view-details-font-size: var(--dyn-font-size-md);\n}\n\n.optionDetails>div {\n  padding: var(--dyn-spacing-xs) 0;\n  border-bottom: var(--dyn-border-width-sm, 1px) solid var(--dyn-list-view-border);\n}\n\n.optionDetails>div:last-child {\n  border-bottom: none;\n}\n\n.optionDetails strong {\n  font-weight: var(--dyn-font-weight-semibold);\n  color: var(--dyn-list-view-text-primary);\n  margin-right: var(--dyn-spacing-xs);\n}\n\n/* ============================================\n   LOADING & EMPTY STATES\n   ============================================ */\n\n.loading,\n.empty {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: var(--dyn-spacing-lg);\n  font-size: var(--dyn-font-size-sm);\n  color: var(--dyn-list-view-text-secondary);\n  text-align: center;\n}\n\n/* ============================================\n   RESPONSIVE\n   ============================================ */\n\n@media (max-width: 768px) {\n  .root {\n    padding: var(--dyn-spacing-xs);\n  }\n\n  .option {\n    padding: var(--dyn-spacing-sm);\n    min-height: var(--dyn-list-view-item-min-height-mobile);\n  }\n\n  .optionLabel {\n    font-size: var(--dyn-font-size-xs);\n  }\n\n  .optionActions {\n    flex-wrap: wrap;\n  }\n}\n\n/* ============================================\n   ACCESSIBILITY\n   ============================================ */\n\n@media (prefers-contrast: high) {\n  .root {\n    border-width: var(--dyn-border-width-md);\n  }\n\n  .option {\n    border-width: var(--dyn-border-width-md);\n  }\n\n  .optionActive:not(.optionDisabled) {\n    border-width: var(--dyn-border-width-lg);\n  }\n}\n\n@media (prefers-reduced-motion: reduce) {\n\n  .root,\n  .option,\n  .optionExpand,\n  .actionButton {\n    transition: none;\n  }\n}\n\n/* ============================================\n   DARK MODE\n   Note: Handled automatically via semantic tokens!\n   ============================================ */\n\n/* ============================================\n   DIVIDERS VARIANT\n   ============================================ */\n\n.root.dividers .option:not(:last-child) {\n  border-bottom: var(--dyn-border-width-sm) solid var(--dyn-list-view-divider-color);\n  border-radius: 0;\n}\n\n.root.dividers .option:first-child {\n  border-top-left-radius: var(--dyn-border-radius-sm);\n  border-top-right-radius: var(--dyn-border-radius-sm);\n}\n\n.root.dividers .option:last-child {\n  border-bottom-left-radius: var(--dyn-border-radius-sm);\n  border-bottom-right-radius: var(--dyn-border-radius-sm);\n}\n\n/* ============================================\n   STRIPED VARIANT\n   ============================================ */\n\n.root.striped .option:nth-child(even) {\n  background: var(--dyn-list-view-stripe-bg);\n}\n\n.root.striped .option:nth-child(even):hover:not(.optionDisabled) {\n  background: var(--dyn-list-view-item-bg-hover);\n}", "metadata": {"type": "ui_component", "name": "DynListView", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynListView"}, "embedding": [-0.04424050450325012, -0.0021238538902252913, 0.01181037724018097, 0.08783940970897675, 0.04688908904790878, 0.10932783782482147, 0.06799580901861191, 0.051060814410448074, -0.03216209262609482, 0.01436327863484621, -0.0743105411529541, -0.00605955021455884, -0.08324039727449417, 0.06327257305383682, -0.006732107140123844, 0.07047781348228455, -0.04002414271235466, -0.10644224286079407, 0.001581559656187892, 0.023485615849494934, 0.09109034389257431, -0.028120266273617744, 0.031515222042798996, -0.05709480494260788, 0.03773878514766693, 0.030357304960489273, 0.05067721754312515, -0.03837968781590462, -0.019139325246214867, -0.05486658588051796, -0.037844400852918625, 0.04104125127196312, 0.006303842179477215, 0.04197185859084129, -0.03255889564752579, 0.007061786018311977, -0.019256236031651497, -0.0021306141279637814, -0.014884479343891144, -0.03721703961491585, 0.05275406688451767, 0.07706186920404434, -0.00369355664588511, -0.14585836231708527, 0.002276572398841381, 0.04594101756811142, -0.008961922489106655, -0.05296837538480759, -0.02868374064564705, -0.02877618744969368, 0.02237853966653347, 0.06701766699552536, -0.015325399115681648, -0.07032366096973419, 0.06584259122610092, 0.002167388563975692, 0.03553285822272301, 0.008755451068282127, 0.004930614493787289, 0.006834924686700106, 0.07522007077932358, -0.04277268424630165, 0.03277003392577171, -0.06494586914777756, 0.002132502617314458, 0.07018790394067764, -0.017182717099785805, -0.022035107016563416, 0.04076508805155754, -0.03528944030404091, -0.019550496712327003, -0.011823557317256927, 0.05134508013725281, -0.06015998497605324, 0.009773696772754192, -0.14862897992134094, 0.06798209995031357, -0.05575929954648018, 0.022318020462989807, -0.004678917583078146, 0.02100958302617073, -0.008604747243225574, -0.05298186093568802, 0.032586924731731415, 0.040538936853408813, 0.0841054692864418, -0.05528740584850311, -0.006573632825165987, -0.07916903495788574, -0.008606920950114727, -0.03508450463414192, -0.08365803956985474, 0.030271286144852638, 0.07378344237804413, 0.09290724247694016, 0.03953466936945915, -0.0694206953048706, 0.06875982135534286, -0.12808042764663696, 0.0019500296330079436, 0.030582450330257416, -0.012754824012517929, -0.040726423263549805, 0.027929969131946564, 0.0012461831793189049, -0.030632536858320236, 0.05730162188410759, -0.1556546539068222, -0.07472651451826096, 0.049067914485931396, 0.019224846735596657, 0.06066944822669029, -0.07542726397514343, 0.044911596924066544, -0.10304214805364609, -0.053664788603782654, 0.023628778755664825, -0.04884306713938713, 0.047717224806547165, -0.037582457065582275, 0.08918386697769165, -0.04138736054301262, 0.04010029509663582, -0.007769764866679907, -0.0017593401717022061, 0.028329644352197647, 0.009145690128207207, 7.506900880919014e-33, -0.042782753705978394, -0.027910467237234116, -0.043072137981653214, -0.06164007633924484, 0.010281413793563843, -0.09793832898139954, 0.016450995579361916, -0.03620053082704544, -0.004197494592517614, 0.01734945923089981, 0.08098883181810379, 0.02156919240951538, -0.02802267111837864, 0.04815976694226265, -0.013143625110387802, -0.06334797292947769, 0.10220829397439957, -0.01142211351543665, -0.01622888632118702, -0.06057821586728096, -0.007044726517051458, 0.038278624415397644, -0.12497103214263916, 0.022033927962183952, 0.014935954473912716, -0.016226468607783318, -0.0230230912566185, 0.0641016811132431, -0.003994351252913475, -0.048501040786504745, 0.03532956540584564, -0.04597000777721405, 0.014277423731982708, 0.05491229146718979, -0.02606838569045067, -0.01485762745141983, -0.12559662759304047, -0.009429475292563438, -0.02597961015999317, -0.03648490086197853, 0.0039557828567922115, -0.005922391079366207, -0.056146472692489624, 0.053023166954517365, 0.0006520626484416425, 0.05548699572682381, 0.02832096815109253, 0.0017326766392216086, -0.006713549140840769, -0.0401642732322216, 0.0009959159651771188, 0.009452840313315392, -0.0018647348042577505, -0.14451684057712555, 0.00015357311349362135, 0.001092736143618822, -0.027453027665615082, 0.0056253219954669476, 0.025605393573641777, 0.05304174870252609, -0.08245890587568283, 0.00971274171024561, 0.07940613478422165, -0.006639149971306324, -0.009227264672517776, 0.11176121234893799, 0.014175496995449066, -0.03496863692998886, 0.0047890436835587025, -0.06444136798381805, 0.0048784902319312096, -0.042910076677799225, 0.047451093792915344, -0.021045656874775887, 0.029344461858272552, 0.005332610569894314, -0.030062038451433182, -0.038653694093227386, 0.03457237035036087, -0.04196640104055405, -0.021856408566236496, -0.1097140982747078, -1.795103344193194e-05, 0.11333579570055008, 0.040537524968385696, -0.0514531247317791, -0.00522748613730073, -0.039891567081213, 0.05965149775147438, 0.017483849078416824, -0.06243083253502846, -0.0357859767973423, -0.0207693949341774, -0.050573285669088364, -0.04447931796312332, -1.046874550754396e-32, 0.08477259427309036, 0.04356766864657402, -0.03619183972477913, -0.0720122680068016, -0.054955560714006424, -0.004292805213481188, -0.014671881683170795, 0.06988485157489777, -0.0034058450255542994, 0.021741684526205063, 0.02625386230647564, 5.815404074382968e-05, 0.03452673554420471, -0.07188104838132858, -0.06298181414604187, 0.06383799016475677, -0.044599637389183044, 0.061255551874637604, -0.030735565349459648, -0.026518316939473152, 0.02813609316945076, 0.08318842202425003, 0.041788890957832336, 0.06928842514753342, -0.097874715924263, 0.03206266835331917, 0.06385410577058792, -0.019958827644586563, 0.07183188945055008, -0.032707780599594116, 0.02424846589565277, 0.01954614743590355, 0.02300424873828888, 0.059806257486343384, 0.004894176498055458, 0.0043801479041576385, -0.000237045664107427, 0.02900441363453865, -0.07606025785207748, 0.03516850620508194, -0.026080681011080742, 0.0021897160913795233, -0.012409594841301441, -0.011850597336888313, -0.037582091987133026, -0.08153388649225235, 0.0019568984862416983, 0.05853396654129028, -0.01846214383840561, 0.0620422326028347, 0.049360424280166626, -0.02345619723200798, -0.04511549323797226, -0.02867710404098034, -0.02137407846748829, 0.0423915721476078, 0.02383384481072426, -0.0793759822845459, 0.055080659687519073, 0.01766364648938179, 0.07201780378818512, -0.15542186796665192, -0.08971729874610901, 0.0328923799097538, 0.047518063336610794, -0.06780578941106796, -0.14248797297477722, -0.0021136354189366102, 0.01349265594035387, 0.07429605722427368, 0.04185905307531357, 0.05935592204332352, 0.02586900256574154, -0.07606863975524902, 0.04101160913705826, -0.08119980990886688, 0.020885653793811798, 0.05868222936987877, 0.08200128376483917, 0.005069667007774115, 0.010725412517786026, -0.008205901831388474, 0.05039217323064804, 0.009692469611763954, 0.020353563129901886, -0.02213311567902565, -0.02643481269478798, 0.058884263038635254, 0.04852057620882988, 0.03670662268996239, -0.05023853853344917, -0.06500059366226196, -0.023345941677689552, 0.04754435271024704, -0.020681900903582573, -5.972795236175443e-08, -0.03967925161123276, -0.023333661258220673, -0.0022098785266280174, -0.08046387135982513, -0.012484368868172169, -0.07458826899528503, -0.09621457755565643, -0.09303100407123566, 0.003166829701513052, 0.008877548389136791, -0.056074585765600204, 0.06187239661812782, -0.08443986624479294, -0.014989659190177917, 0.0614880733191967, 0.016698628664016724, -0.011977854184806347, 0.027495823800563812, -0.01673448085784912, 0.05727211758494377, -0.04099094867706299, -0.062014151364564896, -0.09425023198127747, 0.002737059025093913, 0.06000939756631851, 0.03531481698155403, 0.005273614078760147, -0.01827935129404068, 0.03684919327497482, 0.12440184503793716, 0.026161110028624535, 0.009383630938827991, -0.021407105028629303, -0.04045484587550163, -0.03406345844268799, -0.005877820774912834, 0.07387246191501617, -0.08266934007406235, 0.048855673521757126, 0.03355460613965988, -0.03202902525663376, -0.0706416517496109, 0.001793505740351975, 0.0969218984246254, -0.05122838169336319, -0.016909761354327202, -0.03561430796980858, -0.025600658729672432, 0.029386142268776894, 0.048680808395147324, 0.006878833752125502, -0.03437856584787369, -0.05632457509636879, 0.012780596502125263, -0.025647180154919624, 0.023425839841365814, -0.010984565131366253, 0.03621846064925194, 0.027694588527083397, 0.047309309244155884, 0.1017356812953949, -0.0066805933602154255, -0.005775689613074064, -0.008902746252715588]}, {"id": "dyn_ui_component_DynLoading", "text": "# Component: DynLoading\n\n--- Types (DynLoading.types.ts) ---\n/**\n * DynLoading Component Types\n *\n * Type definitions for the loading component.\n * Supports spinner, skeleton, and overlay variants.\n * Token Compliant: \u2705 Full --dyn-loading-* pattern\n *\n * @module DynLoading\n * @version 1.0.0\n */\n\nimport { HTMLAttributes } from 'react';\n\n/**\n * Loading component variants\n */\nexport type DynLoadingVariant = 'spinner' | 'skeleton' | 'overlay' | 'dots' | 'pulse';\n\n/**\n * Loading size variants\n */\nexport type DynLoadingSize = 'xs' | 'sm' | 'md' | 'lg' | 'xl';\n\n/**\n * Loading color variants (semantic)\n */\nexport type DynLoadingColor = 'primary' | 'secondary' | 'success' | 'danger' | 'warning' | 'info' | 'neutral' | 'white';\n\n/**\n * Available variants as const array for validation\n */\nexport const DYN_LOADING_VARIANTS = ['spinner', 'skeleton', 'overlay', 'dots', 'pulse'] as const;\n\n/**\n * Available sizes as const array for validation\n */\nexport const DYN_LOADING_SIZES = ['xs', 'sm', 'md', 'lg', 'xl'] as const;\n\n/**\n * Available colors as const array for validation\n */\nexport const DYN_LOADING_COLORS = ['primary', 'secondary', 'success', 'danger', 'warning', 'info', 'neutral', 'white'] as const;\n\n/**\n * DynLoading Component Props\n */\nexport interface DynLoadingProps extends HTMLAttributes<HTMLDivElement> {\n    /**\n     * Loading variant\n     * @default 'spinner'\n     */\n    variant?: DynLoadingVariant;\n\n    /**\n     * Size variant\n     * @default 'md'\n     */\n    size?: DynLoadingSize;\n\n    /**\n     * Color variant\n     * @default 'primary'\n     */\n    color?: DynLoadingColor;\n\n    /**\n     * Text label to display (e.g. \"Loading...\")\n     * Not used for skeleton variant\n     */\n    label?: string;\n\n    /**\n     * Helper text shown below label\n     */\n    description?: string;\n\n    /**\n     * For overlay variant: blur background\n     * @default false\n     */\n    blur?: boolean;\n\n    /**\n     * For overlay variant: fix to viewport (fullscreen)\n     * @default false\n     */\n    fixed?: boolean;\n\n    /**\n     * For skeleton variant: optional specific width\n     */\n    width?: string | number;\n\n    /**\n     * For skeleton variant: optional specific height\n     */\n    height?: string | number;\n\n    /**\n     * For skeleton variant: circle shape (e.g. for avatars)\n     * @default false\n     */\n    circle?: boolean;\n\n    /**\n     * Custom ARIA label\n     */\n    'aria-label'?: string;\n\n    /**\n     * Test ID\n     */\n    'data-testid'?: string;\n}\n\n/**\n * Ref type for DynLoading\n */\nexport type DynLoadingRef = HTMLDivElement;\n\n/**\n * Default props for DynLoading\n */\nexport const DYN_LOADING_DEFAULT_PROPS: Partial<DynLoadingProps> = {\n    variant: 'spinner',\n    size: 'md',\n    color: 'primary',\n    blur: false,\n    fixed: false,\n    circle: false,\n};\n\n\n--- Component (DynLoading.tsx) ---\n/**\n * DynLoading Component\n *\n * A versatile loading component supporting spinners, skeletons, and overlays.\n *\n * Token Compliant: \u2705 Full --dyn-loading-* pattern with 3-level fallback\n *\n * @component\n * @module DynLoading\n * @version 1.0.0\n */\n\nimport React, { forwardRef } from 'react';\nimport { cn } from '../../utils/classNames';\nimport {\n    DynLoadingProps,\n    DynLoadingRef,\n    DynLoadingVariant,\n    DynLoadingSize,\n    DynLoadingColor,\n    DYN_LOADING_VARIANTS,\n    DYN_LOADING_SIZES,\n    DYN_LOADING_COLORS,\n    DYN_LOADING_DEFAULT_PROPS,\n} from './DynLoading.types';\nimport styles from './DynLoading.module.css';\n\n/**\n * DynLoading Component\n *\n * @example\n * // Basic spinner\n * <DynLoading />\n *\n * @example\n * // Skeleton loading\n * <DynLoading variant=\"skeleton\" width=\"100%\" height=\"20px\" />\n *\n * @example\n * // Fullscreen overlay with blur\n * <DynLoading variant=\"overlay\" fixed blur label=\"Loading application...\" />\n */\nexport const DynLoading = forwardRef<DynLoadingRef, DynLoadingProps>(\n    (props, ref) => {\n        const {\n            // Configuration props\n            variant = DYN_LOADING_DEFAULT_PROPS.variant,\n            size = DYN_LOADING_DEFAULT_PROPS.size,\n            color = DYN_LOADING_DEFAULT_PROPS.color,\n\n            // Content props\n            label,\n            description,\n\n            // Overlay specific props\n            blur = DYN_LOADING_DEFAULT_PROPS.blur,\n            fixed = DYN_LOADING_DEFAULT_PROPS.fixed,\n\n            // Skeleton specific props\n            width,\n            height,\n            circle = DYN_LOADING_DEFAULT_PROPS.circle,\n\n            // Standard props\n            className,\n            style,\n            'aria-label': ariaLabel,\n            'data-testid': dataTestId,\n            ...rest\n        } = props;\n\n        // ====================================\n        // PHASE 1: Validation & Normalization\n        // ====================================\n\n        const validVariant: DynLoadingVariant = DYN_LOADING_VARIANTS.includes(variant as any)\n            ? variant!\n            : 'spinner';\n\n        const validSize: DynLoadingSize = DYN_LOADING_SIZES.includes(size as any)\n            ? size!\n            : 'md';\n\n        const validColor: DynLoadingColor = DYN_LOADING_COLORS.includes(color as any)\n            ? color!\n            : 'primary';\n\n        // ====================================\n        // PHASE 2: Class Computation\n        // ====================================\n\n        const variantClass = `loading${validVariant.charAt(0).toUpperCase()}${validVariant.slice(1)}`;\n        const sizeClass = `size${validSize.charAt(0).toUpperCase()}${validSize.slice(1)}`;\n        const colorClass = `loading${validColor.charAt(0).toUpperCase()}${validColor.slice(1)}`;\n\n        const rootClasses = cn(\n            styles.loading,\n            styles[variantClass],\n            styles[sizeClass],\n            styles[colorClass],\n            {\n                [styles.loadingBlur]: validVariant === 'overlay' && blur,\n                [styles.loadingFixed]: validVariant === 'overlay' && fixed,\n                [styles.loadingCircle]: validVariant === 'skeleton' && circle,\n                [styles.loadingWithLabel]: !!label || !!description,\n            },\n            className\n        );\n\n        // ====================================\n        // PHASE 3: Style Computation\n        // ====================================\n\n        const customStyle: React.CSSProperties = {\n            ...style,\n            ...(width ? { width } : {}),\n            ...(height ? { height } : {}),\n        };\n\n        // ====================================\n        // PHASE 4: Render Content\n        // ====================================\n\n        const renderIndicator = () => {\n            switch (validVariant) {\n                case 'skeleton':\n                    return null; // Skeleton is the container itself\n\n                case 'dots':\n                    return (\n                        <div className={styles.loadingDotsIndicator} aria-hidden=\"true\">\n                            <span />\n                            <span />\n                            <span />\n                        </div>\n                    );\n\n                case 'pulse':\n                    return <div className={styles.loadingPulseIndicator} aria-hidden=\"true\" />;\n\n                case 'spinner':\n                case 'overlay':\n                default:\n                    return (\n                        <svg\n                            className={styles.loadingSpinnerIndicator}\n                            viewBox=\"0 0 50 50\"\n                            aria-hidden=\"true\"\n                        >\n                            <circle\n                                cx=\"25\"\n                                cy=\"25\"\n                                r=\"20\"\n                                fill=\"none\"\n                                stroke=\"currentColor\"\n                                strokeWidth=\"5\"\n                            />\n                        </svg>\n                    );\n            }\n        };\n\n        // ====================================\n        // PHASE 5: Accessibility\n        // ====================================\n\n        // For skeleton, use 'none' role or aria-hidden unless meaningful\n        // For others, use 'status' or 'alert' depending on context, using 'status' as safe default\n        const role = validVariant === 'skeleton' ? undefined : 'status';\n        const computedAriaLabel = ariaLabel || label || 'Loading';\n\n        // ====================================\n        // PHASE 6: Render\n        // ====================================\n\n        return (\n            <div\n                ref={ref}\n                className={rootClasses}\n                style={customStyle}\n                role={role}\n                aria-label={computedAriaLabel}\n                aria-busy=\"true\"\n                data-testid={dataTestId || 'dyn-loading'}\n                data-variant={validVariant}\n                data-size={validSize}\n                data-color={validColor}\n                {...rest}\n            >\n                {renderIndicator()}\n\n                {(label || description) && validVariant !== 'skeleton' && (\n                    <div className={styles.loadingContent}>\n                        {label && <div className={styles.loadingLabel}>{label}</div>}\n                        {description && <div className={styles.loadingDescription}>{description}</div>}\n                    </div>\n                )}\n\n                {/* Screen reader only text for context - only show if no visible label to avoid duplication */}\n                {!label && (\n                    <span className={styles.srOnly}>\n                        {computedAriaLabel}\n                    </span>\n                )}\n            </div>\n        );\n    }\n);\n\nDynLoading.displayName = 'DynLoading';\n\nexport default DynLoading;\n\n\n--- Usage Examples (DynLoading.stories.tsx) ---\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { DynLoading } from './DynLoading';\n\nconst meta = {\n    title: 'Feedback/DynLoading',\n    component: DynLoading,\n    parameters: {\n        layout: 'padded',\n        docs: {\n            description: {\n                component: `\nA versatile loading component supporting spinners, skeletons, and overlays.\n\n## Features\n- Multiple variants (spinner, dots, pulse, skeleton, overlay)\n- Size variants (xs, sm, md, lg, xl)\n- Color variants (semantic colors)\n- Full accessibility support\n- Dark mode compatible via design tokens\n        `,\n            },\n        },\n    },\n    tags: ['autodocs'],\n    argTypes: {\n        variant: {\n            control: 'select',\n            options: ['spinner', 'dots', 'pulse', 'skeleton', 'overlay'],\n        },\n        size: {\n            control: 'select',\n            options: ['xs', 'sm', 'md', 'lg', 'xl'],\n        },\n        color: {\n            control: 'select',\n            options: ['primary', 'secondary', 'success', 'danger', 'warning', 'info', 'neutral', 'white'],\n        },\n        label: {\n            control: 'text',\n        },\n        description: {\n            control: 'text',\n        },\n        blur: {\n            control: 'boolean',\n        },\n        fixed: {\n            control: 'boolean',\n        },\n        width: {\n            control: 'text',\n        },\n        height: {\n            control: 'text',\n        },\n        circle: {\n            control: 'boolean',\n        },\n    },\n} satisfies Meta<typeof DynLoading>;\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\n// ==========================================================================\n// BASIC STORIES\n// ==========================================================================\n\nexport const Default: Story = {\n    args: {\n        variant: 'spinner',\n    },\n};\n\nexport const WithLabel: Story = {\n    args: {\n        label: 'Loading...',\n    },\n};\n\nexport const WithDescription: Story = {\n    args: {\n        label: 'Loading Data',\n        description: 'Please wait while we fetch the latest updates.',\n        size: 'lg',\n        color: 'primary',\n    },\n};\n\n// ==========================================================================\n// VARIANTS\n// ==========================================================================\n\nexport const Variants: Story = {\n    render: () => (\n        <div style={{ display: 'flex', alignItems: 'center', gap: '2rem' }}>\n            <div style={{ textAlign: 'center' }}>\n                <DynLoading variant=\"spinner\" />\n                <p>Spinner</p>\n            </div>\n            <div style={{ textAlign: 'center' }}>\n                <DynLoading variant=\"dots\" />\n                <p>Dots</p>\n            </div>\n            <div style={{ textAlign: 'center' }}>\n                <DynLoading variant=\"pulse\" />\n                <p>Pulse</p>\n            </div>\n        </div>\n    ),\n};\n\n// ==========================================================================\n// SKELETON\n// ==========================================================================\n\nexport const Skeleton: Story = {\n    render: () => (\n        <div style={{ width: '300px', display: 'flex', flexDirection: 'column', gap: '1rem' }}>\n            <div style={{ display: 'flex', gap: '1rem', alignItems: 'center' }}>\n                <DynLoading variant=\"skeleton\" circle width={50} height={50} />\n                <div style={{ flex: 1, display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>\n                    <DynLoading variant=\"skeleton\" width=\"60%\" height={20} />\n                    <DynLoading variant=\"skeleton\" width=\"40%\" height={16} />\n                </div>\n            </div>\n            <DynLoading variant=\"skeleton\" height={100} />\n            <DynLoading variant=\"skeleton\" height={20} />\n            <DynLoading variant=\"skeleton\" height={20} />\n        </div>\n    ),\n};\n\n// ==========================================================================\n// OVERLAY\n// ==========================================================================\n\nexport const OverlayRelative: Story = {\n    args: {\n        variant: 'overlay',\n        label: 'Loading content...',\n        blur: true,\n    },\n    decorators: [\n        (Story) => (\n            <div style={{ position: 'relative', width: '100%', height: '300px', border: '1px solid #ccc', padding: '1rem' }}>\n                <h3>Content Title</h3>\n                <p>Some content that is being covered by the loading overlay.</p>\n                <p>The overlay is absolute positioned within this relative container.</p>\n                <Story />\n            </div>\n        ),\n    ],\n};\n\n// ==========================================================================\n// SIZES & COLORS\n// ==========================================================================\n\nexport const Sizes: Story = {\n    render: () => (\n        <div style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>\n            <DynLoading size=\"xs\" />\n            <DynLoading size=\"sm\" />\n            <DynLoading size=\"md\" />\n            <DynLoading size=\"lg\" />\n            <DynLoading size=\"xl\" />\n        </div>\n    ),\n};\n\nexport const Colors: Story = {\n    render: () => (\n        <div style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>\n            <DynLoading color=\"primary\" />\n            <DynLoading color=\"secondary\" />\n            <DynLoading color=\"success\" />\n            <DynLoading color=\"danger\" />\n            <DynLoading color=\"warning\" />\n            <DynLoading color=\"info\" />\n            <DynLoading color=\"neutral\" />\n        </div>\n    ),\n};\n\n\n--- Styles (DynLoading.module.css) ---\n/**\n * DynLoading Component Styles\n * 100% Design Token Compliance\n * Unified Token Strategy: 3-Level Fallback Pattern\n */\n\n.loading {\n  /* Color Tokens - 3-level fallback */\n  --dyn-loading-color-primary: var(--dyn-loading-fill-primary, var(--dyn-theme-primary, #3b82f6));\n  --dyn-loading-color-secondary: var(--dyn-loading-fill-secondary, var(--dyn-theme-secondary, #6b7280));\n  --dyn-loading-color-success: var(--dyn-loading-fill-success, var(--dyn-feedback-positive, #22c55e));\n  --dyn-loading-color-danger: var(--dyn-loading-fill-danger, var(--dyn-feedback-negative-default, #ef4444));\n  --dyn-loading-color-warning: var(--dyn-loading-fill-warning, var(--dyn-feedback-warning, #f59e0b));\n  --dyn-loading-color-info: var(--dyn-loading-fill-info, var(--dyn-feedback-info, #0ea5e9));\n  --dyn-loading-color-neutral: var(--dyn-loading-fill-neutral, var(--dyn-neutral-mid-500, #9ca3af));\n  --dyn-loading-color-white: var(--dyn-loading-fill-white, var(--dyn-base-white, #ffffff));\n\n  /* Default Color Selection */\n  --dyn-loading-text-color: var(--dyn-loading-text, var(--dyn-semantic-text, #1e293b));\n  --dyn-loading-fill-color: var(--dyn-loading-color-primary);\n\n  /* Sizing Tokens - Dimensions */\n  --dyn-loading-size-xs: var(--dyn-loading-spinner-xs, 1rem);\n  --dyn-loading-size-sm: var(--dyn-loading-spinner-sm, 1.5rem);\n  --dyn-loading-size-md: var(--dyn-loading-spinner-md, 2rem);\n  --dyn-loading-size-lg: var(--dyn-loading-spinner-lg, 3rem);\n  --dyn-loading-size-xl: var(--dyn-loading-spinner-xl, 4rem);\n\n  /* Current Size - Default to MD */\n  --dyn-loading-size: var(--dyn-loading-size-md);\n\n  /* Sizing - Spacing */\n  --dyn-loading-gap: var(--dyn-loading-spacing-gap, var(--dyn-spacing-sm, 0.5rem));\n\n  /* Overlay */\n  --dyn-loading-overlay-bg: var(--dyn-loading-overlay, var(--dyn-semantic-overlay, rgba(0, 0, 0, 0.5)));\n\n  /* Base Styles */\n  display: inline-flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  color: var(--dyn-loading-text-color);\n  gap: var(--dyn-loading-gap);\n\n  /* Ensure it has dimension context */\n  min-width: min-content;\n  min-height: min-content;\n}\n\n/* ==========================================================================\n   COLOR VARIANTS\n   ========================================================================== */\n\n.loadingPrimary {\n  --dyn-loading-fill-color: var(--dyn-loading-color-primary);\n}\n\n.loadingSecondary {\n  --dyn-loading-fill-color: var(--dyn-loading-color-secondary);\n}\n\n.loadingSuccess {\n  --dyn-loading-fill-color: var(--dyn-loading-color-success);\n}\n\n.loadingDanger {\n  --dyn-loading-fill-color: var(--dyn-loading-color-danger);\n}\n\n.loadingWarning {\n  --dyn-loading-fill-color: var(--dyn-loading-color-warning);\n}\n\n.loadingInfo {\n  --dyn-loading-fill-color: var(--dyn-loading-color-info);\n}\n\n.loadingNeutral {\n  --dyn-loading-fill-color: var(--dyn-loading-color-neutral);\n}\n\n.loadingWhite {\n  --dyn-loading-fill-color: var(--dyn-loading-color-white);\n  --dyn-loading-text-color: var(--dyn-loading-color-white);\n}\n\n/* ==========================================================================\n   SIZE VARIANTS\n   ========================================================================== */\n\n.sizeXs {\n  --dyn-loading-size: var(--dyn-loading-size-xs);\n  font-size: 0.75rem;\n}\n\n.sizeSm {\n  --dyn-loading-size: var(--dyn-loading-size-sm);\n  font-size: 0.875rem;\n}\n\n.sizeMd {\n  --dyn-loading-size: var(--dyn-loading-size-md);\n  font-size: 1rem;\n}\n\n.sizeLg {\n  --dyn-loading-size: var(--dyn-loading-size-lg);\n  font-size: 1.125rem;\n}\n\n.sizeXl {\n  --dyn-loading-size: var(--dyn-loading-size-xl);\n  font-size: 1.25rem;\n}\n\n/* ==========================================================================\n   VARIANT: SPINNER\n   ========================================================================== */\n\n\n/* \n * FORCE ANIMATION OVERRIDE\n * The following rules use !important to strictly defeat any global \"prefers-reduced-motion\" \n * resets (like Storybook's strict-mode or accessibility resets) which force duration to 0ms.\n * We want the spinner to spin regardless of those settings as it conveys critical status.\n */\n\n.loadingSpinnerIndicator {\n  width: var(--dyn-loading-size, 2rem);\n  height: var(--dyn-loading-size, 2rem);\n  animation: dynLoadingRotate 2s linear infinite !important;\n  animation-duration: 2s !important;\n  animation-iteration-count: infinite !important;\n  transform-origin: center center;\n  color: var(--dyn-loading-fill-color, #3b82f6);\n  flex-shrink: 0;\n}\n\n.loadingSpinnerIndicator circle {\n  stroke: currentColor;\n  stroke-linecap: round;\n  animation: dynLoadingDash 1.5s ease-in-out infinite !important;\n  animation-duration: 1.5s !important;\n  animation-iteration-count: infinite !important;\n}\n\n@keyframes dynLoadingRotate {\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes dynLoadingDash {\n  0% {\n    stroke-dasharray: 1, 150;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 90, 150;\n    stroke-dashoffset: -35;\n  }\n\n  100% {\n    stroke-dasharray: 90, 150;\n    stroke-dashoffset: -124;\n  }\n}\n\n/* ==========================================================================\n   VARIANT: SKELETON\n   ========================================================================== */\n\n.loadingSkeleton {\n  width: 100%;\n  height: var(--dyn-loading-size, 2rem);\n  background-color: var(--dyn-semantic-surface-muted, #e5e7eb);\n  border-radius: var(--dyn-border-radius-sm, 0.25rem);\n  position: relative;\n  overflow: hidden;\n  /* Ensure skeleton has explicit block layout */\n  display: block;\n}\n\n.loadingSkeleton::after {\n  content: \"\";\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  transform: translateX(-100%);\n  background-image: linear-gradient(90deg,\n      rgba(255, 255, 255, 0) 0,\n      rgba(255, 255, 255, 0.5) 20%,\n      rgba(255, 255, 255, 0.5) 60%,\n      rgba(255, 255, 255, 0));\n  animation: dynLoadingShimmer 2s infinite;\n  /* Skeleton animation is usually acceptable to reduce, but we force it if needed. \n     Leaving skeleton as-is for now, focusing on active indicators. */\n}\n\n.loadingCircle {\n  width: var(--dyn-loading-size);\n  height: var(--dyn-loading-size);\n  border-radius: 50%;\n}\n\n@keyframes dynLoadingShimmer {\n  100% {\n    transform: translateX(100%);\n  }\n}\n\n/* ==========================================================================\n   VARIANT: DOTS\n   ========================================================================== */\n\n\n\n.loadingDotsIndicator {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 0.25em;\n  height: var(--dyn-loading-size, 2rem);\n  color: var(--dyn-loading-fill-color, #3b82f6);\n}\n\n.loadingDotsIndicator span {\n  display: block;\n  width: calc(var(--dyn-loading-size, 2rem) * 0.25);\n  height: calc(var(--dyn-loading-size, 2rem) * 0.25);\n  background-color: currentColor;\n  border-radius: 50%;\n  animation: dynLoadingBounce 1.4s infinite ease-in-out both !important;\n  animation-duration: 1.4s !important;\n  animation-iteration-count: infinite !important;\n}\n\n.loadingDotsIndicator span:nth-child(1) {\n  animation-delay: -0.32s;\n}\n\n.loadingDotsIndicator span:nth-child(2) {\n  animation-delay: -0.16s;\n}\n\n@keyframes dynLoadingBounce {\n\n  0%,\n  80%,\n  100% {\n    transform: scale(0);\n  }\n\n  40% {\n    transform: scale(1);\n  }\n}\n\n/* ==========================================================================\n   VARIANT: PULSE\n   ========================================================================== */\n\n\n\n.loadingPulseIndicator {\n  width: var(--dyn-loading-size, 2rem);\n  height: var(--dyn-loading-size, 2rem);\n  background-color: var(--dyn-loading-fill-color, #3b82f6);\n  border-radius: 50%;\n  animation: dynLoadingScale 1s infinite ease-in-out !important;\n  animation-duration: 1s !important;\n  animation-iteration-count: infinite !important;\n  flex-shrink: 0;\n}\n\n@keyframes dynLoadingScale {\n  0% {\n    transform: scale(0);\n    opacity: 1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0;\n  }\n}\n\n/* ==========================================================================\n   VARIANT: OVERLAY\n   ========================================================================== */\n\n.loadingOverlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: var(--dyn-loading-overlay-bg);\n  z-index: var(--dyn-z-index-overlay, 50);\n  width: 100%;\n  height: 100%;\n}\n\n.loadingFixed {\n  position: fixed;\n  z-index: var(--dyn-z-index-modal, 100);\n}\n\n.loadingBlur {\n  backdrop-filter: blur(4px);\n  --dyn-loading-overlay-bg: rgba(255, 255, 255, 0.5);\n}\n\n/* ==========================================================================\n   TEXT CONTENT\n   ========================================================================== */\n\n.loadingContent {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 0.25rem;\n  max-width: 100%;\n}\n\n.loadingLabel {\n  font-weight: var(--dyn-font-weight-medium, 500);\n  line-height: 1.2;\n}\n\n.loadingDescription {\n  font-size: 0.875em;\n  opacity: 0.8;\n  text-align: center;\n}\n\n/* ==========================================================================\n   REDUCED MOTION\n   ========================================================================== */\n\n/* Reduced motion block removed to ensure visibility */\n\n/* ==========================================================================\n   DARK MODE - Now handled via semantic tokens\n   ========================================================================== */\n\n/* Dark mode overrides removed as they are now handled by semantic tokens */\n\n/* ==========================================================================\n   ACCESSIBILITY\n   ========================================================================== */\n\n.srOnly {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border: 0;\n}", "metadata": {"type": "ui_component", "name": "DynLoading", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynLoading"}, "embedding": [-0.0829109326004982, 0.010466295294463634, 0.015802260488271713, -0.015389078296720982, -0.019197676330804825, 0.049517810344696045, -0.05587414652109146, 0.05741807073354721, -0.019709765911102295, -0.019314518198370934, -0.05588249862194061, 0.018047701567411423, -0.030144620686769485, 0.0045675053261220455, 0.04783105477690697, 0.0991922989487648, -0.03551444411277771, -0.015537748113274574, -0.060264505445957184, 0.006941300351172686, 0.03566047176718712, -0.12421272695064545, 0.0063649010844528675, -0.013719718903303146, 0.02200545370578766, 0.01074500847607851, 0.040560875087976456, -0.01981877163052559, 0.042837582528591156, -0.01400420255959034, 0.05769602581858635, 0.060872822999954224, -0.08844228833913803, -0.019755829125642776, -0.053384929895401, 0.0753016471862793, -0.05929647013545036, 0.010959056206047535, -0.004141442012041807, -0.034707408398389816, 0.123695008456707, 0.026561608538031578, 0.009344921447336674, -0.020568063482642174, -0.02319358102977276, -0.04720260575413704, -0.056299712508916855, 0.015183685347437859, -0.0754002034664154, 0.01219868753105402, 0.01706526055932045, -0.03793508559465408, 0.022093188017606735, 0.0016460128827020526, 0.02371692657470703, -0.006259786896407604, 0.0711575523018837, -0.007429912686347961, -0.01232883706688881, -0.048466864973306656, -0.03604574128985405, -0.03749857842922211, 0.03851456195116043, -0.05503731220960617, 0.01636178232729435, 0.08581215143203735, -0.03673730045557022, -0.004522833041846752, 0.017362728714942932, -0.016661759465932846, -0.05038459599018097, -0.04291641339659691, 0.09388381987810135, 0.025402359664440155, -0.01322971936315298, -0.07684504240751266, 0.06916811317205429, -0.009633723646402359, -0.015199784189462662, -0.06068989634513855, -0.03650238737463951, 0.005085947457700968, 0.020618295297026634, 0.017736291512846947, 0.050211481750011444, 0.110982246696949, -0.0009020565776154399, -0.015362903475761414, -0.06131482124328613, -0.03907807543873787, -0.013624030165374279, -0.03855342045426369, -0.04196398705244064, 0.06569385528564453, 0.015128174796700478, 0.03877081349492073, -0.04313342273235321, 0.09872128814458847, -0.06003269925713539, -0.03336460888385773, 0.019411155954003334, -0.0578276589512825, 0.033772386610507965, -0.005414724349975586, -0.0841965600848198, -0.10364789515733719, 0.0022029520478099585, -0.035647522658109665, -0.06894046813249588, -0.021471941843628883, 0.03447289764881134, 0.034964174032211304, 0.004133757669478655, -0.05291218310594559, -0.02381165139377117, -0.023021792992949486, 0.0011298120953142643, 0.00322804250754416, 0.06923408061265945, 0.04961373284459114, 0.11498650163412094, -0.054400160908699036, 0.026097377762198448, -0.035079747438430786, 0.046776678413152695, -0.04327337071299553, 0.014428390190005302, 2.6487676856597616e-33, -0.014393296092748642, 0.009553254581987858, -0.0008188678184524179, 0.047597091645002365, 0.0023865632247179747, -0.0008318771724589169, 0.026699118316173553, -0.12742695212364197, -0.021423332393169403, 0.013069197535514832, 0.01539766974747181, 0.031464360654354095, -0.11180943995714188, -0.012217571027576923, -0.03962111473083496, -0.07959733158349991, 0.05119337886571884, -0.031093938276171684, 0.005257786251604557, 0.01719139888882637, 0.03884371370077133, 0.022402362897992134, -0.11711435765028, 0.06952772289514542, 0.04709155857563019, -0.06815435737371445, 0.004839764907956123, 0.08074524998664856, -0.07971657067537308, -0.03576473891735077, 0.08184873312711716, -0.07519902288913727, 0.04613687843084335, 0.07531470060348511, -0.020871015265583992, -0.09894251823425293, -0.09250345081090927, -0.0041524190455675125, -0.08709698170423508, -0.017993254587054253, 0.038469914346933365, 0.0061277709901332855, -0.03511533513665199, 0.06702269613742828, -0.07047251611948013, 0.03289951756596565, 0.0639270693063736, -0.011692678555846214, 0.030916431918740273, -0.051554445177316666, 0.001309678889811039, 0.023162374272942543, 0.037460800260305405, -0.07050678133964539, 0.059839148074388504, 0.02455092780292034, 0.010621322318911552, -0.02294730767607689, 0.06705775856971741, 0.002076856791973114, 0.020396042615175247, 0.0020905672572553158, 0.003190463874489069, -0.04549171403050423, 0.018178243190050125, -0.020144574344158173, -0.00802435353398323, -0.06606420874595642, -0.026657216250896454, 0.0005523249856196344, -0.005579845514148474, -0.025850970298051834, 0.010840296745300293, 0.0021061396691948175, 0.10827960073947906, -0.012851523235440254, -0.0013692362699657679, 0.04346253722906113, 0.014094945043325424, -0.07172904163599014, -0.04288627579808235, -0.06190559267997742, -0.05697565898299217, 0.06852849572896957, 0.04083516076207161, 0.003294899594038725, -0.090843565762043, -0.06491190195083618, 0.005167536903172731, 0.007111984770745039, -0.07783032953739166, -0.0712558701634407, -0.03922206908464432, -0.07562817633152008, -0.06562963128089905, -4.981453389249057e-33, -0.02617933601140976, 0.025235462933778763, 0.012521264143288136, 0.061855513602495193, 0.03159713372588158, 0.017304886132478714, 0.02610587701201439, 0.06276340037584305, 0.01532351691275835, 0.03627532348036766, 0.027452116832137108, 0.021213356405496597, -0.04381389170885086, 0.020010117441415787, -0.07377907633781433, 0.14089365303516388, -0.07763325423002243, 0.03971857205033302, 0.054690707474946976, -0.014732515439391136, 0.030558200553059578, 0.004636462312191725, -0.017979098483920097, 0.11659487336874008, -0.03183335065841675, 0.04348008334636688, 0.06572052836418152, 0.024680398404598236, 0.0371268168091774, 0.005096287466585636, -0.028171654790639877, 0.03437628969550133, 0.01517269667237997, 0.0811360776424408, -0.06214253976941109, -0.03075661137700081, 0.031592849642038345, -0.006101189646869898, -0.040359627455472946, 0.03482133150100708, -0.015195316635072231, -0.048728037625551224, 0.009927032515406609, 0.03980934992432594, -0.0982527807354927, -0.07900957763195038, 0.0119938338175416, 0.06367150694131851, -0.054946959018707275, -0.008228972554206848, 0.03256255388259888, -0.034983690828084946, 0.015435634180903435, 0.04531421884894371, 0.005277430638670921, -0.012204240076243877, 0.06244416907429695, -0.059064146131277084, 0.04605307802557945, 0.06009823828935623, 0.0009597652242518961, -0.07720908522605896, -0.004811616614460945, -0.05696161836385727, -0.04797007143497467, -0.09290018677711487, -0.0980711281299591, -0.026824768632650375, 0.034346893429756165, 0.09083407372236252, 0.0025610195007175207, 0.07636670768260956, 0.04723730683326721, -0.0231923945248127, 0.05012964457273483, -0.0562826469540596, 0.050058912485837936, -0.04499555006623268, 0.0900714173913002, 0.0036873952485620975, -0.05557500943541527, 0.036092400550842285, 0.028871184214949608, 0.04920102655887604, 0.05369172990322113, 0.06422196328639984, 0.01591872051358223, 0.11204366385936737, 0.02548830397427082, -0.03163016960024834, 0.022060023620724678, 0.034854788333177567, -0.0019828423392027617, 0.010283236391842365, -0.02982310578227043, -6.075844538599995e-08, -0.0012783079873770475, -0.08296199887990952, 0.01516643725335598, -0.10452531278133392, 0.012465602718293667, -0.10186447203159332, 0.03986154869198799, -0.09009920805692673, -0.0010421891929581761, 0.09241423010826111, 0.047023095190525055, 0.0540173202753067, -0.01448808517307043, -0.08099879324436188, 0.03996666520833969, 0.047623638063669205, -0.026049619540572166, 0.0952085554599762, -0.06291733682155609, 0.0277825016528368, 0.03966294601559639, -0.01633431948721409, -0.06934661418199539, 0.0638059675693512, 0.10671256482601166, -0.005443866364657879, -0.020419282838702202, -0.008279907517135143, 0.018452400341629982, 0.016612989827990532, 0.0009552864357829094, 0.00841004028916359, 0.013461042195558548, -0.10668674856424332, -0.06682811677455902, 0.011601753532886505, -0.000322796986438334, -0.03798580542206764, 0.09471527487039566, 0.09943579882383347, -0.023318085819482803, -0.015253582037985325, -0.012676079757511616, 0.05120496079325676, -0.005787499714642763, -0.0433313213288784, -0.1547749787569046, -0.026371555402874947, -0.028623457998037338, 0.02731589786708355, 0.04388583451509476, -0.07429579645395279, -0.07964356988668442, 0.055606864392757416, -0.011249312199652195, -0.0025932088028639555, -0.030421972274780273, 0.10370296239852905, 0.09886785596609116, 0.007808920927345753, 0.05604083091020584, 0.015183981508016586, 0.08617689460515976, -0.07951871305704117]}, {"id": "dyn_ui_component_DynMenu", "text": "# Component: DynMenu\n\n--- Types (DynMenu.types.ts) ---\n/**\n * DynMenu TypeScript type definitions\n * Navigation component types for hierarchical menu system\n * \n * SIMPLIFIED VERSION - Removed non-implemented props:\n * - collapsed, collapsedIcon, filter, shortLogo, logo, literals, \n * - automaticToggle, onCollapse, onMenuClick\n * \n * These were defined but not implemented in the actual component.\n * Focus on what's actually working: items, orientation, onAction\n */\n\nimport type { ReactNode } from 'react';\nimport type { BaseComponentProps, AccessibilityProps } from '../../types/theme';\n\nexport interface MenuBadge {\n  /** Badge numeric indicator */\n  count?: number;\n\n  /** @deprecated Legacy alias for `count` */\n  value?: number;\n\n  /** Optional text label rendered inside the badge */\n  label?: ReactNode;\n\n  /** Visual color token */\n  color?: string;\n\n  /** Variant styling */\n  variant?: string;\n\n  /** Maximum count before `max+` is shown */\n  maxCount?: number;\n\n  /** Display when the count is zero */\n  showZero?: boolean;\n}\n\nexport interface MenuItem {\n  label?: string;\n  icon?: string | React.ReactNode;\n  shortLabel?: string;\n  link?: string;\n  action?: string | (() => void);\n  badge?: MenuBadge;\n  subItems?: MenuItem[];\n  children?: MenuItem[]; // alias for subItems for compatibility\n  disabled?: boolean;\n  visible?: boolean;\n  type?: 'divider' | 'item';\n}\n\n// Alias for backward compatibility\nexport type DynMenuItem = MenuItem;\n\nexport type MenuOrientation = 'horizontal' | 'vertical';\n\n/**\n * DynMenu component props\n * Simple, focused props for horizontal/vertical navigation menus\n */\nexport interface DynMenuProps extends BaseComponentProps, AccessibilityProps {\n  /** Menu items array - REQUIRED */\n  items: MenuItem[];\n  \n  /** Legacy menu items prop (alias for items) */\n  menus?: MenuItem[];\n  \n  /** Menu orientation - horizontal or vertical */\n  orientation?: MenuOrientation;\n  \n  /** Generic action handler - called when menu item is clicked */\n  onAction?: (item: MenuItem | string) => void;\n  \n  /** Menu ID for ARIA */\n  id?: string;\n  \n  /** ARIA label for menu */\n  'aria-label'?: string;\n  \n  /** ARIA labelledby for menu */\n  'aria-labelledby'?: string;\n  \n  /** ARIA describedby for menu */\n  'aria-describedby'?: string;\n  \n  /** Test ID */\n  'data-testid'?: string;\n  \n  /** Additional CSS classes */\n  className?: string;\n}\n\nexport interface DynMenuRef {\n  collapse: () => void;\n  expand: () => void;\n  toggle: () => void;\n}\n\n\n--- Component (DynMenu.tsx) ---\nimport React, { useEffect, useMemo, useRef, useState, forwardRef, useId } from 'react';\nimport { cn } from '../../utils/classNames';\nimport styles from './DynMenu.module.css';\nimport { DynIcon } from '../DynIcon';\nimport type { DynMenuProps, DynMenuItem } from './DynMenu.types';\n\n\n\nexport const DynMenu: React.FC<DynMenuProps> = ({\n  items,\n  orientation = 'horizontal',\n  className,\n  id,\n  'aria-label': ariaLabel,\n  'aria-labelledby': ariaLabelledBy,\n  'data-testid': dataTestId,\n  onAction,\n  ...rest\n}) => {\n  const generatedId = useId();\n  const internalId = id || generatedId;\n  const isHorizontal = orientation === 'horizontal';\n  const [openIndex, setOpenIndex] = useState<number | null>(null);\n  const [focusIndex, setFocusIndex] = useState<number>(0);\n\n  const menubarRef = useRef<HTMLDivElement | null>(null);\n  const itemRefs = useRef<Array<HTMLButtonElement | null>>([]);\n\n  useEffect(() => {\n    if (focusIndex >= 0) itemRefs.current[focusIndex]?.focus();\n  }, [focusIndex]);\n\n  const visibleMenuCount = useMemo(() => items.length, [items]);\n\n  const moveFocus = (delta: number) => {\n    if (!visibleMenuCount) return;\n    setFocusIndex((prev) => {\n      const next = (prev + delta + visibleMenuCount) % visibleMenuCount;\n      return next;\n    });\n  };\n\n  const closeAll = () => setOpenIndex(null);\n\n  const onMenubarKeyDown = (e: React.KeyboardEvent<HTMLDivElement>) => {\n    const horizontal = isHorizontal;\n    switch (e.key) {\n      case 'ArrowRight': if (horizontal) { e.preventDefault(); moveFocus(1); } break;\n      case 'ArrowLeft': if (horizontal) { e.preventDefault(); moveFocus(-1); } break;\n      case 'ArrowDown': if (!horizontal) { e.preventDefault(); moveFocus(1); } else if (openIndex === focusIndex) { e.preventDefault(); /* focus first submenu item handled by browser tab */ } break;\n      case 'ArrowUp': if (!horizontal) { e.preventDefault(); moveFocus(-1); } break;\n      case 'Home': e.preventDefault(); setFocusIndex(0); break;\n      case 'End': e.preventDefault(); setFocusIndex(Math.max(0, visibleMenuCount - 1)); break;\n      case 'Enter':\n      case ' ': {\n        e.preventDefault();\n        setOpenIndex((prev) => (prev === focusIndex ? null : focusIndex));\n        break;\n      }\n      case 'Escape':\n        if (openIndex !== null) { e.preventDefault(); closeAll(); }\n        break;\n    }\n  };\n\n  const handleItemClick = (index: number) => {\n    setOpenIndex((prev) => (prev === index ? null : index));\n    setFocusIndex(index);\n  };\n\n  const onSubItemClick = (action: string | (() => void) | undefined) => {\n    if (typeof action === 'string') {\n      onAction?.(action);\n    } else if (typeof action === 'function') {\n      try {\n        action();\n      } catch {\n        // ignore errors from provided callback\n      }\n    }\n    closeAll();\n  };\n\n  return (\n    <div\n      id={internalId}\n      role=\"menubar\"\n      aria-label={ariaLabel}\n      aria-labelledby={ariaLabelledBy}\n      aria-orientation={orientation}\n      className={cn(styles.menubar, className)}\n      data-testid={dataTestId || 'dyn-menu'}\n      ref={menubarRef}\n      onKeyDown={onMenubarKeyDown}\n      {...rest}\n    >\n      {items.map((item, idx) => {\n        const isOpen = openIndex === idx;\n        const buttonId = `${internalId}-item-${idx}`;\n        const menuId = `${internalId}-submenu-${idx}`;\n        return (\n          <div key={buttonId} className={styles.menubarItem}>\n            <button\n              ref={(el) => { itemRefs.current[idx] = el; }}\n              id={buttonId}\n              type=\"button\"\n              role=\"menuitem\"\n              className={cn(styles.menubarButton, isOpen && styles.menubarButtonOpen)}\n              aria-haspopup={item.children && item.children.length ? 'menu' : undefined}\n              aria-expanded={item.children && item.children.length ? isOpen : undefined}\n              aria-controls={item.children && item.children.length ? menuId : undefined}\n              onClick={() => handleItemClick(idx)}\n            >\n              <div className={styles.menubarButtonContent}>\n                {item.icon && (\n                  <span className={styles.menubarIcon}>\n                    <DynIcon icon={item.icon} size=\"sm\" />\n                  </span>\n                )}\n                <span className={styles.menubarLabel}>{item.label}</span>\n              </div>\n              {item.children && item.children.length > 0 && (\n                <span className={cn(styles.menubarChevron)}>\n                  <DynIcon icon={isHorizontal ? 'chevron-down' : 'chevron-right'} size=\"sm\" />\n                </span>\n              )}\n            </button>\n            {item.children && item.children.length > 0 && isOpen && (\n              <div\n                id={menuId}\n                role=\"menu\"\n                aria-labelledby={buttonId}\n                className={styles.menu}\n              >\n                {item.children.map((sub, sidx) => (\n                  <button\n                    key={`${menuId}-opt-${sidx}`}\n                    role=\"menuitem\"\n                    type=\"button\"\n                    className={styles.menuItem}\n                    onClick={() => onSubItemClick(sub.action)}\n                  >\n                    {sub.icon && (\n                      <span className={styles.menuIcon}>\n                        <DynIcon icon={sub.icon} size=\"sm\" />\n                      </span>\n                    )}\n                    <span className={styles.menuLabel}>{sub.label}</span>\n                  </button>\n                ))}\n              </div>\n            )}\n\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default DynMenu;\n\n\n--- Usage Examples (DynMenu.stories.tsx) ---\n/**\n * DynMenu Storybook Stories - FIXED VERSION\n * Interactive examples and documentation for navigation menu component\n *\n * FIXED: Removed non-existent props like 'menus', 'collapsed', 'filter', etc.\n * Now using only the actual implemented props: 'items', 'orientation', 'onAction'\n */\n\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { DynMenu } from './DynMenu';\nimport { DynMenuItem } from './DynMenu.types';\nimport React from 'react';\n\nconst meta: Meta<typeof DynMenu> = {\n  title: 'Navigation/DynMenu',\n  component: DynMenu,\n  parameters: {\n    layout: 'padded',\n    docs: {\n      description: {\n        component: `\nThe DynMenu component provides a hierarchical navigation menu system with:\n\n- **Horizontal/Vertical Orientation** - Support for both menu directions\n- **Hierarchical structure** - Support for nested menu items with children\n- **Keyboard navigation** - Full keyboard support (arrow keys, enter, escape)\n- **ARIA support** - Full accessibility with proper ARIA attributes\n- **Responsive design** - Works on all screen sizes\n- **Action callbacks** - Execute actions when menu items are clicked\n\n## Usage\n\n\\`\\`\\`tsx\nimport { DynMenu } from '@dyn-ui/react';\n\nconst menuItems = [\n  {\n    label: 'File',\n    children: [\n      { label: 'New', action: () => console.log('New') },\n      { label: 'Open', action: () => console.log('Open') }\n    ]\n  },\n  {\n    label: 'Edit',\n    children: [\n      { label: 'Copy', action: () => console.log('Copy') },\n      { label: 'Paste', action: () => console.log('Paste') }\n    ]\n  }\n];\n\n<DynMenu items={menuItems} orientation=\"horizontal\" />\n\\`\\`\\`\n        `\n      }\n    }\n  },\n  argTypes: {\n    items: {\n      description: 'Array of menu items with hierarchical structure',\n      control: { type: 'object' }\n    },\n    orientation: {\n      description: 'Menu orientation (horizontal or vertical)',\n      control: { type: 'radio', options: ['horizontal', 'vertical'] }\n    },\n    onAction: {\n      description: 'Callback fired when a menu item action is executed',\n      action: 'action'\n    }\n  }\n};\n\nexport default meta;\ntype Story = StoryObj<typeof DynMenu>;\n\n// ====== Sample Menu Data ======\n\n// Horizontal menu - File/Edit/View/Help style\nconst horizontalMenuItems: DynMenuItem[] = [\n  {\n    label: 'File',\n    icon: 'file',\n    children: [\n      {\n        label: 'New',\n        icon: 'plus',\n        action: () => alert('File > New')\n      },\n      {\n        label: 'Open',\n        icon: 'folder-open',\n        action: () => alert('File > Open')\n      },\n      {\n        label: 'Save',\n        icon: 'save',\n        action: () => alert('File > Save')\n      },\n      {\n        label: 'Exit',\n        icon: 'close',\n        action: () => alert('File > Exit')\n      }\n    ]\n  },\n  {\n    label: 'Edit',\n    icon: 'edit',\n    children: [\n      {\n        label: 'Undo',\n        icon: 'undo',\n        action: () => alert('Edit > Undo')\n      },\n      {\n        label: 'Redo',\n        icon: 'redo',\n        action: () => alert('Edit > Redo')\n      },\n      {\n        label: 'Cut',\n        icon: 'cut',\n        action: () => alert('Edit > Cut')\n      },\n      {\n        label: 'Copy',\n        icon: 'copy',\n        action: () => alert('Edit > Copy')\n      },\n      {\n        label: 'Paste',\n        icon: 'paste',\n        action: () => alert('Edit > Paste')\n      }\n    ]\n  },\n  {\n    label: 'View',\n    icon: 'eye',\n    children: [\n      {\n        label: 'Zoom In',\n        icon: 'zoom-in',\n        action: () => alert('View > Zoom In')\n      },\n      {\n        label: 'Zoom Out',\n        icon: 'zoom-out',\n        action: () => alert('View > Zoom Out')\n      },\n      {\n        label: 'Reset Zoom',\n        icon: 'refresh',\n        action: () => alert('View > Reset Zoom')\n      }\n    ]\n  },\n  {\n    label: 'Help',\n    icon: 'help',\n    children: [\n      {\n        label: 'Documentation',\n        icon: 'file-text',\n        action: () => alert('Help > Documentation')\n      },\n      {\n        label: 'About',\n        icon: 'info',\n        action: () => alert('Help > About')\n      }\n    ]\n  }\n];\n\n// Vertical menu - Dashboard style\nconst verticalMenuItems: DynMenuItem[] = [\n  {\n    label: 'Dashboard',\n    icon: 'home',\n    action: () => console.log('Dashboard')\n  },\n  {\n    label: 'Products',\n    icon: 'box',\n    children: [\n      {\n        label: 'All Products',\n        icon: 'list',\n        action: () => console.log('All Products')\n      },\n      {\n        label: 'Categories',\n        icon: 'folder',\n        action: () => console.log('Categories')\n      },\n      {\n        label: 'Inventory',\n        icon: 'archive',\n        action: () => console.log('Inventory')\n      }\n    ]\n  },\n  {\n    label: 'Orders',\n    icon: 'shopping-cart',\n    children: [\n      {\n        label: 'Pending Orders',\n        icon: 'clock',\n        action: () => console.log('Pending Orders')\n      },\n      {\n        label: 'Completed Orders',\n        icon: 'check-circle',\n        action: () => console.log('Completed Orders')\n      }\n    ]\n  },\n  {\n    label: 'Customers',\n    icon: 'users',\n    action: () => console.log('Customers')\n  },\n  {\n    label: 'Settings',\n    icon: 'settings',\n    action: () => console.log('Settings')\n  }\n];\n\n\n// Simple menu without submenus\nconst simpleMenuItems: DynMenuItem[] = [\n  {\n    label: 'Home',\n    action: () => console.log('Home')\n  },\n  {\n    label: 'About',\n    action: () => console.log('About')\n  },\n  {\n    label: 'Services',\n    action: () => console.log('Services')\n  },\n  {\n    label: 'Contact',\n    action: () => console.log('Contact')\n  }\n];\n\n// ====== Stories ======\n\n/**\n * Default horizontal menu with nested items\n */\nexport const HorizontalMenu: Story = {\n  args: {\n    items: horizontalMenuItems,\n    orientation: 'horizontal'\n  }\n};\n\n/**\n * Vertical menu suitable for sidebars\n */\nexport const VerticalMenu: Story = {\n  args: {\n    items: verticalMenuItems,\n    orientation: 'vertical'\n  }\n};\n\n/**\n * Simple flat menu without submenus\n */\nexport const SimpleMenu: Story = {\n  args: {\n    items: simpleMenuItems,\n    orientation: 'horizontal'\n  }\n};\n\n/**\n * Menu with action handler callback\n */\nexport const WithActionHandler: Story = {\n  args: {\n    items: horizontalMenuItems,\n    orientation: 'horizontal',\n    onAction: (item: string | DynMenuItem) => {\n      if (typeof item === 'string') {\n        console.log('Menu action:', item);\n      } else if (item.action) {\n        if (typeof item.action === 'function') {\n          item.action();\n        } else {\n          console.log('Menu action:', item.action);\n        }\n      }\n    }\n  }\n};\n\n/**\n * Vertical sidebar-style menu\n */\nexport const SidebarMenu: Story = {\n  parameters: {\n    layout: 'fullscreen'\n  },\n  render: () => (\n    <div style={{ display: 'flex', height: '400px' }}>\n      <aside style={{ width: '250px', borderRight: '1px solid #eee', padding: '16px' }}>\n        <h3>Navigation</h3>\n        <DynMenu\n          items={verticalMenuItems}\n          orientation=\"vertical\"\n          onAction={(action) => {\n            if (typeof action === 'function') {\n              (action as () => void)();\n            }\n          }}\n        />\n      </aside>\n      <main style={{ flex: 1, padding: '16px' }}>\n        <p>Content area...</p>\n      </main>\n    </div>\n  )\n};\n\n/**\n * Simple navigation bar\n */\nexport const NavigationBar: Story = {\n  parameters: {\n    layout: 'fullscreen'\n  },\n  render: () => (\n    <nav style={{ borderBottom: '1px solid #eee', padding: '12px 16px', background: '#f9f9f9' }}>\n      <DynMenu\n        items={simpleMenuItems}\n        orientation=\"horizontal\"\n        onAction={(action) => {\n          if (typeof action === 'function') {\n            (action as () => void)();\n          }\n        }}\n      />\n    </nav>\n  )\n};\n\n\n--- Styles (DynMenu.module.css) ---\n/**\n * DynMenu Component Styles - Option B: Full Token Integration\n * 100% Design Token Compliance\n */\n\n/* ============================================\n   MENUBAR CONTAINER\n   ============================================ */\n\n:root {\n  /* Component tokens */\n  --dyn-menu-min-width: 12.5rem;\n  --dyn-menu-max-width: 17.5rem;\n  --dyn-menu-dropdown-min-width: 11.25rem;\n}\n\n.menubar {\n  display: flex;\n  gap: var(--dyn-spacing-xs, 4px);\n  padding: var(--dyn-spacing-sm, 8px);\n  background: var(--dyn-semantic-surface, #ffffff);\n  border-radius: var(--dyn-border-radius-md, 6px);\n  border: var(--dyn-border-width-sm, 1px) solid var(--dyn-semantic-border, #e2e8f0);\n  font-family: inherit;\n}\n\n.menubar[aria-orientation=\"vertical\"] {\n  flex-direction: column;\n  width: fit-content;\n  min-width: var(--dyn-menu-min-width);\n  max-width: var(--dyn-menu-max-width);\n}\n\n.menubar[aria-orientation=\"horizontal\"] {\n  flex-direction: row;\n  width: fit-content;\n}\n\n/* ============================================\n   MENUBAR ITEM\n   ============================================ */\n\n.menubarItem {\n  position: relative;\n}\n\n.menubarButton {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n  padding: var(--dyn-spacing-sm) var(--dyn-spacing-md);\n  border: none;\n  border-radius: var(--dyn-border-radius-sm);\n  background: transparent;\n  color: var(--dyn-semantic-text);\n  font-size: var(--dyn-font-size-sm);\n  font-weight: var(--dyn-font-weight-medium);\n  font-family: inherit;\n  line-height: 1.5;\n  cursor: pointer;\n  transition: all var(--dyn-transition-fast);\n  white-space: nowrap;\n  user-select: none;\n}\n\n.menubarButton:hover {\n  background: var(--dyn-semantic-surface-hover);\n}\n\n.menubarButton:focus-visible {\n  outline: var(--dyn-border-width-md, 0.125rem) solid var(--dyn-semantic-border-focus);\n  outline-offset: var(--dyn-border-width-md, 0.125rem);\n}\n\n.menubarButtonOpen {\n  background: var(--dyn-semantic-surface-active);\n  color: var(--dyn-theme-primary);\n}\n\n.menubarButtonContent {\n  display: flex;\n  align-items: center;\n  gap: var(--dyn-spacing-sm);\n}\n\n.menubarIcon,\n.menuIcon {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n  color: var(--dyn-semantic-text-secondary);\n}\n\n.menubarButtonOpen .menubarIcon {\n  color: var(--dyn-theme-primary);\n}\n\n.menubarChevron {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-left: var(--dyn-spacing-md);\n  color: var(--dyn-semantic-text-secondary);\n  transition: transform var(--dyn-transition-fast);\n}\n\n.menubarButtonOpen .menubarChevron {\n  color: var(--dyn-theme-primary);\n}\n\n.menubar[aria-orientation=\"horizontal\"] .menubarButtonOpen .menubarChevron {\n  transform: rotate(180deg);\n}\n\n.menubar[aria-orientation=\"vertical\"] .menubarButtonOpen .menubarChevron {\n  transform: rotate(90deg);\n}\n\n.menubarLabel,\n.menuLabel {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n/* ============================================\n   DROPDOWN MENU\n   ============================================ */\n\n.menu {\n  position: absolute;\n  z-index: 1000;\n  min-width: var(--dyn-menu-dropdown-min-width);\n  padding: var(--dyn-spacing-xs);\n  background: var(--dyn-semantic-background);\n  border: var(--dyn-border-width-sm, 1px) solid var(--dyn-semantic-border);\n  border-radius: var(--dyn-border-radius-md);\n  box-shadow: var(--dyn-elevation-high);\n}\n\n.menubar[aria-orientation=\"horizontal\"] .menu {\n  top: 100%;\n  left: 0;\n  margin-top: var(--dyn-spacing-xs);\n}\n\n.menubar[aria-orientation=\"vertical\"] .menu {\n  top: 0;\n  left: 100%;\n  margin-left: var(--dyn-spacing-xs);\n}\n\n/* ============================================\n   MENU ITEMS\n   ============================================ */\n\n.menuItem {\n  display: flex;\n  align-items: center;\n  gap: var(--dyn-spacing-sm);\n  width: 100%;\n  padding: var(--dyn-spacing-sm) var(--dyn-spacing-md);\n  border: none;\n  border-radius: var(--dyn-border-radius-sm);\n  background: transparent;\n  color: var(--dyn-semantic-text);\n  font-size: var(--dyn-font-size-sm);\n  font-weight: var(--dyn-font-weight-normal);\n  font-family: inherit;\n  line-height: 1.5;\n  text-align: left;\n  cursor: pointer;\n  transition: all var(--dyn-transition-fast);\n  white-space: nowrap;\n}\n\n.menuItem:hover {\n  background: var(--dyn-semantic-surface-hover);\n}\n\n.menuItem:focus-visible {\n  outline: var(--dyn-border-width-md, 0.125rem) solid var(--dyn-semantic-border-focus);\n  outline-offset: calc(var(--dyn-border-width-md, 0.125rem) * -1);\n}\n\n.menuItem:active {\n  background: var(--dyn-semantic-surface-active);\n  color: var(--dyn-theme-primary);\n}\n\n/* ============================================\n   RESPONSIVE\n   ============================================ */\n\n@media (max-width: 768px) {\n  .menubar {\n    padding: var(--dyn-spacing-xs);\n  }\n\n  .menubar[aria-orientation=\"vertical\"] {\n    min-width: 10rem;\n    max-width: 12.5rem;\n  }\n\n  .menubarButton {\n    padding: var(--dyn-spacing-xs) var(--dyn-spacing-sm);\n    font-size: var(--dyn-font-size-xs);\n  }\n\n  .menu {\n    min-width: 10rem;\n  }\n\n  .menuItem {\n    padding: var(--dyn-spacing-xs) var(--dyn-spacing-sm);\n    font-size: var(--dyn-font-size-xs);\n  }\n}\n\n/* ============================================\n   ACCESSIBILITY\n   ============================================ */\n\n@media (prefers-contrast: high) {\n  .menubar {\n    border-width: 2px;\n  }\n\n  .menu {\n    border-width: 2px;\n  }\n\n  .menubarButton:focus-visible,\n  .menuItem:focus-visible {\n    outline-width: var(--dyn-border-width-lg, 3px);\n  }\n}\n\n@media (prefers-reduced-motion: reduce) {\n\n  .menubarButton,\n  .menuItem {\n    transition: none;\n  }\n}\n\n/* ============================================\n   DARK MODE\n   Note: Handled automatically via semantic tokens!\n   ============================================ */", "metadata": {"type": "ui_component", "name": "DynMenu", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynMenu"}, "embedding": [-0.05533586069941521, 0.014367334544658661, 0.05398028343915939, 0.0378461554646492, -0.00334557075984776, 0.08189580589532852, -0.0061546145007014275, 0.060387954115867615, -0.025963854044675827, 0.035933010280132294, -0.08053184300661087, 0.014761406928300858, 0.009287266060709953, 0.04554075747728348, 0.07786507159471512, 0.03348222002387047, -0.02479110099375248, -0.08214228600263596, 0.027741046622395515, -0.026645224541425705, 0.056221090257167816, -0.045612771064043045, 0.006145794410258532, 0.005874054506421089, -0.004616597201675177, 0.0454629585146904, -0.016194084659218788, -0.012918410822749138, 0.03525099903345108, 0.011992375366389751, -0.022523783147335052, 0.09950827807188034, -0.0064612217247486115, -0.042342666536569595, -0.093891441822052, -0.009886611253023148, -0.008107233792543411, -0.005333883687853813, -0.06508120894432068, -0.005125605035573244, 0.041037000715732574, 0.08582906424999237, 0.018894920125603676, -0.05320294201374054, 0.012546028010547161, 0.019713234156370163, 0.0006868173950351775, 0.024427570402622223, -0.08859816193580627, 0.03878449276089668, 0.022081412374973297, 0.055451899766922, 0.09925378859043121, -0.024405553936958313, 0.059628743678331375, 0.01529136672616005, -0.022121407091617584, -0.03372268006205559, 0.020983515307307243, 0.05311091989278793, 0.02251276560127735, -0.02492130920290947, -0.008189183659851551, -0.12693271040916443, 0.0493989959359169, 0.05845110863447189, -0.028304195031523705, -0.04213719442486763, 0.01362418383359909, 0.005487122572958469, 0.021985435858368874, -0.07862912118434906, 0.13705097138881683, 0.06394800543785095, 0.015543612651526928, -0.13073688745498657, -0.010084390640258789, 0.014401597902178764, 0.007993157021701336, -0.029100481420755386, -0.04788278043270111, -0.011628741398453712, -0.056339919567108154, 0.03309819474816322, 0.03442210331559181, 0.09047621488571167, -0.03900532051920891, -0.042769014835357666, -0.0681719034910202, 0.004818369168788195, 0.01334276795387268, -0.1659768521785736, 0.003947349265217781, 0.0243158470839262, 0.041501112282276154, -0.04713376238942146, -0.14064845442771912, 0.0591026246547699, -0.03077421709895134, 0.004630620591342449, -0.008406519889831543, 0.015706809237599373, -0.0052962698973715305, 0.008196080103516579, -0.0651121735572815, 0.01027811411768198, 0.05391861870884895, -0.05397866666316986, -0.038726016879081726, 0.06022636219859123, 0.0020048588048666716, 0.002727130427956581, 0.0003520884783938527, -0.009573031216859818, -0.09529981017112732, -0.02209503762423992, -0.0027326238341629505, -0.03907972574234009, 0.0721336305141449, 0.05575084686279297, 0.0597948394715786, -0.01716632768511772, 0.04999494552612305, 0.04158620908856392, 0.03427064046263695, 0.09909846633672714, 0.03294970840215683, 1.8546441098625337e-33, -0.049058329313993454, -0.012665939517319202, -0.005736394785344601, 0.09674063324928284, 0.033649444580078125, -0.018294520676136017, 0.013626400381326675, -0.08242058008909225, -0.026026686653494835, 0.019817115738987923, 0.01364138349890709, 0.11948167532682419, -0.06606802344322205, 0.054109156131744385, 0.027772769331932068, -0.07628925144672394, 0.10679594427347183, -0.05411412566900253, -0.045000988990068436, -0.07363516092300415, 0.0017700702883303165, 0.0880090594291687, -0.05347185581922531, -0.04363982751965523, 0.0910872220993042, 0.07045532763004303, -0.027163531631231308, 0.11611287295818329, -0.04366752505302429, -0.044309575110673904, 0.037642739713191986, -0.02447112649679184, 0.02039235644042492, 0.05397357419133186, -0.055158063769340515, -0.05080290511250496, -0.11482545733451843, -0.023457378149032593, -0.030089370906352997, -0.055179283022880554, -0.07103389501571655, 0.01364859752357006, -0.043084535747766495, 0.03630248084664345, -0.03977598249912262, 0.04507853090763092, 0.09312225878238678, 0.018407423049211502, 0.057179562747478485, 0.009598919190466404, 0.0012396781239658594, 0.03882286697626114, 0.04903675988316536, -0.12870821356773376, -0.05342695862054825, 0.013437077403068542, -0.010496268980205059, 0.04330262914299965, 0.07129513472318649, 0.009366029873490334, 0.008784246630966663, -0.01564035937190056, 0.07970672100782394, -0.04806061461567879, 7.634591747773811e-05, 0.0938231498003006, 0.010085279121994972, 0.01620819792151451, 0.04683579504489899, -0.04544563218951225, 0.050920270383358, 0.04060976952314377, -0.04001292958855629, 0.035585541278123856, 0.10836459696292877, 0.0058716656640172005, 0.01089829858392477, -0.014355678111314774, 0.01901841349899769, -0.07378130406141281, -0.0499386340379715, -0.07273684442043304, 0.040970250964164734, 0.10552565008401871, 0.09605531394481659, -0.033221252262592316, -0.03236144781112671, -0.00777843315154314, 0.028130896389484406, 0.015436525456607342, -0.08712542057037354, -0.0808691680431366, -0.011225823312997818, -0.0006581811467185616, -0.019053136929869652, -5.486707677197354e-33, -0.03555876389145851, 0.02613133005797863, -0.03497353941202164, -0.03905682638287544, -0.06285009533166885, -0.027992146089673042, -0.08766696602106094, 0.046949584037065506, -0.039098240435123444, 0.015807460993528366, 0.0479525625705719, 0.09652554243803024, 0.040255479514598846, -0.040085408836603165, -0.05340711772441864, 0.08383499830961227, -0.06180400401353836, 0.024748288094997406, 0.008782535791397095, -0.04738792032003403, 0.06730365753173828, 0.07310362905263901, -0.0006336543010547757, 0.043437596410512924, -0.1140952855348587, 0.035622742027044296, 0.11881972849369049, 0.012290150858461857, 0.09663467109203339, -0.0708392783999443, 0.04788293316960335, 0.021748892962932587, -0.011478074826300144, 0.00645465450361371, 0.0038442465011030436, -0.08354859054088593, 0.003878425806760788, -0.016575440764427185, -0.08390364050865173, -0.00907049234956503, -0.003917168825864792, -0.016546204686164856, 0.034579798579216, 0.0018282660748809576, -0.022642914205789566, -0.04037719592452049, 0.002726596547290683, 0.017259087413549423, -0.049048639833927155, 0.00010602677502902225, 0.023933706805109978, -0.06745369732379913, 0.014608028344810009, 0.004664990585297346, -0.060252271592617035, -0.020593084394931793, -0.029776951298117638, -0.02066037617623806, 0.025015898048877716, 0.06474968045949936, 0.009436558000743389, -0.06403479725122452, -0.10176223516464233, -0.0040595014579594135, -0.023360546678304672, -0.028054824098944664, -0.14002805948257446, 0.01881173811852932, 0.004943483509123325, 0.06117658689618111, 0.03687269985675812, 0.004033331759274006, 0.03523100167512894, -0.06634945422410965, -0.05738138034939766, -0.0184906218200922, 0.07176419347524643, 0.0356275700032711, 0.05452397093176842, -0.027581509202718735, -0.04330893233418465, -0.03240428492426872, 0.02111777476966381, 0.0032487192656844854, 0.00816940888762474, -0.008138976991176605, -0.019546043127775192, 0.04098064452409744, 0.054310768842697144, 0.07406488060951233, 0.024509083479642868, -0.03619486466050148, 0.003373561194166541, 0.03147590905427933, -0.10190294682979584, -6.321283763099927e-08, 0.04111552610993385, -0.010527349077165127, -0.07161208987236023, -0.06713417917490005, -0.027129676192998886, -0.058232273906469345, -0.046856917440891266, -0.038143791258335114, -0.05662866309285164, 0.036449071019887924, -0.02067890204489231, 0.02814238704741001, -0.07556232064962387, -0.055688679218292236, 0.041038382798433304, -0.0045361267402768135, -0.05327485874295235, 0.026408223435282707, -0.034163229167461395, 0.06856442987918854, -0.010741940699517727, -0.045183565467596054, -0.04238970950245857, 0.02768484316766262, 0.03294440358877182, -0.013372567482292652, 0.020831136032938957, 0.012101713567972183, 0.029127677902579308, 0.010782336816191673, -0.0011019899975508451, 0.024153873324394226, -0.03363927826285362, -0.0444662980735302, -0.09974551200866699, 0.008702808991074562, 0.010746928863227367, -0.06530372053384781, 0.07295601814985275, -0.048505935817956924, -0.029765792191028595, -0.09728396683931351, -0.018407920375466347, 0.04071759060025215, -0.07525547593832016, 0.016516048461198807, -0.06814876943826675, 0.047183651477098465, -0.002080539707094431, 0.03193490952253342, -0.06583694368600845, 0.015407711267471313, -0.04024451598525047, -0.006598258391022682, -0.03359504044055939, -0.029839271679520607, -0.027241947129368782, 0.008285590447485447, 0.0853436142206192, -0.04557780548930168, 0.10239903628826141, -0.043878063559532166, -0.0032352274283766747, -0.034312017261981964]}, {"id": "dyn_ui_component_DynModal", "text": "# Component: DynModal\n\n--- Types (DynModal.types.ts) ---\nimport type { ReactNode } from 'react';\nimport type { BaseComponentProps, AccessibilityProps } from '../../types';\n\nexport type DynModalSize = 'sm' | 'md' | 'lg' | 'full';\n\n/**\n * Ref type for DynModal component\n */\nexport type DynModalRef = HTMLDivElement;\n\nexport interface DynModalProps extends BaseComponentProps, AccessibilityProps {\n    /** If true, the modal is displayed. */\n    isOpen: boolean;\n\n    /** Title of the modal. */\n    title?: ReactNode;\n\n    /** Callback fired when the modal requests to be closed. */\n    onClose: () => void;\n\n    /** Children to render inside the modal body. */\n    children: ReactNode;\n\n    /** Optional footer content. */\n    footer?: ReactNode;\n\n    /** Size of the modal. */\n    size?: DynModalSize;\n\n    /** If true, the modal will span the entire screen. */\n    fullscreen?: boolean;\n\n    /** If true, the modal will be vertically and horizontally centered. */\n    centered?: boolean;\n\n    /** If true, clicking on the backdrop will call onClose. */\n    closeOnBackdropClick?: boolean;\n\n    /** If true, pressing Escape will call onClose. */\n    closeOnEsc?: boolean;\n\n    /** If true, shows a close button in the header. */\n    showCloseButton?: boolean;\n\n    /** Loading state of the modal. */\n    loading?: boolean;\n\n    /** Portal container (defaults to document.body). */\n    portalContainer?: HTMLElement;\n}\n\nexport const DYN_MODAL_DEFAULT_PROPS = {\n    size: 'md' as DynModalSize,\n    fullscreen: false,\n    centered: true,\n    closeOnBackdropClick: true,\n    closeOnEsc: true,\n    showCloseButton: true,\n    loading: false,\n} as const;\n\n\n--- Component (DynModal.tsx) ---\nimport React, { forwardRef, useEffect, useCallback, useId, useRef, useImperativeHandle } from 'react';\nimport { createPortal } from 'react-dom';\nimport { cn } from '../../utils/classNames';\nimport { DynIcon } from '../DynIcon';\nimport type { DynModalProps, DynModalRef, DynModalSize } from './DynModal.types';\nimport { DYN_MODAL_DEFAULT_PROPS } from './DynModal.types';\nimport styles from './DynModal.module.css';\n\n/**\n * DynModal Component\n * A customizable modal component with overlay, header, body, and footer sections.\n */\nexport const DynModal = forwardRef<DynModalRef, DynModalProps>((\n    {\n        isOpen,\n        onClose,\n        title,\n        children,\n        footer,\n        size = DYN_MODAL_DEFAULT_PROPS.size,\n        fullscreen = DYN_MODAL_DEFAULT_PROPS.fullscreen,\n        centered = DYN_MODAL_DEFAULT_PROPS.centered,\n        closeOnBackdropClick = DYN_MODAL_DEFAULT_PROPS.closeOnBackdropClick,\n        closeOnEsc = DYN_MODAL_DEFAULT_PROPS.closeOnEsc,\n        showCloseButton = DYN_MODAL_DEFAULT_PROPS.showCloseButton,\n        loading = DYN_MODAL_DEFAULT_PROPS.loading,\n        className,\n        style,\n        portalContainer = typeof document !== 'undefined' ? document.body : undefined,\n        'aria-label': ariaLabel,\n        'aria-labelledby': ariaLabelledBy,\n        'aria-describedby': ariaDescribedBy,\n        id: idProp,\n        ...rest\n    },\n    ref\n) => {\n    const generatedId = useId();\n    const modalId = idProp || generatedId;\n    const titleId = `${modalId}-title`;\n    const bodyId = `${modalId}-body`;\n    const modalRef = useRef<HTMLDivElement>(null);\n\n    // Forward ref to the modal container\n    useImperativeHandle(ref, () => modalRef.current!, []);\n\n    const previousFocus = useRef<HTMLElement | null>(null);\n\n    useEffect(() => {\n        if (isOpen) {\n            previousFocus.current = document.activeElement as HTMLElement;\n\n            // Focus the modal content for accessibility\n            requestAnimationFrame(() => {\n                modalRef.current?.focus();\n            });\n\n            document.body.style.overflow = 'hidden';\n\n            const handleKeyDown = (event: KeyboardEvent) => {\n                if (!isOpen) return;\n\n                // Handle Escape\n                if (closeOnEsc && event.key === 'Escape') {\n                    event.preventDefault();\n                    onClose();\n                    return;\n                }\n\n                // Handle Focus Trap (Tab)\n                if (event.key === 'Tab' && modalRef.current) {\n                    const focusables = modalRef.current.querySelectorAll<HTMLElement>(\n                        'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\n                    );\n\n                    if (focusables.length === 0) return;\n\n                    const first = focusables[0];\n                    const last = focusables[focusables.length - 1];\n\n                    if (event.shiftKey) {\n                        if (document.activeElement === first) {\n                            last.focus();\n                            event.preventDefault();\n                        }\n                    } else {\n                        if (document.activeElement === last) {\n                            first.focus();\n                            event.preventDefault();\n                        }\n                    }\n                }\n            };\n\n            document.addEventListener('keydown', handleKeyDown);\n\n            return () => {\n                document.removeEventListener('keydown', handleKeyDown);\n                document.body.style.overflow = '';\n                // Restore focus\n                if (previousFocus.current) {\n                    previousFocus.current.focus();\n                }\n            };\n        }\n        return undefined;\n    }, [isOpen, closeOnEsc, onClose]);\n\n    const handleBackdropClick = (event: React.MouseEvent) => {\n        if (closeOnBackdropClick && event.target === event.currentTarget) {\n            onClose();\n        }\n    };\n\n    if (!isOpen || !portalContainer) return null;\n\n    // Map props to Full Word CSS classes as per Technical Documentation\n    const SIZE_MAP: Record<DynModalSize, string> = {\n        sm: 'sizeSm',\n        md: 'sizeMd',\n        lg: 'sizeLg',\n        full: 'modalFullscreen' // Assuming 'full' maps to fullscreen variant or similar behavior handled by className\n    };\n\n    const modalClasses = cn(\n        styles.modalContainer,\n        styles[SIZE_MAP[size] || 'sizeMd'],\n        fullscreen && styles.modalFullscreen,\n        loading && styles.modalLoading,\n        className\n    );\n\n    return createPortal(\n        <div\n            className={cn(styles.modalOverlay, styles.open)}\n            onClick={handleBackdropClick}\n            role=\"presentation\"\n        >\n            <div\n                ref={modalRef}\n                id={modalId}\n                className={modalClasses}\n                style={style}\n                tabIndex={-1}\n                role=\"dialog\"\n                aria-modal=\"true\"\n                aria-labelledby={title ? titleId : ariaLabelledBy}\n                aria-describedby={ariaDescribedBy || bodyId}\n                aria-label={ariaLabel}\n                {...rest}\n            >\n                {(title || showCloseButton) && (\n                    <header className={styles.modalHeader}>\n                        {title && (\n                            <h2 id={titleId} className={styles.modalTitle}>\n                                {title}\n                            </h2>\n                        )}\n                        {showCloseButton && (\n                            <button\n                                type=\"button\"\n                                className={styles.modalClose}\n                                onClick={onClose}\n                                aria-label=\"Close modal\"\n                            >\n                                <DynIcon icon=\"close\" size=\"md\" />\n\n                            </button>\n                        )}\n                    </header>\n                )}\n\n                <main id={bodyId} className={styles.modalBody}>\n                    {children}\n                </main>\n\n                {footer && (\n                    <footer className={styles.modalFooter}>\n                        {footer}\n                    </footer>\n                )}\n            </div>\n        </div>,\n        portalContainer\n    );\n});\n\nDynModal.displayName = 'DynModal';\n\nexport default DynModal;\n\n\n--- Usage Examples (DynModal.stories.tsx) ---\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { DynModal } from './DynModal';\nimport { DynButton } from '../DynButton';\nimport React, { useState } from 'react';\n\nconst meta: Meta<typeof DynModal> = {\n    title: 'Overlays/DynModal',\n    component: DynModal,\n    parameters: {\n        layout: 'centered',\n    },\n    tags: ['autodocs'],\n    argTypes: {\n        size: {\n            control: 'select',\n            options: ['sm', 'md', 'lg'],\n        },\n        fullscreen: { control: 'boolean' },\n        centered: { control: 'boolean' },\n        isOpen: { control: 'boolean' },\n        loading: { control: 'boolean' },\n    },\n};\n\nexport default meta;\ntype Story = StoryObj<typeof DynModal>;\n\nconst ModalWithState = ({ footer, children, ...args }: any) => {\n    const [isOpen, setIsOpen] = useState(false);\n    const handleClose = () => setIsOpen(false);\n\n    // If footer is a function, we pass the handleClose to it\n    const resolvedFooter = typeof footer === 'function' ? footer(handleClose) : footer;\n    // If children is a function, we pass the handleClose to it\n    const resolvedChildren = typeof children === 'function' ? children(handleClose) : children;\n\n    return (\n        <div style={{ height: '300px', display: 'flex', alignItems: 'start', justifyContent: 'center' }}>\n            <DynButton onClick={() => setIsOpen(true)}>Open {args.title || 'Modal'}</DynButton>\n            <DynModal\n                {...args}\n                isOpen={isOpen}\n                onClose={handleClose}\n                footer={resolvedFooter}\n            >\n                {resolvedChildren || (\n                    <div style={{ display: 'flex', flexDirection: 'column', gap: '12px' }}>\n                        <p style={{ margin: 0 }}>This is a premium modal powered by <strong>DynUI Design Tokens</strong>.</p>\n                        <p style={{ margin: 0, color: 'var(--dyn-semantic-text-secondary)' }}>\n                            It handles focus trapping, Escape key closing, and automatic dark mode transition using semantic tokens.\n                        </p>\n                    </div>\n                )}\n            </DynModal>\n        </div>\n    );\n};\n\nexport const Default: Story = {\n    render: (args: any) => <ModalWithState {...args} />,\n    args: {\n        title: 'Modal Title',\n        children: 'Modal content goes here.',\n    },\n};\n\nexport const WithFooter: Story = {\n    render: (args: any) => <ModalWithState {...args} />,\n    args: {\n        title: 'Save Changes',\n        children: 'Do you want to save the changes you made to this profile? This action cannot be undone.',\n        footer: ((onClose: any) => (\n            <div style={{ display: 'flex', gap: '8px' }}>\n                <DynButton kind=\"tertiary\" onClick={onClose}>Cancel</DynButton>\n                <DynButton kind=\"primary\" onClick={() => { alert('Saved!'); onClose(); }}>Save Changes</DynButton>\n            </div>\n        )) as any,\n    },\n};\n\nexport const Sizes: Story = {\n    render: () => {\n        const [openSize, setOpenSize] = useState<string | null>(null);\n        return (\n            <div style={{ display: 'flex', gap: '8px' }}>\n                <DynButton onClick={() => setOpenSize('sm')}>Small</DynButton>\n                <DynButton onClick={() => setOpenSize('md')}>Medium</DynButton>\n                <DynButton onClick={() => setOpenSize('lg')}>Large</DynButton>\n\n                <DynModal\n                    isOpen={openSize === 'sm'}\n                    onClose={() => setOpenSize(null)}\n                    title=\"Small Modal\"\n                    size=\"sm\"\n                >\n                    This is a small modal.\n                </DynModal>\n\n                <DynModal\n                    isOpen={openSize === 'md'}\n                    onClose={() => setOpenSize(null)}\n                    title=\"Medium Modal\"\n                    size=\"md\"\n                >\n                    This is a medium modal.\n                </DynModal>\n\n                <DynModal\n                    isOpen={openSize === 'lg'}\n                    onClose={() => setOpenSize(null)}\n                    title=\"Large Modal\"\n                    size=\"lg\"\n                >\n                    This is a large modal.\n                </DynModal>\n            </div>\n        );\n    }\n};\n\nexport const Fullscreen: Story = {\n    render: (args: any) => <ModalWithState {...args} />,\n    args: {\n        title: 'Fullscreen Modal',\n        fullscreen: true,\n        children: ((onClose: any) => (\n            <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>\n                <h3>Complete Fullscreen Experience</h3>\n                <p>When in fullscreen mode, the modal takes over the entire viewport. This is ideal for complex forms or editors that require maximum focus.</p>\n                <DynButton kind=\"secondary\" onClick={onClose} style={{ width: 'fit-content' }}>Return to Dashboard</DynButton>\n            </div>\n        )) as any,\n        footer: ((onClose: any) => <DynButton kind=\"primary\" onClick={onClose}>Finish & Close</DynButton>) as any\n    },\n};\n\nexport const Loading: Story = {\n    render: (args: any) => <ModalWithState {...args} />,\n    args: {\n        title: 'Loading Modal',\n        loading: true,\n        children: 'The modal is in a loading state, which dims the content.',\n    },\n};\n\n\n--- Styles (DynModal.module.css) ---\n/**\n * DynModal Component Styles - Option B: Full Token Integration\n * 100% Design Token Compliance\n * \n * Variants: default, fullscreen, centered\n * Sizes: small, medium, large\n * States: open, closed, loading\n * Dark mode: Automatic via semantic tokens\n * A11y: WCAG AA+ (trap focus, escape key, aria attributes)\n */\n\n/* ============================================\n   COMPONENT TOKENS (Moved to :root)\n   All tokens reference semantic/foundation tokens\n   ============================================ */\n\n.modalOverlay {\n  /* Overlay tokens */\n  --dyn-modal-overlay-bg: var(--dyn-semantic-overlay, rgba(0, 0, 0, 0.5));\n  --dyn-modal-overlay-backdrop-filter: blur(4px);\n  --dyn-modal-transition: var(--dyn-transition-normal, 0.2s ease-in-out);\n  --dyn-modal-animation-timing: cubic-bezier(0.4, 0, 0.2, 1);\n\n  /* Modal tokens - all use semantic for auto theme switching */\n  --dyn-modal-bg: var(--dyn-semantic-background, #ffffff);\n  --dyn-modal-text: var(--dyn-semantic-text, #0f172a);\n  --dyn-modal-border: var(--dyn-semantic-border, #e2e8f0);\n  --dyn-modal-border-radius: var(--dyn-border-radius-lg, 0.5rem);\n  --dyn-modal-box-shadow: var(--dyn-elevation-high, 0 10px 15px -3px rgba(0, 0, 0, 0.1));\n\n  /* Header tokens */\n  --dyn-modal-header-padding: var(--dyn-spacing-lg, 1.5rem);\n  --dyn-modal-header-bg: var(--dyn-semantic-surface, var(--dyn-neutral-light-50, #fafafa));\n  --dyn-modal-header-border: var(--dyn-semantic-border, #e2e8f0);\n  --dyn-modal-header-text: var(--dyn-semantic-text, #0f172a);\n  --dyn-modal-header-font-size: var(--dyn-font-size-2xl, 1.5rem);\n  --dyn-modal-header-font-weight: var(--dyn-font-weight-bold, 700);\n  --dyn-modal-header-letter-spacing: var(--dyn-letter-spacing-tight, -0.02em);\n  --dyn-modal-header-line-height: var(--dyn-line-height-tight, 1.2);\n\n  /* Body tokens */\n  --dyn-modal-body-padding: var(--dyn-spacing-xl, 2rem);\n  --dyn-modal-body-bg: var(--dyn-semantic-background, #ffffff);\n  --dyn-modal-body-text: var(--dyn-semantic-text, #0f172a);\n  --dyn-modal-body-font-size: var(--dyn-font-size-md, 1rem);\n  --dyn-modal-body-line-height: var(--dyn-line-height-normal, 1.5);\n\n  /* Footer tokens */\n  --dyn-modal-footer-padding: var(--dyn-spacing-lg, 1.5rem);\n  --dyn-modal-footer-bg: var(--dyn-semantic-surface, var(--dyn-neutral-light-50, #fafafa));\n  --dyn-modal-footer-border: var(--dyn-semantic-border, #e2e8f0);\n  --dyn-modal-footer-gap: var(--dyn-spacing-md, 1rem);\n\n  /* Close button tokens */\n  --dyn-modal-close-size: 2rem;\n  --dyn-modal-close-color: var(--dyn-semantic-text-secondary, #64748b);\n  --dyn-modal-close-color-hover: var(--dyn-theme-primary, #2563eb);\n  --dyn-modal-close-bg-hover: var(--dyn-semantic-surface-hover, #f1f5f9);\n\n  /* Typography tokens */\n  --dyn-modal-font-family: var(--dyn-font-family-base, var(--dyn-font-family-sans, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif));\n  \n  /* Size tokens */\n  --dyn-modal-width: 40rem;\n  --dyn-modal-max-width: 90vw;\n  --dyn-modal-max-height: 85vh;\n\n  /* Base overlay styles */\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: var(--dyn-modal-overlay-bg);\n  backdrop-filter: var(--dyn-modal-overlay-backdrop-filter);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  opacity: 0;\n  visibility: hidden;\n  font-family: var(--dyn-modal-font-family);\n  transition:\n    opacity var(--dyn-modal-transition),\n    visibility var(--dyn-modal-transition);\n}\n\n.modalOverlay.open {\n  opacity: 1;\n  visibility: visible;\n}\n\n.modalContainer {\n  /* Base container styles */\n  position: relative;\n  background-color: var(--dyn-modal-bg);\n  color: var(--dyn-modal-text);\n  border-radius: var(--dyn-modal-border-radius);\n  border: var(--dyn-border-width-sm, 1px) solid var(--dyn-modal-border);\n  box-shadow: var(--dyn-modal-box-shadow);\n  width: var(--dyn-modal-width);\n  max-width: var(--dyn-modal-max-width);\n  max-height: var(--dyn-modal-max-height);\n  display: flex;\n  flex-direction: column;\n  animation: dynModalSlideUp 300ms var(--dyn-modal-animation-timing);\n}\n\n/* ============================================\n   SECTIONS\n   ============================================ */\n\n.modalHeader {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: var(--dyn-modal-header-padding);\n  background-color: var(--dyn-modal-header-bg);\n  border-bottom: 1px solid var(--dyn-modal-header-border);\n  color: var(--dyn-modal-header-text);\n  border-top-left-radius: var(--dyn-modal-border-radius);\n  border-top-right-radius: var(--dyn-modal-border-radius);\n}\n\n.modalTitle {\n  margin: 0;\n  font-size: var(--dyn-modal-header-font-size);\n  font-weight: var(--dyn-modal-header-font-weight);\n  color: var(--dyn-modal-header-text);\n  line-height: var(--dyn-line-height-tight, 1.25);\n}\n\n.modalClose {\n  background: none;\n  border: none;\n  padding: var(--dyn-spacing-xs);\n  cursor: pointer;\n  color: var(--dyn-modal-close-color);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: var(--dyn-border-radius-sm);\n  transition: background-color 0.2s, color 0.2s;\n}\n\n.modalClose:hover {\n  background-color: var(--dyn-semantic-surface-hover, #f1f5f9);\n  color: var(--dyn-modal-close-color-hover);\n}\n\n.modalBody {\n  flex: 1;\n  padding: var(--dyn-modal-body-padding);\n  background-color: var(--dyn-modal-body-bg);\n  color: var(--dyn-modal-body-text);\n  font-size: var(--dyn-modal-body-font-size);\n  overflow-y: auto;\n}\n\n.modalFooter {\n  padding: var(--dyn-modal-footer-padding);\n  background-color: var(--dyn-modal-footer-bg);\n  border-top: 1px solid var(--dyn-modal-footer-border);\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  gap: var(--dyn-modal-footer-gap);\n  border-bottom-left-radius: var(--dyn-modal-border-radius);\n  border-bottom-right-radius: var(--dyn-modal-border-radius);\n}\n\n/* ============================================\n   SIZE VARIANTS\n   ============================================ */\n\n.sizeSm {\n  --dyn-modal-width: 25rem;\n}\n\n.sizeMd {\n  --dyn-modal-width: 37.5rem;\n}\n\n.sizeLg {\n  --dyn-modal-width: 50rem;\n}\n\n/* ============================================\n   FULLSCREEN VARIANT\n   ============================================ */\n\n.modalFullscreen {\n  width: 100vw;\n  height: 100vh;\n  max-width: 100vw;\n  max-height: 100vh;\n  border-radius: 0;\n}\n\n/* ============================================\n   ANIMATIONS\n   ============================================ */\n\n@keyframes dynModalSlideUp {\n  from {\n    opacity: 0;\n    transform: translateY(1.25rem);\n  }\n\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n@keyframes dynModalSlideDown {\n  from {\n    opacity: 1;\n    transform: translateY(0);\n  }\n\n  to {\n    opacity: 0;\n    transform: translateY(1.25rem);\n  }\n}\n\n/* ============================================\n   STATE: LOADING\n   ============================================ */\n\n.modalLoading {\n  pointer-events: none;\n  opacity: 0.6;\n}\n\n/* ============================================\n   ACCESSIBILITY\n   ============================================ */\n\n@media (prefers-contrast: high) {\n\n  .modalHeader,\n  .modalFooter {\n    border-width: var(--dyn-border-width-md, 2px);\n  }\n\n  .modalContainer {\n    border-width: var(--dyn-border-width-md, 2px);\n  }\n}\n\n@media (prefers-reduced-motion: reduce) {\n\n  .modalOverlay,\n  .modalContainer,\n  .modalClose {\n    animation: none !important;\n    transition: none !important;\n  }\n}\n\n/* ============================================\n   RESPONSIVE\n   ============================================ */\n\n@media (max-width: 768px) {\n  .modalContainer {\n    margin: var(--dyn-spacing-md);\n  }\n\n  .sizeSm,\n  .sizeMd,\n  .sizeLg {\n    width: 100%;\n    max-width: calc(100vw - var(--dyn-spacing-md) * 2);\n  }\n\n  .modalHeader,\n  .modalBody,\n  .modalFooter {\n    padding: var(--dyn-spacing-md);\n  }\n}\n\n@media (max-width: 480px) {\n  .modalContainer {\n    margin: var(--dyn-spacing-sm);\n  }\n\n  .sizeSm,\n  .sizeMd,\n  .sizeLg {\n    width: 100%;\n    max-width: calc(100vw - var(--dyn-spacing-sm) * 2);\n  }\n\n  .modalHeader,\n  .modalBody,\n  .modalFooter {\n    padding: var(--dyn-spacing-sm);\n  }\n\n  .modalFooter {\n    flex-direction: column;\n  }\n\n  .modalFooter button {\n    width: 100%;\n  }\n}\n\n/* ============================================\n   DARK MODE\n   Note: Handled automatically via semantic tokens!\n   No explicit overrides needed for Option B.\n   ============================================ */", "metadata": {"type": "ui_component", "name": "DynModal", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynModal"}, "embedding": [-0.06873247772455215, -0.033048491925001144, 0.05102018639445305, 0.06320922076702118, 0.08922030031681061, 0.01579638011753559, -0.03033536672592163, 0.0655694380402565, 0.005899009294807911, -0.006496775895357132, -0.04685201495885849, 0.009859489277005196, -0.08040172606706619, 0.04212603345513344, 0.027474936097860336, 0.049019426107406616, -0.03814956918358803, -0.03038725070655346, -0.04346012696623802, 0.04313013330101967, 0.12801997363567352, -0.0598086453974247, 0.02424515411257744, -0.061265069991350174, 0.04599629342556, 0.04292045533657074, 0.023158838972449303, 0.021115945652127266, 0.07948154211044312, -0.02280687913298607, -0.03031553141772747, 0.06620468199253082, -0.06296689063310623, -0.06854081898927689, -0.020178290084004402, 0.08647707104682922, -0.06803308427333832, 0.03223879635334015, -0.01955195516347885, -0.047378938645124435, 0.06443201005458832, 0.11265932768583298, -0.026547057554125786, -0.04541085287928581, -0.03258998319506645, -0.08618190139532089, -0.023554932326078415, -0.018714336678385735, -0.05843023955821991, -0.007591546978801489, -0.008677070960402489, 0.017493443563580513, 0.09060857445001602, -0.001561810728162527, 0.017438437789678574, -0.025876516476273537, 0.08319747447967529, -0.010100046172738075, 0.008115704171359539, 0.003012453205883503, -0.0067730555310845375, -0.01701131835579872, -0.05640549212694168, -0.1155811995267868, 0.0904357060790062, 0.06033778190612793, 0.032941050827503204, -0.0641665831208229, 0.04222490265965462, -0.10182102024555206, -0.023030558601021767, -0.04444460570812225, 0.06130887567996979, 0.025894947350025177, -0.023091308772563934, -0.16039010882377625, 0.029583485797047615, 0.021350163966417313, 0.014412281103432178, 0.007143138442188501, 0.08022215962409973, -0.008747989311814308, 0.00236846343614161, -0.0070533170364797115, 0.004505309741944075, 0.10720944404602051, 0.0019358611898496747, 0.024493439123034477, -0.06835009902715683, -0.012878687120974064, -0.04081226885318756, -0.06442322582006454, -0.019277425482869148, 0.09153292328119278, -0.0338037833571434, -0.004406632389873266, -0.08033332973718643, 0.05323667824268341, -0.043967265635728836, 0.040606480091810226, 0.03822280839085579, 0.024295520037412643, -0.09529763460159302, 0.049351777881383896, -0.035218745470047, -0.04000084474682808, 0.019280748441815376, -0.02149137295782566, -0.07486063241958618, 0.022893881425261497, 0.0008313465514220297, 0.050499383360147476, -0.0026732797268778086, 0.0674295648932457, -0.04761042445898056, -0.05065353214740753, -0.002189472084864974, 0.009455629624426365, 0.12100759148597717, -0.07182250916957855, 0.0755624920129776, -0.008518366143107414, 0.05345138907432556, -0.018172573298215866, 0.08386267721652985, 0.03298735246062279, -0.00984921120107174, 4.353868342946561e-33, 0.008364995010197163, 0.004403361584991217, -0.04123758524656296, 0.08738511055707932, 0.04478742927312851, -0.038421060889959335, 0.01585005410015583, -0.04830377176403999, -0.020145680755376816, -0.01263594813644886, 2.886583206418436e-05, 0.03741446137428284, -0.08439548313617706, -0.017003588378429413, -0.05345673859119415, -0.08700232952833176, 0.0718720555305481, -0.023045452311635017, -0.012224555015563965, -0.0014354472514241934, 0.009519846178591251, 0.07907677441835403, -0.02748687006533146, 0.08559790253639221, 0.082131028175354, -0.01965409144759178, -0.034115731716156006, 0.0979381650686264, -0.016908777877688408, -0.02889210917055607, 0.009455468505620956, -0.0353241004049778, 0.0007041925564408302, 0.032924801111221313, -0.006880652159452438, -0.06141525134444237, -0.07049544155597687, -0.00874841958284378, -0.0724225863814354, -0.027670463547110558, -0.02054937370121479, -0.05536942183971405, -0.1054387167096138, 0.04994144290685654, -0.04122453182935715, -0.01848943904042244, 0.03131062909960747, 0.023138560354709625, 0.0036602916661649942, -0.033090583980083466, -0.02094847895205021, 0.03092191368341446, 0.05028437823057175, -0.16944731771945953, -0.011010765098035336, 0.010923762805759907, -0.05327947437763214, -0.028937729075551033, 0.14143632352352142, -0.0051275291480124, -0.015068242326378822, -0.007813280448317528, 0.050843387842178345, -0.028379786759614944, -0.011705180630087852, 0.04504717141389847, -0.0798749178647995, -0.051358260214328766, 0.03026643581688404, -0.08002546429634094, -0.03707609698176384, -0.004509721416980028, 0.01589047722518444, 0.06638062000274658, 0.049351830035448074, 0.03136718273162842, -0.047411032021045685, 0.03121698647737503, 0.08806359767913818, -0.049334123730659485, 0.06910683959722519, -0.00679229898378253, 0.059313803911209106, 0.065990149974823, 0.10640891641378403, -0.12274620682001114, -0.07337984442710876, -0.04983256012201309, 0.028110988438129425, 0.027314942330121994, -0.08070256561040878, -0.057301077991724014, -0.02170664258301258, -0.02374403178691864, -0.027835536748170853, -6.726476222412681e-33, 0.0318836085498333, -0.0025507048703730106, -0.1032572090625763, -0.008483442477881908, -0.04044647142291069, 0.003115980187430978, -0.049134936183691025, 0.03829739987850189, 0.0406520813703537, -0.0024894035886973143, 0.030397145077586174, 0.07072813808917999, 0.07992418110370636, -0.02485940419137478, -0.08439935743808746, 0.09490574896335602, 0.0527527779340744, 0.029122840613126755, 0.012343401089310646, 0.0009569288231432438, 0.04314388334751129, -0.006728399079293013, -0.03553636372089386, 0.04044954106211662, -0.0554928332567215, 0.04297856613993645, -0.01911330409348011, 0.023825058713555336, 0.028216741979122162, -0.055495280772447586, 0.08948053419589996, -0.006394893862307072, 0.037343382835388184, -0.02670448273420334, 0.03373003378510475, 0.005630046594887972, -0.03330249711871147, -0.032473985105752945, -0.03875633329153061, 0.03573217988014221, 0.01017429493367672, 0.002130345441401005, 0.05721737816929817, -0.015065135434269905, -0.016678055748343468, -0.09856418520212173, -0.03809792175889015, -0.0885259285569191, -0.014646144583821297, 0.033982932567596436, 0.04286600276827812, -0.04127156734466553, -0.002418168820440769, -0.06871384382247925, 0.0009352031629532576, -0.0017370631685480475, 0.023787958547472954, 0.025420883670449257, 0.05513015389442444, 0.09026481956243515, 0.05301634594798088, -0.12779507040977478, -0.06790851801633835, -0.010517234914004803, -0.007212891709059477, -0.009991011582314968, -0.10217994451522827, 0.005088265053927898, 0.07592637836933136, 0.06457061320543289, 0.06350409239530563, 0.06909984350204468, 0.05217590555548668, -0.0032855395693331957, 0.0704653337597847, -0.01842316798865795, 0.04337114095687866, 0.015358555130660534, 0.09314299374818802, -0.007737938314676285, 0.0108611099421978, -0.025746677070856094, 0.013716869987547398, -0.04596715420484543, -0.008044549264013767, 0.02265913039445877, -0.014554377645254135, 0.045041605830192566, 0.03437523543834686, -0.006247928831726313, -0.0010621226392686367, -0.05590428039431572, -0.014581769704818726, 0.030409272760152817, 0.05998073145747185, -6.039751099251589e-08, 0.015822112560272217, -0.03084505908191204, -0.027469798922538757, -0.058463625609874725, -0.005169352050870657, -0.10508695244789124, 0.019679654389619827, -0.14013323187828064, -0.023701487109065056, -0.026222098618745804, 0.002163474215194583, 0.025285732001066208, -0.003918412607163191, -0.031455133110284805, 0.031412653625011444, 0.002507426543161273, -0.01793930120766163, 0.017682978883385658, -0.02267102524638176, 0.03681962192058563, -0.0039122989401221275, -0.055833104997873306, -0.003765654284507036, 0.024523593485355377, 0.07478710263967514, -0.05619020760059357, -0.014108836650848389, -0.053931333124637604, -0.016245562583208084, 0.029204899445176125, -0.028101546689867973, 0.014138433150947094, -0.03997265547513962, -0.07634653151035309, -0.08509182184934616, 0.04527122154831886, 0.07141342759132385, -0.05790145695209503, 0.05045153945684433, 0.035204820334911346, 0.04976354166865349, -0.07761180400848389, -0.047785114496946335, 0.06266334652900696, 0.008382858708500862, 0.0030447570607066154, -0.04545173794031143, -0.025387458503246307, -0.033975474536418915, 0.022611964493989944, 0.040170133113861084, -0.06382277607917786, -0.07816125452518463, 0.015367799438536167, -0.01483215857297182, -0.019688565284013748, -0.007646301295608282, 0.0930069237947464, 0.05139213427901268, -0.046004973351955414, 0.016302749514579773, 0.02492452599108219, 0.029026396572589874, -0.08366629481315613]}, {"id": "dyn_ui_component_DynPage", "text": "# Component: DynPage\n\n--- Types (DynPage.types.ts) ---\nimport type { ReactNode } from 'react';\nimport type { BaseComponentProps } from '../../types/theme';\nimport type { LayoutSize, LayoutSpacing } from '../../types/layout.types';\n\nexport interface DynPageBreadcrumb {\n  title: string;\n  href?: string;\n  onClick?: () => void;\n}\n\nexport interface DynPageAction {\n  key: string;\n  title: string;\n  icon?: string;\n  type?: 'primary' | 'secondary' | 'danger';\n  onClick: () => void;\n  disabled?: boolean;\n  loading?: boolean;\n}\n\nexport interface DynPageProps extends BaseComponentProps {\n  title: string;\n  subtitle?: string;\n  breadcrumbs?: DynPageBreadcrumb[];\n  actions?: DynPageAction[];\n  children: ReactNode;\n  loading?: boolean;\n  error?: string | ReactNode;\n  size?: LayoutSize;\n  padding?: LayoutSpacing;\n  background?: 'none' | 'surface' | 'page';\n}\n\n\n--- Component (DynPage.tsx) ---\nimport React from 'react';\nimport { cn } from '../../utils/classNames';\nimport { DynButton } from '../DynButton';\nimport { DynIcon } from '../DynIcon';\nimport { DynLoading } from '../DynLoading';\nimport type { DynButtonKind } from '../DynButton/DynButton.types';\nimport type { DynPageProps } from './DynPage.types';\nimport styles from './DynPage.module.css';\n\nexport const DynPage: React.FC<DynPageProps> = ({\n  title,\n  subtitle,\n  breadcrumbs = [],\n  actions = [],\n  children,\n  loading = false,\n  error,\n  size = 'md',\n  padding = 'md',\n  background = 'page',\n  className,\n  id,\n  'data-testid': testId\n}) => {\n  const pageClasses = cn(\n    styles.container,\n    size === 'sm' && styles['sizeSm'],\n    size === 'md' && styles['sizeMd'],\n    size === 'lg' && styles['sizeLg'],\n    padding === 'none' && styles.paddingNone,\n    padding === 'xs' && styles.paddingXs,\n    padding === 'sm' && styles.paddingSm,\n    padding === 'md' && styles.paddingMd,\n    padding === 'lg' && styles.paddingLg,\n    background === 'none' && styles.backgroundNone,\n    background === 'surface' && styles.backgroundSurface,\n    background === 'page' && styles.backgroundPage,\n    {\n      [styles.loading]: loading,\n      [styles.error]: !!error\n    },\n    className\n  );\n\n  const renderBreadcrumbs = () => {\n    if (breadcrumbs.length === 0) return null;\n\n    return (\n      <nav className={styles.breadcrumbs} aria-label=\"Breadcrumb\">\n        <ol className={styles.breadcrumbList}>\n          {breadcrumbs.map((breadcrumb, index) => (\n            <li key={index} className={styles.breadcrumbItem}>\n              {breadcrumb.href ? (\n                <a\n                  href={breadcrumb.href}\n                  className={styles.breadcrumbLink}\n                >\n                  {breadcrumb.title}\n                </a>\n              ) : breadcrumb.onClick ? (\n                <button\n                  type=\"button\"\n                  onClick={breadcrumb.onClick}\n                  className={styles.breadcrumbLink}\n                >\n                  {breadcrumb.title}\n                </button>\n              ) : (\n                <span className={styles.breadcrumbText}>{breadcrumb.title}</span>\n              )}\n              {index < breadcrumbs.length - 1 && (\n                <span className={styles.breadcrumbSeparator} aria-hidden=\"true\">\n                  <DynIcon icon=\"chevron-right\" size=\"sm\" />\n                </span>\n              )}\n            </li>\n          ))}\n        </ol>\n      </nav>\n    );\n  };\n\n  const renderActions = () => {\n    if (actions.length === 0) return null;\n\n    return (\n      <div className={styles.actions}>\n        {actions.map((action) => (\n          <DynButton\n            key={action.key}\n            kind={(action.type ?? 'secondary') as DynButtonKind}\n            size={size === 'lg' ? 'lg' : 'md'}\n            disabled={action.disabled}\n            loading={action.loading}\n            onClick={action.onClick}\n            icon={action.icon}\n          >\n            {action.title}\n          </DynButton>\n        ))}\n      </div>\n    );\n  };\n\n  if (loading) {\n    return (\n      <div className={pageClasses} id={id} data-testid={testId}>\n        <div className={styles.loadingContainer}>\n          <DynLoading\n            variant=\"spinner\"\n            size=\"lg\"\n            label=\"Loading page...\"\n            color=\"primary\"\n          />\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className={pageClasses} id={id} data-testid={testId}>\n        <div className={styles.errorContainer}>\n          <div className={styles.errorIcon}>\n            <DynIcon icon=\"warning\" size=\"lg\" />\n          </div>\n          <div className={styles.errorContent}>\n            {typeof error === 'string' ? (\n              <span className={styles.errorMessage}>{error}</span>\n            ) : (\n              error\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={pageClasses} id={id} data-testid={testId}>\n      <header className={styles.header}>\n        {renderBreadcrumbs()}\n\n        <div className={styles.titleSection}>\n          <div className={styles.titleContent}>\n            <h1 className={styles.headerTitle}>{title}</h1>\n            {subtitle && (\n              <p className={styles.headerSubtitle}>{subtitle}</p>\n            )}\n          </div>\n          {renderActions()}\n        </div>\n      </header>\n\n      <main className={styles.content}>\n        {children}\n      </main>\n    </div>\n  );\n};\n\n\nDynPage.displayName = 'DynPage';\n\nexport default DynPage;\n\n\n--- Usage Examples (DynPage.stories.tsx) ---\n/**\n * DynPage Component Stories\n * Part of DYN UI Layout Components Group - SCOPE 7\n */\n\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { DynPage } from './DynPage';\nimport { DynButton } from '../DynButton';\nimport { DynBox } from '../DynBox';\nimport { DynStack } from '../DynStack';\nimport { DynFlex } from '../DynFlex';\nimport type { DynPageBreadcrumb, DynPageAction } from '../../types/layout.types';\nimport React from 'react';\n\nconst meta: Meta<typeof DynPage> = {\n  title: 'Layout/DynPage',\n  component: DynPage,\n  parameters: {\n    layout: 'fullscreen',\n    docs: {\n      description: {\n        component: 'Complete page layout component with header, breadcrumbs, actions, and flexible content area.'\n      }\n    }\n  },\n  tags: ['autodocs'],\n  argTypes: {\n    size: {\n      control: 'select',\n      options: ['sm', 'md', 'lg']\n    },\n    padding: {\n      control: 'select',\n      options: ['none', 'xs', 'sm', 'md', 'lg', 'xl']\n    },\n    background: {\n      control: 'select',\n      options: ['none', 'surface', 'page']\n    },\n    loading: {\n      control: 'boolean'\n    }\n  }\n};\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\n// Sample breadcrumbs\nconst breadcrumbs: DynPageBreadcrumb[] = [\n  { title: 'Dashboard', href: '/dashboard' },\n  { title: 'Users', href: '/users' },\n  { title: 'Profile' }\n];\n\n// Sample actions\nconst actions: DynPageAction[] = [\n  {\n    key: 'save',\n    title: 'Save Changes',\n    type: 'primary',\n    icon: 'save',\n    onClick: () => console.log('Save clicked')\n  },\n  {\n    key: 'cancel',\n    title: 'Cancel',\n    type: 'secondary',\n    onClick: () => console.log('Cancel clicked')\n  },\n  {\n    key: 'delete',\n    title: 'Delete',\n    type: 'danger',\n    icon: 'trash',\n    onClick: () => console.log('Delete clicked')\n  }\n];\n\n// Sample content\nconst SampleContent = () => (\n  <DynBox padding=\"lg\">\n    <DynStack gap=\"lg\">\n      <DynStack gap=\"xs\">\n        <h3 style={{ margin: 0 }}>User Profile</h3>\n        <p style={{ margin: 0, color: 'var(--dyn-semantic-text-secondary)' }}>\n          This is sample page content that would typically contain forms, tables, or other UI elements.\n        </p>\n      </DynStack>\n\n      <div style={{ display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gap: 'var(--dyn-spacing-md)' }}>\n        <DynBox\n          padding=\"md\"\n          style={{\n            background: 'var(--dyn-semantic-surface)',\n            borderRadius: 'var(--dyn-border-radius-lg)',\n            border: '1px solid var(--dyn-semantic-border)'\n          }}\n        >\n          <DynStack gap=\"xs\">\n            <h4 style={{ margin: 0 }}>Personal Information</h4>\n            <div style={{ fontSize: 'var(--dyn-font-size-sm)' }}>\n              <p style={{ margin: '4px 0' }}>Name: John Doe</p>\n              <p style={{ margin: '4px 0' }}>Email: john.doe@example.com</p>\n              <p style={{ margin: '4px 0' }}>Role: Administrator</p>\n            </div>\n          </DynStack>\n        </DynBox>\n\n        <DynBox\n          padding=\"md\"\n          style={{\n            background: 'var(--dyn-semantic-surface)',\n            borderRadius: 'var(--dyn-border-radius-lg)',\n            border: '1px solid var(--dyn-semantic-border)'\n          }}\n        >\n          <DynStack gap=\"xs\">\n            <h4 style={{ margin: 0 }}>Account Settings</h4>\n            <div style={{ fontSize: 'var(--dyn-font-size-sm)' }}>\n              <p style={{ margin: '4px 0' }}>Last Login: October 3, 2023</p>\n              <p style={{ margin: '4px 0' }}>Status: Active</p>\n              <p style={{ margin: '4px 0' }}>Two-Factor: Enabled</p>\n            </div>\n          </DynStack>\n        </DynBox>\n      </div>\n\n      <DynBox\n        padding=\"md\"\n        style={{\n          background: 'var(--dyn-semantic-background)',\n          borderRadius: 'var(--dyn-border-radius-lg)',\n          border: '1px solid var(--dyn-semantic-border)'\n        }}\n      >\n        <DynStack gap=\"sm\">\n          <h4 style={{ margin: 0 }}>Recent Activity</h4>\n          <ul style={{ margin: 0, paddingLeft: '1.25rem', color: 'var(--dyn-semantic-text-secondary)', fontSize: 'var(--dyn-font-size-sm)' }}>\n            <li>Updated profile information (2 hours ago)</li>\n            <li>Changed password (1 day ago)</li>\n            <li>Logged in from new device (3 days ago)</li>\n            <li>Updated email preferences (1 week ago)</li>\n          </ul>\n        </DynStack>\n      </DynBox>\n    </DynStack>\n  </DynBox>\n);\n\nexport const Basic: Story = {\n  args: {\n    title: 'User Profile',\n    children: <SampleContent />\n  }\n};\n\nexport const WithSubtitle: Story = {\n  args: {\n    title: 'User Profile',\n    subtitle: 'Manage your account information and settings',\n    children: <SampleContent />\n  }\n};\n\nexport const WithBreadcrumbs: Story = {\n  args: {\n    title: 'User Profile',\n    subtitle: 'Manage your account information and settings',\n    breadcrumbs,\n    children: <SampleContent />\n  }\n};\n\nexport const WithActions: Story = {\n  args: {\n    title: 'User Profile',\n    subtitle: 'Manage your account information and settings',\n    breadcrumbs,\n    actions,\n    children: <SampleContent />\n  }\n};\n\nexport const SmallSize: Story = {\n  args: {\n    title: 'Compact Profile',\n    subtitle: 'Smaller layout for mobile',\n    breadcrumbs,\n    actions: actions.slice(0, 2),\n    size: 'sm',\n    children: <SampleContent />\n  }\n};\n\nexport const LargeSize: Story = {\n  args: {\n    title: 'Executive Dashboard',\n    subtitle: 'Comprehensive overview with enhanced spacing',\n    breadcrumbs,\n    actions,\n    size: 'lg',\n    children: <SampleContent />\n  }\n};\n\nexport const Loading: Story = {\n  args: {\n    title: 'Loading Page',\n    subtitle: 'Please wait while we load your data',\n    breadcrumbs,\n    loading: true,\n    children: <SampleContent />\n  }\n};\n\nexport const Error: Story = {\n  args: {\n    title: 'Error Page',\n    error: 'Failed to load user profile. Please try again later.',\n    breadcrumbs,\n    children: <SampleContent />\n  }\n};\n\nexport const CustomError: Story = {\n  args: {\n    title: 'Custom Error',\n    error: (\n      <DynStack gap=\"md\" style={{ textAlign: 'center' }}>\n        <DynStack gap=\"xs\">\n          <h3 style={{ margin: 0 }}>Access Denied</h3>\n          <p style={{ margin: 0, color: 'var(--dyn-semantic-text-secondary)' }}>\n            You don't have permission to view this page.\n          </p>\n        </DynStack>\n        <DynFlex justify=\"center\">\n          <DynButton kind=\"secondary\" onClick={() => console.log('Go back')}>\n            Go Back\n          </DynButton>\n        </DynFlex>\n      </DynStack>\n    ),\n    breadcrumbs,\n    children: <SampleContent />\n  }\n};\n\nexport const DifferentBackgrounds: Story = {\n  args: {\n    title: 'Surface Background',\n    subtitle: 'Page with surface background',\n    breadcrumbs,\n    actions,\n    background: 'surface',\n    children: <SampleContent />\n  }\n};\n\nexport const CustomPadding: Story = {\n  args: {\n    title: 'No Padding',\n    subtitle: 'Page content with no padding',\n    breadcrumbs,\n    actions,\n    padding: 'none',\n    children: (\n      <DynBox\n        style={{\n          background: 'linear-gradient(45deg, var(--dyn-theme-primary-subtle), var(--dyn-semantic-surface))',\n          minHeight: '400px',\n        }}\n      >\n        <DynFlex direction=\"column\" align=\"center\" justify=\"center\" style={{ height: '400px' }}>\n          <DynStack gap=\"xs\" style={{ textAlign: 'center' }}>\n            <h2 style={{ margin: 0 }}>Full Width Content</h2>\n            <p style={{ margin: 0, color: 'var(--dyn-semantic-text-secondary)' }}>\n              This content spans the full width without padding\n            </p>\n          </DynStack>\n        </DynFlex>\n      </DynBox>\n    )\n  }\n};\n\nexport const InteractiveDemo: Story = {\n  args: {\n    title: 'Interactive Demo',\n    subtitle: 'Try the breadcrumbs and actions',\n    breadcrumbs: [\n      { title: 'Home', onClick: () => alert('Navigate to Home') },\n      { title: 'Products', onClick: () => alert('Navigate to Products') },\n      { title: 'Details' }\n    ],\n    actions: [\n      {\n        key: 'edit',\n        title: 'Edit',\n        type: 'primary',\n        onClick: () => alert('Edit action clicked!')\n      },\n      {\n        key: 'share',\n        title: 'Share',\n        type: 'secondary',\n        onClick: () => alert('Share action clicked!')\n      }\n    ],\n    children: (\n      <div style={{ padding: '2rem', textAlign: 'center' }}>\n        <h3>Interactive Elements</h3>\n        <p>Click on breadcrumb links or action buttons to see interactions.</p>\n      </div>\n    )\n  }\n};\n\n\n--- Styles (DynPage.module.css) ---\n/**\n * DynPage Component Styles - Option B: Full Token Integration\n * 100% Design Token Compliance\n */\n\n/* ============================================\n   COMPONENT TOKENS\n   ============================================ */\n\n/* ============================================\n   COMPONENT TOKENS (Moved to :root)\n   ============================================ */\n\n:root {\n  /* Color tokens - semantic for auto theme switching */\n  --dyn-page-bg: var(--dyn-semantic-background, #f8fafc);\n  --dyn-page-bg-surface: var(--dyn-semantic-surface, #ffffff);\n  --dyn-page-text-primary: var(--dyn-semantic-text, #0f172a);\n  --dyn-page-text-secondary: var(--dyn-semantic-text-secondary, #64748b);\n  --dyn-page-border-color: var(--dyn-semantic-border, #e2e8f0);\n}\n\n.container {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  min-height: 100vh;\n  background-color: var(--dyn-page-bg);\n  color: var(--dyn-page-text-primary);\n  font-family: var(--dyn-font-family-base, inherit);\n  box-sizing: border-box;\n}\n\n/* ============================================\n   BACKGROUND VARIANTS\n   ============================================ */\n\n.backgroundNone {\n  background-color: transparent;\n}\n\n.backgroundSurface {\n  background-color: var(--dyn-page-bg-surface);\n}\n\n.backgroundPage {\n  background-color: var(--dyn-page-bg);\n}\n\n/* ============================================\n   PADDING VARIANTS\n   ============================================ */\n\n.paddingNone {\n  padding: 0;\n}\n\n.paddingXs {\n  padding: var(--dyn-spacing-xs);\n}\n\n.paddingSm {\n  padding: var(--dyn-spacing-sm);\n}\n\n.paddingMd {\n  padding: var(--dyn-spacing-md);\n}\n\n.paddingLg {\n  padding: var(--dyn-spacing-lg);\n}\n\n/* ============================================\n   SIZE VARIANTS\n   ============================================ */\n\n.sizeSm {\n  max-width: var(--dyn-container-lg, 960px);\n  margin: 0 auto;\n}\n\n.sizeMd {\n  max-width: var(--dyn-container-xl, 1140px);\n  margin: 0 auto;\n}\n\n.sizeLg {\n  max-width: 100%;\n}\n\n/* ============================================\n   HEADER SECTION\n   ============================================ */\n\n.header {\n  display: flex;\n  flex-direction: column;\n  padding: var(--dyn-spacing-lg) var(--dyn-spacing-xl);\n  background-color: var(--dyn-page-bg-surface);\n  border-bottom: var(--dyn-border-width-sm, 1px) solid var(--dyn-page-border-color);\n  gap: var(--dyn-spacing-md);\n  flex-shrink: 0;\n}\n\n.titleSection {\n  display: flex;\n  align-items: flex-start;\n  justify-content: space-between;\n  gap: var(--dyn-spacing-lg);\n  flex-wrap: wrap;\n}\n\n.titleContent {\n  flex: 1;\n  min-width: 200px;\n}\n\n.headerTitle {\n  margin: 0;\n  font-size: var(--dyn-font-size-xl);\n  font-weight: var(--dyn-font-weight-bold);\n  color: var(--dyn-page-text-primary);\n  line-height: var(--dyn-font-lineHeight-tight, 1.25);\n}\n\n.headerSubtitle {\n  margin: var(--dyn-spacing-xs) 0 0 0;\n  font-size: var(--dyn-font-size-md);\n  color: var(--dyn-page-text-secondary);\n  line-height: var(--dyn-font-lineHeight-normal, 1.5);\n}\n\n.actions {\n  display: flex;\n  gap: var(--dyn-spacing-sm);\n  align-items: center;\n}\n\n/* ============================================\n   BREADCRUMBS\n   ============================================ */\n\n.breadcrumbs {\n  margin-bottom: var(--dyn-spacing-xs);\n}\n\n.breadcrumbList {\n  display: flex;\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  align-items: center;\n  flex-wrap: wrap;\n  gap: var(--dyn-spacing-xs);\n}\n\n.breadcrumbItem {\n  display: flex;\n  align-items: center;\n  font-size: var(--dyn-font-size-sm);\n  color: var(--dyn-page-text-secondary);\n}\n\n.breadcrumbLink {\n  color: var(--dyn-theme-primary);\n  text-decoration: none;\n  transition: color var(--dyn-transition-fast);\n  cursor: pointer;\n  background: none; \n  border: none;\n  padding: 0;\n  font: inherit;\n  display: inline-flex;\n  align-items: center;\n}\n\n.breadcrumbLink:hover {\n  text-decoration: underline;\n  color: var(--dyn-action-hover);\n}\n\n.breadcrumbSeparator {\n  display: flex;\n  align-items: center;\n  margin: 0 var(--dyn-spacing-xs);\n  color: var(--dyn-semantic-text-muted);\n}\n\n/* ============================================\n   CONTENT SECTION\n   ============================================ */\n\n.content {\n  flex: 1;\n  padding: var(--dyn-spacing-xl);\n  box-sizing: border-box;\n}\n\n/* ============================================\n   LOADING & ERROR STATES\n   ============================================ */\n\n.loadingContainer,\n.errorContainer {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: var(--dyn-spacing-lg);\n  text-align: center;\n  min-height: 400px;\n  flex: 1;\n}\n\n.errorIcon {\n  color: var(--dyn-feedback-negative-default);\n  margin-bottom: var(--dyn-spacing-md);\n}\n\n.errorMessage {\n  font-size: var(--dyn-font-size-lg);\n  color: var(--dyn-page-text-primary);\n}\n\n.errorContent {\n  max-width: var(--dyn-container-sm, 540px);\n}\n\n/* ============================================\n   DARK MODE\n   Note: Handled automatically via semantic tokens!\n   ============================================ */", "metadata": {"type": "ui_component", "name": "DynPage", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynPage"}, "embedding": [-0.04531072452664375, 0.008241972886025906, 0.04996727034449577, 0.036517318338155746, -0.005696740932762623, 0.06642695516347885, -0.03020845167338848, 0.04858948662877083, -0.013917156495153904, 0.02152475155889988, -0.06199062988162041, 0.018663302063941956, -0.07855183631181717, 0.05172976851463318, -0.026638992130756378, 0.037496041506528854, -0.06600033491849899, -0.02517796866595745, 0.001609691884368658, 0.024871937930583954, 0.061517905443906784, -0.053730305284261703, 0.060199037194252014, -0.044716838747262955, 0.013082453049719334, 0.015096137300133705, 0.015425988472998142, -0.03566338121891022, -0.0007231381605379283, -0.014441695995628834, 0.03973598778247833, 0.0769648477435112, -0.00889132171869278, -0.0507872998714447, -0.015481865964829922, 0.08149445801973343, -0.09593434631824493, 0.0032716230489313602, 0.03316494822502136, -0.05574381351470947, 0.08010748028755188, 0.06988810747861862, 0.027425136417150497, -0.07625488191843033, 0.06756509840488434, -0.02425387129187584, -0.06213483586907387, -0.02190806344151497, -0.035078730434179306, -0.012743489816784859, 0.012303899973630905, 0.06086505949497223, 0.020645586773753166, -0.05512067675590515, 0.05696931481361389, 0.04441302642226219, 0.04982158541679382, 0.02960389107465744, 0.00827907957136631, -0.0007733851671218872, 0.08652596175670624, -0.040055617690086365, 0.012007093988358974, -0.08523453772068024, 0.02300853841006756, 0.05470746010541916, -0.03806966915726662, 0.034284234046936035, 0.01009859424084425, -0.01929282210767269, -0.08400347828865051, -0.01668674871325493, 0.09406457841396332, 0.024332797154784203, 0.04092106223106384, -0.20262721180915833, 0.01745450869202614, -0.012095194309949875, -0.00045271229464560747, -0.03348926082253456, 0.0393068790435791, -0.02657710574567318, -0.009318413212895393, 0.04210703447461128, 0.04122970625758171, 0.09870118647813797, -0.009219248779118061, -0.04168330132961273, -0.06710242480039597, 0.004815582651644945, -0.023294690996408463, -0.13235297799110413, 0.032705508172512054, 0.09267245978116989, 0.01473676785826683, 0.02237294614315033, -0.15022127330303192, 0.054371267557144165, -0.07749173790216446, 0.008970741182565689, 0.0129226204007864, 0.002157383831217885, -0.012388261966407299, 0.033252451568841934, -0.034272242337465286, -0.038287922739982605, 0.020818259567022324, -0.10209201276302338, -0.11569078266620636, 0.022569524124264717, 0.01683935895562172, 0.06873469799757004, -0.07151539623737335, 0.03502458333969116, -0.08839982002973557, -0.08901113271713257, 0.0020365999080240726, -0.0368274562060833, 0.09770037978887558, -0.04376233369112015, 0.1135379821062088, -0.007994192652404308, 0.033054642379283905, 0.017123736441135406, -0.00767797976732254, 0.007706460542976856, 0.04247886687517166, 6.356797942758457e-33, -0.018953902646899223, 0.020001085475087166, -0.037774261087179184, 0.023308411240577698, 0.015643810853362083, -0.059265732765197754, 0.05115031450986862, -0.06243929639458656, 0.00384782743640244, 0.025049306452274323, -0.017025215551257133, -0.0019357530400156975, -0.029185699298977852, 0.045002005994319916, -0.030359569936990738, -0.02561187744140625, 0.059011414647102356, -0.0319976881146431, 0.024397168308496475, -0.03213287517428398, 0.02983001619577408, 0.07575447857379913, -0.07995321601629257, -0.03361799567937851, 0.08785669505596161, -0.022013047710061073, -0.056821465492248535, 0.06891374289989471, -0.05256323888897896, -0.040955498814582825, 0.06379731744527817, -0.0638824850320816, 0.016350530087947845, 0.0508078932762146, -0.012267210520803928, -0.04398135095834732, -0.06917115300893784, -0.029724443331360817, -0.08180077373981476, -0.008983610197901726, -0.026010604575276375, -0.031551994383335114, -0.0331408865749836, 0.05711805447936058, -0.01606595516204834, 0.032264795154333115, 0.04277900233864784, 0.03653128072619438, 0.03730975091457367, 0.030955199152231216, -0.012734735384583473, 0.027650248259305954, 0.08101858198642731, -0.10772459954023361, 0.02265733666718006, 0.000426910090027377, -0.010788630694150925, 0.016261247918009758, 0.08961299061775208, 0.042701464146375656, -0.07513567805290222, -0.022640222683548927, 0.025938192382454872, -0.06297163665294647, -0.030134618282318115, 0.08047263324260712, -0.00828701164573431, -0.005346514284610748, -0.04148031771183014, -0.12024662643671036, -0.002026858041062951, -0.07288142293691635, 0.016060559079051018, -0.028184428811073303, 0.04062049835920334, 0.04234090447425842, -0.046195752918720245, 0.009207632392644882, 0.019338788464665413, -0.050735488533973694, -0.001252247137017548, -0.09658599644899368, 0.0015304600819945335, 0.05357775464653969, 0.04423217847943306, -0.025863610208034515, -0.023218857124447823, -0.060090720653533936, 0.08120939135551453, 0.06667213886976242, -0.09175267815589905, -0.06169741228222847, 0.008619376458227634, 0.02012609876692295, 0.024926967918872833, -8.859005911112657e-33, 0.0459396094083786, 0.03206354379653931, -0.07687267661094666, -0.02152348682284355, -0.11008276045322418, 0.014681104570627213, -0.00031078659230843186, 0.027426863089203835, -0.018701251596212387, 0.03188510611653328, -0.025906315073370934, 0.05541014298796654, 0.07170230895280838, -0.03180908411741257, -0.06672707945108414, 0.09564965963363647, -0.015865182504057884, 0.04878338798880577, 0.01602995954453945, -0.04703926295042038, 0.012378583662211895, 0.07740495353937149, 0.0018149757524952292, 0.0612061433494091, -0.03976794332265854, 0.04703231155872345, 0.13718461990356445, 0.03331761434674263, 0.013858191668987274, -0.014984166249632835, 0.042971089482307434, -0.009040839038789272, 0.014823622070252895, 0.08937320858240128, 0.016051476821303368, 0.043143078684806824, -0.05281024053692818, -0.013734322041273117, -0.06986482441425323, -0.005738043691962957, -0.03127629682421684, -0.04794900119304657, 0.04940866306424141, 0.005800145212560892, -0.06257778406143188, -0.03082587942481041, 0.016467738896608353, 0.05230218917131424, -0.02834348939359188, 0.03837726637721062, 0.053135525435209274, -0.0211656354367733, -0.015199816785752773, -0.07973749935626984, -0.015848981216549873, 0.03863935172557831, -0.007262188941240311, -0.04674626886844635, 0.0074874237179756165, -0.001816319883801043, 0.07034674286842346, -0.13639910519123077, -0.07664971798658371, 0.034844860434532166, 0.005212088581174612, -0.07714555412530899, -0.16612261533737183, 0.002533434424549341, -0.020302969962358475, 0.12208106368780136, 0.004550228826701641, 0.09948106110095978, 0.058491457253694534, -0.0767400711774826, 0.023682929575443268, -0.038854654878377914, 0.041085369884967804, 0.017733067274093628, 0.0776672214269638, -0.019612755626440048, -0.027036741375923157, 0.011142874136567116, 0.040593501180410385, -0.04733532294631004, -0.04570573940873146, 0.002660950180143118, -0.05950292572379112, 0.0659852921962738, 0.01484000962227583, -0.0011210149386897683, 0.019439850002527237, 0.014964286237955093, -0.041605181992053986, 0.02781151607632637, -0.031455911695957184, -5.6897558664559256e-08, -0.004054678604006767, -0.025180410593748093, 0.02820442058146, -0.06176704913377762, 0.010627947747707367, -0.09035668522119522, 0.04234253242611885, -0.07694835960865021, -0.0178912952542305, 0.03995738923549652, -0.07929695397615433, 0.09075529873371124, -0.010744510218501091, -0.014957154169678688, 0.028068721294403076, -0.017527153715491295, -0.025466477498412132, 0.03166535124182701, -0.05004020407795906, -0.003111388999968767, -0.016847142949700356, -0.03267798200249672, -0.05205467715859413, -0.009100557304918766, 0.07142720371484756, -0.022279031574726105, 0.028727887198328972, 0.009777164086699486, 0.02680165134370327, 0.03589044138789177, 0.0038148064631968737, 0.005282396916300058, -0.055936139076948166, -0.055348727852106094, -0.0370524600148201, 0.011213746853172779, 0.10634782165288925, -0.051038991659879684, 0.03232667222619057, -0.027980677783489227, -0.034925684332847595, -0.03603837639093399, 0.051058247685432434, 0.06918112933635712, -0.071828193962574, -0.026094060391187668, -0.08757875859737396, 0.04223882406949997, 0.07925042510032654, 0.026417545974254608, -0.025463007390499115, -0.05995315685868263, -0.07315841317176819, 0.009508850984275341, -0.0335000716149807, 0.024562882259488106, -0.046547431498765945, 0.051672134548425674, 0.07761780917644501, 0.023144766688346863, 0.024542829021811485, -0.0237296000123024, 0.0038764020428061485, -0.05842273309826851]}, {"id": "dyn_ui_component_DynPopup", "text": "# Component: DynPopup\n\n--- Types (DynPopup.types.ts) ---\nimport { ReactNode, CSSProperties } from 'react';\n\nexport type DynPopupPlacement =\n    | 'top-start' | 'top-end' | 'bottom-start' | 'bottom-end'\n    | 'left-start' | 'left-end' | 'right-start' | 'right-end';\n\nexport interface DynPopupItem {\n    id: string;\n    label: string;\n    icon?: ReactNode;\n    disabled?: boolean;\n    danger?: boolean;\n    onClick?: () => void;\n    divider?: boolean;\n}\n\nexport interface DynPopupProps {\n    /**\n     * The element that triggers the popup.\n     * If not provided, a default \"More\" icon button will be used.\n     */\n    trigger?: ReactNode;\n\n    /**\n     * List of action items to display in the popup menu.\n     */\n    items?: DynPopupItem[];\n\n    /**\n     * Custom content to render inside the popup.\n     * If provided, `items` prop is ignored.\n     */\n    children?: ReactNode;\n\n    /**\n     * Whether the popup is open (controlled).\n     */\n    open?: boolean;\n\n    /**\n     * Initial open state (uncontrolled).\n     */\n    defaultOpen?: boolean;\n\n    /**\n     * Callback when open state changes.\n     */\n    onOpenChange?: (open: boolean) => void;\n\n    /**\n     * Preferred placement of the popup relative to the trigger.\n     * @default 'bottom-end'\n     */\n    placement?: DynPopupPlacement;\n\n    /**\n     * Distance in pixels from the sidebar/trigger.\n     * @default 4\n     */\n    offset?: number;\n\n    /**\n     * Whether to display the popup using a React Portal.\n     * @default true\n     */\n    usePortal?: boolean;\n\n    /**\n     * Optional container to portal the popup into.\n     * Defaults to document.body, but can be set for scoped styling.\n     */\n    container?: HTMLElement | null;\n\n    /**\n     * Additional class name for the popup container.\n     */\n    className?: string;\n\n    /**\n     * Inline styles for the popup container.\n     */\n    style?: CSSProperties;\n\n    /**\n     * ID for accessibility.\n     */\n    id?: string;\n\n    /**\n     * Aria label for the popup menu.\n     */\n    'aria-label'?: string;\n}\n\n\n--- Component (DynPopup.tsx) ---\nimport React, { useState, useRef, useEffect, useCallback, useId } from 'react';\nimport { createPortal } from 'react-dom';\nimport { cn } from '../../utils/classNames';\nimport { DynIcon } from '../DynIcon';\nimport { DynPopupProps } from './DynPopup.types';\nimport styles from './DynPopup.module.css';\n\n/**\n * DynPopup Component\n * A lightweight popup menu for actions and navigation.\n * Standardized to 3-Layer Architecture.\n */\nexport const DynPopup: React.FC<DynPopupProps> = ({\n    trigger,\n    items = [],\n    children,\n    open: controlledOpen,\n    defaultOpen = false,\n    onOpenChange,\n    placement = 'bottom-end',\n    offset = 4,\n    usePortal = true,\n    container,\n    className,\n    style,\n    id,\n    'aria-label': ariaLabel,\n}) => {\n    const [internalOpen, setInternalOpen] = useState(defaultOpen);\n    const isOpen = controlledOpen !== undefined ? controlledOpen : internalOpen;\n\n    const triggerRef = useRef<HTMLDivElement>(null);\n    const popupRef = useRef<HTMLDivElement>(null);\n    const [coords, setCoords] = useState({ top: 0, left: 0 });\n\n    const componentId = id || useId();\n\n    const handleOpenChange = useCallback(\n        (newOpen: boolean) => {\n            if (controlledOpen === undefined) {\n                setInternalOpen(newOpen);\n            }\n            onOpenChange?.(newOpen);\n        },\n        [controlledOpen, onOpenChange]\n    );\n\n    const updatePosition = useCallback(() => {\n        if (!triggerRef.current || !isOpen) return;\n\n        const triggerRect = triggerRef.current.getBoundingClientRect();\n        const popupRect = popupRef.current?.getBoundingClientRect() || { width: 0, height: 0 };\n\n        let top = 0;\n        let left = 0;\n        const scrollX = window.scrollX;\n        const scrollY = window.scrollY;\n\n        // Simplified positioning logic (Gold Standard approach)\n        switch (placement) {\n            case 'bottom-start':\n                top = triggerRect.bottom + offset;\n                left = triggerRect.left;\n                break;\n            case 'bottom-end':\n                top = triggerRect.bottom + offset;\n                left = triggerRect.right - popupRect.width;\n                break;\n            case 'top-start':\n                top = triggerRect.top - popupRect.height - offset;\n                left = triggerRect.left;\n                break;\n            case 'top-end':\n                top = triggerRect.top - popupRect.height - offset;\n                left = triggerRect.right - popupRect.width;\n                break;\n            case 'left-start':\n                top = triggerRect.top;\n                left = triggerRect.left - popupRect.width - offset;\n                break;\n            case 'right-start':\n                top = triggerRect.top;\n                left = triggerRect.right + offset;\n                break;\n            default:\n                // Fallback to bottom-end\n                top = triggerRect.bottom + offset;\n                left = triggerRect.right - popupRect.width;\n        }\n\n        setCoords({\n            top: top + scrollY,\n            left: left + scrollX,\n        });\n    }, [isOpen, placement, offset]);\n\n    // Handle outside click\n    useEffect(() => {\n        if (!isOpen) return;\n\n        const handleClickOutside = (event: MouseEvent) => {\n            const target = event.target as Node;\n            if (\n                triggerRef.current &&\n                !triggerRef.current.contains(target) &&\n                popupRef.current &&\n                !popupRef.current.contains(target)\n            ) {\n                handleOpenChange(false);\n            }\n        };\n\n        document.addEventListener('mousedown', handleClickOutside);\n        return () => document.removeEventListener('mousedown', handleClickOutside);\n    }, [isOpen, handleOpenChange]);\n\n    // Update position on render/resize\n    useEffect(() => {\n        if (isOpen) {\n            updatePosition();\n            // Small delay to ensure popup dimensions are ready\n            const timer = setTimeout(updatePosition, 0);\n\n            window.addEventListener('resize', updatePosition);\n            window.addEventListener('scroll', updatePosition, true);\n\n            return () => {\n                clearTimeout(timer);\n                window.removeEventListener('resize', updatePosition);\n                window.removeEventListener('scroll', updatePosition, true);\n            };\n        }\n    }, [isOpen, updatePosition]);\n\n    const renderContent = () => {\n        if (children) return children;\n\n        return items.map((item) => {\n            if (item.divider) {\n                return <div key={item.id} className={styles.divider} role=\"separator\" />;\n            }\n\n            return (\n                <button\n                    key={item.id}\n                    className={cn(styles.item, {\n                        [styles.itemDisabled]: item.disabled,\n                        [styles.itemDanger]: item.danger,\n                    })}\n                    disabled={item.disabled}\n                    onClick={() => {\n                        item.onClick?.();\n                        handleOpenChange(false);\n                    }}\n                    type=\"button\"\n                    role=\"menuitem\"\n                >\n                    {item.icon && (\n                        <span className={styles.icon}>\n                            {typeof item.icon === 'string' ? <DynIcon icon={item.icon} size=\"sm\" /> : item.icon}\n                        </span>\n                    )}\n                    {item.label}\n                </button>\n            );\n        });\n    };\n\n    const menu = (\n        <div\n            ref={popupRef}\n            id={`${componentId}-menu`}\n            className={cn(styles.popup, { [styles.popupOpen]: isOpen }, className)}\n            style={{\n                ...style,\n                top: coords.top,\n                left: coords.left,\n            }}\n            role=\"menu\"\n            aria-label={ariaLabel}\n            aria-hidden={!isOpen}\n        >\n            {renderContent()}\n        </div>\n    );\n\n    return (\n        <>\n            <div\n                ref={triggerRef}\n                className={styles.trigger}\n                onClick={() => handleOpenChange(!isOpen)}\n                role=\"button\"\n                tabIndex={0}\n                onKeyDown={(e) => {\n                    if (e.key === 'Enter' || e.key === ' ') {\n                        e.preventDefault();\n                        handleOpenChange(!isOpen);\n                    }\n                }}\n                aria-haspopup=\"true\"\n                aria-expanded={isOpen}\n                aria-controls={`${componentId}-menu`}\n            >\n                {trigger || (\n                    // Default trigger: Vertical dots (Kebab) using DynIcon\n                    <DynIcon icon=\"more-vertical\" />\n                )}\n            </div>\n\n            {usePortal ? createPortal(menu, container || document.body) : menu}\n        </>\n    );\n};\n\nDynPopup.displayName = 'DynPopup';\n\nexport default DynPopup;\n\n\n--- Usage Examples (DynPopup.stories.tsx) ---\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { fn } from '@storybook/test';\nimport { DynPopup } from './DynPopup';\nimport { DynButton } from '../DynButton';\n\nconst meta: Meta<typeof DynPopup> = {\n    title: 'Overlay/DynPopup',\n    component: DynPopup,\n    parameters: {\n        layout: 'centered',\n    },\n    tags: ['autodocs'],\n    argTypes: {\n        placement: {\n            control: 'select',\n            options: ['bottom-start', 'bottom-end', 'top-start', 'top-end', 'left-start', 'right-start'],\n        },\n    },\n    args: {\n        onOpenChange: fn(),\n        usePortal: false, // Necessary for Storybook dark mode inheritance as theme is scoped to story wrapper\n    },\n};\n\nexport default meta;\ntype Story = StoryObj<typeof DynPopup>;\n\nconst defaultItems = [\n    { id: '1', label: 'View Details', onClick: () => alert('View Details clicked') },\n    { id: '2', label: 'Edit', onClick: () => alert('Edit clicked') },\n    { id: '3', label: 'Delete', danger: true, onClick: () => alert('Delete clicked') },\n];\n\nexport const Default: Story = {\n    args: {\n        items: defaultItems,\n    },\n};\n\nexport const CustomTrigger: Story = {\n    args: {\n        items: defaultItems,\n        trigger: <DynButton>Options</DynButton>,\n    },\n};\n\nexport const CustomContent: Story = {\n    args: {\n        trigger: <DynButton kind=\"secondary\">Custom Content</DynButton>,\n        children: (\n            <div style={{ padding: '1rem', width: '200px' }}>\n                <h4>Custom Popup</h4>\n                <p>This popup contains arbitrary content instead of a list of items.</p>\n            </div>\n        ),\n    },\n};\n\nexport const WithIcons: Story = {\n    args: {\n        items: [\n            { id: '1', label: 'Save', icon: <span>\ud83d\udcbe</span> },\n            { id: '2', label: 'Share', icon: <span>\ud83d\udd17</span> },\n            { id: 'div1', label: '', divider: true },\n            { id: '3', label: 'Delete', icon: <span>\ud83d\uddd1\ufe0f</span>, danger: true },\n        ],\n    },\n};\n\nexport const DisabledItems: Story = {\n    args: {\n        items: [\n            { id: '1', label: 'Active Action' },\n            { id: '2', label: 'Disabled Action', disabled: true },\n        ],\n    },\n};\n\n\n--- Styles (DynPopup.module.css) ---\n/**\n * DynPopup Component Styles\n * 100% Design Token Compliance\n */\n\n/* ==========================================================================\n   BASE CONTAINER\n   ========================================================================== */\n\n.popup {\n  /* Component Tokens - 3-level fallback */\n  --dyn-popup-bg: var(--dyn-popup-background, var(--dyn-semantic-surface, #ffffff));\n  --dyn-popup-border: var(--dyn-popup-border-color, var(--dyn-semantic-border-subtle, #e5e7eb));\n  --dyn-popup-radius: var(--dyn-popup-border-radius, var(--dyn-border-radius-md, 0.375rem));\n  --dyn-popup-shadow: var(--dyn-popup-box-shadow, var(--dyn-shadow-lg, 0 10px 15px -3px rgba(0, 0, 0, 0.1)));\n  --dyn-popup-z-index: var(--dyn-popup-z, var(--dyn-z-index-dropdown, 1000));\n  --dyn-popup-min-width: var(--dyn-popup-min-w, 12rem);\n  \n  --dyn-popup-item-text: var(--dyn-popup-text, var(--dyn-semantic-text, #111827));\n  --dyn-popup-item-bg-hover: var(--dyn-popup-hover-bg, var(--dyn-semantic-surface-hover, #f3f4f6));\n  --dyn-popup-item-icon-color: var(--dyn-popup-icon, var(--dyn-semantic-text-secondary, #6b7280));\n  \n  --dyn-popup-danger-text: var(--dyn-popup-danger, var(--dyn-feedback-negative-default, #dc2626));\n  --dyn-popup-danger-bg-hover: var(--dyn-popup-danger-bg, var(--dyn-feedback-negative-surface, #fef2f2));\n  \n  --dyn-popup-focus-ring: var(--dyn-popup-focus, var(--dyn-semantic-border-focus, #3b82f6));\n\n  /* Base styles */\n  position: absolute;\n  z-index: var(--dyn-popup-z-index);\n  min-width: var(--dyn-popup-min-width);\n  padding: var(--dyn-spacing-xs, 4px);\n  background-color: var(--dyn-popup-bg);\n  border: var(--dyn-border-width-sm, 1px) solid var(--dyn-popup-border);\n  border-radius: var(--dyn-popup-radius);\n  box-shadow: var(--dyn-popup-shadow);\n  opacity: 0;\n  transform: scale(0.95);\n  transform-origin: top left;\n  transition: opacity var(--dyn-transition-fast, 0.1s ease-out), transform var(--dyn-transition-fast, 0.1s ease-out);\n  pointer-events: none;\n  visibility: hidden;\n}\n\n.popupOpen {\n  opacity: 1;\n  transform: scale(1);\n  pointer-events: auto;\n  visibility: visible;\n}\n\n/* ==========================================================================\n   MENU ITEMS\n   ========================================================================== */\n\n.item {\n  display: flex;\n  align-items: center;\n  width: 100%;\n  padding: var(--dyn-spacing-sm, 8px) var(--dyn-spacing-md, 12px);\n  font-family: inherit;\n  font-size: var(--dyn-font-size-sm, 0.875rem);\n  color: var(--dyn-popup-item-text);\n  background: transparent;\n  border: none;\n  border-radius: var(--dyn-border-radius-sm, 4px);\n  cursor: pointer;\n  text-align: left;\n  transition: background-color var(--dyn-transition-fast, 0.15s ease);\n  gap: var(--dyn-spacing-sm, 8px);\n}\n\n.item:hover:not(:disabled):not(.itemDisabled) {\n  background-color: var(--dyn-popup-item-bg-hover);\n}\n\n.item:focus-visible {\n  outline: var(--dyn-border-width-md, 2px) solid var(--dyn-popup-focus-ring);\n  outline-offset: -2px;\n}\n\n.itemDisabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n  pointer-events: none;\n}\n\n.itemDanger {\n  color: var(--dyn-popup-danger-text);\n}\n\n.itemDanger:hover:not(:disabled):not(.itemDisabled) {\n  background-color: var(--dyn-popup-danger-bg-hover);\n}\n\n.icon {\n  flex-shrink: 0;\n  width: 1rem;\n  height: 1rem;\n  color: var(--dyn-popup-item-icon-color);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.itemDanger .icon {\n  color: inherit;\n}\n\n.divider {\n  height: var(--dyn-border-width-sm, 1px);\n  background-color: var(--dyn-popup-border);\n  margin: var(--dyn-spacing-xs, 4px) 0;\n}\n\n/* ==========================================================================\n   TRIGGER\n   ========================================================================== */\n\n.trigger {\n  display: inline-flex;\n  cursor: pointer;\n  border-radius: var(--dyn-border-radius-sm);\n  transition: background-color var(--dyn-transition-fast);\n}\n\n.trigger:focus-visible {\n  outline: var(--dyn-border-width-md, 2px) solid var(--dyn-popup-focus-ring);\n  outline-offset: 2px;\n}\n\n/* DARK MODE - Automated via semantic tokens in :root */\n", "metadata": {"type": "ui_component", "name": "DynPopup", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynPopup"}, "embedding": [-0.07600360363721848, 0.03899160400032997, 0.0031229855958372355, 0.035577498376369476, 0.05196874588727951, 0.05958286672830582, 0.007826684974133968, 0.05426131933927536, 0.02464974857866764, 0.018219005316495895, -0.08807041496038437, -0.005768822971731424, -0.10541451722383499, 0.04214722663164139, 0.06750952452421188, 0.04743816703557968, -0.03524766117334366, -0.086696557700634, 0.005017363000661135, 0.02536160871386528, 0.029585128650069237, -0.15063972771167755, 0.07627936452627182, -0.01960570365190506, -0.017616882920265198, 0.03976104408502579, 0.007938471622765064, -0.01450722198933363, 0.010876281186938286, 0.04658906161785126, 0.010719772428274155, 0.04032169282436371, -0.010352097451686859, -0.05737064778804779, -0.0879979357123375, 0.05970412492752075, 0.01275131106376648, 0.03013394959270954, 0.01874537393450737, -0.01532788947224617, 0.07772672176361084, 0.057465024292469025, -0.019638611003756523, -0.115990549325943, 0.06867785006761551, 0.04334741085767746, -0.05708176642656326, -0.035340070724487305, -0.05487345531582832, 0.052353497594594955, 0.05373630300164223, 0.04407843202352524, 0.041045647114515305, -0.03642643243074417, 0.07604264467954636, 0.0375797413289547, 0.0588274784386158, -0.020503627136349678, 0.029269246384501457, 0.004678746685385704, 0.07449651509523392, -0.06102585047483444, 0.0298896674066782, -0.048301178961992264, 0.05636415630578995, 0.047441266477108, -0.02889329008758068, -0.016575826331973076, -0.00716658029705286, -0.03136120364069939, -0.0133557990193367, -0.007667830213904381, 0.04541267082095146, -0.0035396674647927284, 0.02428615838289261, -0.13082337379455566, 0.019632620736956596, 0.012397526763379574, 0.03026788868010044, 0.05384765937924385, 0.04236261919140816, 0.006644242908805609, -0.0523117259144783, 0.017292818054556847, -0.0408635139465332, 0.048993561416864395, -0.03765658289194107, -0.012855504639446735, -0.0814545676112175, -0.026171628385782242, -0.01864088699221611, -0.11269201338291168, -0.007453559897840023, 0.07850518077611923, 0.030825132504105568, 0.04968247190117836, -0.14021894335746765, -0.03122526779770851, -0.07030291855335236, -0.04335053637623787, 0.00154095608741045, -0.08588030189275742, -0.006001698784530163, -0.0010072649456560612, -0.04497538134455681, -0.04932233691215515, -0.04378480091691017, -0.08838462084531784, -0.038682952523231506, 0.056195612996816635, 0.02341865561902523, 0.037778545171022415, 0.0006233637104742229, -0.006142785307019949, -0.06302343308925629, -0.05532434955239296, 0.0010459448676556349, -0.008206547237932682, 0.10250512510538101, -0.09532374888658524, 0.11637905240058899, -0.021021438762545586, -0.029703214764595032, 0.05142577737569809, 0.07260590046644211, 0.01740546151995659, 0.03652523085474968, 4.885934187669176e-33, 0.04500357061624527, -0.029388893395662308, 0.017938224598765373, 0.03014162927865982, 0.07154682278633118, -0.07383615523576736, 0.026727506890892982, -0.06483946740627289, 0.02266448177397251, 0.024337712675333023, 0.0552876777946949, 0.03850346431136131, -0.022499818354845047, -0.016371311619877815, -0.052467137575149536, -0.08659955859184265, 0.05641164258122444, -0.035233695060014725, -0.01892014779150486, -0.09519489109516144, 0.012964019551873207, -0.010403797030448914, -0.09882332384586334, 0.002967515029013157, 0.10078594833612442, -0.018298082053661346, -0.04830967262387276, 0.032823871821165085, -0.06136805936694145, -0.041837070137262344, -0.004457913804799318, -0.0472697913646698, 0.030863607302308083, 0.08415360748767853, -0.009980857372283936, -0.04918309301137924, -0.15495572984218597, 0.007590239401906729, -0.06936979293823242, -0.02714509330689907, -0.031593915075063705, -0.0171952024102211, -0.05465506389737129, 0.11029751598834991, -0.03177299350500107, 0.05126247555017471, 0.05868305638432503, -0.001730842748656869, 0.048481158912181854, -0.03609588369727135, -0.006715651135891676, -0.015373085625469685, 0.006629084702581167, -0.0861828401684761, -0.060197580605745316, 0.05107143148779869, -0.036200761795043945, -0.009621893987059593, 0.09281362593173981, -0.013786394149065018, -0.025998402386903763, 0.01329363789409399, 0.06703951209783554, -0.00542430067434907, -0.030480245128273964, 0.08611366897821426, 0.0008187586208805442, -0.03236650303006172, 0.027512289583683014, -0.02554447576403618, 0.005790284369140863, -0.05026418715715408, 0.0013767783530056477, -0.016513261944055557, 0.09558166563510895, 0.035010404884815216, 0.014228819869458675, -0.05038785561919212, 0.04520189389586449, -0.07774452120065689, 0.0109545374289155, -0.1116931289434433, 0.032295700162649155, 0.04672277718782425, 0.08241729438304901, 0.01090550608932972, -0.03806771710515022, -0.019605573266744614, 0.06049773842096329, 0.029482154175639153, -0.04887298122048378, -0.05463406816124916, 0.032052699476480484, 0.03197218477725983, -0.052597593516111374, -6.637104121603632e-33, 0.08802240341901779, 0.0013638949021697044, -0.029523786157369614, -0.05235246568918228, -0.06020451337099075, 0.03475170210003853, 0.012798081152141094, 0.033786773681640625, 0.0232869703322649, 0.003230827394872904, -0.0502903051674366, 0.05473124235868454, 0.08775036782026291, -0.0234147347509861, -0.10400936007499695, 0.13940590620040894, -0.015651877969503403, 0.09328582137823105, 0.037091754376888275, -0.03930310159921646, 0.030022243037819862, -0.02785983867943287, -0.015560939908027649, 0.03215952217578888, -0.08691158890724182, 0.02906273677945137, 0.06707942485809326, 0.015184393152594566, 0.10402559489011765, -0.07045384496450424, -0.008677279576659203, -0.0059602833352983, 0.04259981960058212, 0.020918581634759903, 0.022452104836702347, -0.048101719468832016, -0.02651624009013176, -0.01865083910524845, -0.006054437719285488, 0.06175532937049866, -0.03766040876507759, -0.0866311565041542, 0.047939419746398926, 0.053838226944208145, -0.03531089797616005, -0.0764768198132515, -0.042983636260032654, 0.06443221122026443, -0.0683608278632164, 0.046939682215452194, -0.024330666288733482, 0.00687286676838994, -0.035197317600250244, -0.006972768809646368, 0.045131996273994446, -0.018584249541163445, -0.028926394879817963, -0.025657692924141884, 0.07811114937067032, -5.176503327675164e-05, 0.04420321434736252, -0.11385451257228851, -0.040460921823978424, 0.011897231452167034, 0.02727748639881611, 0.033469509333372116, -0.06627175956964493, 0.049387432634830475, 0.023456357419490814, 0.06707422435283661, 0.049221307039260864, 0.0929400697350502, 0.06239202246069908, -0.11303305625915527, 0.050825927406549454, -0.0267427209764719, 0.005577606614679098, -0.013099267147481441, 0.11790541559457779, 0.0068371533416211605, -0.029877735301852226, 0.02144596353173256, 0.012328969314694405, 0.031186699867248535, -0.11817006766796112, -0.01917165331542492, -0.006915078032761812, 0.08014563471078873, 0.04008686542510986, 0.026174362748861313, -0.03988073021173477, -0.002020397689193487, 0.0257567185908556, 0.03412071242928505, -0.01867995411157608, -6.4612116545959e-08, -0.029769565910100937, -0.06237153336405754, 0.014085355214774609, -0.09627453982830048, 0.01162015087902546, -0.01917504332959652, -0.005570742767304182, -0.019560474902391434, -0.021108513697981834, -0.07528191804885864, -0.023390403017401695, 0.10216380655765533, -0.0006482916651293635, -0.032371729612350464, 0.013883989304304123, 0.03180082142353058, -0.05506867170333862, -0.01089370809495449, -0.031619369983673096, 0.0646732822060585, 0.0031189138535410166, -0.0074975513853132725, -0.011327323503792286, -0.006618692073971033, 0.04980917274951935, 0.016907840967178345, -0.021808188408613205, 0.01255445834249258, -0.011420301161706448, 0.006381230894476175, -0.05041773244738579, -0.02326917089521885, -0.07001040130853653, -0.014092206954956055, -0.054060984402894974, 0.07488468289375305, 0.03860851377248764, -0.05212697386741638, 0.03339867293834686, 0.007805888075381517, -0.004022771958261728, -0.09288601577281952, 0.019501956179738045, 0.0611911341547966, -0.1103510931134224, -0.018449459224939346, -0.0486457459628582, -0.031972430646419525, -0.012052955105900764, 0.01360263954848051, 0.03264602646231651, -0.009725884534418583, -0.05649857223033905, 0.04136357456445694, -0.04405543953180313, -0.030085980892181396, -0.06108842045068741, 0.03852153941988945, 0.041838306933641434, 0.053676538169384, 0.027115143835544586, 0.0217509213835001, 0.04902976006269455, -0.021733487024903297]}, {"id": "dyn_ui_component_DynProgress", "text": "# Component: DynProgress\n\n--- Types (DynProgress.types.ts) ---\n/**\n * DynProgress Component Types\n *\n * Type definitions for the progress bar component.\n * Token Compliant: \u2705 Full --dyn-progress-* pattern\n *\n * @module DynProgress\n * @version 1.0.0\n */\n\nimport { HTMLAttributes } from 'react';\n\n/**\n * Progress status variants\n */\nexport type DynProgressStatus = 'default' | 'success' | 'error' | 'warning' | 'info';\n\n/**\n * Progress size variants\n */\nexport type DynProgressSize = 'xs' | 'sm' | 'md' | 'lg' | 'xl';\n\n/**\n * Progress variant types\n */\nexport type DynProgressVariant = 'linear' | 'circular';\n\n/**\n * Available status values as const array for validation\n */\nexport const DYN_PROGRESS_STATUSES = ['default', 'success', 'error', 'warning', 'info'] as const;\n\n/**\n * Available size values as const array for validation\n */\nexport const DYN_PROGRESS_SIZES = ['xs', 'sm', 'md', 'lg', 'xl'] as const;\n\n/**\n * DynProgress Component Props\n */\nexport interface DynProgressProps extends Omit<HTMLAttributes<HTMLDivElement>, 'color'> {\n  /**\n   * Current progress value (0-100 by default)\n   */\n  value?: number;\n\n  /**\n   * Maximum value (default: 100)\n   */\n  max?: number;\n\n  /**\n   * Minimum value (default: 0)\n   */\n  min?: number;\n\n  /**\n   * Progress status for color theming\n   * @default 'default'\n   */\n  status?: DynProgressStatus;\n\n  /**\n   * Size variant\n   * @default 'md'\n   */\n  size?: DynProgressSize;\n\n  /**\n   * Display text label\n   */\n  label?: string;\n\n  /**\n   * Show percentage value\n   * @default false\n   */\n  showPercentage?: boolean;\n\n  /**\n   * Custom format function for displayed value\n   */\n  formatValue?: (value: number, percentage: number) => string;\n\n  /**\n   * Enable indeterminate (loading) animation\n   * @default false\n   */\n  indeterminate?: boolean;\n\n  /**\n   * Enable striped animation\n   * @default false\n   */\n  striped?: boolean;\n\n  /**\n   * Animate stripes\n   * @default false\n   */\n  animated?: boolean;\n\n  /**\n   * Custom height in pixels (overrides size)\n   */\n  height?: number;\n\n  /**\n   * ARIA label for accessibility\n   */\n  'aria-label'?: string;\n\n  /**\n   * Additional CSS class\n   */\n  className?: string;\n\n  /**\n   * Test ID for testing\n   */\n  'data-testid'?: string;\n}\n\n/**\n * Ref type for DynProgress\n */\nexport type DynProgressRef = HTMLDivElement;\n\n/**\n * Default props for DynProgress\n */\nexport const DYN_PROGRESS_DEFAULT_PROPS: Partial<DynProgressProps> = {\n  value: 0,\n  max: 100,\n  min: 0,\n  status: 'default',\n  size: 'md',\n  showPercentage: false,\n  indeterminate: false,\n  striped: false,\n  animated: false,\n};\n\n\n--- Component (DynProgress.tsx) ---\n/**\n * DynProgress Component\n *\n * A flexible, accessible progress bar component for displaying\n * progress indicators, loading states, and completion percentages.\n *\n * Token Compliant: \u2705 Full --dyn-progress-* pattern with 3-level fallback\n *\n * @component\n * @module DynProgress\n * @version 1.0.0\n */\n\nimport React, { forwardRef, useMemo } from 'react';\nimport { cn } from '../../utils/classNames';\nimport {\n    DynProgressProps,\n    DynProgressRef,\n    DynProgressStatus,\n    DynProgressSize,\n    DYN_PROGRESS_STATUSES,\n    DYN_PROGRESS_SIZES,\n    DYN_PROGRESS_DEFAULT_PROPS,\n} from './DynProgress.types';\nimport styles from './DynProgress.module.css';\n\n/**\n * DynProgress Component\n *\n * Displays a progress bar with optional label and percentage.\n * Supports indeterminate mode for unknown progress duration.\n *\n * @example\n * // Basic usage\n * <DynProgress value={50} />\n *\n * @example\n * // With label and percentage\n * <DynProgress value={75} label=\"Uploading...\" showPercentage />\n *\n * @example\n * // Indeterminate loading\n * <DynProgress indeterminate />\n *\n * @example\n * // Success status\n * <DynProgress value={100} status=\"success\" />\n */\nexport const DynProgress = forwardRef<DynProgressRef, DynProgressProps>(\n    (props, ref) => {\n        const {\n            // Value props\n            value = DYN_PROGRESS_DEFAULT_PROPS.value,\n            max = DYN_PROGRESS_DEFAULT_PROPS.max,\n            min = DYN_PROGRESS_DEFAULT_PROPS.min,\n\n            // Display props\n            status = DYN_PROGRESS_DEFAULT_PROPS.status,\n            size = DYN_PROGRESS_DEFAULT_PROPS.size,\n            label,\n            showPercentage = DYN_PROGRESS_DEFAULT_PROPS.showPercentage,\n            formatValue,\n\n            // Animation props\n            indeterminate = DYN_PROGRESS_DEFAULT_PROPS.indeterminate,\n            striped = DYN_PROGRESS_DEFAULT_PROPS.striped,\n            animated = DYN_PROGRESS_DEFAULT_PROPS.animated,\n\n            // Styling props\n            height,\n            className,\n            style,\n\n            // Accessibility props\n            'aria-label': ariaLabel,\n            'data-testid': dataTestId,\n\n            ...rest\n        } = props;\n\n        // ====================================\n        // PHASE 1: Input Validation\n        // ====================================\n\n        const validStatus: DynProgressStatus = DYN_PROGRESS_STATUSES.includes(status as any)\n            ? status!\n            : 'default';\n\n        const validSize: DynProgressSize = DYN_PROGRESS_SIZES.includes(size as any)\n            ? size!\n            : 'md';\n\n        // ====================================\n        // PHASE 2: Value Computation\n        // ====================================\n\n        /**\n         * Calculate percentage with bounds checking\n         */\n        const { percentage, clampedValue } = useMemo(() => {\n            if (indeterminate) {\n                return { percentage: 0, clampedValue: 0 };\n            }\n\n            const range = (max ?? 100) - (min ?? 0);\n            if (range <= 0) {\n                return { percentage: 0, clampedValue: min ?? 0 };\n            }\n\n            const clamped = Math.max(min ?? 0, Math.min(max ?? 100, value ?? 0));\n            const pct = ((clamped - (min ?? 0)) / range) * 100;\n\n            return {\n                percentage: Math.round(pct * 100) / 100,\n                clampedValue: clamped,\n            };\n        }, [value, min, max, indeterminate]);\n\n        /**\n         * Format display value\n         */\n        const displayValue = useMemo(() => {\n            if (indeterminate) return null;\n            if (formatValue) return formatValue(clampedValue, percentage);\n            return `${Math.round(percentage)}%`;\n        }, [indeterminate, formatValue, clampedValue, percentage]);\n\n        // ====================================\n        // PHASE 3: Class Computation\n        // ====================================\n\n        const statusClass = `progress${validStatus.charAt(0).toUpperCase()}${validStatus.slice(1)}`;\n        const sizeClass = `progress${validSize.charAt(0).toUpperCase()}${validSize.slice(1)}`;\n\n        const progressClasses = cn(\n            styles.progress,\n            styles[statusClass],\n            styles[sizeClass],\n            {\n                [styles.progressIndeterminate]: indeterminate,\n                [styles.progressStriped]: striped,\n                [styles.progressAnimated]: animated || indeterminate,\n                [styles.progressWithLabel]: !!label || showPercentage,\n            },\n            className\n        );\n\n        const barClasses = cn(\n            styles.progressBar,\n            {\n                [styles.progressBarIndeterminate]: indeterminate,\n                [styles.progressBarStriped]: striped,\n                [styles.progressBarAnimated]: animated,\n            }\n        );\n\n        // ====================================\n        // PHASE 4: Style Computation\n        // ====================================\n\n        const progressStyle: React.CSSProperties = {\n            ...style,\n            ...(height ? { '--dyn-progress-height': `${height}px` } as React.CSSProperties : {}),\n        };\n\n        const barStyle: React.CSSProperties = indeterminate\n            ? {}\n            : { width: `${percentage}%` };\n\n        // ====================================\n        // PHASE 5: Accessibility\n        // ====================================\n\n        const computedAriaLabel = ariaLabel || label || `Progress: ${Math.round(percentage)}%`;\n\n        // ====================================\n        // PHASE 6: Render\n        // ====================================\n\n        return (\n            <div\n                ref={ref}\n                className={progressClasses}\n                style={progressStyle}\n                role=\"progressbar\"\n                aria-valuenow={indeterminate ? undefined : clampedValue}\n                aria-valuemin={min}\n                aria-valuemax={max}\n                aria-label={computedAriaLabel}\n                aria-busy={indeterminate}\n                data-testid={dataTestId || 'dyn-progress'}\n                data-status={validStatus}\n                data-size={validSize}\n                data-indeterminate={indeterminate || undefined}\n                {...rest}\n            >\n                {/* Header with label and percentage */}\n                {(label || showPercentage) && (\n                    <div className={styles.progressHeader}>\n                        {label && <span className={styles.progressLabel}>{label}</span>}\n                        {showPercentage && !indeterminate && (\n                            <span className={styles.progressValue}>{displayValue}</span>\n                        )}\n                    </div>\n                )}\n\n                {/* Progress track and bar */}\n                <div className={styles.progressTrack}>\n                    <div className={barClasses} style={barStyle}>\n                        {/* Screen reader text for progress */}\n                        <span className={styles.srOnly}>\n                            {indeterminate ? 'Loading...' : `${Math.round(percentage)}% complete`}\n                        </span>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n);\n\nDynProgress.displayName = 'DynProgress';\n\nexport default DynProgress;\n\n\n--- Usage Examples (DynProgress.stories.tsx) ---\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { DynProgress } from './DynProgress';\n\nconst meta = {\n    title: 'Feedback/DynProgress',\n    component: DynProgress,\n    parameters: {\n        layout: 'padded',\n        docs: {\n            description: {\n                component: `\nA flexible, accessible progress bar component for displaying progress indicators,\nloading states, and completion percentages.\n\n## Features\n- Multiple status variants (default, success, error, warning, info)\n- Size variants (xs, sm, md, lg, xl)\n- Indeterminate mode for unknown durations\n- Striped and animated variants\n- Full accessibility support (ARIA)\n- Dark mode compatible via design tokens\n        `,\n            },\n        },\n    },\n    tags: ['autodocs'],\n    argTypes: {\n        value: {\n            control: { type: 'range', min: 0, max: 100 },\n            description: 'Current progress value',\n        },\n        status: {\n            control: 'select',\n            options: ['default', 'success', 'error', 'warning', 'info'],\n        },\n        size: {\n            control: 'select',\n            options: ['xs', 'sm', 'md', 'lg', 'xl'],\n        },\n        indeterminate: {\n            control: 'boolean',\n        },\n        striped: {\n            control: 'boolean',\n        },\n        animated: {\n            control: 'boolean',\n        },\n        showPercentage: {\n            control: 'boolean',\n        },\n        label: {\n            control: 'text',\n        },\n    },\n} satisfies Meta<typeof DynProgress>;\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\n// ==========================================================================\n// BASIC STORIES\n// ==========================================================================\n\nexport const Default: Story = {\n    args: {\n        value: 50,\n    },\n};\n\nexport const WithLabel: Story = {\n    args: {\n        value: 75,\n        label: 'Uploading file...',\n        showPercentage: true,\n    },\n};\n\nexport const Complete: Story = {\n    args: {\n        value: 100,\n        status: 'success',\n        label: 'Upload complete',\n        showPercentage: true,\n    },\n};\n\n// ==========================================================================\n// STATUS VARIANTS\n// ==========================================================================\n\nexport const StatusVariants: Story = {\n    render: () => (\n        <div style={{ display: 'flex', flexDirection: 'column', gap: '1.5rem' }}>\n            <DynProgress value={60} status=\"default\" label=\"Default\" showPercentage />\n            <DynProgress value={100} status=\"success\" label=\"Success\" showPercentage />\n            <DynProgress value={40} status=\"error\" label=\"Error\" showPercentage />\n            <DynProgress value={70} status=\"warning\" label=\"Warning\" showPercentage />\n            <DynProgress value={50} status=\"info\" label=\"Info\" showPercentage />\n        </div>\n    ),\n};\n\n// ==========================================================================\n// SIZE VARIANTS\n// ==========================================================================\n\nexport const SizeVariants: Story = {\n    render: () => (\n        <div style={{ display: 'flex', flexDirection: 'column', gap: '1.5rem' }}>\n            <DynProgress value={60} size=\"xs\" label=\"Extra Small\" />\n            <DynProgress value={60} size=\"sm\" label=\"Small\" />\n            <DynProgress value={60} size=\"md\" label=\"Medium (Default)\" />\n            <DynProgress value={60} size=\"lg\" label=\"Large\" />\n            <DynProgress value={60} size=\"xl\" label=\"Extra Large\" />\n        </div>\n    ),\n};\n\n// ==========================================================================\n// INDETERMINATE MODE\n// ==========================================================================\n\nexport const Indeterminate: Story = {\n    args: {\n        indeterminate: true,\n        label: 'Loading...',\n    },\n};\n\nexport const IndeterminateVariants: Story = {\n    render: () => (\n        <div style={{ display: 'flex', flexDirection: 'column', gap: '1.5rem' }}>\n            <DynProgress indeterminate status=\"default\" label=\"Processing...\" />\n            <DynProgress indeterminate status=\"info\" label=\"Fetching data...\" />\n            <DynProgress indeterminate status=\"warning\" label=\"Retrying...\" />\n        </div>\n    ),\n};\n\n// ==========================================================================\n// STRIPED & ANIMATED\n// ==========================================================================\n\nexport const Striped: Story = {\n    args: {\n        value: 70,\n        striped: true,\n        label: 'Striped Progress',\n        showPercentage: true,\n    },\n};\n\nexport const StripedAnimated: Story = {\n    args: {\n        value: 50,\n        striped: true,\n        animated: true,\n        label: 'Animated Stripes',\n        showPercentage: true,\n    },\n};\n\n// ==========================================================================\n// CUSTOM FORMATTING\n// ==========================================================================\n\nexport const CustomFormat: Story = {\n    args: {\n        value: 50,\n        max: 100,\n        label: 'Download Progress',\n        showPercentage: true,\n        formatValue: (value) => `${value} MB / 100 MB`,\n    },\n};\n\n// ==========================================================================\n// USE CASES\n// ==========================================================================\n\nexport const FileUpload: Story = {\n    render: () => (\n        <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem', maxWidth: '400px' }}>\n            <DynProgress\n                value={100}\n                status=\"success\"\n                label=\"document.pdf\"\n                showPercentage\n            />\n            <DynProgress\n                value={75}\n                status=\"default\"\n                label=\"image.png\"\n                showPercentage\n            />\n            <DynProgress\n                value={35}\n                status=\"default\"\n                label=\"video.mp4\"\n                showPercentage\n            />\n            <DynProgress\n                indeterminate\n                status=\"info\"\n                label=\"archive.zip\"\n            />\n        </div>\n    ),\n};\n\nexport const StepProgress: Story = {\n    render: () => (\n        <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>\n            <DynProgress\n                value={60}\n                size=\"lg\"\n                status=\"default\"\n                label=\"Step 3 of 5: Payment Details\"\n                formatValue={() => '3/5'}\n                showPercentage\n            />\n        </div>\n    ),\n};\n\n// ==========================================================================\n// ACCESSIBILITY\n// ==========================================================================\n\nexport const WithAriaLabel: Story = {\n    args: {\n        value: 50,\n        'aria-label': 'File upload progress: 50% complete',\n    },\n};\n\n\n--- Styles (DynProgress.module.css) ---\n/**\n * DynProgress Component Styles\n * 100% Design Token Compliance\n * Unified Token Strategy: 3-Level Fallback Pattern\n */\n\n.progress {\n  /* ==========================================================================\n     COMPONENT TOKENS (Layer 2)\n     ========================================================================== */\n\n  /* Color Tokens */\n  --dyn-progress-bg: var(--dyn-progress-color-background, var(--dyn-semantic-surface-muted, #e5e7eb));\n  --dyn-progress-fill: var(--dyn-progress-color-fill, var(--dyn-theme-primary, #3b82f6));\n  --dyn-progress-text: var(--dyn-progress-color-text, var(--dyn-semantic-text, #1e293b));\n\n  /* Sizing Tokens */\n  --dyn-progress-height: var(--dyn-progress-size-height, 0.5rem);\n  --dyn-progress-radius: var(--dyn-progress-size-borderRadius, var(--dyn-border-radius-full, 9999px));\n  --dyn-progress-transition: var(--dyn-progress-animation-duration, var(--dyn-duration-normal, 200ms)) var(--dyn-easing-ease-in-out, ease-in-out);\n\n  /* ==========================================================================\n     BASE STYLES\n     ========================================================================== */\n  display: flex;\n  flex-direction: column;\n  gap: var(--dyn-spacing-xs, 0.25rem);\n  width: 100%;\n}\n\n/* ==========================================================================\n   HEADER STYLES\n   ========================================================================== */\n\n.progressHeader {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: var(--dyn-spacing-sm, 0.5rem);\n}\n\n.progressLabel {\n  font-size: var(--dyn-font-size-sm, 0.875rem);\n  font-weight: var(--dyn-font-weight-medium, 500);\n  color: var(--dyn-progress-text);\n  line-height: var(--dyn-font-line-height-normal, 1.5);\n}\n\n.progressValue {\n  font-size: var(--dyn-font-size-sm, 0.875rem);\n  font-weight: var(--dyn-font-weight-semibold, 600);\n  color: var(--dyn-progress-text);\n  font-variant-numeric: tabular-nums;\n}\n\n/* ==========================================================================\n   TRACK STYLES\n   ========================================================================== */\n\n.progressTrack {\n  position: relative;\n  width: 100%;\n  height: var(--dyn-progress-height);\n  background-color: var(--dyn-progress-bg);\n  border-radius: var(--dyn-progress-radius);\n  overflow: hidden;\n}\n\n/* ==========================================================================\n   BAR STYLES\n   ========================================================================== */\n\n.progressBar {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  background-color: var(--dyn-progress-fill);\n  border-radius: var(--dyn-progress-radius);\n  transition: width var(--dyn-progress-transition);\n}\n\n/* ==========================================================================\n   STATUS VARIANTS\n   ========================================================================== */\n\n.progressDefault {\n  --dyn-progress-fill: var(--dyn-progress-color-default, var(--dyn-theme-primary, #3b82f6));\n}\n\n.progressSuccess {\n  --dyn-progress-fill: var(--dyn-progress-color-success, var(--dyn-feedback-positive, #22c55e));\n}\n\n.progressError {\n  --dyn-progress-fill: var(--dyn-progress-color-error, var(--dyn-feedback-negative-default, #ef4444));\n}\n\n.progressWarning {\n  --dyn-progress-fill: var(--dyn-progress-color-warning, var(--dyn-feedback-warning, #f59e0b));\n}\n\n.progressInfo {\n  --dyn-progress-fill: var(--dyn-progress-color-info, var(--dyn-feedback-info, #0ea5e9));\n}\n\n/* ==========================================================================\n   SIZE VARIANTS\n   ========================================================================== */\n\n.progressXs {\n  --dyn-progress-height: var(--dyn-progress-size-xs, 0.25rem);\n}\n\n.progressSm {\n  --dyn-progress-height: var(--dyn-progress-size-sm, 0.375rem);\n}\n\n.progressMd {\n  --dyn-progress-height: var(--dyn-progress-size-md, 0.5rem);\n}\n\n.progressLg {\n  --dyn-progress-height: var(--dyn-progress-size-lg, 0.75rem);\n}\n\n.progressXl {\n  --dyn-progress-height: var(--dyn-progress-size-xl, 1rem);\n}\n\n/* ==========================================================================\n   INDETERMINATE ANIMATION\n   ========================================================================== */\n\n.progressIndeterminate .progressTrack {\n  overflow: hidden;\n}\n\n.progressBarIndeterminate {\n  width: 30% !important;\n  animation: dynProgressIndeterminate 1.5s linear infinite !important;\n  animation-duration: 1.5s !important;\n  animation-iteration-count: infinite !important;\n  will-change: transform;\n}\n\n@keyframes dynProgressIndeterminate {\n  0% {\n    transform: translateX(-100%);\n  }\n\n  100% {\n    transform: translateX(400%);\n  }\n}\n\n/* ==========================================================================\n   STRIPED ANIMATION\n   ========================================================================== */\n\n.progressBarStriped {\n  background-image: linear-gradient(45deg,\n      rgba(255, 255, 255, 0.15) 25%,\n      transparent 25%,\n      transparent 50%,\n      rgba(255, 255, 255, 0.15) 50%,\n      rgba(255, 255, 255, 0.15) 75%,\n      transparent 75%,\n      transparent);\n  background-size: var(--dyn-progress-stripe-size, 1rem) var(--dyn-progress-stripe-size, 1rem);\n}\n\n\n.progressBarAnimated {\n  animation: dynProgressStripes 1s linear infinite !important;\n  animation-duration: 1s !important;\n  animation-iteration-count: infinite !important;\n}\n\n@keyframes dynProgressStripes {\n  0% {\n    background-position: var(--dyn-progress-stripe-size, 1rem) 0;\n  }\n\n  100% {\n    background-position: 0 0;\n  }\n}\n\n/* ==========================================================================\n   ACCESSIBILITY\n   ========================================================================== */\n\n.srOnly {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border: 0;\n}\n\n/* ==========================================================================\n   REDUCED MOTION\n   ========================================================================== */\n\n/* Reduced motion block removed to ensure visibility aligned with DynLoading */\n\n/* ==========================================================================\n   HIGH CONTRAST MODE\n   ========================================================================== */\n\n@media (prefers-contrast: more) {\n  .progressTrack {\n    border: var(--dyn-border-width-sm, 1px) solid var(--dyn-semantic-border, #d1d5db);\n  }\n}\n\n/* Dark mode handled automatically via semantic tokens */", "metadata": {"type": "ui_component", "name": "DynProgress", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynProgress"}, "embedding": [-0.06283770501613617, 0.03838169574737549, -0.01757352612912655, -0.0019239811226725578, -0.016473719850182533, 0.05769970640540123, -0.06706926971673965, 0.073551245033741, -0.02877672202885151, 0.0019845927599817514, -0.07028794288635254, -0.011303534731268883, -0.04239082708954811, -0.004203047603368759, 0.00895494595170021, -0.010101708583533764, -0.06202329322695732, -0.05588412657380104, -0.04187388718128204, -0.06419354677200317, 0.0029206315521150827, -0.04042976722121239, 0.04142386466264725, 0.016735665500164032, 0.043755751103162766, 0.05970184504985809, -0.0208138320595026, -0.0595090426504612, 0.08613386005163193, 0.011039670556783676, -0.009463578462600708, -0.0369737446308136, -0.06470286846160889, 0.00035348808160051703, -0.06407210230827332, 0.08538003265857697, -0.008260871283710003, 0.007057020906358957, 0.014218362048268318, -0.02184843271970749, 0.12469007819890976, 0.05159974470734596, 0.0037948370445519686, -0.03040471486747265, 0.08264772593975067, -0.09261786937713623, -0.1008964478969574, -0.050055526196956635, -0.06901057809591293, 0.02682700753211975, 0.007895315065979958, -0.016673007979989052, 0.018026946112513542, 0.021027114242315292, 0.042445287108421326, 0.007886618375778198, 0.048893824219703674, 0.04117124155163765, 0.028327101841568947, -0.036591559648513794, -0.010566274635493755, -0.04810396581888199, 0.05870790034532547, -0.07164853066205978, -0.011042073369026184, 0.02555161900818348, -0.031712234020233154, 0.045985255390405655, 0.06279019266366959, 0.03379519656300545, -0.09394263476133347, 0.003924865275621414, 0.02238616719841957, -0.0050791725516319275, 0.004568783100694418, -0.09322163462638855, 0.06968311220407486, 0.0530867874622345, -0.005900501273572445, -0.06939630210399628, -0.015850214287638664, -0.029288051649928093, 0.0034640643279999495, 0.0029857235495001078, -0.030961040407419205, 0.1021539717912674, 0.014082206413149834, 0.038098737597465515, -0.023218542337417603, -0.09146493673324585, -0.01088676881045103, 0.027765752747654915, -0.07807646691799164, 0.017807697877287865, -0.03685173764824867, 0.083369180560112, -0.09328523278236389, 0.04809696599841118, -0.021109027788043022, 0.021220320835709572, 0.04502646625041962, -0.0340208038687706, 0.03285336121916771, -0.004601032938808203, -0.05814223363995552, -0.07438729703426361, 0.04508303105831146, 3.7751012769149384e-06, -0.06991256028413773, 0.042827408760786057, 0.022760361433029175, 0.020160485059022903, 0.0002416804200038314, 0.025690997019410133, -0.03951502963900566, 0.008255512453615665, 0.0036856303922832012, -0.007878775708377361, 0.09054823964834213, 0.01012578047811985, 0.1270824819803238, -0.012785741128027439, 0.03456033766269684, -0.002152184257283807, 0.037799909710884094, -0.03438239172101021, 0.08916407078504562, 3.4591551441555775e-33, -0.017397325485944748, -0.02767016738653183, 0.011376362293958664, 0.05406172573566437, 0.012813619337975979, -0.017291640862822533, 0.03575093671679497, -0.0681585744023323, 0.025232115760445595, -0.012501096352934837, -0.03363654762506485, 0.023719310760498047, -0.1190488412976265, 0.035080526024103165, -0.019507737830281258, -0.08384779095649719, 0.09319445490837097, 0.001804353087209165, 0.0029863035306334496, 0.01288046594709158, 0.08211863785982132, -0.022940587252378464, -0.08682426810264587, 0.07889535278081894, 0.11946553736925125, -0.037593770772218704, 0.0024881393183022738, 0.08606961369514465, -0.09609151631593704, -0.01669524796307087, 0.05924221873283386, -0.032419197261333466, 0.021117867901921272, 0.03896762803196907, 0.023499054834246635, -0.0734172835946083, -0.0769888162612915, 0.01494111679494381, -0.01224654819816351, -0.01974323019385338, 0.0034378906711935997, -0.024984240531921387, -0.09070854634046555, 0.0260021910071373, -0.08225462585687637, 0.008957281708717346, 0.033139973878860474, -0.027178078889846802, 0.05033194273710251, -0.02526462823152542, -0.018445691093802452, 0.085988350212574, -0.021843137219548225, -0.1659734547138214, 0.022373229265213013, 0.004600147251039743, 0.005630340427160263, 0.08005037903785706, 0.023336991667747498, -0.022305721417069435, -0.020717069506645203, 0.007587851956486702, -0.004488894250243902, -0.0556112565100193, -0.03283388167619705, 0.015127678401768208, -0.10252431035041809, -0.005891701206564903, 0.009732984937727451, -0.08472061157226562, -0.01414339430630207, 0.0037596169859170914, 0.02038750611245632, -0.01391592901200056, 0.09736640751361847, -0.007784261833876371, -0.03779052197933197, 0.02772105671465397, -0.03165457770228386, -0.09541498869657516, -0.04278247803449631, -0.04087720066308975, -0.07620744407176971, 0.03596147149801254, 0.1168750748038292, 0.0010151185560971498, -0.03696382790803909, 0.005430437158793211, -0.022873591631650925, -0.008155674673616886, -0.06887281686067581, -0.023220235481858253, -0.027289673686027527, -0.007678437512367964, -0.03790852427482605, -6.054324511850666e-33, 0.018665628507733345, 0.03629465401172638, -0.03338642418384552, 0.001604004530236125, 0.005391391459852457, 0.007106081582605839, 0.0162033773958683, 0.06220891326665878, 0.007033930160105228, 0.08112411201000214, 0.013803369365632534, -0.01977654919028282, -0.08852886408567429, -0.032425783574581146, -0.09560941159725189, 0.0750633180141449, -0.041931480169296265, 0.014097205363214016, 0.07660866528749466, 0.020436054095625877, 0.018356207758188248, -0.022657884284853935, 0.006094665266573429, 0.13555702567100525, -0.03427335247397423, 0.039499152451753616, 0.05894291773438454, 0.018793009221553802, -0.012810321524739265, -0.0309271439909935, -0.018562741577625275, -0.018985755741596222, -0.02907765470445156, 0.06370440125465393, -0.049490440636873245, -0.1216532364487648, 0.03872364014387131, -0.020639043301343918, -0.04530659317970276, 0.02516414038836956, 0.035847749561071396, -0.040743596851825714, 0.017013249918818474, 0.0236878152936697, -0.011019992642104626, -0.04331355169415474, 0.08927861601114273, -0.02764507569372654, -0.10369046032428741, -0.010651964694261551, 0.10195308923721313, 0.013448297046124935, -0.02504946105182171, 0.08353842049837112, 0.04259079694747925, -0.0012693216558545828, 0.02136264555156231, -0.047238439321517944, -0.041505828499794006, -0.0009962862823158503, -0.07950294762849808, -0.08362443745136261, 0.045857276767492294, -0.0049821436405181885, 0.03708511218428612, -0.0416601188480854, -0.08586185425519943, -0.030378490686416626, 0.040639642626047134, 0.1026710495352745, 0.0471903458237648, 0.08205391466617584, -0.007211752235889435, -0.022099006921052933, 0.031808074563741684, -0.04908441752195358, 0.03483184799551964, -0.1130136027932167, 0.07299191504716873, 0.10207848250865936, -0.06964512914419174, 0.031883757561445236, 0.09011787921190262, 0.043474119156599045, -0.00785607099533081, 0.01611427590250969, -0.008711199276149273, 0.11511491239070892, 0.010910192504525185, 0.02155209146440029, 0.021223286166787148, 0.01206788420677185, -0.04483475908637047, -0.036469344049692154, 0.010461038909852505, -5.6976993789703556e-08, -0.0732518658041954, -0.05522223189473152, -0.09512019157409668, -0.048770301043987274, -0.003758435370400548, -0.08421102166175842, -0.03107295371592045, -0.09016621857881546, 0.024722037836909294, 0.02814173884689808, -0.00462914677336812, -0.0005181891610845923, -0.022205475717782974, -0.05691106617450714, -0.0030265299137681723, -0.002138569252565503, 0.021467862650752068, 0.11055886745452881, -0.016978111118078232, 0.013735380955040455, 0.04044694826006889, -0.03270187973976135, -0.07345596700906754, 0.030919542536139488, 0.09023468941450119, -0.05855556204915047, 0.003853515489026904, 0.042759619653224945, 0.03784908726811409, -0.015747176483273506, -0.035159882158041, -0.026671534404158592, 0.014013879001140594, -0.04667869210243225, -0.004689983557909727, -0.07585768401622772, 0.09209984540939331, -0.016204094514250755, 0.11669837683439255, 0.08224784582853317, 0.03143880516290665, 0.039459194988012314, 0.002763928147032857, 0.05852954462170601, 0.01725238561630249, -0.008624945767223835, -0.10298747569322586, -0.0009381526615470648, -0.016816874966025352, -0.06250303238630295, 0.042000025510787964, -0.11304736137390137, -0.051419250667095184, 0.04897340014576912, -0.05003700777888298, -0.0005792530719190836, -0.02560051530599594, 0.010538885369896889, 0.025241810828447342, -0.012302394956350327, 0.039342790842056274, -0.00033059815177693963, 0.052980076521635056, -0.04399292543530464]}, {"id": "dyn_ui_component_DynRadio", "text": "# Component: DynRadio\n\n--- Types (DynRadio.types.ts) ---\nimport { InputHTMLAttributes, ReactNode } from 'react';\nimport type { BaseComponentProps, AccessibilityProps, ColorVariant } from '../../types';\nimport type { DynValidationRule } from '../../hooks/useDynFieldValidation';\nimport type { DynSelectOption } from '../DynSelect';\n\nexport interface DynRadioProps extends Omit<InputHTMLAttributes<HTMLInputElement>, 'onChange'>, BaseComponentProps {\n    /**\n     * Label to display next to the radio button.\n     */\n    label?: ReactNode;\n\n    /**\n     * Helper text or error message below the radio.\n     * @deprecated Use helpText for Group, individual radio usually doesn't need helpText\n     */\n    description?: ReactNode;\n\n    /**\n     * Whether the radio is in an error state.\n     */\n    error?: boolean;\n\n    /**\n     * Color theme of the radio button\n     * @default 'primary'\n     */\n    color?: ColorVariant;\n\n    /**\n     * Callback when the checked state changes.\n     */\n    onChange?: (checked: boolean, value: string) => void;\n\n    /**\n     * Value of the radio button.\n     */\n    value: string;\n}\n\nexport interface DynRadioGroupProps extends BaseComponentProps, AccessibilityProps {\n    /**\n     * The name attribute for all radio buttons in the group.\n     * If not provided, a unique name will be generated.\n     */\n    name?: string;\n\n    /**\n     * The value of the currently selected radio button.\n     */\n    value?: string;\n\n    /**\n     * Default selected value (uncontrolled).\n     */\n    defaultValue?: string;\n\n    /**\n     * Callback when the selected value changes.\n     */\n    onChange?: (value: string) => void;\n\n    /**\n     * Label for the group (rendered as a legend or label).\n     */\n    label?: ReactNode;\n\n    /**\n     * Helper text or error message for the group.\n     * @deprecated Use helpText instead\n     */\n    description?: ReactNode;\n\n    /**\n     * Help text to display below the group\n     */\n    helpText?: string;\n\n    /**\n     * Whether the group is in an error state.\n     */\n    error?: boolean;\n\n    /**\n     * Error message string.\n     */\n    errorMessage?: string;\n\n    /**\n     * Whether the field is required\n     */\n    required?: boolean;\n\n    /**\n     * Validation rules\n     */\n    validation?: DynValidationRule | DynValidationRule[];\n\n    /**\n     * Callback when validation status changes\n     */\n    onValidate?: (isValid: boolean, errorMessage?: string) => void;\n\n    /**\n     * Direction of the radio buttons.\n     * @default 'vertical'\n     */\n    direction?: 'vertical' | 'horizontal';\n\n    /**\n     * Color theme for all radio buttons in the group\n     * @default 'primary'\n     */\n    color?: ColorVariant;\n\n    /**\n     * Children nodes (DynRadio components).\n     */\n    children?: ReactNode;\n\n    /**\n     * Options array (alternative to children)\n     */\n    options?: DynSelectOption[];\n\n    /**\n     * Additional class name.\n     */\n    className?: string;\n}\n\n\n--- Component (DynRadio.tsx) ---\nimport React, { forwardRef, useId, createContext, useContext, useState } from 'react';\nimport { cn } from '../../utils/classNames';\nimport { DynRadioProps, DynRadioGroupProps } from './DynRadio.types';\nimport { useDynFieldValidation } from '../../hooks/useDynFieldValidation';\nimport { DynFieldContainer } from '../DynFieldContainer';\nimport styles from './DynRadio.module.css';\nimport type { ColorVariant } from '../../types';\n\n// Context for Radio Group communication\ninterface RadioGroupContextType {\n    name: string;\n    value?: string;\n    onChange: (value: string) => void;\n    error?: boolean;\n    color?: ColorVariant;\n}\n\nconst RadioGroupContext = createContext<RadioGroupContextType | null>(null);\n\n/**\n * DynRadioGroup Component\n * A container for a group of radio buttons with validation and label management.\n */\nexport const DynRadioGroup: React.FC<DynRadioGroupProps> = ({\n    name: nameProp,\n    value: controlledValue,\n    defaultValue,\n    onChange,\n    label,\n    description,\n    helpText,\n    error,\n    errorMessage,\n    required,\n    validation,\n    onValidate,\n    direction = 'vertical',\n    color = 'primary',\n    children,\n    options,\n    className,\n    ...props\n}) => {\n    const [internalValue, setInternalValue] = useState<string | undefined>(defaultValue);\n    const value = controlledValue !== undefined ? controlledValue : internalValue;\n    const uniqueId = useId();\n    const name = nameProp || uniqueId;\n\n    const resolvedHelpText = helpText ?? (typeof description === 'string' ? description : undefined);\n    const resolvedErrorText = errorMessage;\n\n    const { error: validationError, clearError } = useDynFieldValidation({\n        value,\n        required,\n        validation,\n        customError: resolvedErrorText,\n    });\n\n    const displayError = resolvedErrorText || validationError;\n    const isError = error || !!displayError;\n\n    const handleChange = (newValue: string) => {\n        if (controlledValue === undefined) {\n            setInternalValue(newValue);\n        }\n        onChange?.(newValue);\n        clearError();\n    };\n\n    return (\n        <DynFieldContainer\n            label={typeof label === 'string' ? label : undefined}\n            helpText={resolvedHelpText}\n            errorText={displayError}\n            required={required}\n            className={className}\n        >\n            <RadioGroupContext.Provider value={{ name, value, onChange: handleChange, error: isError, color }}>\n                <div\n                    className={cn(styles.groupContainer)}\n                    role=\"radiogroup\"\n                    aria-labelledby={label ? `${name}-label` : undefined}\n                    aria-required={required}\n                    aria-invalid={isError}\n                    {...props}\n                >\n                    {label && typeof label !== 'string' && (\n                        <span id={`${name}-label`} className={styles.groupLabel}>\n                            {label}\n                        </span>\n                    )}\n\n                    <div\n                        className={cn(styles.group, {\n                            [styles.horizontal]: direction === 'horizontal',\n                        })}\n                    >\n                        {children}\n                        {options &&\n                            options.map((option) => (\n                                <DynRadio\n                                    key={String(option.value)}\n                                    value={String(option.value)}\n                                    label={option.label}\n                                    disabled={option.disabled}\n                                    color={color}\n                                />\n                            ))}\n                    </div>\n                </div>\n            </RadioGroupContext.Provider>\n        </DynFieldContainer>\n    );\n};\n\n/**\n * DynRadio Component\n * A customizable radio button component that can be used standalone or within a DynRadioGroup.\n */\nexport const DynRadio = forwardRef<HTMLInputElement, DynRadioProps>(\n    ({ label, description, error: errorProp, color: colorProp, className, value, checked: checkedProp, onChange, disabled, ...props }, ref) => {\n        const id = useId();\n        const groupContext = useContext(RadioGroupContext);\n\n        // Determine state based on Group Context or local props\n        const isChecked = groupContext ? groupContext.value === value : checkedProp;\n\n        const name = groupContext ? groupContext.name : props.name;\n        const isError = groupContext ? groupContext.error : errorProp;\n        const color = groupContext?.color ?? colorProp ?? 'primary';\n\n        const COLOR_MAP: Record<string, string | undefined> = {\n            primary: styles.colorPrimary,\n            secondary: styles.colorSecondary,\n            success: styles.colorSuccess,\n            danger: styles.colorDanger,\n            warning: styles.colorWarning,\n            info: styles.colorInfo,\n        };\n\n        const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n            if (disabled) return;\n\n            const newChecked = e.target.checked;\n\n            if (groupContext) {\n                if (newChecked) {\n                    groupContext.onChange(value);\n                }\n            } else {\n                onChange?.(newChecked, value);\n            }\n        };\n\n        return (\n            <div className={cn(styles.container, COLOR_MAP[color], className)}>\n                <label\n                    htmlFor={id}\n                    className={cn(styles.wrapper, {\n                        [styles.wrapperDisabled]: disabled,\n                        [styles.error]: isError,\n                    })}\n                >\n                    <input\n                        {...props}\n                        ref={ref}\n                        id={id}\n                        type=\"radio\"\n                        name={name}\n                        value={value}\n                        checked={isChecked}\n                        onChange={handleChange}\n                        disabled={disabled}\n                        className={styles.input}\n                    />\n                    <div className={styles.check}>\n                        <div className={styles.dot} />\n                    </div>\n                    {label && <span className={styles.label}>{label}</span>}\n                </label>\n                {description && <div className={styles.description}>{description}</div>}\n            </div>\n        );\n    }\n);\n\nDynRadio.displayName = 'DynRadio';\n\n\n--- Usage Examples (DynRadio.stories.tsx) ---\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { DynRadio, DynRadioGroup } from './DynRadio';\nimport { useState } from 'react';\n\nconst meta: Meta<typeof DynRadio> = {\n    title: 'Inputs/DynRadio',\n    component: DynRadio,\n    tags: ['autodocs'],\n    argTypes: {\n        disabled: {\n            control: 'boolean',\n        },\n        error: {\n            control: 'boolean',\n        },\n    },\n};\n\nexport default meta;\ntype Story = StoryObj<typeof DynRadio>;\n\nexport const Default: Story = {\n    args: {\n        value: 'option1',\n        label: 'Option 1',\n    },\n};\n\nexport const WithDescription: Story = {\n    args: {\n        value: 'option2',\n        label: 'Option With Details',\n        description: 'This is some helper text providing more info.',\n    },\n};\n\nexport const Disabled: Story = {\n    args: {\n        value: 'option3',\n        label: 'Disabled Option',\n        disabled: true,\n    },\n};\n\nexport const Group = () => {\n    const [value, setValue] = useState('apple');\n\n    return (\n        <DynRadioGroup\n            label=\"Choose a fruit\"\n            description=\"Select your favorite fruit from the list\"\n            value={value}\n            onChange={setValue}\n        >\n            <DynRadio value=\"apple\" label=\"Apple\" />\n            <DynRadio value=\"banana\" label=\"Banana\" />\n            <DynRadio value=\"orange\" label=\"Orange\" />\n            <DynRadio value=\"grape\" label=\"Grape\" disabled description=\"Out of stock\" />\n        </DynRadioGroup>\n    );\n};\n\nexport const GroupHorizontal = () => (\n    <DynRadioGroup label=\"Horizontal Group\" direction=\"horizontal\" name=\"h-group\">\n        <DynRadio value=\"yes\" label=\"Yes\" />\n        <DynRadio value=\"no\" label=\"No\" />\n        <DynRadio value=\"maybe\" label=\"Maybe\" />\n    </DynRadioGroup>\n);\n\nexport const GroupValidation = () => {\n    const [value, setValue] = useState('');\n\n    return (\n        <DynRadioGroup\n            label=\"Required Choice\"\n            required\n            name=\"validation-group\"\n            value={value}\n            onChange={setValue}\n            validation={{ type: 'required', message: 'Selection is mandatory' }}\n            helpText=\"This group will show an error if nothing is selected (click to clear)\"\n        >\n            <DynRadio value=\"1\" label=\"Option 1\" />\n            <DynRadio value=\"2\" label=\"Option 2\" />\n        </DynRadioGroup>\n    );\n};\n\nexport const GroupOptionsPattern = () => (\n    <DynRadioGroup\n        label=\"Options Pattern\"\n        name=\"options-group\"\n        options={[\n            { label: 'Option A', value: 'a' },\n            { label: 'Option B', value: 'b' },\n            { label: 'Option C', value: 'c', disabled: true }\n        ]}\n    />\n);\n\nexport const GroupError = () => {\n    const [value, setValue] = useState('');\n    const [error, setError] = useState(true);\n\n    return (\n        <DynRadioGroup\n            label=\"Manual Error State\"\n            errorMessage={error ? \"Please correct this choice\" : \"\"}\n            error={error}\n            name=\"error-group\"\n            value={value}\n            onChange={(v) => {\n                setValue(v);\n                setError(false);\n            }}\n            helpText=\"Manual error that clears on first selection\"\n        >\n            <DynRadio value=\"1\" label=\"Option 1\" />\n            <DynRadio value=\"2\" label=\"Option 2\" />\n        </DynRadioGroup>\n    );\n};\n\n\n--- Styles (DynRadio.module.css) ---\n/**\n * DynRadio Component Styles\n * 100% Design Token Compliance\n */\n\n/* ==========================================================================\n   COMPONENT TOKENS (Moved to :root)\n   ========================================================================== */\n:root {\n  /* Dimensions & Spacing */\n  --dyn-radio-check-size: 1.25rem;\n  --dyn-radio-dot-size: 0.625rem;\n  --dyn-radio-gap: var(--dyn-spacing-sm, 0.5rem);\n  --dyn-radio-wrapper-gap: var(--dyn-spacing-xs, 0.25rem);\n\n  /* Colors */\n  --dyn-radio-border: var(--dyn-semantic-text-secondary, #94a3b8);\n  --dyn-radio-bg: var(--dyn-semantic-surface, #ffffff);\n  --dyn-radio-dot-color: var(--dyn-foundation-white, #ffffff);\n  --dyn-radio-checked-color: var(--dyn-theme-primary, #3b82f6);\n\n  /* State Colors */\n  --dyn-radio-checked-bg: var(--dyn-radio-checked-color);\n  --dyn-radio-checked-border: var(--dyn-radio-checked-color);\n  --dyn-radio-hover-bg-check: var(--dyn-semantic-surface-hover, #f9fafb);\n  --dyn-radio-hover-checked-bg: var(--dyn-theme-primary-hover, #2563eb);\n  --dyn-radio-focus-ring: var(--dyn-semantic-border-focus, #3b82f6);\n  --dyn-radio-error: var(--dyn-feedback-negative-default, #ef4444);\n\n  /* Typography */\n  --dyn-radio-label-color: var(--dyn-semantic-text, #18181b);\n  --dyn-radio-desc-color: var(--dyn-semantic-text-secondary, #52525b);\n}\n\n/* ==========================================================================\n   RADIO ITEM\n   ========================================================================== */\n\n.container {\n  /* Color tokens - can be overridden by color variant classes */\n  --dyn-radio-checked-color: var(--dyn-theme-primary, #3b82f6);\n  --dyn-radio-checked-bg: var(--dyn-radio-checked-color);\n  --dyn-radio-checked-border: var(--dyn-radio-checked-color);\n\n  display: inline-flex;\n  flex-direction: column;\n  gap: var(--dyn-radio-wrapper-gap);\n}\n\n.wrapper {\n  display: inline-flex;\n  align-items: flex-start;\n  /* Align top for multiline text */\n  gap: var(--dyn-radio-gap);\n  cursor: pointer;\n  position: relative;\n}\n\n.wrapperDisabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n/* INPUT & CUSTOM RADIO */\n\n.input {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border: 0;\n}\n\n.check {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: var(--dyn-radio-check-size);\n  height: var(--dyn-radio-check-size);\n  margin-top: 0.125rem;\n  /* Align with line-height */\n  border: var(--dyn-border-width-sm, 1px) solid var(--dyn-radio-border);\n  border-radius: var(--dyn-border-radius-full, 50%);\n  background-color: var(--dyn-radio-bg);\n  transition: all var(--dyn-transition-normal, 0.2s) ease-in-out;\n  flex-shrink: 0;\n}\n\n/* Size Variants (aligned with DynCheckbox per STYLE_REGISTRY) */\n.sizeSm {\n  --dyn-radio-check-size: 16px;\n  --dyn-radio-dot-size: 8px;\n}\n\n.sizeMd {\n  --dyn-radio-check-size: 20px;\n  --dyn-radio-dot-size: 10px;\n}\n\n.sizeLg {\n  --dyn-radio-check-size: 24px;\n  --dyn-radio-dot-size: 12px;\n}\n\n/* Color Variants */\n.colorPrimary {\n  --dyn-radio-checked-color: var(--dyn-theme-primary, #3b82f6);\n}\n\n.colorSecondary {\n  --dyn-radio-checked-color: var(--dyn-theme-secondary, #64748b);\n}\n\n.colorSuccess {\n  --dyn-radio-checked-color: var(--dyn-feedback-positive-default, #10b981);\n}\n\n.colorDanger {\n  --dyn-radio-checked-color: var(--dyn-feedback-negative-default, #ef4444);\n}\n\n.colorWarning {\n  --dyn-radio-checked-color: var(--dyn-feedback-warning-default, #f59e0b);\n}\n\n.colorInfo {\n  --dyn-radio-checked-color: var(--dyn-feedback-info-default, #0ea5e9);\n}\n\n.dot {\n  width: var(--dyn-radio-dot-size);\n  height: var(--dyn-radio-dot-size);\n  border-radius: var(--dyn-border-radius-full, 50%);\n  background-color: var(--dyn-radio-dot-color);\n  transform: scale(0);\n  transition: transform var(--dyn-transition-normal, 0.2s) cubic-bezier(0.34, 1.56, 0.64, 1);\n}\n\n/* CHECKED STATE */\n\n.input:checked+.check {\n  border-color: var(--dyn-radio-checked-border);\n  background-color: var(--dyn-radio-checked-bg);\n}\n\n.input:checked+.check .dot {\n  transform: scale(1);\n}\n\n/* HOVER & FOCUS */\n\n.wrapper:hover:not(.wrapperDisabled) .check {\n  border-color: var(--dyn-radio-checked-border);\n  background-color: var(--dyn-radio-hover-bg-check);\n}\n\n.wrapper:hover:not(.wrapperDisabled) .input:checked+.check {\n  background-color: var(--dyn-radio-hover-checked-bg);\n}\n\n.input:focus-visible+.check {\n  outline: var(--dyn-border-width-md, 2px) solid var(--dyn-radio-focus-ring);\n  outline-offset: 2px;\n}\n\n/* ERROR STATE */\n\n.error .check {\n  border-color: var(--dyn-radio-error);\n}\n\n.error .input:checked+.check {\n  background-color: var(--dyn-radio-error);\n  border-color: var(--dyn-radio-error);\n}\n\n.error .label {\n  color: var(--dyn-radio-error);\n}\n\n/* TEXT STYLES */\n\n.content {\n  display: flex;\n  flex-direction: column;\n}\n\n.label {\n  font-family: inherit;\n  font-size: var(--dyn-font-size-md, 1rem);\n  font-weight: var(--dyn-font-weight-normal, 400);\n  color: var(--dyn-radio-label-color);\n  line-height: var(--dyn-line-height-normal, 1.5);\n  user-select: none;\n}\n\n.description {\n  font-family: inherit;\n  font-size: var(--dyn-font-size-sm, 0.875rem);\n  color: var(--dyn-radio-desc-color);\n  margin-left: calc(var(--dyn-radio-check-size) + var(--dyn-radio-gap));\n}\n\n/* ==========================================================================\n   RADIO GROUP\n   ========================================================================== */\n\n.group {\n  display: flex;\n  flex-direction: column;\n  gap: var(--dyn-spacing-sm, 8px);\n}\n\n.groupLabel {\n  font-family: inherit;\n  font-size: var(--dyn-font-size-sm, 0.875rem);\n  font-weight: var(--dyn-font-weight-semibold, 600);\n  color: var(--dyn-radio-label-color);\n  margin-bottom: var(--dyn-spacing-xs, 4px);\n  display: block;\n}\n\n.groupDescription {\n  font-family: inherit;\n  font-size: var(--dyn-font-size-xs, 0.75rem);\n  color: var(--dyn-radio-desc-color);\n  margin-bottom: var(--dyn-spacing-sm, 8px);\n}\n\n.horizontal {\n  display: flex !important;\n  flex-direction: row !important;\n  flex-wrap: wrap;\n  align-items: center;\n  gap: var(--dyn-spacing-md, 16px) !important;\n}\n\n/* DARK MODE - Automated via semantic tokens */\n", "metadata": {"type": "ui_component", "name": "DynRadio", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynRadio"}, "embedding": [-0.011416235938668251, 0.03569171577692032, -0.041704654693603516, 0.03498751297593117, 0.01931661181151867, 0.07919382303953171, 0.03555215895175934, 0.06702829152345657, -0.002492093713954091, -0.015075188130140305, -0.08026169240474701, -0.06358073651790619, -0.008877905085682869, 0.07759138941764832, 0.03219275921583176, 0.060053158551454544, -0.0033042195718735456, -0.04804467037320137, -0.03640036657452583, -0.038597166538238525, -0.05549818277359009, -0.029553132131695747, 0.052137844264507294, 0.006537087261676788, 0.04082576185464859, 0.02166707068681717, 0.022962570190429688, -0.011476033367216587, -0.01787874661386013, 0.04166816920042038, -0.043954022228717804, 0.027011463418602943, 0.027823368087410927, -0.023663228377699852, -0.07662281394004822, 0.03215884417295456, -0.015355084091424942, 0.06652870774269104, -0.08272548764944077, 0.016008280217647552, 0.03177880123257637, 0.0016432547708973289, -0.0407523475587368, -0.01232175249606371, -0.038560256361961365, -0.07153751701116562, -0.03724316507577896, -0.04904419183731079, -0.01696736365556717, -0.022810528054833412, 0.0689806267619133, 0.024011079221963882, 0.06956860423088074, 0.0898081511259079, 0.023742467164993286, 0.014939641579985619, 0.05635396018624306, 0.0518500879406929, -0.003553641028702259, 0.002119737910106778, -0.004996522329747677, -0.02535966783761978, 0.005698942579329014, -0.053364306688308716, 0.10552998632192612, 0.08722612261772156, 0.026686368510127068, -0.034328896552324295, -0.02196706086397171, -0.04194933548569679, -0.03492477163672447, 0.013305200263857841, 0.07075505703687668, -0.01668773964047432, -0.019139781594276428, -0.0818120464682579, 0.012655005790293217, 0.045543599873781204, 0.03964982181787491, 0.006692754104733467, -0.002616055076941848, 0.0325389988720417, -0.0961962416768074, -0.0025204450357705355, 0.05182885006070137, 0.1132771372795105, -0.030803190544247627, 0.02274448238313198, -0.020079825073480606, -0.07558441162109375, -0.058900635689496994, -0.023155981674790382, -0.04406031593680382, 0.03983659669756889, 0.02124461717903614, 0.05501967668533325, -0.02124270424246788, 0.032065629959106445, -0.04128649830818176, -0.004088764078915119, 0.0772513598203659, -0.1254103183746338, -0.1138797178864479, -0.034882236272096634, -0.06372806429862976, -0.1234467551112175, 0.019435537979006767, 0.012590307742357254, -0.045693594962358475, -0.027597345411777496, -0.02943875826895237, 0.04664343222975731, -0.05353693664073944, 0.09892813861370087, -0.056454822421073914, 0.04292807728052139, 0.06412434577941895, -0.06019073724746704, 0.04697016626596451, -5.706577576347627e-05, 0.01964644528925419, -0.035644322633743286, 0.0030363923870027065, 0.05256558582186699, 0.07013319432735443, -0.05088161304593086, 0.08152952045202255, 6.741354307474245e-33, -0.004211846739053726, 0.11475557833909988, -0.005079768132418394, 0.013360178098082542, -0.006419846788048744, 0.04428449273109436, -0.07873453199863434, -0.042739853262901306, 0.013461831025779247, 0.025779632851481438, 0.038672130554914474, 0.051810551434755325, -0.0301384087651968, -0.09295181185007095, 0.033540986478328705, -0.07870718091726303, -0.029633494094014168, 0.0025813723914325237, -0.03572005033493042, -0.029870307072997093, 0.028762420639395714, 0.023557545617222786, -0.03646319359540939, 0.037413377314805984, 0.03789807856082916, 0.07097446918487549, -0.04988900572061539, 0.10299328714609146, 0.018270613625645638, -0.021815858781337738, -0.0010061776265501976, -0.10109590739011765, 0.0441662035882473, 0.06564455479383469, -0.046169452369213104, -0.03458316996693611, -0.09197884052991867, 0.028261788189411163, -0.007195284124463797, -0.032585542649030685, 0.06125887110829353, 0.005103071685880423, -0.026754682883620262, 0.03215309977531433, 0.02705048769712448, -0.01924816519021988, 0.061159614473581314, -0.04799159988760948, 0.03258528560400009, 0.0003963241179008037, -0.06922172755002975, 0.021967876702547073, 0.03857623040676117, -0.15843570232391357, 0.051810335367918015, 0.06819356232881546, 0.03011777438223362, 0.0878870040178299, -0.021034935489296913, 0.003480063984170556, -0.01738622412085533, -0.0024722476955503225, 0.06056996434926987, -0.07958675920963287, 0.039290446788072586, 0.053794875741004944, -0.050156865268945694, -0.06193375214934349, 0.010031737387180328, -0.09275315701961517, -0.030486656352877617, 0.0014768557157367468, -0.0016945834504440427, 0.049750108271837234, 0.009962578304111958, 0.020332153886556625, -0.05009188875555992, 0.01885874569416046, 0.02016543596982956, -0.05477862432599068, -0.0522613525390625, -0.0846884474158287, -0.05077569931745529, 0.08151431381702423, 0.12418369948863983, -0.002392885973677039, -0.04608292132616043, -0.04451685771346092, 0.017224475741386414, 0.06418462097644806, -3.8793143176008016e-05, 0.00490212719887495, -0.05330010876059532, -0.0740288645029068, 0.03358662873506546, -6.893109158797464e-33, -0.02806200087070465, 0.04990355297923088, -0.0435098297894001, -0.012390930205583572, 0.02964019775390625, -0.018556741997599602, -0.08304491639137268, 0.04164367914199829, 0.0639636293053627, 0.012630644254386425, 0.017480675131082535, 8.899654494598508e-05, -0.022886736318469048, -0.010670255869626999, -0.1267874389886856, 0.07217853516340256, -0.01999005861580372, 0.04196760058403015, 0.05669708549976349, -0.023829439654946327, 0.04850868508219719, 0.01258164830505848, 0.02069314755499363, 0.07926274091005325, -0.11462745070457458, 0.04999610781669617, 0.12097998708486557, 0.027986230328679085, 0.07391193509101868, -0.013391697779297829, -0.06195257231593132, 0.0359521210193634, -0.04972432181239128, 0.027956513687968254, 0.10676367580890656, -0.04229677841067314, 0.04768970236182213, 0.02922884188592434, -0.06853420287370682, 0.04629996791481972, -0.016622157767415047, 0.00032393820583820343, 0.007409850601106882, -0.044778380542993546, -0.10688517987728119, -0.018174180760979652, -0.0743539035320282, 0.05821168050169945, -0.04475470259785652, -0.006206432823091745, 0.046933047473430634, -0.1421564668416977, -0.03199794888496399, 0.05184555426239967, -0.06739600002765656, 0.02927427552640438, 0.050639424473047256, 0.03381729498505592, 0.06365028768777847, 0.016740741208195686, -0.01939862035214901, -0.06414788961410522, -0.0806674063205719, 0.017058534547686577, -0.006032653618603945, -0.035779740661382675, -0.09009616822004318, 0.04174339398741722, 0.07912716269493103, 0.08395148068666458, 0.05850119888782501, -0.034526851028203964, 0.020981289446353912, -0.04120630770921707, -0.007895722053945065, 0.013639605604112148, -0.0017764116637408733, 0.008371438831090927, 0.048207320272922516, -0.047170188277959824, 0.03700534626841545, 0.060631830245256424, -0.030445527285337448, -0.013470212928950787, 0.03565773367881775, 0.03782431036233902, -0.003989117220044136, 0.09075172245502472, -0.021099241450428963, -0.07182510942220688, -0.006299848668277264, 0.04464656859636307, -0.0427873358130455, 0.04715290293097496, -0.06511656194925308, -6.237535643549563e-08, 0.014691478572785854, -0.03458229452371597, -0.015896013006567955, -0.026063917204737663, 0.006483032368123531, -0.08455594629049301, -0.013782490976154804, -0.10490132868289948, 0.024881234392523766, 0.03156927973031998, -0.04358192905783653, 0.060507889837026596, 0.0272084828466177, -0.05908956751227379, 0.02687578648328781, 0.036617521196603775, -0.056005898863077164, 0.017933180555701256, 0.0028594068717211485, 0.0840250700712204, 0.09324054419994354, -0.0588875487446785, -0.050757307559251785, 0.0289353858679533, 0.09096959978342056, 0.0038944741245359182, 0.05040057376027107, 0.05531822144985199, 0.09592331945896149, 0.050416234880685806, 0.04900708422064781, 0.0048836348578333855, -0.013168580830097198, -0.015507202595472336, -0.057150568813085556, 0.006694205105304718, 0.0007512443698942661, -0.08032773435115814, 0.05329266935586929, 0.07788881659507751, 0.004219331778585911, -0.01779366470873356, -0.08735467493534088, 0.02227897010743618, -0.06666667759418488, 0.0026077108923345804, -0.07108282297849655, 0.019839277490973473, 0.027053624391555786, -0.01852617971599102, -0.06482093781232834, -0.06151502579450607, -0.07098571956157684, -0.06127803027629852, -0.07435398548841476, 0.003481951542198658, 0.026940470561385155, -0.018281692638993263, 0.011202010326087475, -0.032739508897066116, -0.02711382694542408, 0.010458208620548248, 0.03191438689827919, -0.054344918578863144]}, {"id": "dyn_ui_component_DynResponsiveTabs", "text": "# Component: DynResponsiveTabs\n\n--- Types (DynResponsiveTabs.types.ts) ---\nimport type { ReactNode, HTMLAttributes } from 'react';\n\n/**\n * Tab item configuration\n */\nexport interface DynResponsiveTabItem {\n  /** Tab label text */\n  label: string;\n  /** Tab content - can contain nested DynResponsiveTabs */\n  content: ReactNode;\n  /** Optional icon (string name or React element) */\n  icon?: string | ReactNode;\n  /** Whether tab is disabled */\n  disabled?: boolean;\n}\n\n/**\n * Tab orientation types\n */\nexport type DynResponsiveTabsOrientation = 'horizontal' | 'vertical';\n\n/**\n * Props interface for DynResponsiveTabs component\n */\nexport interface DynResponsiveTabsProps\n  extends Omit<HTMLAttributes<HTMLDivElement>, 'onChange'> {\n  /** Array of tab items */\n  tabs: DynResponsiveTabItem[];\n\n  /** Index of initially active tab (uncontrolled mode) */\n  defaultActive?: number;\n\n  /** Currently active tab index (controlled mode) */\n  activeTab?: number;\n\n  /** Tab orientation (horizontal or vertical) */\n  orientation?: DynResponsiveTabsOrientation;\n\n  /** Enable responsive behavior (tabs to accordion) */\n  responsive?: boolean;\n\n  /** Breakpoint in pixels for switching to accordion */\n  breakpoint?: number;\n\n  /** Allow collapsing active accordion item */\n  allowCollapse?: boolean;\n\n  /** Icon for expand state */\n  expandIcon?: string | ReactNode;\n\n  /** Icon for collapse state */\n  collapseIcon?: string | ReactNode;\n\n  /**\n   * Unique identifier for this tab group (required for nested tabs)\n   * Used to distinguish between parent and child tab styles\n   */\n  tabIdentifier?: string;\n\n  /** Callback when active tab changes (uncontrolled mode) */\n  onChange?: (index: number) => void;\n\n  /** Callback when active tab changes (controlled mode) */\n  onTabChange?: (index: number) => void;\n\n  /** Disable animations for accessibility or performance */\n  disableAnimation?: boolean;\n\n  /** Accessible label for tab list */\n  'aria-label'?: string;\n\n  /** Custom CSS class */\n  className?: string;\n\n  /** Element ID */\n  id?: string;\n\n  /** Test ID for testing */\n  'data-testid'?: string;\n}\n\n/**\n * Ref type for DynResponsiveTabs\n */\nexport type DynResponsiveTabsRef = HTMLButtonElement;\n\n/**\n * Default props type for DynResponsiveTabs\n */\nexport type DynResponsiveTabsDefaultProps = Required<\n  Pick<\n    DynResponsiveTabsProps,\n    | 'defaultActive'\n    | 'orientation'\n    | 'responsive'\n    | 'breakpoint'\n    | 'allowCollapse'\n    | 'expandIcon'\n    | 'collapseIcon'\n    | 'disableAnimation'\n  >\n>;\n\n/**\n * Default values for DynResponsiveTabs\n */\nexport const DYN_RESPONSIVE_TABS_DEFAULT_PROPS: DynResponsiveTabsDefaultProps = {\n  defaultActive: 0,\n  orientation: 'horizontal',\n  responsive: true,\n  breakpoint: 768,\n  allowCollapse: false,\n  expandIcon: 'chevron-down',\n  collapseIcon: 'chevron-up',\n  disableAnimation: false,\n} as const;\n\n\n--- Component (DynResponsiveTabs.tsx) ---\nimport React, { forwardRef, useState, useEffect, useMemo, useCallback, useId } from 'react';\nimport type { KeyboardEventHandler } from 'react';\nimport { cn } from '../../utils/classNames';\nimport { DynIcon } from '../DynIcon';\nimport type {\n  DynResponsiveTabsProps,\n  DynResponsiveTabsRef,\n  DynResponsiveTabsDefaultProps,\n} from './DynResponsiveTabs.types';\nimport { DYN_RESPONSIVE_TABS_DEFAULT_PROPS } from './DynResponsiveTabs.types';\nimport styles from './DynResponsiveTabs.module.css';\n\n/**\n * Hook to detect responsive breakpoint\n */\nconst useResponsiveMode = (breakpoint: number, responsive: boolean): boolean => {\n  const [isAccordion, setIsAccordion] = useState(() => {\n    // Initial state based on current window size\n    if (!responsive) return false;\n    if (typeof window === 'undefined') return false;\n    return window.innerWidth <= breakpoint;\n  });\n\n  useEffect(() => {\n    if (!responsive) {\n      setIsAccordion(false);\n      return;\n    }\n\n    // Check immediately on mount\n    const checkBreakpoint = () => {\n      setIsAccordion(window.innerWidth <= breakpoint);\n    };\n\n    checkBreakpoint();\n\n    // Use both matchMedia and resize for better compatibility\n    const mediaQuery = window.matchMedia(`(max-width: ${breakpoint}px)`);\n\n    const handleChange = (e: MediaQueryListEvent | MediaQueryList) => {\n      setIsAccordion(e.matches);\n    };\n\n    // Debounce resize handler with RAF to prevent layout thrashing\n    let rafId: number | null = null;\n    const handleResize = () => {\n      if (rafId) return;\n      rafId = window.requestAnimationFrame(() => {\n        checkBreakpoint();\n        rafId = null;\n      });\n    };\n\n    // Modern browsers\n    if (mediaQuery.addEventListener) {\n      mediaQuery.addEventListener('change', handleChange);\n      // Also listen to resize for Storybook viewport changes\n      window.addEventListener('resize', handleResize);\n      return () => {\n        mediaQuery.removeEventListener('change', handleChange);\n        window.removeEventListener('resize', handleResize);\n        if (rafId) cancelAnimationFrame(rafId);\n      };\n    }\n    // Legacy browsers\n    else {\n      mediaQuery.addListener(handleChange);\n      window.addEventListener('resize', handleResize);\n      return () => {\n        mediaQuery.removeListener(handleChange);\n        window.removeEventListener('resize', handleResize);\n        if (rafId) cancelAnimationFrame(rafId);\n      };\n    }\n  }, [breakpoint, responsive]);\n\n  return isAccordion;\n};\n\n/**\n * DynResponsiveTabs\n *\n * Responsive tabs component that transforms into accordion on smaller screens.\n * Supports nested tabs composition for complex layouts.\n * Follows DYN UI architecture, accessibility standards, and design token system.\n */\nexport const DynResponsiveTabs = forwardRef<DynResponsiveTabsRef, DynResponsiveTabsProps>(\n  (\n    {\n      tabs,\n      defaultActive = DYN_RESPONSIVE_TABS_DEFAULT_PROPS.defaultActive,\n      activeTab,\n      orientation = DYN_RESPONSIVE_TABS_DEFAULT_PROPS.orientation,\n      responsive = DYN_RESPONSIVE_TABS_DEFAULT_PROPS.responsive,\n      breakpoint = DYN_RESPONSIVE_TABS_DEFAULT_PROPS.breakpoint,\n      allowCollapse = DYN_RESPONSIVE_TABS_DEFAULT_PROPS.allowCollapse,\n      expandIcon = DYN_RESPONSIVE_TABS_DEFAULT_PROPS.expandIcon,\n      collapseIcon = DYN_RESPONSIVE_TABS_DEFAULT_PROPS.collapseIcon,\n      disableAnimation = DYN_RESPONSIVE_TABS_DEFAULT_PROPS.disableAnimation,\n      tabIdentifier,\n      onChange,\n      onTabChange,\n      className,\n      id,\n      'aria-label': ariaLabel,\n      'data-testid': dataTestId,\n      ...rest\n    },\n    ref\n  ) => {\n    // Determine if we're in controlled mode\n    const isControlled = activeTab !== undefined;\n\n    // Generate unique ID for this tabs instance\n    const generatedId = useId();\n    const internalId = useMemo(() => id || generatedId, [id, generatedId]);\n\n    // Internal state for uncontrolled mode\n    const [internalActiveIndex, setInternalActiveIndex] = useState(defaultActive);\n\n    // Use activeTab prop if controlled, otherwise use internal state\n    const currentActiveIndex = isControlled ? activeTab : internalActiveIndex;\n\n    const isAccordion = useResponsiveMode(breakpoint, responsive);\n\n    // Validate tabs\n    const validTabs = useMemo(() => {\n      return tabs.filter(tab => tab && (tab.label || tab.content));\n    }, [tabs]);\n\n    // Handle tab click - supports both controlled and uncontrolled modes\n    const handleTabClick = useCallback((index: number, disabled?: boolean) => {\n      if (disabled) return;\n\n      let newIndex = index;\n\n      // In accordion mode with allowCollapse, toggle the same tab\n      if (isAccordion && allowCollapse && currentActiveIndex === index) {\n        newIndex = -1;\n      }\n\n      // Update internal state if uncontrolled\n      if (!isControlled) {\n        setInternalActiveIndex(newIndex);\n      }\n\n      // Call appropriate callback\n      if (isControlled && onTabChange) {\n        onTabChange(newIndex);\n      } else if (onChange) {\n        onChange(newIndex);\n      }\n    }, [isAccordion, allowCollapse, currentActiveIndex, isControlled, onChange, onTabChange]);\n\n    // Keyboard navigation for tabs (non-accordion mode)\n    const handleTabKeyDown: (index: number) => KeyboardEventHandler<HTMLButtonElement> =\n      useCallback((index) => (event) => {\n        if (isAccordion) return;\n\n        const tabCount = validTabs.length;\n        let nextIndex = index;\n\n        switch (event.key) {\n          case 'ArrowRight':\n          case 'ArrowDown':\n            event.preventDefault();\n            nextIndex = (index + 1) % tabCount;\n            // Skip disabled tabs\n            while (validTabs[nextIndex]?.disabled && nextIndex !== index) {\n              nextIndex = (nextIndex + 1) % tabCount;\n            }\n            break;\n          case 'ArrowLeft':\n          case 'ArrowUp':\n            event.preventDefault();\n            nextIndex = (index - 1 + tabCount) % tabCount;\n            // Skip disabled tabs\n            while (validTabs[nextIndex]?.disabled && nextIndex !== index) {\n              nextIndex = (nextIndex - 1 + tabCount) % tabCount;\n            }\n            break;\n          case 'Home':\n            event.preventDefault();\n            nextIndex = 0;\n            while (validTabs[nextIndex]?.disabled && nextIndex < tabCount - 1) {\n              nextIndex++;\n            }\n            break;\n          case 'End':\n            event.preventDefault();\n            nextIndex = tabCount - 1;\n            while (validTabs[nextIndex]?.disabled && nextIndex > 0) {\n              nextIndex--;\n            }\n            break;\n          default:\n            return;\n        }\n\n        if (nextIndex !== index && !validTabs[nextIndex]?.disabled) {\n          handleTabClick(nextIndex);\n          // Focus the next tab\n          const nextButton = document.getElementById(\n            `${internalId}-tab-${nextIndex}`\n          ) as HTMLButtonElement;\n          nextButton?.focus();\n        }\n      }, [isAccordion, validTabs, handleTabClick, internalId]);\n\n    // Generate CSS classes\n    const containerClass = cn(\n      styles.container,\n      // Map orientation to specific class if needed, checking specifically for 'vertical'\n      orientation === 'vertical' && styles.orientationVertical,\n      {\n        [styles.accordion]: isAccordion,\n        [styles.nested]: tabIdentifier !== undefined,\n        [styles.noAnimation]: disableAnimation,\n      },\n      className\n    );\n\n    // Render tab headers (non-accordion mode)\n    const renderTabHeaders = () => {\n      if (isAccordion) return null;\n\n      return (\n        <div\n          role=\"tablist\"\n          className={cn(\n            styles.tabList,\n            // Only add dynamic class if using modules correctly, normally dynamic classes like this\n            // don't work with modules comfortably unless explicitly defined. \n            // Safeguarding with styles access, assuming styles[...] might be undefined.\n            tabIdentifier && styles[`tabList-${tabIdentifier}`]\n          )}\n          aria-label={ariaLabel}\n          aria-orientation={orientation}\n        >\n          {validTabs.map((tab, index) => {\n            const isActive = currentActiveIndex === index;\n            const isDisabled = tab.disabled;\n            const tabId = `${internalId}-tab-${index}`;\n            const panelId = `${internalId}-panel-${index}`;\n\n            return (\n              <button\n                key={index}\n                id={tabId}\n                ref={isActive ? ref : undefined}\n                role=\"tab\"\n                type=\"button\"\n                aria-selected={isActive}\n                aria-controls={panelId}\n                aria-disabled={isDisabled || undefined}\n                disabled={isDisabled}\n                tabIndex={isActive ? 0 : -1}\n                className={cn(\n                  styles.tab,\n                  {\n                    [styles.activeTab]: isActive,\n                    [styles.disabledTab]: isDisabled,\n                  }\n                )}\n                onClick={() => handleTabClick(index, isDisabled)}\n                onKeyDown={handleTabKeyDown(index)}\n                data-testid={`${dataTestId || 'dyn-responsive-tabs'}-tab-${index}`}\n              >\n                {tab.icon && (\n                  <span className={styles.tabIcon} aria-hidden=\"true\">\n                    {typeof tab.icon === 'string' ? (\n                      <DynIcon icon={tab.icon} size=\"sm\" />\n                    ) : (\n                      tab.icon\n                    )}\n                  </span>\n                )}\n                {tab.label}\n              </button>\n            );\n          })}\n        </div>\n      );\n    };\n\n    // Render panels\n    const renderPanels = () => {\n      return (\n        <div className={styles.panelContainer}>\n          {validTabs.map((tab, index) => {\n            const isActive = currentActiveIndex === index;\n            const tabId = `${internalId}-${isAccordion ? 'accordion' : 'tab'}-${index}`;\n            const panelId = `${internalId}-panel-${index}`;\n            const isDisabled = tab.disabled;\n\n            return (\n              <div key={index} className={styles.panelWrapper}>\n                {/* Accordion header (mobile view) */}\n                {isAccordion && (\n                  <button\n                    id={tabId}\n                    ref={isActive ? ref : undefined}\n                    type=\"button\"\n                    className={cn(\n                      styles.accordionHeader,\n                      {\n                        [styles.activeAccordion]: isActive,\n                        [styles.disabledAccordion]: isDisabled,\n                      }\n                    )}\n                    aria-expanded={isActive}\n                    aria-controls={panelId}\n                    aria-disabled={isDisabled || undefined}\n                    disabled={isDisabled}\n                    onClick={() => handleTabClick(index, isDisabled)}\n                    data-testid={`${dataTestId || 'dyn-responsive-tabs'}-accordion-${index}`}\n                  >\n                    <span className={styles.accordionLabel}>\n                      {tab.icon && (\n                        <span className={styles.accordionIcon} aria-hidden=\"true\">\n                          {typeof tab.icon === 'string' ? (\n                            <DynIcon icon={tab.icon} size=\"sm\" />\n                          ) : (\n                            tab.icon\n                          )}\n                        </span>\n                      )}\n                      {tab.label}\n                    </span>\n                    <span className={styles.accordionToggle} aria-hidden=\"true\">\n                      {typeof expandIcon === 'string' ? (\n                        <DynIcon icon={isActive ? collapseIcon as string : expandIcon} size=\"sm\" />\n                      ) : isActive ? (\n                        collapseIcon\n                      ) : (\n                        expandIcon\n                      )}\n                    </span>\n                  </button>\n                )}\n\n                {/* Panel content */}\n                <div\n                  id={panelId}\n                  role=\"tabpanel\"\n                  aria-labelledby={tabId}\n                  hidden={!isActive}\n                  className={cn(\n                    styles.panel,\n                    {\n                      [styles.activePanel]: isActive,\n                    }\n                  )}\n                  data-testid={`${dataTestId || 'dyn-responsive-tabs'}-panel-${index}`}\n                >\n                  {/* Render content - supports nested tabs */}\n                  {isActive && tab.content}\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      );\n    };\n\n    return (\n      <div\n        id={internalId}\n        className={containerClass}\n        data-testid={dataTestId || 'dyn-responsive-tabs'}\n        {...rest}\n      >\n        {renderTabHeaders()}\n        {renderPanels()}\n      </div>\n    );\n  }\n);\n\nDynResponsiveTabs.displayName = 'DynResponsiveTabs';\n\nexport default DynResponsiveTabs;\n\n\n--- Usage Examples (DynResponsiveTabs.stories.tsx) ---\nimport type { Meta, StoryObj } from '@storybook/react';\nimport React from 'react';\nimport { DynResponsiveTabs } from './DynResponsiveTabs';\nimport type { DynResponsiveTabItem } from './DynResponsiveTabs.types';\n\nconst meta: Meta<typeof DynResponsiveTabs> = {\n  title: 'Components/DynResponsiveTabs',\n  component: DynResponsiveTabs,\n  tags: ['autodocs'],\n  parameters: {\n    layout: 'padded',\n    docs: {\n      description: {\n        component:\n          'DynResponsiveTabs is a flexible tabs component that automatically transforms into an accordion on smaller screens. It supports nested tabs composition, keyboard navigation, and full accessibility features. The component follows WCAG 2.1 AA guidelines and integrates seamlessly with the DYN UI design token system.\\n\\n## Features\\n\\n- **Responsive Design**: Automatically switches between tabs and accordion based on viewport\\n- **Multiple Orientations**: Horizontal and vertical tab layouts\\n- **Nested Tabs Support**: Compose complex layouts with parent and child tab groups\\n- **Keyboard Navigation**: Arrow keys, Home, and End key support\\n- **Full Accessibility**: WCAG 2.1 AA compliant with proper ARIA attributes\\n- **Design Tokens**: Consistent theming with light and dark mode support\\n- **Icon Support**: String icon names or custom React nodes\\n- **Flexible Content**: Support for any React content including nested components',\n      },\n    },\n  },\n  argTypes: {\n    tabs: {\n      description: 'Array of tab items with label, content, icon, and disabled state',\n      control: 'object',\n    },\n    defaultActive: {\n      control: 'number',\n      description: 'Index of initially active tab',\n      table: {\n        defaultValue: { summary: '0' },\n      },\n    },\n    orientation: {\n      control: 'select',\n      options: ['horizontal', 'vertical'],\n      description: 'Tab orientation layout',\n      table: {\n        defaultValue: { summary: 'horizontal' },\n      },\n    },\n    responsive: {\n      control: 'boolean',\n      description: 'Enable responsive behavior (tabs to accordion)',\n      table: {\n        defaultValue: { summary: 'true' },\n      },\n    },\n    breakpoint: {\n      control: 'number',\n      description: 'Breakpoint in pixels for switching to accordion',\n      table: {\n        defaultValue: { summary: '768' },\n      },\n    },\n    allowCollapse: {\n      control: 'boolean',\n      description: 'Allow collapsing active accordion item',\n      table: {\n        defaultValue: { summary: 'false' },\n      },\n    },\n    tabIdentifier: {\n      control: 'text',\n      description: 'Unique identifier for nested tab groups',\n    },\n    'aria-label': {\n      control: 'text',\n      description: 'Accessible label for tab list',\n    },\n    onChange: {\n      action: 'tab changed',\n      description: 'Callback when active tab changes',\n    },\n  },\n  args: {\n    defaultActive: 0,\n    orientation: 'horizontal',\n    responsive: true,\n    breakpoint: 768,\n    allowCollapse: false,\n  },\n};\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\n// Sample tabs data\nconst sampleTabs: DynResponsiveTabItem[] = [\n  {\n    label: 'Overview',\n    icon: 'home',\n    content: (\n      <div>\n        <h3>Overview Content</h3>\n        <p>This is the overview section with important information about the product.</p>\n        <p>\n          The responsive tabs component automatically adapts to different screen sizes,\n          providing an optimal user experience on both desktop and mobile devices.\n        </p>\n      </div>\n    ),\n  },\n  {\n    label: 'Features',\n    icon: 'star',\n    content: (\n      <div>\n        <h3>Features</h3>\n        <ul>\n          <li>Responsive design that adapts to screen size</li>\n          <li>Accessible by default with ARIA support</li>\n          <li>Design token integration for consistent theming</li>\n          <li>Dark mode ready out of the box</li>\n          <li>Keyboard navigation support</li>\n          <li>Nested tabs composition capability</li>\n        </ul>\n      </div>\n    ),\n  },\n  {\n    label: 'Documentation',\n    icon: 'book',\n    content: (\n      <div>\n        <h3>Documentation</h3>\n        <p>Comprehensive documentation for developers and designers.</p>\n        <p>\n          Find detailed API references, usage examples, and best practices\n          in our documentation portal.\n        </p>\n      </div>\n    ),\n  },\n  {\n    label: 'Settings',\n    icon: 'settings',\n    content: (\n      <div>\n        <h3>Settings</h3>\n        <p>Configure your preferences and customize the component behavior.</p>\n        <p>All settings are persisted and synchronized across sessions.</p>\n      </div>\n    ),\n  },\n];\n\n/**\n * The default tabs configuration with horizontal orientation.\n */\nexport const Default: Story = {\n  args: {\n    tabs: sampleTabs,\n    defaultActive: 0,\n    orientation: 'horizontal',\n    responsive: true,\n  },\n};\n\n/**\n * Vertical orientation for sidebar navigation patterns.\n */\nexport const Vertical: Story = {\n  args: {\n    tabs: sampleTabs,\n    orientation: 'vertical',\n    responsive: true,\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: 'Vertical tabs are ideal for sidebar navigation or when you have many tab items that would overflow horizontally.',\n      },\n    },\n  },\n};\n\n/**\n * Non-responsive tabs that maintain their layout on all screen sizes.\n */\nexport const NonResponsive: Story = {\n  args: {\n    tabs: sampleTabs,\n    responsive: false,\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: 'Disable responsive behavior to keep tabs layout consistent across all viewports.',\n      },\n    },\n  },\n};\n\n/**\n * Accordion mode with collapsible panels (view on mobile or narrow viewport).\n */\nexport const WithCollapse: Story = {\n  args: {\n    tabs: sampleTabs,\n    responsive: true,\n    allowCollapse: true,\n    breakpoint: 768,\n  },\n  parameters: {\n    viewport: {\n      defaultViewport: 'mobile1',\n    },\n    docs: {\n      description: {\n        story: 'In accordion mode, allow users to collapse the active panel by clicking its header again. Switch to mobile viewport or narrow your browser to see this in action.',\n      },\n    },\n  },\n};\n\n/**\n * Accordion mode forced (always visible) with collapse functionality.\n */\nexport const AccordionWithCollapse: Story = {\n  render: () => {\n    const tabs: DynResponsiveTabItem[] = [\n      {\n        label: 'Section 1',\n        icon: 'folder',\n        content: (\n          <div style={{ padding: '1rem' }}>\n            <h4>Section 1 Content</h4>\n            <p>This section can be collapsed by clicking the header again.</p>\n            <p>Try clicking the same section header to close it.</p>\n          </div>\n        ),\n      },\n      {\n        label: 'Section 2',\n        icon: 'document',\n        content: (\n          <div style={{ padding: '1rem' }}>\n            <h4>Section 2 Content</h4>\n            <p>All sections can be closed simultaneously with allowCollapse enabled.</p>\n          </div>\n        ),\n      },\n      {\n        label: 'Section 3',\n        icon: 'settings',\n        content: (\n          <div style={{ padding: '1rem' }}>\n            <h4>Section 3 Content</h4>\n            <p>Click any header to toggle its content visibility.</p>\n          </div>\n        ),\n      },\n    ];\n\n    return (\n      <div>\n        <div\n          style={{\n            padding: '1rem',\n            marginBottom: '1rem',\n            backgroundColor: 'var(--dyn-semantic-surface-muted, #f9fafb)',\n            border: '1px solid var(--dyn-color-border-subtle, #e5e7eb)',\n            borderRadius: '0.25rem',\n          }}\n        >\n          <strong>\ud83d\udcf1 Accordion Mode Active</strong>\n          <p style={{ fontSize: '0.875rem', margin: '0.5rem 0 0 0' }}>\n            This example is forced to accordion mode with collapse enabled.\n            Click any section header to expand/collapse it. Click again to close.\n          </p>\n        </div>\n        <DynResponsiveTabs\n          tabs={tabs}\n          responsive={true}\n          allowCollapse={true}\n          breakpoint={99999} // Force accordion mode\n          defaultActive={0}\n          aria-label=\"Collapsible accordion example\"\n        />\n      </div>\n    );\n  },\n  parameters: {\n    docs: {\n      description: {\n        story:\n          'Accordion mode with `allowCollapse` enabled. Click any section header to toggle its visibility. ' +\n          'When collapsed, all sections can be closed simultaneously. This is forced to accordion mode ' +\n          'using a very high breakpoint value for demonstration purposes.',\n      },\n    },\n  },\n};\n\n/**\n * Tabs with disabled state demonstration.\n */\nexport const WithDisabledTab: Story = {\n  args: {\n    tabs: sampleTabs.map((tab, index) => ({\n      ...tab,\n      disabled: index === 2,\n    })),\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: 'Individual tabs can be disabled to prevent user interaction while maintaining visual context.',\n      },\n    },\n  },\n};\n\n/**\n * Many tabs demonstrating overflow handling.\n */\nexport const ManyTabs: Story = {\n  args: {\n    tabs: Array.from({ length: 8 }, (_, i) => ({\n      label: `Tab ${i + 1}`,\n      content: (\n        <div>\n          <h3>Tab {i + 1} Content</h3>\n          <p>This is the content for tab number {i + 1}.</p>\n        </div>\n      ),\n    })),\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: 'When there are many tabs, the component handles overflow gracefully and adapts to mobile accordion view.',\n      },\n    },\n  },\n};\n\nconst childTabs1: DynResponsiveTabItem[] = [\n  {\n    label: 'Responsive Tab 1',\n    content: (\n      <div>\n        <p>\n          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum nibh urna,\n          euismod ut ornare non, volutpat vel tortor. Integer laoreet placerat suscipit.\n          Sed sodales scelerisque commodo. Nam porta cursus lectus. Proin nunc erat,\n          gravida a facilisis quis, ornare id lectus. Proin consectetur nibh quis urna\n          gravida mollis.\n        </p>\n      </div>\n    ),\n  },\n  {\n    label: 'Responsive Tab 2',\n    content: (\n      <div>\n        <p>\n          Sed sodales scelerisque commodo. Nam porta cursus lectus. Proin nunc erat,\n          gravida a facilisis quis, ornare id lectus. Proin consectetur nibh quis urna\n          gravida mollis.\n        </p>\n      </div>\n    ),\n  },\n  {\n    label: 'Responsive Tab 3',\n    content: (\n      <div>\n        <p>\n          Suspendisse blandit velit Integer laoreet placerat suscipit. Sed sodales\n          scelerisque commodo. Nam porta cursus lectus. Proin nunc erat, gravida a\n          facilisis quis, ornare id lectus.\n        </p>\n      </div>\n    ),\n  },\n  {\n    label: 'Long name Responsive Tab 4',\n    content: (\n      <div>\n        <p>\n          Integer laoreet placerat suscipit. Sed sodales scelerisque commodo. Nam porta\n          cursus lectus. Proin nunc erat, gravida a facilisis quis, ornare id lectus.\n          Proin consectetur nibh quis urna gravida mollis.\n        </p>\n      </div>\n    ),\n  },\n];\n\nconst childTabs2: DynResponsiveTabItem[] = [\n  {\n    label: 'Product Details',\n    icon: 'info',\n    content: (\n      <div>\n        <h4>Product Specifications</h4>\n        <ul>\n          <li>Dimension: 10 x 5 x 3 cm</li>\n          <li>Weight: 250g</li>\n          <li>Material: Premium ABS plastic</li>\n          <li>Color: Midnight Black</li>\n        </ul>\n      </div>\n    ),\n  },\n  {\n    label: 'Pricing',\n    icon: 'currency-dollar',\n    content: (\n      <div>\n        <h4>Pricing Information</h4>\n        <p>Standard: $99.99</p>\n        <p>Premium: $149.99</p>\n        <p>Enterprise: Contact sales</p>\n      </div>\n    ),\n  },\n  {\n    label: 'Reviews',\n    icon: 'star',\n    content: (\n      <div>\n        <h4>Customer Reviews</h4>\n        <p>\u2b50\u2b50\u2b50\u2b50\u2b50 5.0 out of 5 stars (128 reviews)</p>\n        <p>\"Excellent product, highly recommended!\"</p>\n      </div>\n    ),\n  },\n];\n\n// Helper to create parent tabs dynamically if needed, or static\nconst getParentTabs = (orientation: 'horizontal' | 'vertical') => [\n  {\n    label: 'Horizontal 1',\n    content: (\n      <>\n        <DynResponsiveTabs\n          tabs={childTabs1}\n          orientation=\"vertical\"\n          tabIdentifier=\"child-vertical-1\"\n          defaultActive={0}\n          aria-label=\"Child vertical tabs group 1\"\n        />\n        <div\n          style={{\n            marginTop: '1rem',\n            padding: '1rem',\n            border: '1px dashed var(--dyn-color-border-subtle, #e5e7eb)',\n            borderRadius: '0.25rem',\n            backgroundColor: 'var(--dyn-semantic-surface-muted, #f9fafb)',\n          }}\n        >\n          <strong>Child 1 Container</strong>\n          <p style={{ marginTop: '0.5rem', fontSize: '0.875rem' }}>\n            This demonstrates how content can appear outside nested tabs\n          </p>\n        </div>\n      </>\n    ),\n  },\n  {\n    label: 'Horizontal 2',\n    content: (\n      <>\n        <DynResponsiveTabs\n          tabs={childTabs2}\n          orientation=\"vertical\"\n          tabIdentifier=\"child-vertical-2\"\n          defaultActive={0}\n          aria-label=\"Child vertical tabs group 2\"\n        />\n        <div\n          style={{\n            marginTop: '1rem',\n            padding: '1rem',\n            border: '1px dashed var(--dyn-color-border-subtle, #e5e7eb)',\n            borderRadius: '0.25rem',\n            backgroundColor: 'var(--dyn-semantic-surface-muted, #f9fafb)',\n          }}\n        >\n          <strong>Child 2 Container</strong>\n          <p style={{ marginTop: '0.5rem', fontSize: '0.875rem' }}>\n            Different child tabs with icons and structured content\n          </p>\n        </div>\n      </>\n    ),\n  },\n  {\n    label: 'Horizontal 3',\n    content: (\n      <div style={{ padding: '1rem' }}>\n        <h3>Regular Content</h3>\n        <p>This tab contains only regular content without nested tabs.</p>\n        <p>\n          You can mix nested tabs with regular content tabs in the same parent\n          tab group for maximum flexibility.\n        </p>\n        <div\n          style={{\n            marginTop: '1rem',\n            padding: '1rem',\n            border: '1px dashed var(--dyn-color-border-subtle, #e5e7eb)',\n            borderRadius: '0.25rem',\n            backgroundColor: 'var(--dyn-semantic-surface-muted, #f9fafb)',\n          }}\n        >\n          <strong>Regular Container</strong>\n          <p style={{ marginTop: '0.5rem', fontSize: '0.875rem' }}>\n            No nested tabs here, just standard content\n          </p>\n        </div>\n      </div>\n    ),\n  },\n];\n\n/**\n * Nested tabs example: horizontal parent with vertical children.\n */\n// Define stable parent tabs outside to prevent re-creation\nconst nestedParentTabs: DynResponsiveTabItem[] = [\n  {\n    label: 'Horizontal 1',\n    content: (\n      <DynResponsiveTabs\n        tabs={childTabs1}\n        orientation=\"vertical\"\n        tabIdentifier=\"child-vertical-1\"\n        defaultActive={0}\n      />\n    ),\n  },\n  {\n    label: 'Horizontal 2',\n    content: (\n      <DynResponsiveTabs\n        tabs={childTabs2}\n        orientation=\"vertical\"\n        tabIdentifier=\"child-vertical-2\"\n        defaultActive={0}\n      />\n    ),\n  },\n];\n\n/**\n * Nested tabs example: horizontal parent with vertical children.\n */\nexport const NestedTabs: Story = {\n  render: (args) => {\n    return (\n      <div>\n        <h2>Demo</h2>\n        <p style={{ marginBottom: '1rem', color: 'var(--dyn-color-text-secondary, #6b7280)' }}>\n          Selected tab: Parent 1\n        </p>\n        <DynResponsiveTabs\n          {...args}\n          tabs={nestedParentTabs}\n          tabIdentifier=\"parent-horizontal\"\n        />\n      </div>\n    );\n  },\n  args: {\n    orientation: 'horizontal',\n    defaultActive: 0,\n  },\n  argTypes: {\n    tabs: { control: false }, // Hide tabs control for this complex story to prevent Storybook freeze\n  },\n  parameters: {\n    docs: {\n      description: {\n        story:\n          'Complex nested tabs layout: horizontal parent tabs containing vertical child tabs. ' +\n          'This pattern is perfect for complex interfaces like product catalogs, settings panels, ' +\n          'or documentation sites. Each child tab group has its own unique `tabIdentifier` for ' +\n          'proper styling and state management. The component automatically adapts to accordion ' +\n          'mode on mobile devices.',\n      },\n    },\n  },\n};\n\n/**\n * Dark theme demonstration showing theming capabilities.\n */\nexport const DarkTheme: Story = {\n  render: () => (\n    <div\n      data-theme=\"dark\"\n      style={{\n        padding: '2rem',\n        background: '#1a1a1a',\n        borderRadius: '0.5rem',\n        minHeight: '400px',\n      }}\n    >\n      <h2 style={{ color: 'white', marginBottom: '1rem' }}>Dark Theme Tabs</h2>\n      <DynResponsiveTabs\n        tabs={sampleTabs}\n        orientation=\"horizontal\"\n        defaultActive={0}\n        aria-label=\"Dark theme navigation\"\n      />\n    </div>\n  ),\n  parameters: {\n    backgrounds: { default: 'dark' },\n    docs: {\n      description: {\n        story:\n          'Dark theme support is built-in through design tokens. All colors and contrast ratios ' +\n          'are automatically adjusted for optimal visibility and accessibility in dark environments.',\n      },\n    },\n  },\n};\n\n/**\n * Custom icons and styling demonstration.\n */\nexport const CustomIcons: Story = {\n  args: {\n    tabs: [\n      {\n        label: 'Dashboard',\n        icon: <span>\ud83d\udcca</span>,\n        content: <div><h3>Dashboard</h3><p>Analytics and metrics overview</p></div>,\n      },\n      {\n        label: 'Messages',\n        icon: <span>\ud83d\udcac</span>,\n        content: <div><h3>Messages</h3><p>Your inbox and conversations</p></div>,\n      },\n      {\n        label: 'Notifications',\n        icon: <span>\ud83d\udd14</span>,\n        content: <div><h3>Notifications</h3><p>Recent activity and alerts</p></div>,\n      },\n      {\n        label: 'Profile',\n        icon: <span>\ud83d\udc64</span>,\n        content: <div><h3>Profile</h3><p>Your account settings and preferences</p></div>,\n      },\n    ],\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: 'Use emoji or custom React components as icons for a unique visual style.',\n      },\n    },\n  },\n};\n\n/**\n * Responsive behavior demonstration for mobile devices.\n */\nexport const ResponsiveBehavior: Story = {\n  render: () => (\n    <div>\n      <div\n        style={{\n          padding: '1rem',\n          marginBottom: '1rem',\n          backgroundColor: 'var(--dyn-semantic-surface-muted, #f9fafb)',\n          borderRadius: '0.25rem',\n        }}\n      >\n        <p style={{ fontSize: '0.875rem', margin: 0 }}>\n          <strong>Tip:</strong> Resize your browser window or use device preview to see the\n          responsive transformation from tabs to accordion.\n        </p>\n      </div>\n      <DynResponsiveTabs\n        tabs={sampleTabs}\n        orientation=\"horizontal\"\n        responsive={true}\n        breakpoint={768}\n        allowCollapse={true}\n        aria-label=\"Responsive navigation example\"\n      />\n    </div>\n  ),\n  parameters: {\n    viewport: {\n      defaultViewport: 'mobile1',\n    },\n    docs: {\n      description: {\n        story:\n          'The component automatically switches to accordion mode on smaller screens. ' +\n          'Test by resizing your browser or using Storybook viewport controls. ' +\n          'The breakpoint can be customized via the `breakpoint` prop.',\n      },\n    },\n  },\n};\n\n/**\n * Accessibility features and keyboard navigation.\n */\nexport const Accessibility: Story = {\n  render: () => (\n    <div style={{ maxWidth: '800px' }}>\n      <div\n        style={{\n          padding: '1rem',\n          marginBottom: '1rem',\n          backgroundColor: 'var(--dyn-semantic-surface-muted, #f9fafb)',\n          border: '1px solid var(--dyn-color-border-subtle, #e5e7eb)',\n          borderRadius: '0.25rem',\n        }}\n      >\n        <h3 style={{ marginTop: 0 }}>Keyboard Navigation</h3>\n        <ul style={{ marginBottom: 0, fontSize: '0.875rem' }}>\n          <li><kbd>Tab</kbd> - Move focus between interactive elements</li>\n          <li><kbd>\u2192</kbd> / <kbd>\u2190</kbd> - Navigate between tabs (horizontal)</li>\n          <li><kbd>\u2193</kbd> / <kbd>\u2191</kbd> - Navigate between tabs (vertical or accordion)</li>\n          <li><kbd>Home</kbd> - Jump to first tab</li>\n          <li><kbd>End</kbd> - Jump to last tab</li>\n          <li><kbd>Enter</kbd> / <kbd>Space</kbd> - Activate focused tab</li>\n        </ul>\n      </div>\n\n      <DynResponsiveTabs\n        tabs={sampleTabs}\n        orientation=\"horizontal\"\n        aria-label=\"Accessible navigation example\"\n      />\n\n      <div\n        style={{\n          marginTop: '1rem',\n          padding: '1rem',\n          backgroundColor: 'var(--dyn-semantic-surface-muted, #f9fafb)',\n          border: '1px solid var(--dyn-color-border-subtle, #e5e7eb)',\n          borderRadius: '0.25rem',\n          fontSize: '0.875rem',\n        }}\n      >\n        <strong>Accessibility Features:</strong>\n        <ul style={{ marginBottom: 0, marginTop: '0.5rem' }}>\n          <li>WCAG 2.1 AA compliant color contrast</li>\n          <li>Proper ARIA roles and attributes (<code>tablist</code>, <code>tab</code>, <code>tabpanel</code>)</li>\n          <li>Screen reader friendly with descriptive labels</li>\n          <li>Keyboard navigation support</li>\n          <li>Focus management and visual indicators</li>\n          <li>Disabled state clearly communicated</li>\n        </ul>\n      </div>\n    </div>\n  ),\n  parameters: {\n    docs: {\n      description: {\n        story:\n          'Full keyboard navigation and accessibility support following WAI-ARIA Authoring Practices. ' +\n          'The component is fully navigable via keyboard and provides proper screen reader announcements.',\n      },\n    },\n  },\n};\n\n\n--- Styles (DynResponsiveTabs.module.css) ---\n/**\n * DynResponsiveTabs Component Styles\n * 100% Design Token Compliance\n * Unified Token Strategy: 3-Level Fallback Pattern\n */\n\n/* ============================================\n   COMPONENT TOKENS\n   ============================================ */\n\n.container {\n  /* Color tokens - Connected Box Design */\n  --dyn-tabs-bg: var(--dyn-tabs-color-background, var(--dyn-semantic-surface-muted, #f8fafc));\n  --dyn-tabs-bg-active: var(--dyn-tabs-color-background-active, var(--dyn-semantic-surface, #ffffff));\n  --dyn-tabs-bg-hover: var(--dyn-tabs-color-background-hover, var(--dyn-semantic-surface-hover, #f1f5f9));\n  --dyn-tabs-border: var(--dyn-tabs-color-border, var(--dyn-semantic-border, #e2e8f0));\n  --dyn-tabs-border-active: var(--dyn-tabs-color-border-active, var(--dyn-theme-primary, #3b82f6));\n  --dyn-tabs-text: var(--dyn-tabs-color-text, var(--dyn-semantic-text-secondary, #64748b));\n  --dyn-tabs-text-active: var(--dyn-tabs-color-text-active, var(--dyn-semantic-text, #0f172a));\n\n  /* Sizing & Layout */\n  --dyn-tabs-radius: var(--dyn-tabs-size-borderRadius, var(--dyn-border-radius-md, 0.5rem));\n  --dyn-tabs-padding: var(--dyn-tabs-spacing-padding, var(--dyn-spacing-sm, 0.75rem) var(--dyn-spacing-lg, 1.5rem));\n  --dyn-tabs-min-height: var(--dyn-tabs-size-minHeight, 200px);\n  --dyn-tabs-transition: var(--dyn-tabs-animation-duration, var(--dyn-transition-normal, 0.2s)) var(--dyn-tabs-animation-easing, var(--dyn-easing-ease-in-out, ease-in-out));\n  \n  /* Accordion specific */\n  --dyn-tabs-accordion-header: var(--dyn-tabs-color-accordion-header, var(--dyn-semantic-surface-muted, #f8fafc));\n  --dyn-tabs-accordion-header-active: var(--dyn-tabs-color-accordion-header-active, var(--dyn-semantic-surface, #ffffff));\n  --dyn-tabs-accordion-toggle-size: var(--dyn-tabs-size-accordion-toggle, 1.5rem);\n\n  /* Accessibility */\n  --dyn-tabs-focus-ring: var(--dyn-tabs-color-focus, var(--dyn-semantic-border-focus, #3b82f6));\n\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n}\n\n/* ============================================\n   TAB LIST\n   ============================================ */\n\n.tabList {\n  display: flex;\n  gap: var(--dyn-spacing-2xs, 0.25rem);\n  border-bottom: var(--dyn-border-width-sm, 1px) solid var(--dyn-tabs-border);\n  padding: 0;\n  margin: 0;\n  list-style: none;\n  flex-wrap: wrap;\n  position: relative;\n  z-index: var(--dyn-z-index-base, 1);\n}\n\n/* ============================================\n   INDIVIDUAL TAB\n   ============================================ */\n\n.tab {\n  background: var(--dyn-tabs-bg);\n  border: var(--dyn-border-width-sm, 1px) solid var(--dyn-tabs-border);\n  border-bottom: none;\n  border-radius: var(--dyn-tabs-radius) var(--dyn-tabs-radius) 0 0;\n  padding: var(--dyn-tabs-padding);\n  font-size: var(--dyn-font-size-sm, 0.875rem);\n  font-weight: var(--dyn-font-weight-medium, 500);\n  color: var(--dyn-tabs-text);\n  cursor: pointer;\n  transition: var(--dyn-tabs-transition);\n  position: relative;\n  margin-bottom: -1px; /* Overlap with tabList line */\n  text-align: center;\n  white-space: nowrap;\n  display: flex;\n  align-items: center;\n  font-family: inherit;\n}\n\n.tab:hover:not(.disabledTab):not(.activeTab) {\n  background: var(--dyn-tabs-bg-hover);\n  color: var(--dyn-semantic-text);\n}\n\n.activeTab {\n  background: var(--dyn-tabs-bg-active);\n  color: var(--dyn-tabs-text-active);\n  font-weight: var(--dyn-font-weight-semibold, 600);\n  border-bottom-color: var(--dyn-tabs-bg-active);\n  z-index: calc(var(--dyn-z-index-base, 1) + 1);\n}\n\n/* Accent top line for active tab */\n.activeTab::after {\n  content: '';\n  position: absolute;\n  top: -1px;\n  left: -1px;\n  right: -1px;\n  height: 3px;\n  background: var(--dyn-tabs-border-active);\n  border-radius: var(--dyn-tabs-radius) var(--dyn-tabs-radius) 0 0;\n}\n\n.disabledTab {\n  opacity: var(--dyn-opacity-disabled, 0.5);\n  cursor: not-allowed;\n  background: var(--dyn-semantic-surface-muted, #f1f5f9);\n}\n\n.tab:focus-visible {\n  outline: var(--dyn-border-width-md, 2px) solid var(--dyn-tabs-focus-ring);\n  outline-offset: -2px;\n}\n\n/* ============================================\n   TAB ICON\n   ============================================ */\n\n.tabIcon {\n  margin-right: var(--dyn-spacing-sm, 0.5rem);\n  display: inline-flex;\n  align-items: center;\n}\n\n/* ============================================\n   PANEL WRAPPER\n   ============================================ */\n\n.panelWrapper {\n  position: relative;\n}\n\n.panelContainer {\n  flex: 1;\n}\n\n/* ============================================\n   CONTENT PANEL\n   ============================================ */\n\n.panel {\n  background: var(--dyn-tabs-bg-active);\n  border: var(--dyn-border-width-sm, 1px) solid var(--dyn-tabs-border);\n  border-top: none;\n  border-radius: 0 0 var(--dyn-tabs-radius) var(--dyn-tabs-radius);\n  padding: var(--dyn-spacing-lg, 1.5rem);\n  min-height: var(--dyn-tabs-min-height);\n  animation: dynResponsiveTabsFadeIn var(--dyn-transition-normal, 0.2s) ease;\n  position: relative;\n  z-index: var(--dyn-z-index-base, 1);\n  box-shadow: var(--dyn-elevation-low, 0 1px 3px rgba(0,0,0,0.1));\n  color: var(--dyn-semantic-text, #0f172a);\n}\n\n.panel[hidden] {\n  display: none;\n}\n\n.activePanel {\n  display: block;\n}\n\n@keyframes dynResponsiveTabsFadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n/* ============================================\n   VERTICAL LAYOUT\n   ============================================ */\n\n.orientationVertical {\n  display: flex;\n  flex-direction: row;\n  gap: 0;\n  width: 100%;\n}\n\n.orientationVertical .tabList {\n  flex-direction: column;\n  border-bottom: none;\n  border-right: var(--dyn-border-width-sm, 1px) solid var(--dyn-tabs-border);\n  min-width: 200px;\n  gap: var(--dyn-spacing-xs, 0.25rem);\n}\n\n.orientationVertical .tab {\n  border: var(--dyn-border-width-sm, 1px) solid transparent;\n  border-right: none;\n  border-radius: var(--dyn-tabs-radius) 0 0 var(--dyn-tabs-radius);\n  margin-right: -1px;\n  margin-bottom: var(--dyn-spacing-2xs, 0.125rem);\n  text-align: left;\n  justify-content: flex-start;\n}\n\n.orientationVertical .activeTab {\n  background: var(--dyn-tabs-bg-active);\n  border-color: var(--dyn-tabs-border);\n  border-right-color: var(--dyn-tabs-bg-active);\n  color: var(--dyn-tabs-text-active);\n  font-weight: var(--dyn-font-weight-semibold, 600);\n}\n\n/* Accent left line for vertical active tab */\n.orientationVertical .activeTab::before {\n  content: '';\n  position: absolute;\n  top: -1px;\n  bottom: -1px;\n  left: -1px;\n  width: 3px;\n  background: var(--dyn-tabs-border-active);\n  border-radius: var(--dyn-tabs-radius) 0 0 var(--dyn-tabs-radius);\n}\n\n/* Hide horizontal top indicator in vertical mode */\n.orientationVertical .activeTab::after {\n  display: none;\n}\n\n.orientationVertical .panel {\n  border: var(--dyn-border-width-sm, 1px) solid var(--dyn-tabs-border);\n  border-left: none;\n  border-radius: 0 var(--dyn-tabs-radius) var(--dyn-tabs-radius) var(--dyn-tabs-radius);\n  flex: 1;\n}\n\n/* ============================================\n   ACCORDION MODE\n   ============================================ */\n\n.accordion {\n  width: 100%;\n}\n\n.accordion .panelWrapper {\n  margin-bottom: var(--dyn-spacing-sm, 0.5rem);\n}\n\n.accordionHeader {\n  background: var(--dyn-tabs-accordion-header);\n  border: var(--dyn-border-width-sm, 1px) solid var(--dyn-tabs-border);\n  border-radius: var(--dyn-border-radius-md, 0.5rem);\n  padding: var(--dyn-spacing-md, 1rem) var(--dyn-spacing-lg, 1.5rem);\n  cursor: pointer;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: var(--dyn-spacing-md, 1rem);\n  font-size: var(--dyn-font-size-md, 1rem);\n  font-weight: var(--dyn-font-weight-medium, 500);\n  color: var(--dyn-tabs-text);\n  transition: var(--dyn-tabs-transition);\n  user-select: none;\n  width: 100%;\n  font-family: inherit;\n}\n\n.accordionHeader:hover:not(.disabledAccordion) {\n  background: var(--dyn-tabs-bg-hover);\n  border-color: var(--dyn-tabs-border-active);\n}\n\n.accordionHeader:focus-visible {\n  outline: var(--dyn-border-width-md, 2px) solid var(--dyn-tabs-focus-ring);\n  outline-offset: 2px;\n}\n\n.activeAccordion {\n  background: var(--dyn-tabs-accordion-header-active);\n  border-color: var(--dyn-tabs-border-active);\n  color: var(--dyn-tabs-text-active);\n  font-weight: var(--dyn-font-weight-semibold, 600);\n  border-radius: var(--dyn-border-radius-md, 0.5rem) var(--dyn-border-radius-md, 0.5rem) 0 0;\n}\n\n.disabledAccordion {\n  opacity: var(--dyn-opacity-disabled, 0.5);\n  cursor: not-allowed;\n  background: var(--dyn-semantic-surface-muted, #f1f5f9);\n}\n\n.accordionLabel {\n  display: flex;\n  align-items: center;\n  gap: var(--dyn-spacing-sm, 0.5rem);\n  flex: 1;\n}\n\n.accordionIcon {\n  flex-shrink: 0;\n  display: inline-flex;\n  align-items: center;\n}\n\n.accordionToggle {\n  flex-shrink: 0;\n  width: var(--dyn-tabs-accordion-toggle-size);\n  height: var(--dyn-tabs-accordion-toggle-size);\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  transition: transform var(--dyn-transition-normal, 0.2s) ease;\n}\n\n.activeAccordion .accordionToggle {\n  transform: rotate(180deg);\n}\n\n.accordion .panel {\n  border: var(--dyn-border-width-sm, 1px) solid var(--dyn-tabs-border);\n  border-top: none;\n  border-radius: 0 0 var(--dyn-tabs-radius) var(--dyn-tabs-radius);\n  animation: dynResponsiveTabsFadeIn var(--dyn-transition-normal, 0.2s) ease;\n  min-height: auto;\n}\n\n/* ============================================\n   NESTED TABS\n   ============================================ */\n\n.nested .tab {\n  padding: var(--dyn-spacing-xs, 0.5rem) var(--dyn-spacing-md, 1rem);\n  font-size: var(--dyn-font-size-sm, 0.875rem);\n}\n\n.nested.orientationVertical .tab {\n  border: var(--dyn-border-width-sm, 1px) solid var(--dyn-tabs-border);\n  border-right: none;\n}\n\n.nested.orientationVertical .activeTab {\n  border-right-color: var(--dyn-tabs-bg-active);\n}\n\n/* ============================================\n   RESPONSIVE\n   ============================================ */\n\n@media (max-width: 768px) {\n  .tab {\n    padding: var(--dyn-spacing-sm, 0.5rem) var(--dyn-spacing-md, 1rem);\n    font-size: var(--dyn-font-size-xs, 0.75rem);\n  }\n\n  .panel {\n    padding: var(--dyn-spacing-md, 1rem);\n  }\n\n  .orientationVertical .tabList {\n    min-width: 150px;\n  }\n}\n\n@media (max-width: 480px) {\n  .tab {\n    padding: var(--dyn-spacing-xs, 0.25rem) var(--dyn-spacing-sm, 0.5rem);\n  }\n\n  .panel {\n    padding: var(--dyn-spacing-sm, 0.5rem);\n    min-height: auto;\n  }\n\n  .accordionHeader {\n    padding: var(--dyn-spacing-sm, 0.5rem) var(--dyn-spacing-md, 1rem);\n  }\n\n  .orientationVertical {\n    flex-direction: column;\n  }\n\n  .orientationVertical .tabList {\n    border-right: none;\n    border-bottom: var(--dyn-border-width-sm, 1px) solid var(--dyn-tabs-border);\n    min-width: auto;\n    margin-right: 0;\n    margin-bottom: -1px;\n  }\n\n  .orientationVertical .tab {\n    border-radius: var(--dyn-tabs-radius) var(--dyn-tabs-radius) 0 0;\n    border: var(--dyn-border-width-sm, 1px) solid var(--dyn-tabs-border);\n    border-bottom: none;\n    margin-right: 0;\n  }\n\n  .orientationVertical .activeTab {\n    border-bottom-color: var(--dyn-tabs-bg-active);\n  }\n\n  .orientationVertical .panel {\n    border-radius: 0 0 var(--dyn-tabs-radius) var(--dyn-tabs-radius);\n    border-left: var(--dyn-border-width-sm, 1px) solid var(--dyn-tabs-border);\n  }\n}\n\n/* ============================================\n   REDUCED MOTION\n   ============================================ */\n\n@media (prefers-reduced-motion: reduce) {\n  .tab,\n  .accordionHeader,\n  .accordionToggle {\n    transition: none !important;\n  }\n\n  .panel,\n  .accordion .panel {\n    animation: none !important;\n  }\n}\n\n/* Prop-driven animation disable */\n.noAnimation .tab,\n.noAnimation .accordionHeader,\n.noAnimation .accordionToggle {\n  transition: none !important;\n}\n\n.noAnimation .panel,\n.noAnimation.accordion .panel {\n  animation: none !important;\n}\n\n/* ============================================\n   DARK MODE\n   Note: Handled automatically via semantic tokens!\n   ============================================ */\n", "metadata": {"type": "ui_component", "name": "DynResponsiveTabs", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynResponsiveTabs"}, "embedding": [-0.0016008681850507855, -0.016836494207382202, -0.004921817686408758, 0.044975899159908295, 0.016051217913627625, 0.036486588418483734, 0.01896878331899643, 0.01232803612947464, -0.017801549285650253, 0.038107987493276596, -0.05923420190811157, 0.036780595779418945, -0.05035318434238434, 0.04817754030227661, 0.012371613644063473, 0.02961522899568081, -0.008400455117225647, -0.06012602895498276, -0.014168092049658298, 0.01794220134615898, 0.04225999861955643, -0.038308035582304, 0.06021496653556824, -0.05511247739195824, 0.018725762143731117, 0.11416492611169815, -0.05161619186401367, -0.05049891024827957, 0.002602190477773547, -0.005603892728686333, -0.06880944967269897, 0.00215591280721128, -0.10742107778787613, -0.009090096689760685, -0.024122964590787888, 0.017328886315226555, -0.08757982403039932, 0.0005021007382310927, 0.013062864542007446, -0.003053459106013179, 0.04615706577897072, 0.007894639857113361, -0.0685540959239006, -0.11414849013090134, 0.02012667804956436, -0.028531497344374657, -0.00821049977093935, -0.05487734079360962, -0.053012996912002563, -0.02188219130039215, -0.05079264938831329, 0.06368973851203918, -0.012260407209396362, 0.010831337422132492, 0.09001917392015457, 0.06320349127054214, 0.05842246487736702, -0.034510400146245956, 0.023574724793434143, -0.00979031901806593, 0.010514472611248493, -0.03127870336174965, 0.07174314558506012, -0.08970378339290619, 0.0028060770127922297, 0.10597405582666397, -0.006082759704440832, 0.01744004338979721, 0.0546119287610054, -0.005046665668487549, 0.01861112006008625, -0.013081003911793232, 0.039634767919778824, 0.0025901368353515863, 0.0569320023059845, -0.16788914799690247, 0.03309474140405655, 0.06181434541940689, -0.006354129873216152, -0.07307068258523941, 0.035889819264411926, -0.020636172965168953, 0.008901518769562244, 0.0616140253841877, -0.0177156962454319, 0.14068764448165894, -0.0038112527690827847, 0.0014893196057528257, -0.009146900847554207, -0.035486169159412384, -0.0025600672233849764, -0.07292811572551727, 0.0036613147240132093, 0.027927113696932793, -0.05389241874217987, -0.03699324280023575, -0.05373244732618332, 0.06686481833457947, -0.10490768402814865, 0.01897452212870121, 0.09258946776390076, -0.023308051750063896, 0.021162189543247223, 0.08751529455184937, -0.0606313981115818, -0.05324925482273102, 0.046331748366355896, -0.09076645970344543, -0.06830295920372009, 0.030551614239811897, 0.004014322999864817, 0.06661167740821838, -0.027645809575915337, 0.02106969803571701, -0.10257211327552795, -0.06279551982879639, -0.007449472323060036, -0.04700330272316933, 0.1397017538547516, -0.006854775827378035, 0.10227523744106293, -0.062304574996232986, 0.05238192155957222, 0.00878073275089264, 0.01283423975110054, 0.019544430077075958, -0.04731779918074608, 6.39919435057277e-33, -0.01414931658655405, -0.002672815229743719, 0.014841055497527122, -0.009767582640051842, 0.07609231770038605, -0.025896159932017326, -0.01826777122914791, -0.05356914550065994, 0.03460107743740082, -0.005280692130327225, -0.004154532216489315, 0.01689802296459675, -0.06330620497465134, -0.016424311324954033, -0.04503634572029114, -0.07513503730297089, 0.04856264591217041, -0.0004384476924315095, 0.0005731683340854943, -0.015217147767543793, -0.04540698602795601, 0.022971106693148613, -0.06506743282079697, 0.014639965258538723, 0.053870122879743576, -0.06258386373519897, -0.054571568965911865, 0.08590970933437347, -0.06910046935081482, 0.0026863827370107174, 0.03716162592172623, -0.0641631931066513, 0.015632236376404762, 0.028967805206775665, -0.04523562267422676, -0.04646292328834534, -0.16446839272975922, 0.020937668159604073, -0.03950893506407738, 0.030110277235507965, -0.011826539412140846, 0.009131970815360546, -0.027858855202794075, 0.06565552204847336, -0.03151100128889084, -0.016085878014564514, 0.07022549211978912, 0.01637120544910431, 0.004831588827073574, -0.006252081599086523, 0.05101371183991432, 0.01550737302750349, 0.054855141788721085, -0.13789771497249603, -0.04074143245816231, 0.014691907912492752, -0.045677557587623596, -0.019575007259845734, 0.0069158622063696384, 0.09843645244836807, -0.06276867538690567, -0.08774840086698532, 0.01757674850523472, -0.07016678899526596, -0.02912568300962448, 0.08680505305528641, -0.03909094259142876, -0.004314008168876171, 0.012882470153272152, -0.11381322890520096, -0.023661555722355843, -0.025804005563259125, 0.06638877838850021, -0.038706690073013306, 0.02049851417541504, -0.01454624067991972, -0.012528582476079464, -0.01838456280529499, -0.014307661913335323, -0.06589607149362564, 0.05147235840559006, -0.05036056786775589, -0.0006749445456080139, 0.0477442592382431, 0.02990836836397648, 0.0005683509516529739, 0.02673099748790264, -0.08055374771356583, -0.015328513458371162, 0.08678283542394638, -0.01748749427497387, 0.0019768807105720043, 0.018164098262786865, -0.07875483483076096, -0.010844110511243343, -7.359056752364187e-33, 0.0479402020573616, -0.02619309164583683, -0.08136569708585739, -0.02224355936050415, -0.04896847531199455, 0.056646931916475296, 0.01326298713684082, 0.06966760009527206, 0.040626294910907745, -0.001389044220559299, 0.04308981075882912, 0.020176881924271584, -0.0032549866009503603, -0.05715573951601982, -0.08241801708936691, 0.11115569621324539, -0.05922693759202957, 0.031939778476953506, 0.04937979578971863, 0.025943733751773834, 0.08951817452907562, 0.007123579736799002, 0.013129089958965778, 0.08042164146900177, -0.025775348767638206, 0.04832961782813072, 0.07329210638999939, 0.03710630536079407, 0.11350191384553909, -0.08062774688005447, 0.0286899171769619, -0.011738678440451622, 0.005390661768615246, 0.005697689484804869, 0.021337712183594704, -0.024195000529289246, -0.07523872703313828, -0.00833461806178093, -0.08744528889656067, 0.026587482541799545, 0.008258874528110027, 0.028572969138622284, 0.016634071245789528, 0.08028747886419296, -0.04813367873430252, -0.0021152454428374767, 0.008855399675667286, 0.0029850315768271685, -0.09886083006858826, 0.062053196132183075, 0.01690242812037468, -0.10059109330177307, 0.015087295323610306, 0.03324393928050995, 0.013464001938700676, 0.04557356238365173, 0.03502046689391136, 0.03362579271197319, -0.05396490916609764, -0.006803564727306366, 0.0005812179297208786, -0.08709196746349335, 0.014448867179453373, 0.04372518137097359, 0.04775843024253845, -0.011958407238125801, -0.08122613281011581, -0.027209388092160225, 0.02596578560769558, 0.08529595285654068, 0.062366630882024765, 0.09660647809505463, -0.009104020893573761, -0.07435864955186844, 0.06336332112550735, -0.010081879794597626, 0.01522468589246273, -0.02374708652496338, -0.009830017574131489, -0.03466472774744034, -0.04615579918026924, 0.032994721084833145, -0.04333306476473808, -0.027321763336658478, -0.058984190225601196, 0.014641235582530499, -0.003970116376876831, 0.11026905477046967, 0.04318605735898018, 0.029987232759594917, 0.050858303904533386, -0.04469769448041916, -0.09149511158466339, 0.04694167897105217, -0.041804030537605286, -5.119504109529771e-08, -0.05205506458878517, -0.05837678536772728, -0.06842684745788574, -0.0010887711541727185, 0.037765562534332275, -0.06528900563716888, 0.05257496237754822, -0.07467273622751236, -0.054294366389513016, -0.037596914917230606, -0.003403420327231288, 0.08931747823953629, 0.013288521207869053, -0.10480738431215286, 0.011273877695202827, 0.04519032686948776, -0.002692400012165308, 0.029443001374602318, -0.040834348648786545, 0.054805584251880646, 0.04277082905173302, 0.032232124358415604, -0.03651595860719681, 0.057996008545160294, 0.07964052259922028, 0.013769182376563549, -0.006950925104320049, -0.03230863809585571, -0.010096310637891293, -0.011471730656921864, -0.013262351974844933, -0.07362017780542374, -0.011467412114143372, -0.06301659345626831, -0.002927282825112343, -0.04133915901184082, 0.04786136746406555, -0.07958168536424637, 0.017281807959079742, -0.026994548738002777, 0.05261531099677086, -0.021737003698945045, -0.003791667288169265, 0.06399764865636826, -0.007729332894086838, 0.015867194160819054, -0.11666769534349442, 0.06735859811306, 0.03580760955810547, -0.0007321806042455137, -0.03681808337569237, 0.010152836330235004, -0.030803760513663292, 0.03164104372262955, -0.10987025499343872, 0.01933261938393116, 0.010220360942184925, 0.05674376338720322, 0.04205315187573433, 0.051576193422079086, 0.11851045489311218, 0.05235247686505318, 0.031453583389520645, -0.025269480422139168]}, {"id": "dyn_ui_component_DynSelect", "text": "# Component: DynSelect\n\n--- Types (DynSelect.types.ts) ---\nimport type { ReactNode } from 'react';\nimport type { BaseComponentProps, AccessibilityProps } from '../../types';\nimport type { DynValidationRule } from '../../hooks/useDynFieldValidation';\n\nexport interface DynSelectOption<T = string | number> {\n  value: T;\n  label: string;\n  disabled?: boolean;\n  icon?: ReactNode;\n  group?: string;\n  description?: string;\n}\n\nexport type DynSelectSize = 'sm' | 'md' | 'lg';\n\nexport interface DynSelectProps<T = string | number> extends BaseComponentProps, AccessibilityProps {\n  /** Input name */\n  name?: string;\n\n  /** Current value */\n  value?: T | T[];\n\n  /** Default value for uncontrolled usage */\n  defaultValue?: T | T[];\n\n  /** Callback on value change */\n  onChange?: (value: T | T[]) => void;\n\n  /** Options to display */\n  options?: DynSelectOption<T>[];\n\n  /** Groups for categorized options */\n  groups?: string[];\n\n  /** Placeholder text */\n  placeholder?: string;\n\n  /** Label for the select field */\n  label?: string;\n\n  /** Alias for helpText for backward compatibility */\n  help?: string;\n\n  /** Alias for errorText for backward compatibility */\n  errorMessage?: string;\n\n  /** Optional/Helper text */\n  helpText?: string;\n\n  /** Validation error message */\n  errorText?: string;\n\n  /** Whether the field is required */\n  required?: boolean;\n\n  /** Whether the field is disabled */\n  disabled?: boolean;\n\n  /** Whether the field is readonly */\n  readOnly?: boolean;\n\n  /** Size variant */\n  size?: DynSelectSize;\n\n  /** Support for multiple selection */\n  multiple?: boolean;\n\n  /** Searchable mode */\n  searchable?: boolean;\n\n  /** Clear button visibility */\n  clearable?: boolean;\n\n  /** Custom filter function for search */\n  filterOption?: (option: DynSelectOption<T>, searchText: string) => boolean;\n\n  /** Add search placeholder */\n  searchPlaceholder?: string;\n\n  /** Max height of the dropdown menu */\n  maxMenuHeight?: number | string;\n\n  /** Loading state */\n  loading?: boolean;\n\n  /** Empty results message */\n  noOptionsMessage?: ReactNode;\n\n  /** Visibility */\n  visible?: boolean;\n\n  /** Whether the select should take up the full width of its container */\n  fullWidth?: boolean;\n\n  /** Validation rules (consistent with DynInput) */\n  validation?: DynValidationRule | DynValidationRule[];\n\n  /** Whether to validate on blur */\n  validateOnBlur?: boolean;\n\n  /** Whether to validate on change */\n  validateOnChange?: boolean;\n\n  /** Callback when validation status changes */\n  onValidate?: (isValid: boolean, errorMessage?: string) => void;\n}\n\nexport interface DynSelectRef<T = string | number> {\n  /** Focus the input */\n  focus: () => void;\n  /** Blur the input */\n  blur: () => void;\n  /** Clear the selection */\n  clear: () => void;\n  /** Open the dropdown */\n  open: () => void;\n  /** Close the dropdown */\n  close: () => void;\n  /** Get current value */\n  getValue: () => T | T[] | undefined;\n  /** Validate the selection and return result */\n  validate: () => Promise<boolean>;\n  /** Clear any validation errors */\n  clearError: () => void;\n}\n\nexport const DYN_SELECT_DEFAULT_PROPS = {\n  size: 'md',\n  multiple: false,\n  searchable: false,\n  clearable: false,\n  visible: true,\n  noOptionsMessage: 'No options found',\n} as const;\n\n\n--- Component (DynSelect.tsx) ---\nimport React, {\n  forwardRef,\n  useImperativeHandle,\n  useRef,\n  useState,\n  useEffect,\n  useMemo,\n  useId,\n} from 'react';\nimport { cn } from '../../utils/classNames';\nimport type {\n  DynSelectProps,\n  DynSelectRef,\n  DynSelectOption,\n  DynSelectSize\n} from './DynSelect.types';\nimport { DYN_SELECT_DEFAULT_PROPS } from './DynSelect.types';\nimport { DynFieldContainer } from '../DynFieldContainer';\nimport { useDynFieldValidation } from '../../hooks/useDynFieldValidation';\nimport { DynIcon } from '../DynIcon';\nimport { DynDropdown } from '../DynDropdown';\nimport { DynBadge } from '../DynBadge';\nimport { DynCheckbox } from '../DynCheckbox';\nimport { DynLoading } from '../DynLoading';\nimport type { DynDropdownRef, DynDropdownItem } from '../DynDropdown';\nimport styles from './DynSelect.module.css';\n\n/**\n * DynSelect Component\n * Standardized with Design Tokens & CSS Modules\n */\nconst DynSelectInner = <T extends string | number>(\n  {\n    name,\n    value: propValue,\n    defaultValue,\n    onChange,\n    options = [],\n    groups = [],\n    placeholder = 'Select...',\n    label,\n    help,\n    helpText,\n    errorText: errorMessageText,\n    errorMessage,\n    required = false,\n\n    disabled = false,\n    readOnly = false,\n    size = DYN_SELECT_DEFAULT_PROPS.size,\n    multiple = DYN_SELECT_DEFAULT_PROPS.multiple,\n    searchable = DYN_SELECT_DEFAULT_PROPS.searchable,\n    clearable = DYN_SELECT_DEFAULT_PROPS.clearable,\n    validation = [],\n    validateOnBlur = true,\n    validateOnChange = false,\n    onValidate,\n    searchPlaceholder = 'Search...',\n    filterOption,\n    maxMenuHeight,\n    loading = false,\n    noOptionsMessage = DYN_SELECT_DEFAULT_PROPS.noOptionsMessage,\n    visible = DYN_SELECT_DEFAULT_PROPS.visible,\n    fullWidth = true, // Default to true for consistent form behavior\n    id,\n    className,\n    style,\n    ...rest\n  }: DynSelectProps<T>,\n  ref: React.Ref<DynSelectRef<T>>\n) => {\n  const [internalValue, setInternalValue] = useState<T | T[]>(defaultValue ?? (multiple ? [] : '' as unknown as T));\n  const value = propValue !== undefined ? propValue : internalValue;\n\n  const [isOpen, setIsOpen] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [focused, setFocused] = useState(false);\n  const [touched, setTouched] = useState(false);\n\n  const dropdownRef = useRef<DynDropdownRef>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const searchInputRef = useRef<HTMLInputElement>(null); // Ref for search input manual focus\n\n  const fallbackId = useId();\n  const fieldId = id || name || fallbackId;\n\n  const resolvedHelpText = helpText ?? help;\n  const resolvedErrorText = errorMessageText ?? errorMessage;\n\n  const { error, validate, clearError } = useDynFieldValidation({\n    value,\n    required,\n    validation,\n    customError: resolvedErrorText,\n  });\n\n  const displayError = (touched || errorMessage) ? (resolvedErrorText || error) : undefined;\n\n  const updateValue = (newValue: T | T[]) => {\n    setInternalValue(newValue);\n    onChange?.(newValue);\n    clearError();\n    if (validateOnChange) {\n      setTimeout(() => validate(), 0);\n    }\n  };\n\n  // Manually focus search input when opened to avoid \"scroll to top\" (0,0 position) issue\n  // Also ensures validation logic isn't triggered prematurely\n  useEffect(() => {\n    if (isOpen && searchable) {\n      // Small timeout to ensure dropdown positioning (updatePosition) has completed\n      requestAnimationFrame(() => {\n        searchInputRef.current?.focus({ preventScroll: true });\n      });\n    }\n  }, [isOpen, searchable]);\n\n  useImperativeHandle(ref, () => ({\n    focus: () => setIsOpen(true),\n    blur: () => setIsOpen(false),\n    clear: () => updateValue(multiple ? [] : '' as unknown as T),\n    open: () => setIsOpen(true),\n    close: () => setIsOpen(false),\n    getValue: () => value,\n    validate: async () => validate(),\n    clearError: () => clearError(),\n  }), [value, multiple, validate, clearError]);\n\n  useEffect(() => {\n    if (propValue !== undefined) {\n      setInternalValue(propValue);\n    }\n  }, [propValue]);\n\n  const filteredOptions = useMemo(() => {\n    if (!searchable || !searchTerm) return options;\n\n    const search = searchTerm.toLowerCase();\n    return options.filter(option => {\n      if (filterOption) return filterOption(option, searchTerm);\n      return option.label.toLowerCase().includes(search);\n    });\n  }, [options, searchTerm, searchable, filterOption]);\n\n  const selectedOptions = useMemo(() => {\n    if (multiple && Array.isArray(value)) {\n      return options.filter(opt => (value as T[]).includes(opt.value));\n    }\n    return options.find(opt => opt.value === value);\n  }, [options, value, multiple]);\n\n  if (!visible) return null;\n\n  const handleOptionSelect = (option: DynSelectOption<T>) => {\n    if (option.disabled) return;\n\n    if (multiple) {\n      const currentArr = Array.isArray(value) ? [...(value as T[])] : [];\n      const index = currentArr.indexOf(option.value);\n      if (index > -1) {\n        currentArr.splice(index, 1);\n      } else {\n        currentArr.push(option.value);\n      }\n      updateValue(currentArr);\n    } else {\n      updateValue(option.value);\n      setIsOpen(false);\n      setSearchTerm('');\n    }\n  };\n\n  const handleClear = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    updateValue(multiple ? [] : '' as unknown as T);\n  };\n\n  const dropdownItems: DynDropdownItem[] = filteredOptions.map(opt => ({\n    id: String(opt.value),\n    label: (\n      <div className={styles.optionContent}>\n        {multiple && (\n          <div className={styles.checkboxWrapper}>\n            <DynCheckbox\n              checked={Array.isArray(value) && (value as T[]).includes(opt.value)}\n              size=\"sm\"\n              disabled={opt.disabled}\n              readonly\n            />\n          </div>\n        )}\n        <span>{opt.label}</span>\n      </div>\n    ),\n    disabled: opt.disabled,\n    onClick: () => handleOptionSelect(opt),\n    className: cn(\n      styles.option,\n      (multiple ? (Array.isArray(value) && (value as T[]).includes(opt.value)) : value === opt.value) && styles.optionSelected\n    )\n  }));\n\n  if (filteredOptions.length === 0) {\n    dropdownItems.push({\n      id: 'no-options',\n      label: <div className={styles.empty}>{noOptionsMessage}</div>,\n      disabled: true\n    });\n  }\n\n\n  // Size mapping - explicit map instead of string interpolation\n  const SIZE_MAP: Record<DynSelectSize, string> = {\n    sm: styles['sizeSm'] || '',\n    md: styles['sizeMd'] || '',\n    lg: styles['sizeLg'] || '',\n  };\n\n  const selectClasses = cn(\n    styles.root,\n    SIZE_MAP[size],\n    {\n      [styles.open]: isOpen,\n      [styles.focused]: focused,\n      [styles.error]: !!displayError,\n      [styles.disabled]: disabled,\n      [styles.readonly]: readOnly,\n      [styles.loading]: loading\n    }\n  );\n\n  const triggerContent = (\n    <div className={styles.content}>\n      {multiple && Array.isArray(selectedOptions) && (selectedOptions as DynSelectOption<T>[]).length > 0 ? (\n        <div className={styles.tags}>\n          {(selectedOptions as DynSelectOption<T>[]).map(opt => (\n            <DynBadge\n              key={String(opt.value)}\n              variant=\"soft\"\n              size=\"sm\"\n              className={styles.tagBadge}\n              endIcon={!disabled && !readOnly ? (\n                <span\n                  className={styles.tagRemove}\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    handleOptionSelect(opt);\n                  }}\n                >\n                  <DynIcon icon=\"close\" size=\"sm\" />\n                </span>\n              ) : undefined}\n            >\n              {opt.label}\n            </DynBadge>\n          ))}\n        </div>\n      ) : (\n        <span className={cn(styles.text, (!selectedOptions || (Array.isArray(selectedOptions) && selectedOptions.length === 0)) && styles.placeholder)}>\n          {selectedOptions && !Array.isArray(selectedOptions) ? (selectedOptions as DynSelectOption<T>).label : placeholder}\n        </span>\n      )}\n    </div>\n  );\n\n  return (\n    <DynFieldContainer\n      label={label}\n      helpText={resolvedHelpText}\n      required={required}\n      errorText={displayError}\n      className={className}\n      htmlFor={fieldId}\n    >\n      <div ref={containerRef} className={styles.container} style={style}>\n        <DynDropdown\n          ref={dropdownRef}\n          isOpen={isOpen}\n          onOpenChange={(open) => {\n            setIsOpen(open);\n            if (!open) {\n              setTouched(true);\n              if (validateOnBlur) {\n                validate();\n              }\n            }\n          }}\n          disabled={disabled}\n          fullWidth={true}\n          trigger={\n            <div\n              className={selectClasses}\n              id={fieldId}\n              tabIndex={disabled || readOnly ? -1 : 0}\n              role=\"combobox\"\n              aria-expanded={isOpen}\n              aria-haspopup=\"listbox\"\n              data-size={size}\n              onFocus={() => setFocused(true)}\n              onBlur={() => {\n                // Use timeout to allow focus to settle (handling Portal/Mount timing)\n                setTimeout(() => {\n                  const activeEl = document.activeElement;\n                  const menuEl = dropdownRef.current?.getElement();\n\n                  // If focus moved inside the menu (search input or items), ignore blur\n                  if (menuEl && activeEl && menuEl.contains(activeEl)) {\n                    return;\n                  }\n\n                  // If focus is back on the trigger (prevent double-fire), ignore\n                  // (Though unlikely for a Blur event unless specific timing)\n                  if (activeEl === containerRef.current || containerRef.current?.contains(activeEl as Node)) {\n                    return;\n                  }\n\n                  setFocused(false);\n                  setTouched(true);\n                  if (validateOnBlur) {\n                    validate();\n                  }\n                }, 0);\n              }}\n              onKeyDown={(e) => {\n                if (disabled || readOnly) return;\n                if (e.key === 'Enter' || e.key === ' ' || e.key === 'ArrowDown') {\n                  e.preventDefault();\n                  setIsOpen(true);\n                }\n                if (e.key === 'Escape') {\n                  setIsOpen(false);\n                }\n              }}\n            >\n              {triggerContent}\n              <div className={styles.actions}>\n                {clearable && value && !disabled && !readOnly && (\n                  <button type=\"button\" className={styles.clear} onClick={handleClear}>\n                    <DynIcon icon=\"close\" size=\"sm\" />\n                  </button>\n                )}\n                <div className={cn(styles.arrow, { [styles.arrowUp]: isOpen })}>\n                  {loading ? (\n                    <DynLoading size=\"sm\" />\n                  ) : (\n                    <DynIcon icon=\"chevron-down\" size=\"sm\" />\n                  )}\n                </div>\n              </div>\n            </div>\n          }\n          usePortal={true}\n          offset={4}\n          closeOnItemClick={!multiple}\n          triggerType=\"click\"\n          className={styles.dropdownWrapper}\n        >\n          {searchable && (\n            <div className={styles.search}>\n              <div className={styles.searchWrapper}>\n                <DynIcon icon=\"search\" size=\"sm\" className={styles.searchIcon} />\n                <input\n                  ref={searchInputRef}\n                  type=\"text\"\n                  placeholder={searchPlaceholder}\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  className={styles.searchInput}\n                  onClick={(e) => e.stopPropagation()}\n                />\n              </div>\n            </div>\n          )}\n          <div className={styles.options} style={{ maxHeight: maxMenuHeight }}>\n            {dropdownItems.map(item => (\n              <button\n                key={item.id}\n                type=\"button\"\n                disabled={item.disabled}\n                className={cn(styles.option, item.className)}\n                onClick={(e) => item.onClick?.(item, e)}\n              >\n                {item.label}\n              </button>\n            ))}\n          </div>\n        </DynDropdown>\n      </div>\n    </DynFieldContainer>\n  );\n};\n\nexport const DynSelect = forwardRef(DynSelectInner) as <T extends string | number>(\n  props: DynSelectProps<T> & { ref?: React.Ref<DynSelectRef<T>> }\n) => React.ReactElement;\n\n(DynSelect as any).displayName = 'DynSelect';\nexport default DynSelect;\n\n\n\n\n\n--- Usage Examples (DynSelect.stories.tsx) ---\nimport React from 'react';\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { DynSelect } from './DynSelect';\n\nconst meta: Meta<typeof DynSelect> = {\n  title: 'Components/DynSelect',\n  component: DynSelect,\n  tags: ['autodocs'],\n  argTypes: {\n    size: {\n      control: 'select',\n      options: ['sm', 'md', 'lg'],\n    },\n  },\n};\n\nexport default meta;\ntype Story = StoryObj<typeof DynSelect>;\n\nconst options = [\n  { value: 'apple', label: 'Apple' },\n  { value: 'banana', label: 'Banana' },\n  { value: 'cherry', label: 'Cherry' },\n  { value: 'date', label: 'Date', disabled: true },\n  { value: 'elderberry', label: 'Elderberry' },\n];\n\nexport const Default: Story = {\n  args: {\n    label: 'Select Fruit',\n    options,\n    placeholder: 'Choose a fruit...',\n  },\n};\n\nexport const MultiSelect: Story = {\n  args: {\n    label: 'Select Multiple Fruits',\n    options,\n    multiple: true,\n    placeholder: 'Choose fruits...',\n  },\n};\n\nexport const Searchable: Story = {\n  args: {\n    label: 'Search Fruit',\n    options,\n    searchable: true,\n    placeholder: 'Search fruit...',\n  },\n};\n\nexport const WithValidation: Story = {\n  args: {\n    label: 'Required Selection',\n    options,\n    placeholder: 'Choose a fruit...',\n    required: true,\n    validation: [\n      {\n        type: 'pattern',\n        value: /^a/,\n        message: 'Must start with \"a\" (e.g. apple)',\n      }\n    ],\n    validateOnBlur: true,\n  },\n};\n\nexport const WithError: Story = {\n  args: {\n    label: 'Error State',\n    options,\n    placeholder: 'Choose a fruit...',\n    errorText: 'This field has an error',\n  },\n};\n\nexport const Disabled: Story = {\n  args: {\n    label: 'Disabled Select',\n    options,\n    disabled: true,\n    placeholder: 'Cannot select...',\n  },\n};\nexport const Loading: Story = {\n  args: {\n    label: 'Loading State',\n    options,\n    loading: true,\n    placeholder: 'Fetching options...',\n  },\n};\n\nexport const Clearable: Story = {\n  args: {\n    label: 'Clearable Selection',\n    options,\n    clearable: true,\n    defaultValue: 'banana',\n  },\n};\n\n\n--- Styles (DynSelect.module.css) ---\n/**\n * DynSelect Component Styles\n * 100% Design Token Compliance\n * Unified Token Strategy: 3-Level Fallback Pattern\n */\n\n/* ================================================\n   COMPONENT TOKENS (Layer 2)\n   ================================================ */\n\n:root {\n  /* Color tokens */\n  --dyn-select-bg: var(--dyn-select-color-background, var(--dyn-semantic-input-bg, #ffffff));\n  --dyn-select-color: var(--dyn-select-color-text, var(--dyn-semantic-text, #0f172a));\n  --dyn-select-border: var(--dyn-select-color-border, var(--dyn-semantic-input-border, #cbd5e1));\n  --dyn-select-border-hover: var(--dyn-select-color-border-hover, var(--dyn-semantic-border-hover, #94a3b8));\n  --dyn-select-border-focus: var(--dyn-select-color-border-focus, var(--dyn-theme-primary, #3b82f6));\n  --dyn-select-focus-ring: var(--dyn-select-color-focus, var(--dyn-semantic-border-focus, #3b82f6));\n  --dyn-select-placeholder: var(--dyn-select-color-placeholder, var(--dyn-semantic-text-secondary, #94a3b8));\n  --dyn-select-disabled-bg: var(--dyn-select-color-disabled-background, var(--dyn-semantic-surface-muted, #f1f5f9));\n  --dyn-select-readonly-bg: var(--dyn-select-color-readonly-background, var(--dyn-semantic-surface, #f8fafc));\n  --dyn-select-error: var(--dyn-select-color-error, var(--dyn-feedback-negative-default, #dc2626));\n\n  /* Layout tokens */\n  --dyn-select-radius: var(--dyn-select-size-borderRadius, var(--dyn-border-radius-md, 0.375rem));\n  --dyn-select-padding-y: var(--dyn-select-spacing-paddingY, var(--dyn-spacing-sm, 0.5rem));\n  --dyn-select-padding-x: var(--dyn-select-spacing-paddingX, var(--dyn-spacing-md, 0.75rem));\n  --dyn-select-font-size: var(--dyn-select-size-fontSize, var(--dyn-font-size-sm, 0.875rem));\n  --dyn-select-transition: var(--dyn-select-animation-duration, var(--dyn-transition-normal, 0.2s)) var(--dyn-select-animation-easing, ease);\n  --dyn-select-dropdown-max-height: var(--dyn-select-size-dropdownMaxHeight, 15rem);\n\n  /* Height tokens per STYLE_REGISTRY.md (aligned with DynInput) */\n  --dyn-select-height-sm: 32px;\n  --dyn-select-height-md: 40px;\n  --dyn-select-height-lg: 48px;\n}\n\n.container {\n  position: relative;\n  width: 100%;\n}\n\n.root {\n  position: relative;\n  width: 100%;\n  font-family: inherit;\n  font-size: var(--dyn-select-font-size);\n  color: var(--dyn-select-color);\n  background-color: var(--dyn-select-bg);\n  border: var(--dyn-border-width-sm, 1px) solid var(--dyn-select-border);\n  border-radius: var(--dyn-select-radius);\n  cursor: pointer;\n  transition: all var(--dyn-select-transition);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: var(--dyn-select-padding-y) var(--dyn-select-padding-x);\n  box-sizing: border-box;\n  text-align: left;\n  min-height: var(--dyn-select-height-md);\n}\n\n/* ================================================\n   SIZE VARIANTS\n   ================================================ */\n\n.sizeSm {\n  padding: var(--dyn-spacing-xs, 4px) var(--dyn-spacing-sm, 8px);\n  font-size: var(--dyn-font-size-xs, 12px);\n  min-height: var(--dyn-select-height-sm);\n}\n\n.sizeMd {\n  padding: var(--dyn-select-padding-y) var(--dyn-select-padding-x);\n  font-size: var(--dyn-select-font-size);\n  min-height: var(--dyn-select-height-md);\n}\n\n.sizeLg {\n  padding: var(--dyn-spacing-md, 16px) var(--dyn-spacing-lg, 24px);\n  font-size: var(--dyn-font-size-md, 16px);\n  min-height: var(--dyn-select-height-lg);\n}\n\n/* ================================================\n   INTERACTIVE STATES\n   ================================================ */\n\n.root:hover:not(.disabled):not(.readonly) {\n  border-color: var(--dyn-select-border-hover);\n}\n\n.root:focus {\n  outline: none;\n}\n\n.focused,\n.open {\n  border-color: var(--dyn-select-border-focus);\n  box-shadow: 0 0 0 var(--dyn-border-width-lg, 3px) var(--dyn-select-focus-ring);\n}\n\n.disabled {\n  background-color: var(--dyn-select-disabled-bg);\n  color: var(--dyn-select-placeholder);\n  cursor: not-allowed;\n  opacity: var(--dyn-opacity-disabled, 0.6);\n}\n\n.readonly {\n  background-color: var(--dyn-select-readonly-bg);\n  cursor: default;\n}\n\n.error {\n  border-color: var(--dyn-select-error);\n}\n\n.error:focus,\n.error.focused {\n  box-shadow: 0 0 0 var(--dyn-border-width-lg, 3px) var(--dyn-select-error);\n}\n\n/* ================================================\n   CONTENT\n   ================================================ */\n\n.content {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  gap: var(--dyn-spacing-xs, 4px);\n  overflow: hidden;\n}\n\n.text {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.placeholder {\n  color: var(--dyn-select-placeholder);\n}\n\n.tags {\n  display: flex;\n  flex-wrap: wrap;\n  gap: var(--dyn-spacing-xxs, 2px);\n}\n\n.tagBadge {\n  max-width: 150px;\n}\n\n.tagRemove {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  opacity: 0.6;\n  transition: opacity var(--dyn-transition-fast, 0.1s);\n  padding: 2px;\n  margin: -2px;\n}\n\n.tagRemove:hover {\n  opacity: 1;\n}\n\n/* ================================================\n   ACTIONS\n   ================================================ */\n\n.actions {\n  display: flex;\n  align-items: center;\n  gap: var(--dyn-spacing-xs, 4px);\n  flex-shrink: 0;\n}\n\n.arrow {\n  color: var(--dyn-select-placeholder);\n  transition: transform var(--dyn-transition-fast, 0.1s);\n}\n\n.arrowUp {\n  transform: rotate(180deg);\n}\n\n/* ================================================\n   SEARCH\n   ================================================ */\n\n.search {\n  padding: var(--dyn-spacing-sm, 8px) var(--dyn-spacing-md, 16px);\n  border-bottom: var(--dyn-border-width-sm, 1px) solid var(--dyn-semantic-border-subtle, #e2e8f0);\n}\n\n.searchWrapper {\n  position: relative;\n  display: flex;\n  align-items: center;\n  width: 100%;\n}\n\n.searchIcon {\n  position: absolute;\n  left: var(--dyn-spacing-sm, 8px);\n  color: var(--dyn-select-placeholder);\n  pointer-events: none;\n}\n\n.searchInput {\n  width: 100%;\n  padding: var(--dyn-spacing-xs, 4px) var(--dyn-spacing-sm, 8px) var(--dyn-spacing-xs, 4px) var(--dyn-spacing-xl, 32px);\n  border: var(--dyn-border-width-sm, 1px) solid var(--dyn-semantic-border, #cbd5e1);\n  border-radius: var(--dyn-border-radius-sm, 4px);\n  font-size: var(--dyn-font-size-sm, 14px);\n  outline: none;\n  background-color: var(--dyn-semantic-input-bg, #ffffff);\n  color: var(--dyn-semantic-text, #0f172a);\n  transition: all var(--dyn-transition-fast, 0.1s);\n}\n\n.searchInput:focus {\n  border-color: var(--dyn-select-border-focus);\n}\n\n/* ================================================\n   OPTIONS DROPDOWN\n   ================================================ */\n\n.options {\n  max-height: var(--dyn-select-dropdown-max-height);\n  overflow-y: auto;\n  padding: var(--dyn-spacing-xs, 4px) 0;\n  background-color: var(--dyn-select-bg);\n}\n\n.optionContent {\n  display: flex;\n  align-items: center;\n  gap: var(--dyn-spacing-sm, 8px);\n  width: 100%;\n}\n\n.checkboxWrapper {\n  display: flex;\n  align-items: center;\n  pointer-events: none;\n}\n\n.option {\n  width: 100%;\n  padding: var(--dyn-spacing-sm, 8px) var(--dyn-spacing-md, 16px);\n  cursor: pointer;\n  border: none;\n  background: none;\n  font-size: var(--dyn-select-font-size);\n  text-align: left;\n  color: var(--dyn-select-color);\n  transition: background-color var(--dyn-transition-fast, 0.1s);\n  display: flex;\n  align-items: center;\n  font-family: inherit;\n}\n\n.option:hover:not(.optionDisabled) {\n  background-color: var(--dyn-semantic-surface-muted, #f1f5f9);\n}\n\n.optionSelected {\n  background-color: var(--dyn-semantic-surface-selected, #e2e8f0);\n  color: var(--dyn-semantic-text, #0f172a);\n  font-weight: var(--dyn-font-weight-medium, 500);\n}\n\n/* ================================================\n   DARK MODE\n   Note: Handled automatically via semantic tokens!\n   ================================================ */\n", "metadata": {"type": "ui_component", "name": "DynSelect", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynSelect"}, "embedding": [-0.05792035162448883, 0.00237863976508379, 0.005661495495587587, 0.08637992292642593, 0.0012078447034582496, 0.07644670456647873, 0.04748546704649925, 0.052354179322719574, -0.00856942031532526, -0.04158486798405647, -0.08373402804136276, -0.01396019384264946, -0.09189091622829437, 0.0075691258534789085, -0.0036710200365632772, 0.06287355720996857, -0.03585198521614075, -0.062450092285871506, -0.030094120651483536, -0.013065796345472336, 0.03566988557577133, -0.04512359946966171, 0.024264974519610405, -0.03664875775575638, 0.02664162963628769, 0.01867438480257988, -0.023670345544815063, 0.012984015978872776, 0.06281840801239014, -0.02309565059840679, -0.03864828869700432, 0.08747308701276779, -0.0428592711687088, -0.024409685283899307, -0.061393238604068756, 0.055714454501867294, -0.07650262862443924, 0.04676808416843414, -0.006773851346224546, -0.03509470447897911, 0.089247927069664, 0.02451133169233799, -0.010878508910536766, -0.07520017772912979, 0.003779568476602435, -0.07640295475721359, -0.08033455163240433, -0.06716614216566086, -0.06787895411252975, -0.002470856998115778, 0.03339698165655136, 0.06356563419103622, 0.06260283291339874, -0.03100687451660633, 0.025264138355851173, -0.0005232501425780356, 0.0853099450469017, 0.04230498895049095, -0.007218000944703817, -0.026848280802369118, -0.016348762437701225, -0.02320212684571743, 0.014397721737623215, -0.08570372313261032, 0.05461743474006653, 0.12279383093118668, 0.018924284726381302, -0.051775973290205, 0.0422993078827858, -0.05182977020740509, -0.027738509699702263, -0.0030967642087489367, 0.09717648476362228, -0.02451149933040142, 0.03839637339115143, -0.11976303905248642, -0.019242344424128532, 0.02206222340464592, 0.055707141757011414, -0.00043167112744413316, 0.03828049451112747, 0.017063675448298454, -0.11689627915620804, 0.063702292740345, 0.0071442811749875546, 0.1166703924536705, -0.058945007622241974, 0.01508339773863554, 0.013438058085739613, -0.03657928854227066, -0.008279798552393913, -0.0737636610865593, -0.0713709220290184, 0.08457902818918228, 0.03156241402029991, 0.01725546456873417, -0.07572994381189346, 0.04302682355046272, -0.10786297917366028, 0.01531963236629963, 0.015896664932370186, -0.011036796495318413, -0.04452374204993248, 0.017000563442707062, -0.02672358602285385, -0.056733354926109314, 0.04404354840517044, -0.11073232442140579, -0.06648994982242584, 0.007958040572702885, -0.021501991897821426, 0.04902803897857666, -0.0432976596057415, 0.09675371646881104, -0.05546901375055313, -0.011187614873051643, 0.035068389028310776, -0.07484940439462662, 0.045117732137441635, -0.04673212021589279, 0.08076775819063187, -0.035319339483976364, 0.010364788584411144, -0.01645508036017418, 0.0009175108280032873, 0.036270249634981155, 0.02099038101732731, 8.06038019195178e-33, 0.005291353445500135, -0.005643416196107864, 0.012136380188167095, -0.006491847801953554, -0.018606534227728844, -0.03492150083184242, -0.001783202518709004, -0.017809385433793068, 0.002378705656155944, 0.014780246652662754, 0.016272230073809624, 0.029666809365153313, -0.05649462714791298, -0.04308982565999031, 0.004459683317691088, -0.05941407009959221, 0.07099148631095886, -0.01555452961474657, -0.00010438317258376628, -0.00550957303494215, 0.0624244399368763, 0.05638637766242027, -0.10740148276090622, 0.04668442904949188, 0.04955205321311951, 0.011634482070803642, -0.07024087756872177, 0.12122724950313568, 0.020747724920511246, -0.025904113426804543, 0.06283891946077347, -0.07752058655023575, 0.012897945940494537, 0.045340362936258316, -0.05224717780947685, -0.03956824541091919, -0.08215030282735825, 0.02874572016298771, -0.007345032412558794, -0.035809796303510666, 0.0450223945081234, -0.006029966752976179, 0.011869411915540695, 0.06389768421649933, -0.024997584521770477, -0.011255311779677868, 0.010546743869781494, -0.019201254472136497, 0.00804830901324749, -0.059672921895980835, 0.01425868272781372, 0.007735599763691425, -0.0015651778085157275, -0.1528802067041397, -0.0017320243641734123, 0.03753703460097313, -0.01768394373357296, 0.06137911602854729, 0.04419440031051636, 0.029670003801584244, -0.058984220027923584, -0.0005988102057017386, 0.07048413157463074, -0.006500855553895235, -0.004173599649220705, 0.0705152302980423, -0.038139089941978455, -0.06735333800315857, 0.00691746873781085, -0.0682222992181778, -0.02085321582853794, -0.03554713353514671, -0.04398132488131523, 0.016858594492077827, 0.0735294446349144, -0.016268834471702576, -0.02096325159072876, -0.004533315543085337, 0.03365736082196236, -0.06788307428359985, -0.01143169216811657, -0.05679580569267273, -0.04966197907924652, 0.13282586634159088, 0.12808336317539215, -0.05189156159758568, -0.06075663864612579, -0.060993678867816925, 0.04104570299386978, 0.01899230293929577, -0.048223115503787994, -0.02891610562801361, -0.03523382544517517, -0.12116788327693939, -0.05243523046374321, -9.888904266326066e-33, 0.05070539191365242, 0.008218481205403805, -0.04466291517019272, 0.0321134477853775, 0.00185933627653867, -0.01204657182097435, -0.031002089381217957, 0.057698894292116165, 0.048112500458955765, 0.022802764549851418, 0.0152061115950346, 0.04597226157784462, 0.055751360952854156, -0.06390063464641571, -0.04736752435564995, 0.10745471715927124, -0.08783802390098572, 0.014057504013180733, 0.047430746257305145, -0.0021237358450889587, 0.06688205152750015, 0.02986753173172474, 0.05008986219763756, 0.05391625314950943, -0.10718479752540588, 0.04785386845469475, 0.0476953499019146, 0.0384693443775177, 0.08320970088243484, -0.06552045047283173, -0.04565246403217316, 0.04359004646539688, -0.03289180248975754, 0.07289007306098938, -0.0068246154114604, -0.07108708471059799, 0.008635596372187138, 0.02471458725631237, -0.06959672272205353, 0.07853973656892776, 0.0028132405132055283, -0.0002289390831720084, -0.0322917103767395, 0.016718653962016106, -0.02839476801455021, -0.07574419677257538, -0.018425924703478813, -0.0011627988424152136, -0.0204587634652853, 0.027453981339931488, 0.061450812965631485, -0.04579150676727295, -0.07173909991979599, 0.034147899597883224, -0.03486967086791992, 0.08739759773015976, 0.07669605314731598, -0.06181048974394798, 0.06102485582232475, 0.058903180062770844, 0.019681448116898537, -0.09479434043169022, -0.09788873791694641, 0.035810571163892746, 0.03643910959362984, -0.03064122423529625, -0.07430227100849152, -0.014538341201841831, 0.019637519493699074, 0.022732654586434364, 0.09420238435268402, 0.0480574369430542, 0.07014228403568268, -0.07587219774723053, 0.035726357251405716, -0.0226078350096941, -0.02760915644466877, 0.020597953349351883, 0.12329243123531342, 0.013429395854473114, 0.006478162482380867, 0.004758547060191631, 0.05670144036412239, 0.004443945363163948, -0.050128962844610214, -0.006755583453923464, -0.035978127270936966, 0.1258859783411026, 0.05108790844678879, -0.00052133813733235, -0.031784042716026306, -0.05747015401721001, -0.04535354673862457, 0.03318853676319122, -0.058957748115062714, -6.827502829764853e-08, -0.01934356614947319, -0.024786414578557014, -0.032542578876018524, -0.010924548842012882, 0.022722844034433365, -0.10021095722913742, -0.0814615935087204, -0.08255750685930252, 0.008756598457694054, 0.018214361742138863, -0.047033850103616714, 0.024355612695217133, -0.05722203478217125, -0.03661416471004486, 0.05920913442969322, 0.018442971631884575, 0.006201410666108131, 0.009832956828176975, -0.04528982564806938, 0.05652981624007225, 0.04710159823298454, -0.04879874736070633, -0.061498675495386124, 0.016704538837075233, 0.11335282772779465, -0.017336048185825348, -0.018675334751605988, -0.005882058758288622, 0.04952036216855049, 0.06534445285797119, 0.018924575299024582, 0.020278748124837875, 0.034226175397634506, -0.03684648126363754, -0.06432505697011948, -0.012324346229434013, 0.046381328254938126, -0.08517918735742569, 0.09635383635759354, 0.05312565714120865, 0.00532880611717701, -0.027744105085730553, -0.081098772585392, 0.013447905890643597, -0.09076456725597382, -0.01571948640048504, -0.03608828783035278, 0.022391051054000854, 0.02908705547451973, 0.05535957217216492, -0.035868749022483826, -0.04902753606438637, -0.05213876813650131, 0.013048709370195866, -0.04694667086005211, -0.03201825171709061, -0.0029549465980380774, 0.03936104103922844, 0.03451745957136154, -0.028687357902526855, 0.03005945309996605, -0.017546165734529495, 0.028204822912812233, -0.038285646587610245]}, {"id": "dyn_ui_component_DynSidebar", "text": "# Component: DynSidebar\n\n--- Types (DynSidebar.types.ts) ---\nimport type { BaseComponentProps } from '../../types';\n\nexport interface DynSidebarItem {\n    id: string;\n    label: string;\n    icon?: string | React.ReactNode;\n    onClick?: () => void;\n    disabled?: boolean;\n}\n\nexport interface DynSidebarProps extends BaseComponentProps {\n    /** Items to display in the main content area */\n    items?: DynSidebarItem[];\n    /** Items to display in the footer area */\n    footerItems?: DynSidebarItem[];\n    /** Header content */\n    header?: React.ReactNode;\n    /** Whether the sidebar is collapsed */\n    collapsed?: boolean;\n    /** Callback when collapse state changes */\n    onCollapseChange?: (collapsed: boolean) => void;\n    /** Currently active item ID */\n    activeId?: string;\n    /** Whether the sidebar is open on mobile */\n    open?: boolean;\n    /** Callback when open state changes on mobile */\n    onOpenChange?: (open: boolean) => void;\n    /** Callback when an item is clicked */\n    onItemClick?: (item: DynSidebarItem) => void;\n}\n\n\n--- Component (DynSidebar.tsx) ---\nimport React, { forwardRef } from 'react';\nimport { cn } from '../../utils/classNames';\nimport styles from './DynSidebar.module.css';\nimport type { DynSidebarProps, DynSidebarItem } from './DynSidebar.types';\nimport { DynIcon } from '../DynIcon';\n\n/**\n * DynSidebar Component\n * A robust navigation sidebar with support for collapse/expand and mobile responsiveness.\n */\nexport const DynSidebar = forwardRef<HTMLElement, DynSidebarProps>(\n    (\n        {\n            items = [],\n            footerItems = [],\n            header,\n            collapsed = false,\n            onCollapseChange,\n            activeId,\n            open = false,\n            onOpenChange,\n            onItemClick,\n            className,\n            style,\n            ...rest\n        },\n        ref\n    ) => {\n        const renderItem = (item: DynSidebarItem) => {\n            const isActive = activeId === item.id;\n            return (\n                <button\n                    key={item.id}\n                    type=\"button\"\n                    className={cn(styles.item, isActive && styles.itemActive)}\n                    onClick={() => {\n                        item.onClick?.();\n                        onItemClick?.(item);\n                    }}\n                    disabled={item.disabled}\n                    title={collapsed ? item.label : undefined}\n                    aria-label={item.label}\n                >\n                    {item.icon && (\n                        <div className={styles.icon}>\n                            {typeof item.icon === 'string' ? (\n                                <DynIcon icon={item.icon} size=\"md\" />\n                            ) : (\n                                item.icon\n                            )}\n                        </div>\n                    )}\n                    {!collapsed && <span className={styles.label}>{item.label}</span>}\n                </button>\n            );\n        };\n\n        return (\n            <aside\n                ref={ref}\n                className={cn(\n                    styles.container,\n                    collapsed && styles.collapsed,\n                    open && styles.open,\n                    className\n                )}\n                style={style}\n                {...rest}\n            >\n                {header && <div className={styles.header}>{header}</div>}\n\n                <nav className={styles.content}>\n                    {items.map(renderItem)}\n                </nav>\n\n                {(footerItems.length > 0) && (\n                    <div className={styles.footer}>\n                        {footerItems.map(renderItem)}\n                    </div>\n                )}\n            </aside>\n        );\n    }\n);\n\nDynSidebar.displayName = 'DynSidebar';\n\nexport default DynSidebar;\n\n\n--- Usage Examples (DynSidebar.stories.tsx) ---\nimport type { Meta, StoryObj } from '@storybook/react';\nimport React from 'react';\nimport { DynSidebar } from './DynSidebar';\nimport type { DynSidebarItem } from './DynSidebar.types';\n\nconst meta = {\n    title: 'Navigation/DynSidebar',\n    component: DynSidebar,\n    parameters: {\n        layout: 'fullscreen',\n        docs: {\n            description: {\n                component: 'A navigation sidebar component with support for collapse/expand, icons, and mobile responsiveness.',\n            },\n        },\n    },\n    tags: ['autodocs'],\n    argTypes: {\n        collapsed: {\n            control: 'boolean',\n            description: 'Whether the sidebar is collapsed',\n        },\n        open: {\n            control: 'boolean',\n            description: 'Whether the sidebar is open (mobile)',\n        },\n        activeId: {\n            control: 'text',\n            description: 'ID of the active item',\n        },\n    },\n    decorators: [\n        (Story) => (\n            <div style={{ height: '500px', display: 'flex' }}>\n                <Story />\n                <div style={{ flex: 1, padding: '20px', backgroundColor: '#f5f5f5' }}>\n                    Main Content Area\n                </div>\n            </div>\n        ),\n    ],\n} satisfies Meta<typeof DynSidebar>;\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\nconst sampleItems: DynSidebarItem[] = [\n    { id: 'dashboard', label: 'Dashboard', icon: 'home', onClick: () => console.log('Dashboard') },\n    { id: 'projects', label: 'Projects', icon: 'folder', onClick: () => console.log('Projects') },\n    { id: 'tasks', label: 'Tasks', icon: 'check-square', onClick: () => console.log('Tasks') },\n    { id: 'calendar', label: 'Calendar', icon: 'calendar', onClick: () => console.log('Calendar') },\n    { id: 'messages', label: 'Messages', icon: 'mail', onClick: () => console.log('Messages') },\n];\n\nconst footerItems: DynSidebarItem[] = [\n    { id: 'settings', label: 'Settings', icon: 'settings', onClick: () => console.log('Settings') },\n    { id: 'logout', label: 'Logout', icon: 'log-out', onClick: () => console.log('Logout') },\n];\n\nexport const Default: Story = {\n    render: (args) => {\n        const [activeId, setActiveId] = React.useState(args.activeId || 'dashboard');\n\n        const handleItemClick = (item: DynSidebarItem) => {\n            setActiveId(item.id);\n            args.onItemClick?.(item);\n        };\n\n        return (\n            <DynSidebar\n                {...args}\n                activeId={activeId}\n                onItemClick={handleItemClick}\n            />\n        );\n    },\n    args: {\n        items: sampleItems,\n        activeId: 'dashboard',\n    },\n};\n\nexport const WithHeader: Story = {\n    render: (args) => {\n        const [activeId, setActiveId] = React.useState(args.activeId || 'projects');\n\n        const handleItemClick = (item: DynSidebarItem) => {\n            setActiveId(item.id);\n            args.onItemClick?.(item);\n        };\n\n        return (\n            <DynSidebar\n                {...args}\n                activeId={activeId}\n                onItemClick={handleItemClick}\n            />\n        );\n    },\n    args: {\n        items: sampleItems,\n        header: (\n            <div style={{ padding: '16px', fontWeight: 'bold', fontSize: '18px' }}>\n                My App\n            </div>\n        ),\n        activeId: 'projects',\n    },\n};\n\nexport const WithFooter: Story = {\n    render: (args) => {\n        const [activeId, setActiveId] = React.useState(args.activeId || 'dashboard');\n\n        const handleItemClick = (item: DynSidebarItem) => {\n            setActiveId(item.id);\n            args.onItemClick?.(item);\n        };\n\n        return <DynSidebar {...args} activeId={activeId} onItemClick={handleItemClick} />;\n    },\n    args: {\n        items: sampleItems,\n        footerItems: footerItems,\n        activeId: 'dashboard',\n    },\n};\n\nexport const Collapsed: Story = {\n    render: (args) => {\n        const [activeId, setActiveId] = React.useState(args.activeId || 'tasks');\n\n        const handleItemClick = (item: DynSidebarItem) => {\n            setActiveId(item.id);\n            args.onItemClick?.(item);\n        };\n\n        return <DynSidebar {...args} activeId={activeId} onItemClick={handleItemClick} />;\n    },\n    args: {\n        items: sampleItems,\n        footerItems: footerItems,\n        collapsed: true,\n        activeId: 'tasks',\n    },\n};\n\nexport const WithDisabledItem: Story = {\n    render: (args) => {\n        const [activeId, setActiveId] = React.useState(args.activeId || 'dashboard');\n\n        const handleItemClick = (item: DynSidebarItem) => {\n            setActiveId(item.id);\n            args.onItemClick?.(item);\n        };\n\n        return <DynSidebar {...args} activeId={activeId} onItemClick={handleItemClick} />;\n    },\n    args: {\n        items: [\n            ...sampleItems.slice(0, 2),\n            { id: 'disabled', label: 'Disabled Item', icon: 'lock', disabled: true },\n            ...sampleItems.slice(2),\n        ],\n        activeId: 'dashboard',\n    },\n};\n\nexport const FullExample: Story = {\n    render: (args) => {\n        const [activeId, setActiveId] = React.useState(args.activeId || 'projects');\n\n        const handleItemClick = (item: DynSidebarItem) => {\n            setActiveId(item.id);\n            args.onItemClick?.(item);\n        };\n\n        return <DynSidebar {...args} activeId={activeId} onItemClick={handleItemClick} />;\n    },\n    args: {\n        items: sampleItems,\n        footerItems: footerItems,\n        header: (\n            <div style={{\n                padding: '20px 16px',\n                fontWeight: 'bold',\n                fontSize: '20px',\n                borderBottom: '1px solid rgba(0,0,0,0.1)'\n            }}>\n                \ud83d\ude80 App Name\n            </div>\n        ),\n        activeId: 'projects',\n    },\n};\n\nexport const MobileOpen: Story = {\n    render: (args) => {\n        const [activeId, setActiveId] = React.useState(args.activeId || 'dashboard');\n\n        const handleItemClick = (item: DynSidebarItem) => {\n            setActiveId(item.id);\n            args.onItemClick?.(item);\n        };\n\n        return <DynSidebar {...args} activeId={activeId} onItemClick={handleItemClick} />;\n    },\n    args: {\n        items: sampleItems,\n        footerItems: footerItems,\n        open: true,\n        activeId: 'dashboard',\n    },\n    parameters: {\n        viewport: { defaultViewport: 'mobile1' },\n    },\n};\n\nexport const ManyItems: Story = {\n    render: (args) => {\n        const [activeId, setActiveId] = React.useState(args.activeId || 'analytics');\n\n        const handleItemClick = (item: DynSidebarItem) => {\n            setActiveId(item.id);\n            args.onItemClick?.(item);\n        };\n\n        return <DynSidebar {...args} activeId={activeId} onItemClick={handleItemClick} />;\n    },\n    args: {\n        items: [\n            { id: 'home', label: 'Home', icon: 'home' },\n            { id: 'analytics', label: 'Analytics', icon: 'bar-chart-2' },\n            { id: 'users', label: 'Users', icon: 'users' },\n            { id: 'products', label: 'Products', icon: 'package' },\n            { id: 'orders', label: 'Orders', icon: 'shopping-cart' },\n            { id: 'payments', label: 'Payments', icon: 'credit-card' },\n            { id: 'reports', label: 'Reports', icon: 'file-text' },\n            { id: 'notifications', label: 'Notifications', icon: 'bell' },\n        ],\n        footerItems: footerItems,\n        activeId: 'analytics',\n    },\n};\n\n\n--- Styles (DynSidebar.module.css) ---\n/**\n * DynSidebar Component Styles\n * 100% Design Token Compliance\n * Unified Token Strategy: 3-Level Fallback Pattern\n */\n\n/* ============================================\n   COMPONENT TOKENS\n   ============================================ */\n\n.container {\n  /* Color tokens - semantic for auto theme switching */\n  --dyn-sidebar-bg: var(--dyn-sidebar-color-background, var(--dyn-semantic-background, #ffffff));\n  --dyn-sidebar-border-color: var(--dyn-sidebar-color-border, var(--dyn-semantic-border, #e2e8f0));\n  --dyn-sidebar-text-color: var(--dyn-sidebar-color-text, var(--dyn-semantic-text, #0f172a));\n  --dyn-sidebar-item-text: var(--dyn-sidebar-color-item-text, var(--dyn-semantic-text-secondary, #64748b));\n  --dyn-sidebar-item-text-active: var(--dyn-sidebar-color-item-text-active, var(--dyn-theme-primary, #3b82f6));\n  --dyn-sidebar-item-bg-hover: var(--dyn-sidebar-color-item-background-hover, var(--dyn-semantic-surface-hover, #f1f5f9));\n  --dyn-sidebar-item-bg-active: var(--dyn-sidebar-color-item-background-active, var(--dyn-semantic-surface-active, #e0f2fe));\n\n  /* Size tokens */\n  --dyn-sidebar-width: var(--dyn-sidebar-size-width, var(--dyn-sidebar-width-default, 256px));\n  --dyn-sidebar-width-collapsed: var(--dyn-sidebar-size-width-collapsed, var(--dyn-sidebar-width-collapsed, 64px));\n  --dyn-sidebar-padding: var(--dyn-sidebar-spacing-padding, var(--dyn-spacing-md, 1rem));\n  --dyn-sidebar-item-height: var(--dyn-sidebar-size-itemHeight, 40px);\n  --dyn-sidebar-item-gap: var(--dyn-sidebar-spacing-itemGap, var(--dyn-spacing-sm, 0.5rem));\n  --dyn-sidebar-border-radius: var(--dyn-sidebar-size-borderRadius, var(--dyn-border-radius-md, 0.375rem));\n  --dyn-sidebar-icon-size: var(--dyn-sidebar-size-icon, var(--dyn-size-icon-sm, 1.25rem));\n\n  /* Effects */\n  --dyn-sidebar-shadow: var(--dyn-sidebar-elevation, var(--dyn-elevation-low, 0 1px 3px rgba(0, 0, 0, 0.12)));\n  --dyn-sidebar-transition: var(--dyn-sidebar-animation-duration, var(--dyn-transition-fast, 0.15s)) var(--dyn-sidebar-animation-easing, ease-in-out);\n\n  /* Layout */\n  display: flex;\n  flex-direction: column;\n  width: var(--dyn-sidebar-width);\n  height: 100vh;\n  background-color: var(--dyn-sidebar-bg);\n  border-right: var(--dyn-border-width-sm, 1px) solid var(--dyn-sidebar-border-color);\n  box-shadow: var(--dyn-sidebar-shadow);\n  padding: var(--dyn-sidebar-padding);\n  font-family: inherit;\n  font-size: var(--dyn-font-size-sm, 0.875rem);\n  color: var(--dyn-sidebar-text-color);\n  overflow-y: auto;\n  transition: width var(--dyn-sidebar-transition);\n  box-sizing: border-box;\n}\n\n/* ============================================\n   COLLAPSED STATE\n   ============================================ */\n\n.collapsed {\n  width: var(--dyn-sidebar-width-collapsed);\n}\n\n/* ============================================\n   LAYOUT ELEMENTS\n   ============================================ */\n\n.header {\n  padding: var(--dyn-spacing-md, 1rem) 0;\n  margin-bottom: var(--dyn-spacing-md, 1rem);\n  border-bottom: var(--dyn-border-width-sm, 1px) solid var(--dyn-sidebar-border-color);\n}\n\n.content {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: var(--dyn-sidebar-item-gap);\n}\n\n.footer {\n  padding: var(--dyn-spacing-md, 1rem) 0;\n  margin-top: auto;\n  border-top: var(--dyn-border-width-sm, 1px) solid var(--dyn-sidebar-border-color);\n}\n\n/* ============================================\n   SIDEBAR ITEM\n   ============================================ */\n\n.item {\n  display: flex;\n  align-items: center;\n  height: var(--dyn-sidebar-item-height);\n  padding: 0 var(--dyn-spacing-md, 1rem);\n  color: var(--dyn-sidebar-item-text);\n  background-color: transparent;\n  border: none;\n  border-radius: var(--dyn-sidebar-border-radius);\n  cursor: pointer;\n  font-family: inherit;\n  font-size: inherit;\n  transition: all var(--dyn-sidebar-transition);\n  gap: var(--dyn-sidebar-item-gap);\n  text-align: left;\n  width: 100%;\n}\n\n.item:hover:not(:disabled) {\n  background-color: var(--dyn-sidebar-item-bg-hover);\n}\n\n.item:focus-visible {\n  outline: var(--dyn-border-width-md, 2px) solid var(--dyn-semantic-border-focus, #3b82f6);\n  outline-offset: -2px;\n}\n\n.itemActive {\n  background-color: var(--dyn-sidebar-item-bg-active);\n  color: var(--dyn-sidebar-item-text-active);\n  font-weight: var(--dyn-font-weight-medium, 500);\n}\n\n.item:disabled {\n  opacity: var(--dyn-opacity-disabled, 0.5);\n  cursor: not-allowed;\n}\n\n.icon {\n  width: var(--dyn-sidebar-icon-size);\n  height: var(--dyn-sidebar-icon-size);\n  flex-shrink: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.label {\n  flex: 1;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.collapsed .label {\n  display: none;\n}\n\n/* ============================================\n   RESPONSIVE\n   ============================================ */\n\n@media (max-width: 767px) {\n  .container {\n    position: fixed;\n    left: 0;\n    top: 0;\n    width: var(--dyn-sidebar-width);\n    z-index: var(--dyn-z-index-overlay, 1000);\n    transform: translateX(-100%);\n    transition: transform var(--dyn-sidebar-transition);\n    height: 100%;\n  }\n\n  .container.open {\n    transform: translateX(0);\n  }\n}\n\n/* ============================================\n   DARK MODE\n   Note: Handled automatically via semantic tokens!\n   ============================================ */\n", "metadata": {"type": "ui_component", "name": "DynSidebar", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynSidebar"}, "embedding": [-0.06891432404518127, 0.0707843229174614, 0.037592191249132156, 0.0750870481133461, 0.08094970881938934, 0.06363217532634735, -0.06474559009075165, 0.07973995804786682, -0.06594116240739822, 0.03327208757400513, -0.07902173697948456, 0.030676566064357758, -0.04006846994161606, 0.011253421194851398, 0.048660680651664734, 0.016830895096063614, -0.0487537644803524, -0.07386774569749832, -0.012023857794702053, 0.06223078444600105, 0.029499780386686325, -0.035316064953804016, 0.0008360869251191616, -0.06252381205558777, -0.014040947891771793, 0.042571552097797394, 0.0379096083343029, -0.02324664406478405, -0.006385420449078083, 0.030518317595124245, 0.020751578733325005, 0.049350935965776443, -0.03470418229699135, -0.03315213695168495, -0.04054360091686249, -0.006440791301429272, -0.019820844754576683, 0.03419259190559387, 0.018629074096679688, -0.005099535919725895, 0.03292184695601463, 0.0856093317270279, -0.04665309190750122, -0.06315625458955765, 0.06340062618255615, 0.000702291785273701, -0.03184863552451134, 0.031042564660310745, -0.025157151743769646, 0.020723430439829826, 0.1102171465754509, 0.05819649621844292, 0.042558807879686356, 0.005547728855162859, -0.006452265661209822, 0.04019621014595032, 0.030268602073192596, 0.01968643255531788, 0.03510333225131035, 0.06851150840520859, 0.08030854910612106, -0.017716363072395325, -0.007714500650763512, -0.10994847863912582, 0.06824586540460587, -0.016585534438490868, -0.033030394464731216, -0.0019067437388002872, 0.012499035336077213, -0.025989873334765434, 0.005767008289694786, -0.04317842051386833, 0.04600725695490837, -0.022093620151281357, 0.0791059210896492, -0.21704217791557312, 0.028441008180379868, 0.0036201339680701494, 0.0009888553759083152, -0.007022077217698097, 0.032463617622852325, -0.011844363994896412, -0.018940482288599014, 0.007950732484459877, -0.02363716997206211, 0.06495191156864166, -0.05782809481024742, 0.022424861788749695, -0.05669822916388512, -0.00704561872407794, -0.03711962327361107, -0.10280215740203857, 0.04868961125612259, 0.0060667237266898155, 0.06489996612071991, 0.009699534624814987, -0.13781246542930603, 0.07643995434045792, -0.06266330927610397, -0.0029577321838587523, 0.04198860377073288, 0.0009755741339176893, 0.002627570414915681, 0.010524062439799309, -0.008198585361242294, 0.024249467998743057, 0.04295159503817558, -0.05991915613412857, -0.04514916241168976, 0.0850588008761406, 0.022722957655787468, 0.0408523790538311, -0.00884731113910675, 0.010625932365655899, -0.10496234148740768, -0.06528878957033157, 0.0025513607542961836, 0.010322300717234612, 0.03571375086903572, -0.1037762314081192, 0.04008616879582405, -0.0007124842377379537, 0.08228232711553574, -0.018898772075772285, 0.05043213814496994, 0.03009221702814102, 0.0027091277297586203, 4.5421285386765505e-33, -0.05178232491016388, -0.05133320018649101, -0.07420993596315384, 0.02940469980239868, 0.0021650695707648993, -0.05378156155347824, 0.030357083305716515, -0.01619933731853962, -0.0006919510778971016, 0.0675404816865921, 0.04259265959262848, 0.07324332743883133, -0.03432164341211319, 0.04059424623847008, -0.04803162068128586, -0.056459471583366394, 0.06497257947921753, -0.023558836430311203, -0.03760547563433647, -0.04772725701332092, 0.00413881940767169, 0.0166162122040987, -0.07216399908065796, -0.017147770151495934, 0.08093956112861633, -0.031878575682640076, 0.017284292727708817, 0.0755980908870697, -0.06339537352323532, -0.04659920185804367, 0.0037185947876423597, -0.030658911913633347, 0.05779724568128586, 0.027278251945972443, -0.002490130253136158, -0.03259802982211113, -0.0698639526963234, -0.02046199142932892, -0.06436310708522797, -0.03765567019581795, -0.031590454280376434, 0.0022189721930772066, -0.03346027806401253, 0.030309846624732018, -0.03738109767436981, 0.08510854840278625, 0.08713740855455399, -0.04575580731034279, 0.04742341488599777, -0.06412035971879959, -0.043345823884010315, 0.04564635083079338, 0.0019457560265436769, -0.09425093978643417, 0.005012576933950186, -0.023801090195775032, -0.035763565450906754, 0.05230722948908806, 0.11985860019922256, 0.04607301577925682, -0.028091982007026672, 0.037523578852415085, 0.02660340629518032, -0.04973520338535309, -0.04124987870454788, 0.07295911759138107, 0.020221106708049774, -0.03958016633987427, -0.06224191188812256, -0.1343058943748474, 0.005401655100286007, -0.029098622500896454, 0.07128595560789108, -0.006144081708043814, 0.09153401851654053, 0.04866236820816994, -0.009120527654886246, 0.03742159157991409, -0.024127008393406868, -0.06686554849147797, 0.016976499930024147, -0.11139629036188126, 0.06514430791139603, 0.10080951452255249, 0.10261115431785583, -0.09700502455234528, -0.016305390745401382, -0.09306522458791733, 0.011881532147526741, 0.014591753482818604, -0.09930197894573212, -0.08226854354143143, 0.03461639583110809, -0.0021156000439077616, -0.007396417669951916, -6.767334201995356e-33, -0.013924825005233288, 0.00880621001124382, -0.08125600963830948, -0.06899601966142654, -0.12077593058347702, -0.021575914695858955, -0.03563998267054558, 0.04157000035047531, -0.048677049577236176, -0.0013667368330061436, 0.01770663447678089, 0.06216015666723251, 0.05752473324537277, -0.04785846546292305, -0.07960252463817596, 0.13887609541416168, 0.0054007964208722115, 0.04481574892997742, 0.0005958523252047598, 0.00397834274917841, 0.012889062985777855, 0.026030709967017174, 0.019658545032143593, 0.04179564490914345, -0.03277892246842384, 0.05174201726913452, 0.13235588371753693, 0.04536060616374016, 0.07913649082183838, -0.0665084570646286, 0.011125702410936356, -0.0347578302025795, 0.06480231136083603, 0.020886581391096115, -0.04023653268814087, -0.014118574559688568, -0.09561479836702347, -0.023569589480757713, -0.04686402156949043, 0.018365224823355675, 0.01196962408721447, 1.1679050658131018e-05, 0.014862382784485817, 0.029617970809340477, -0.062428202480077744, -0.06529629230499268, -0.04474087059497833, 0.044011395424604416, -0.05406545475125313, 0.012483421713113785, 0.048193592578172684, -0.00036725602694787085, -0.01197948306798935, -0.046490784734487534, 0.04335196316242218, 0.03383413702249527, 0.004908803850412369, -0.007948939688503742, -0.0145468320697546, 0.01673508621752262, 0.08459413796663284, -0.06993239372968674, -0.05574531480669975, 0.031410858035087585, -0.007915331050753593, 0.009546168148517609, -0.09380088001489639, 0.019073359668254852, -0.01273504551500082, 0.09287797659635544, 0.0813075378537178, 0.05743969976902008, 0.03481733798980713, -0.0613374225795269, 0.050990864634513855, 0.029530789703130722, 0.08581509441137314, -0.01418350264430046, 0.06469796597957611, 0.023559654131531715, -0.04022761061787605, -0.06095898523926735, 0.012671587988734245, -0.05802144855260849, 0.021773239597678185, -0.028091469779610634, -0.10249369591474533, 0.04363294690847397, 0.011610813438892365, 0.07676763832569122, -0.02363152615725994, -0.044262874871492386, -0.03312903270125389, 0.061521656811237335, -0.003747722366824746, -5.609471287471024e-08, 0.0037771861534565687, -0.05184280127286911, 0.009806280955672264, -0.11008023470640182, -0.04891813173890114, -0.06784715503454208, 0.00878848321735859, -0.07026594132184982, -0.06933807581663132, 0.008843261748552322, -0.04749784246087074, 0.04652286320924759, -0.08631035685539246, -0.010195951908826828, 0.06811892241239548, 0.04847279563546181, -0.0020558738615363836, 0.059439197182655334, -0.045234329998493195, 0.011597922071814537, -0.01849464513361454, -0.03541883826255798, -0.0059380135498940945, 0.025914499536156654, 0.0514272078871727, -0.001395327621139586, 0.02569987252354622, -0.01697743870317936, 0.05155343934893608, -0.0056595285423099995, -0.04616284742951393, -0.012728524394333363, -0.009197616949677467, -0.08886147290468216, 0.02171924151480198, 0.017881395295262337, 0.024916471913456917, -0.06748007982969284, 0.040039706975221634, -0.02020762860774994, -0.00756206177175045, -0.07305089384317398, -0.00534282810986042, 0.08980467170476913, -0.029323413968086243, -0.012740661390125751, -0.028197675943374634, 0.06840354204177856, 0.01928354986011982, -0.03675251081585884, -0.017657341435551643, -0.0425780713558197, -0.02964995987713337, -0.02369288168847561, -0.012023470364511013, 0.044797636568546295, -0.08827922493219376, 0.00610283762216568, 0.08127905428409576, 0.013636201620101929, 0.007596252951771021, 0.017313219606876373, -0.019371388480067253, -0.01831052638590336]}, {"id": "dyn_ui_component_DynStack", "text": "# Component: DynStack\n\n--- Types (DynStack.types.ts) ---\nimport type { ElementType, ReactNode, ComponentPropsWithoutRef } from 'react';\nimport type { BaseComponentProps, AccessibilityProps } from '../../types';\n\nexport type DynStackDirection = 'vertical' | 'horizontal' | 'reverse' | 'vertical-reverse' | 'horizontal-reverse';\nexport type DynStackGap = 'none' | '2xs' | 'xs' | 'sm' | 'md' | 'lg' | 'xl' | '2xl' | '3xl' | '4xl';\nexport type DynStackAlign = 'start' | 'center' | 'end' | 'stretch' | 'baseline';\nexport type DynStackJustify = 'start' | 'center' | 'end' | 'between' | 'around' | 'evenly';\n\nexport interface DynStackOwnProps extends BaseComponentProps, AccessibilityProps {\n    /** Stack direction */\n    direction?: DynStackDirection;\n\n    /** Gap between items */\n    gap?: DynStackGap;\n\n    /** Align items */\n    align?: DynStackAlign;\n\n    /** Justify content */\n    justify?: DynStackJustify;\n\n    /** Whether items should wrap */\n    wrap?: boolean;\n\n    /** Children to render */\n    children?: ReactNode;\n\n    /** Flex shorthand for the stack itself */\n    flex?: string | number;\n}\n\ntype PolymorphicComponentProps<E extends ElementType, P> = P &\n    Omit<ComponentPropsWithoutRef<E>, keyof P>;\n\nexport type DynStackProps<E extends ElementType = 'div'> = PolymorphicComponentProps<\n    E,\n    DynStackOwnProps\n> & {\n    as?: E;\n};\n\nexport const DYN_STACK_DEFAULT_PROPS = {\n    direction: 'vertical',\n    gap: 'md',\n    align: 'stretch',\n    justify: 'start',\n    wrap: false,\n} as const;\n\n\n--- Component (DynStack.tsx) ---\nimport React, { forwardRef } from 'react';\nimport { cn } from '../../utils/classNames';\nimport type { DynStackProps } from './DynStack.types';\nimport { DYN_STACK_DEFAULT_PROPS } from './DynStack.types';\nimport styles from './DynStack.module.css';\n\nconst toCamelCase = (s: string) => s ? s.replace(/-([a-z])/g, (g) => g[1].toUpperCase()) : '';\n\n// Valid token keys from stack.json (approximate list for gap)\nconst GAP_TOKENS = ['none', '2xs', 'xs', 'sm', 'md', 'lg', 'xl', '2xl', '3xl', '4xl'];\nconst isToken = (v?: string | number) => v !== undefined && GAP_TOKENS.includes(String(v));\n\nconst DIRECTIONS = ['vertical', 'horizontal', 'reverse', 'vertical-reverse', 'horizontal-reverse'];\nconst ALIGNS = ['start', 'center', 'end', 'stretch', 'baseline'];\nconst JUSTIFIES = ['start', 'center', 'end', 'between', 'around', 'evenly'];\nconst WRAPS = ['wrap', 'nowrap', 'wrap-reverse'];\n\nexport const DynStack = forwardRef(\n    <E extends React.ElementType = 'div'>(\n        {\n            as,\n            direction = DYN_STACK_DEFAULT_PROPS.direction,\n            gap = DYN_STACK_DEFAULT_PROPS.gap,\n            align = DYN_STACK_DEFAULT_PROPS.align,\n            justify = DYN_STACK_DEFAULT_PROPS.justify,\n            wrap = DYN_STACK_DEFAULT_PROPS.wrap,\n            flex,\n            className,\n            children,\n            style,\n            ...rest\n        }: DynStackProps<E>,\n        ref: React.Ref<any>\n    ) => {\n        const Component = as || 'div';\n\n        const classes = cn(\n            styles.container,\n\n            // Direction mapping\n            direction && DIRECTIONS.includes(direction) && styles[toCamelCase(direction === 'reverse' ? 'vertical-reverse' : direction) as keyof typeof styles], // Handle 'reverse' alias\n\n            // Gap mapping (Token based)\n            gap && isToken(gap) && styles[`gap${toCamelCase(String(gap)).replace(/^\\w/, c => c.toUpperCase())}` as keyof typeof styles],\n\n            // Align mapping\n            align && ALIGNS.includes(align) && styles[`align${toCamelCase(align).replace(/^\\w/, c => c.toUpperCase())}` as keyof typeof styles],\n\n            // Justify mapping\n            justify && JUSTIFIES.includes(justify) && styles[`justify${toCamelCase(justify).replace(/^\\w/, c => c.toUpperCase())}` as keyof typeof styles],\n\n            // Wrap mapping\n            wrap === true && styles.wrap,\n            wrap === false && styles.noWrap,\n\n            // Flex variants (not strictly part of stack.json but supported utility)\n            styles.flex1 && flex === 1 && styles.flex1,\n\n            className\n        );\n\n        const styleVars: React.CSSProperties = {\n            ...(direction && !DIRECTIONS.includes(direction) ? { '--dyn-stack-direction': direction } : {}),\n            ...(align && !ALIGNS.includes(align) ? { '--dyn-stack-align-items': align } : {}),\n            ...(justify && !JUSTIFIES.includes(justify) ? { '--dyn-stack-justify-content': justify } : {}),\n            ...(wrap && typeof wrap === 'string' && !WRAPS.includes(wrap) ? { '--dyn-stack-wrap': wrap } : {}),\n            ...(gap && !isToken(gap) ? { '--dyn-stack-gap': typeof gap === 'number' ? `${gap}px` : gap } : {}),\n            ...style,\n            flex: flex !== undefined ? flex : style?.flex,\n        } as React.CSSProperties;\n\n        return (\n            <Component ref={ref} className={classes} style={styleVars} {...rest}>\n                {children}\n            </Component>\n        );\n    }\n);\n\nDynStack.displayName = 'DynStack';\n\n\n--- Usage Examples (DynStack.stories.tsx) ---\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { DynStack } from './DynStack';\nimport { DynBox } from '../DynBox';\n\nconst meta = {\n    title: 'Layout/DynStack',\n    component: DynStack,\n    parameters: {\n        layout: 'padded',\n        docs: {\n            description: {\n                component: 'A flexible stack layout component for arranging children in vertical or horizontal layouts with customizable gap, alignment, and justification.',\n            },\n        },\n    },\n    tags: ['autodocs'],\n    argTypes: {\n        direction: {\n            control: 'select',\n            options: ['vertical', 'horizontal', 'reverse'],\n            description: 'Stack direction',\n        },\n        gap: {\n            control: 'select',\n            options: ['none', 'xs', 'sm', 'md', 'lg', 'xl'],\n            description: 'Gap between items',\n        },\n        align: {\n            control: 'select',\n            options: ['start', 'center', 'end', 'stretch', 'baseline'],\n            description: 'Cross-axis alignment',\n        },\n        justify: {\n            control: 'select',\n            options: ['start', 'center', 'end', 'between', 'around', 'evenly'],\n            description: 'Main-axis justification',\n        },\n        wrap: {\n            control: 'boolean',\n            description: 'Allow items to wrap',\n        },\n    },\n} satisfies Meta<typeof DynStack>;\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\nconst ExampleBox = ({ children, color = '#3b82f6' }: { children: React.ReactNode; color?: string }) => (\n    <div\n        style={{\n            padding: '16px 24px',\n            backgroundColor: color,\n            color: 'white',\n            borderRadius: '8px',\n            fontWeight: 500,\n        }}\n    >\n        {children}\n    </div>\n);\n\nexport const Default: Story = {\n    args: {\n        direction: 'vertical',\n        gap: 'md',\n        children: (\n            <>\n                <ExampleBox>Item 1</ExampleBox>\n                <ExampleBox>Item 2</ExampleBox>\n                <ExampleBox>Item 3</ExampleBox>\n            </>\n        ),\n    },\n};\n\nexport const Horizontal: Story = {\n    args: {\n        direction: 'horizontal',\n        gap: 'md',\n        children: (\n            <>\n                <ExampleBox>Item 1</ExampleBox>\n                <ExampleBox>Item 2</ExampleBox>\n                <ExampleBox>Item 3</ExampleBox>\n            </>\n        ),\n    },\n};\n\nexport const Vertical: Story = {\n    args: {\n        direction: 'vertical',\n        gap: 'lg',\n        children: (\n            <>\n                <ExampleBox>First</ExampleBox>\n                <ExampleBox>Second</ExampleBox>\n                <ExampleBox>Third</ExampleBox>\n            </>\n        ),\n    },\n};\n\nexport const WithAlignment: Story = {\n    args: {\n        direction: 'horizontal',\n        gap: 'md',\n        align: 'center',\n        justify: 'between',\n        style: { width: '100%', minWidth: '400px' },\n        children: (\n            <>\n                <ExampleBox>Left</ExampleBox>\n                <ExampleBox>Center</ExampleBox>\n                <ExampleBox>Right</ExampleBox>\n            </>\n        ),\n    },\n};\n\nexport const AllGapSizes: Story = {\n    render: () => (\n        <DynStack direction=\"vertical\" gap=\"xl\">\n            {(['none', 'xs', 'sm', 'md', 'lg', 'xl'] as const).map((gapSize) => (\n                <div key={gapSize}>\n                    <p style={{ marginBottom: '8px', fontWeight: 500 }}>Gap: {gapSize}</p>\n                    <DynStack direction=\"horizontal\" gap={gapSize}>\n                        <ExampleBox color=\"#6366f1\">A</ExampleBox>\n                        <ExampleBox color=\"#6366f1\">B</ExampleBox>\n                        <ExampleBox color=\"#6366f1\">C</ExampleBox>\n                    </DynStack>\n                </div>\n            ))}\n        </DynStack>\n    ),\n};\n\nexport const Wrapped: Story = {\n    args: {\n        direction: 'horizontal',\n        gap: 'md',\n        wrap: true,\n        style: { maxWidth: '300px' },\n        children: (\n            <>\n                <ExampleBox>Item 1</ExampleBox>\n                <ExampleBox>Item 2</ExampleBox>\n                <ExampleBox>Item 3</ExampleBox>\n                <ExampleBox>Item 4</ExampleBox>\n                <ExampleBox>Item 5</ExampleBox>\n            </>\n        ),\n    },\n};\n\nexport const NestedStacks: Story = {\n    render: (args) => (\n        <DynStack {...args} style={{ minHeight: '400px', border: '1px dashed #ccc', ...args.style }}>\n            <DynStack direction=\"horizontal\" gap=\"md\" style={{ width: 'fit-content', border: '1px solid #e5e7eb', padding: '8px' }}>\n                <ExampleBox color=\"#10b981\">Row 1 - A</ExampleBox>\n                <ExampleBox color=\"#10b981\">Row 1 - B</ExampleBox>\n            </DynStack>\n            <DynStack direction=\"horizontal\" gap=\"md\" style={{ width: 'fit-content', border: '1px solid #e5e7eb', padding: '8px' }}>\n                <ExampleBox color=\"#f59e0b\">Row 2 - A</ExampleBox>\n                <ExampleBox color=\"#f59e0b\">Row 2 - B</ExampleBox>\n                <ExampleBox color=\"#f59e0b\">Row 2 - C</ExampleBox>\n            </DynStack>\n        </DynStack>\n    ),\n};\n\nexport const Reverse: Story = {\n    args: {\n        direction: 'reverse',\n        gap: 'md',\n        children: (\n            <>\n                <ExampleBox>First (appears last)</ExampleBox>\n                <ExampleBox>Second</ExampleBox>\n                <ExampleBox>Third (appears first)</ExampleBox>\n            </>\n        ),\n    },\n};\n\nexport const PolymorphicAs: Story = {\n    args: {\n        as: 'section',\n        direction: 'vertical',\n        gap: 'md',\n        children: (\n            <>\n                <ExampleBox>Rendered as section element</ExampleBox>\n                <ExampleBox>Item 2</ExampleBox>\n            </>\n        ),\n    },\n};\n\n\n--- Styles (DynStack.module.css) ---\n/**\n * DynStack Component Styles\n * 100% Design Token Compliance\n * Unified Token Strategy: 3-Level Fallback Pattern\n */\n\n.container {\n  /* Layout Variables - Scoped to Component */\n  --dyn-stack-display: var(--dyn-stack-size-display, flex);\n  \n  /* Direction tokens with Fallbacks */\n  --dyn-stack-direction-vertical: var(--dyn-stack-size-direction-vertical, column);\n  --dyn-stack-direction-horizontal: var(--dyn-stack-size-direction-horizontal, row);\n  --dyn-stack-direction-vertical-reverse: var(--dyn-stack-size-direction-vertical-reverse, column-reverse);\n  --dyn-stack-direction-horizontal-reverse: var(--dyn-stack-size-direction-horizontal-reverse, row-reverse);\n\n  /* Spacing/Gap tokens with Fallbacks */\n  --dyn-stack-gap-none: 0;\n  --dyn-stack-gap-2xs: var(--dyn-stack-spacing-gap-2xs, var(--dyn-spacing-2xs, 0.125rem));\n  --dyn-stack-gap-xs: var(--dyn-stack-spacing-gap-xs, var(--dyn-spacing-xs, 0.25rem));\n  --dyn-stack-gap-sm: var(--dyn-stack-spacing-gap-sm, var(--dyn-spacing-sm, 0.5rem));\n  --dyn-stack-gap-md: var(--dyn-stack-spacing-gap-md, var(--dyn-spacing-md, 1rem));\n  --dyn-stack-gap-lg: var(--dyn-stack-spacing-gap-lg, var(--dyn-spacing-lg, 1.5rem));\n  --dyn-stack-gap-xl: var(--dyn-stack-spacing-gap-xl, var(--dyn-spacing-xl, 2rem));\n  --dyn-stack-gap-2xl: var(--dyn-stack-spacing-gap-2xl, var(--dyn-spacing-2xl, 2.5rem));\n  --dyn-stack-gap-3xl: var(--dyn-stack-spacing-gap-3xl, var(--dyn-spacing-3xl, 3.0rem));\n  --dyn-stack-gap-4xl: var(--dyn-stack-spacing-gap-4xl, var(--dyn-spacing-4xl, 4.0rem));\n\n  /* Alignment defaults */\n  --dyn-stack-align-start: var(--dyn-stack-size-align-start, flex-start);\n  --dyn-stack-align-center: var(--dyn-stack-size-align-center, center);\n  --dyn-stack-align-end: var(--dyn-stack-size-align-end, flex-end);\n  --dyn-stack-align-stretch: var(--dyn-stack-size-align-stretch, stretch);\n  --dyn-stack-align-baseline: var(--dyn-stack-size-align-baseline, baseline);\n\n  /* Justify defaults */\n  --dyn-stack-justify-start: var(--dyn-stack-size-justify-start, flex-start);\n  --dyn-stack-justify-center: var(--dyn-stack-size-justify-center, center);\n  --dyn-stack-justify-end: var(--dyn-stack-size-justify-end, flex-end);\n  --dyn-stack-justify-between: var(--dyn-stack-size-justify-between, space-between);\n  --dyn-stack-justify-around: var(--dyn-stack-size-justify-around, space-around);\n  --dyn-stack-justify-evenly: var(--dyn-stack-size-justify-evenly, space-evenly);\n\n  /* Wrap defaults */\n  --dyn-stack-wrap-wrap: var(--dyn-stack-size-wrap, wrap);\n  --dyn-stack-wrap-nowrap: var(--dyn-stack-size-nowrap, nowrap);\n  --dyn-stack-wrap-wrap-reverse: var(--dyn-stack-size-wrap-reverse, wrap-reverse);\n\n  /* Internal Computed Values - default gap: sm (8px) per STYLE_REGISTRY */\n  --dyn-stack-direction-val: var(--dyn-stack-direction, var(--dyn-stack-direction-vertical));\n  --dyn-stack-gap-val: var(--dyn-stack-gap, var(--dyn-stack-gap-sm));\n  --dyn-stack-align-val: var(--dyn-stack-align-items, var(--dyn-stack-align-stretch));\n  --dyn-stack-justify-val: var(--dyn-stack-justify-content, var(--dyn-stack-justify-start));\n  --dyn-stack-wrap-val: var(--dyn-stack-wrap, var(--dyn-stack-wrap-nowrap));\n\n  display: var(--dyn-stack-display);\n  flex-direction: var(--dyn-stack-direction-val);\n  gap: var(--dyn-stack-gap-val);\n  align-items: var(--dyn-stack-align-val);\n  justify-content: var(--dyn-stack-justify-val);\n  flex-wrap: var(--dyn-stack-wrap-val);\n\n  width: 100%;\n  height: auto;\n  font-family: inherit;\n  box-sizing: border-box;\n}\n\n/* ============================================\n   DIRECTION VARIANTS\n   ============================================ */\n.vertical {\n  --dyn-stack-direction: var(--dyn-stack-direction-vertical);\n}\n\n.horizontal {\n  --dyn-stack-direction: var(--dyn-stack-direction-horizontal);\n}\n\n.reverse,\n.verticalReverse {\n  --dyn-stack-direction: var(--dyn-stack-direction-vertical-reverse);\n}\n\n.horizontalReverse {\n  --dyn-stack-direction: var(--dyn-stack-direction-horizontal-reverse);\n}\n\n/* ============================================\n   ALIGNMENT VARIANTS\n   ============================================ */\n.alignStart {\n  --dyn-stack-align-items: var(--dyn-stack-align-start);\n}\n\n.alignCenter {\n  --dyn-stack-align-items: var(--dyn-stack-align-center);\n}\n\n.alignEnd {\n  --dyn-stack-align-items: var(--dyn-stack-align-end);\n}\n\n.alignStretch {\n  --dyn-stack-align-items: var(--dyn-stack-align-stretch);\n}\n\n.alignBaseline {\n  --dyn-stack-align-items: var(--dyn-stack-align-baseline);\n}\n\n/* ============================================\n   JUSTIFICATION VARIANTS\n   ============================================ */\n.justifyStart {\n  --dyn-stack-justify-content: var(--dyn-stack-justify-start);\n}\n\n.justifyCenter {\n  --dyn-stack-justify-content: var(--dyn-stack-justify-center);\n}\n\n.justifyEnd {\n  --dyn-stack-justify-content: var(--dyn-stack-justify-end);\n}\n\n.justifyBetween {\n  --dyn-stack-justify-content: var(--dyn-stack-justify-between);\n}\n\n.justifyAround {\n  --dyn-stack-justify-content: var(--dyn-stack-justify-around);\n}\n\n.justifyEvenly {\n  --dyn-stack-justify-content: var(--dyn-stack-justify-evenly);\n}\n\n/* ============================================\n   GAP VARIANTS\n   ============================================ */\n.gapNone {\n  --dyn-stack-gap: var(--dyn-stack-gap-none);\n}\n\n.gap2xs {\n  --dyn-stack-gap: var(--dyn-stack-gap-2xs);\n}\n\n.gapXs {\n  --dyn-stack-gap: var(--dyn-stack-gap-xs);\n}\n\n.gapSm {\n  --dyn-stack-gap: var(--dyn-stack-gap-sm);\n}\n\n.gapMd {\n  --dyn-stack-gap: var(--dyn-stack-gap-md);\n}\n\n.gapLg {\n  --dyn-stack-gap: var(--dyn-stack-gap-lg);\n}\n\n.gapXl {\n  --dyn-stack-gap: var(--dyn-stack-gap-xl);\n}\n\n.gap2xl {\n  --dyn-stack-gap: var(--dyn-stack-gap-2xl);\n}\n\n.gap3xl {\n  --dyn-stack-gap: var(--dyn-stack-gap-3xl);\n}\n\n.gap4xl {\n  --dyn-stack-gap: var(--dyn-stack-gap-4xl);\n}\n\n/* ============================================\n   WRAP VARIANTS\n   ============================================ */\n.wrap {\n  --dyn-stack-wrap: var(--dyn-stack-wrap-wrap);\n}\n\n.noWrap {\n  --dyn-stack-wrap: var(--dyn-stack-wrap-nowrap);\n}\n\n.wrapReverse {\n  --dyn-stack-wrap: var(--dyn-stack-wrap-wrap-reverse);\n}\n\n/* ============================================\n   FLEX VARIANTS\n   ============================================ */\n.flex1 {\n  flex: 1 1 auto;\n}\n\n.flexGrow {\n  flex-grow: 1;\n}\n\n.flexShrink {\n  flex-shrink: 1;\n}\n\n.flexNone {\n  flex: none;\n}\n\n/* ============================================\n   ACCESSIBILITY & UTILS\n   ============================================ */\n@media (prefers-reduced-motion: reduce) {\n  .container {\n    transition: none !important;\n  }\n}\n\n.container > :focus-visible {\n  outline: var(--dyn-border-width-md, 2px) solid var(--dyn-semantic-border-focus, #3b82f6);\n  outline-offset: var(--dyn-spacing-2xs, 2px);\n}\n\n@media (prefers-contrast: high) {\n  .container > :focus-visible {\n    outline-width: var(--dyn-border-width-lg, 3px);\n  }\n}\n", "metadata": {"type": "ui_component", "name": "DynStack", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynStack"}, "embedding": [-0.07512948662042618, -0.02853292040526867, 0.014516180381178856, -0.008660160936415195, -0.08192447572946548, 0.047856587916612625, -0.05903638154268265, 0.11885812878608704, -0.02804371900856495, 0.04585903137922287, -0.06928560882806778, 0.005148492753505707, -0.022895971313118935, 0.007689924910664558, 0.005954183638095856, 0.054124053567647934, -0.08586550503969193, -0.016647469252347946, 0.008805552497506142, 0.06083207204937935, 0.013991745188832283, -0.07123887538909912, 0.0472005158662796, -0.024069104343652725, -0.0015269221039488912, 0.05472597852349281, 0.019617930054664612, 0.04552213475108147, 0.06682360172271729, -0.05774419754743576, -0.042867131531238556, 0.06275138258934021, -0.0879444107413292, 0.001257826224900782, -0.08487515151500702, 0.07157834619283676, -0.06267616897821426, 0.0715530589222908, -0.011345336213707924, -0.011472884565591812, 0.11953804641962051, 0.06400923430919647, 0.05112437903881073, -0.057065777480602264, 0.02834932506084442, 0.010958023369312286, -0.11703600734472275, -0.00038332847179844975, -0.0060392641462385654, 0.019220933318138123, 0.01717388816177845, 0.01725752092897892, 0.03744370490312576, 0.017636144533753395, 0.026336397975683212, 0.034146055579185486, 0.06383328884840012, 0.07517725974321365, 0.0823664516210556, -0.005465648137032986, 0.1111055240035057, -0.027300206944346428, 0.03436390683054924, -0.09819440543651581, 0.03375524282455444, 0.06695637106895447, -0.049933549016714096, -0.0007965777767822146, -0.003732741577550769, -0.0018164172070100904, -0.06109270080924034, 0.013302922248840332, 0.0639059767127037, -0.01694219373166561, 0.03620805963873863, -0.10896008461713791, 0.00905790738761425, 0.05127252638339996, 0.017682457342743874, 0.004093613475561142, 0.020375018939375877, 0.03780844435095787, -0.05547718703746796, 0.11725051701068878, -0.06888248771429062, 0.07039062678813934, -0.011777225881814957, -0.04217509180307388, -0.011946550570428371, -0.016219843178987503, -0.027246080338954926, -0.06861981749534607, -0.06310444325208664, 0.0464753732085228, -0.015385521575808525, 0.000821016903501004, -0.07632657885551453, 0.06860455870628357, -0.07579895108938217, -0.019650308415293694, 0.0190396998077631, -0.029789846390485764, -0.008424106985330582, 0.01271175779402256, -0.04008965939283371, -0.06414052844047546, -0.029094545170664787, -0.12064822763204575, -0.08682524412870407, 0.012122577987611294, 0.003588692517951131, 0.06487298011779785, -0.025962885469198227, 0.05929449945688248, -0.06688320636749268, -0.0382695235311985, 0.008540642447769642, -0.0747000053524971, 0.06343705952167511, -0.05061342194676399, 0.08032607287168503, 0.004437386058270931, 0.014306715689599514, -0.025961285457015038, 0.06038941070437431, 0.07416156679391861, 0.07788260281085968, 7.843394955049525e-33, -0.06887033581733704, 0.005744218360632658, 0.032236699014902115, 0.03891003504395485, 0.051549118012189865, -0.03563763573765755, -0.027321433648467064, -0.01704755611717701, -0.024067746475338936, 0.035265788435935974, 0.0009252256131730974, 0.051494572311639786, -0.11488018929958344, -0.0030487540643662214, -0.08810286968946457, -0.09822232276201248, 0.06280318647623062, 0.02200019359588623, -0.1372804343700409, -0.043536677956581116, 0.038691163063049316, 0.008816580288112164, -0.10427635908126831, -0.012998710386455059, 0.034732453525066376, -0.031613752245903015, -0.030978858470916748, 0.0678207129240036, -0.0616917721927166, -0.04769735410809517, 0.002897529397159815, 0.008140294812619686, 0.02903212234377861, 0.035302698612213135, -0.023019714280962944, -0.04066455736756325, -0.07852436602115631, -0.008883681148290634, -0.029279839247465134, 0.0018956528510898352, -0.06583785265684128, 0.014574271626770496, -0.024753062054514885, 0.02137770876288414, -0.005772297736257315, 0.04450938105583191, 0.0762944445014, -0.02406815066933632, 0.034233421087265015, -0.04467539116740227, 0.008509497158229351, 0.06964734196662903, 0.022478051483631134, -0.17675049602985382, 0.027643771842122078, -0.0360712856054306, 0.009019366465508938, 0.05445443466305733, 0.05184531211853027, 0.06406523287296295, -0.07900876551866531, 0.006785904988646507, -0.007464597932994366, -0.022678963840007782, -0.022461168467998505, 0.01258697360754013, -0.040646620094776154, -0.050336189568042755, 0.028007736429572105, -0.04715830832719803, 0.03793881833553314, -0.03793492168188095, -0.029893601313233376, 0.033807191997766495, 0.026244500651955605, 0.03724024072289467, -0.020699823275208473, 0.01687416434288025, 0.04301568120718002, -0.11651106178760529, -0.006376306526362896, 0.0015054361429065466, 0.0002921881095971912, 0.03238191828131676, 0.06745842844247818, -0.037818536162376404, -0.03364313021302223, -0.03463325276970863, 0.05012718215584755, 0.00570918433368206, -0.11285637319087982, -0.08395528793334961, 0.040616411715745926, -0.038808614015579224, -0.013341966085135937, -9.52882977551806e-33, 0.01657763123512268, 0.015806769952178, -0.05770396813750267, -0.0034170772414654493, -0.024791214615106583, 0.023295439779758453, 0.0394597165286541, 0.08900654315948486, -0.007706381380558014, 0.06026426702737808, 0.04551736265420914, 0.07279034703969955, -0.009606165811419487, -0.034133777022361755, -0.08157455921173096, 0.11612723022699356, 0.008202839642763138, 0.04355134069919586, 0.05393645539879799, -0.05391101911664009, 0.07641865313053131, -0.0015029390342533588, -0.023528844118118286, 0.14674092829227448, 0.013059423305094242, 0.011257447302341461, 0.09973037242889404, 0.07873376458883286, 0.011384304612874985, -0.023808235302567482, -0.02976997010409832, -0.04237157851457596, 0.04745914414525032, 0.03924260288476944, -0.023495826870203018, -0.08315300196409225, -0.08642718195915222, 0.0614466592669487, 0.007131036836653948, -0.018941842019557953, -0.046810030937194824, -0.038242653012275696, 0.029798032715916634, -0.023437874391674995, -0.024615220725536346, -0.029346751049160957, -0.013591744937002659, 0.02084248512983322, -0.07929925620555878, 0.013824240304529667, 0.0030236595775932074, 0.020495735108852386, 0.007433733902871609, 0.0213546771556139, -0.024129671975970268, 0.04849591106176376, -0.008639023639261723, -0.04792977496981621, 0.05371600389480591, 0.02682114578783512, 0.018176844343543053, -0.10467077791690826, 0.002917226403951645, -0.012046362273395061, 0.030935360118746758, -0.017612649127840996, -0.12666724622249603, -0.07383003830909729, -0.026150645688176155, 0.03391223028302193, 0.019945062696933746, 0.06402213126420975, 0.04455030709505081, -0.048695605248212814, 0.03557400032877922, -0.05632846802473068, 0.05576813220977783, 0.012425144203007221, 0.08658783882856369, 0.01700597256422043, -0.0764845758676529, -0.011741504073143005, 0.08084481954574585, 0.0483638271689415, -0.08144928514957428, -0.012157643213868141, -0.018642978742718697, 0.116584911942482, 0.055661335587501526, 0.07949858903884888, -0.036554161459207535, -0.06093759834766388, -0.029880298301577568, -0.015435449779033661, 0.030204255133867264, -6.617224812544009e-08, -0.04177355021238327, -0.08560511469841003, 0.02249317802488804, 0.005573303904384375, -0.05248919874429703, -0.10440034419298172, 0.007856752723455429, -0.03286220133304596, -0.003660052316263318, -0.003290972439572215, -0.012293143197894096, 0.10748952627182007, -0.02127213589847088, 0.003292321227490902, 0.03719158470630646, 0.0034045923966914415, -0.03128165379166603, 0.0631805956363678, -0.03626420721411705, 0.030468279495835304, -0.003183015389367938, -0.07166173309087753, -0.011741173453629017, 0.029536273330450058, 0.0723613053560257, -0.036470260471105576, -0.05408427491784096, 0.002739015966653824, 0.06430108845233917, 0.01018028985708952, -0.02776326984167099, -0.036548491567373276, 0.02233259752392769, -0.04023488983511925, -0.07470473647117615, 0.014736725948750973, 0.04658600315451622, -0.03509743884205818, 0.07242401689291, 0.024631278589367867, -0.009388620965182781, -0.027792634442448616, 0.02911686711013317, 0.03052137978374958, -0.052356965839862823, -0.04565318673849106, -0.04248208552598953, 0.06533560156822205, 0.03357059508562088, -0.02090730331838131, 0.026208242401480675, -0.06031845882534981, -0.029965616762638092, -0.02594108320772648, 0.012972782365977764, -0.0028456770814955235, -0.07981882989406586, 0.027721691876649857, 0.014205570332705975, 0.01260948646813631, -0.044141508638858795, 0.04423616826534271, 0.030158793553709984, -0.06235687807202339]}, {"id": "dyn_ui_component_DynStepper", "text": "# Component: DynStepper\n\n--- Types (DynStepper.types.ts) ---\n/**\n * DynStepper TypeScript type definitions\n * Complete step navigation component types with advanced progression features\n */\n\nimport type { BaseComponentProps, AccessibilityProps } from '../../types';\n\n// Enhanced Step interface with all required properties\nexport interface StepItem {\n  id: string;\n  title?: string;\n  label?: string; // alias for title\n  content?: React.ReactNode | ((props: { index: number; selected: boolean }) => React.ReactNode);\n  description?: string;\n  icon?: string | React.ReactNode;\n  disabled?: boolean;\n  completed?: boolean;\n  error?: boolean;\n  optional?: boolean;\n  tooltip?: string;\n  status?: 'inactive' | 'active' | 'completed' | 'error' | 'disabled';\n  validator?: (step: StepItem) => boolean; // Custom validation function\n  state?: 'pending' | 'active' | 'completed' | 'error'; // Alternative to status\n}\n\n// Complete DynStepperProps interface\nexport interface DynStepperProps extends BaseComponentProps, AccessibilityProps {\n  /** \n   * Array of step configurations. \n   * Each item defines titles, icons, and the content/logic for that specific step.\n   */\n  steps: StepItem[];\n\n  /** \n   * Current active step identifier (id or index). \n   * Use this for controlled components where you manage the state externally.\n   * @deprecated Use activeStep for numeric indexing.\n   */\n  value?: string | number;\n\n  /** \n   * Initial active step identifier for uncontrolled components.\n   * @deprecated Use defaultActiveStep for numeric indexing.\n   */\n  defaultValue?: string | number;\n\n  /** \n   * The 0-based index of the currently active step. \n   * This is the preferred way to control the stepper in modern implementations.\n   */\n  activeStep?: number;\n\n  /** The 0-based index of the step that should be active by default. */\n  defaultActiveStep?: number;\n\n  /** \n   * Callback triggered when the active step changes.\n   * Provides the new value, the full step object, and the index.\n   */\n  onChange?: (value: string | number, step: StepItem, index: number) => void;\n\n  /** \n   * The visual flow direction of the step indicators.\n   * @default 'horizontal'\n   */\n  orientation?: 'horizontal' | 'vertical';\n\n  /** \n   * Visual theme for the step indicators.\n   * - 'numbered': Traditional 1, 2, 3 circles.\n   * - 'dots': Clean bullet points.\n   * - 'progress': Continuous bar.\n   * - 'tabs': Tab-like buttons.\n   * @default 'numbered'\n   */\n  variant?: 'default' | 'numbered' | 'dots' | 'progress' | 'tabs';\n\n  /** \n   * Vertical density and item scaling.\n   * @default 'md'\n   */\n  size?: 'sm' | 'md' | 'lg';\n\n  /** \n   * If true, users must complete steps in sequential order. \n   * Navigation to future steps (beyond current + 1) is blocked.\n   * @default true\n   */\n  linear?: boolean;\n\n  /** If true, step titles are displayed alongside icons/numbers. */\n  showLabels?: boolean;\n\n  /** If true, step description text is displayed below the titles. */\n  showDescription?: boolean;\n\n  /** If true, users can click on step headers to navigate (subject to linear constraints). */\n  clickableSteps?: boolean;\n\n  /** Custom CSS class for the root container. */\n  className?: string;\n\n  /** Custom CSS class applied to each individual step indicator. */\n  stepClassName?: string;\n\n  /** Custom CSS class for the container holding the step content panels. */\n  contentClassName?: string;\n\n  /** \n   * Callback triggered when active step changes (Legacy support). \n   * @deprecated Use onChange instead.\n   */\n  onStepChange?: (step: number, stepData: StepItem) => void;\n\n  /** \n   * Callback triggered when a step is clicked. \n   * Return `false` to prevent the navigation from happening.\n   */\n  onStepClick?: (step: number, stepData: StepItem) => boolean | void;\n\n  /** \n   * Higher-order function to override how the main content of a step is rendered.\n   * Useful for adding global wrappers like animations or context providers to all steps.\n   */\n  renderStepContent?: (step: StepItem, index: number) => React.ReactNode;\n\n  /** \n   * Function to provide a custom icon element for the step header.\n   * Overrides both default numbers and the item's `icon` property.\n   */\n  renderStepIcon?: (step: StepItem, index: number, isActive: boolean) => React.ReactNode;\n\n  /** Unique identifier for the component. */\n  id?: string;\n\n  /** Accessibility label for the stepper group. */\n  'aria-label'?: string;\n\n  /** ID of an element that labels this stepper group. */\n  'aria-labelledby'?: string;\n\n  /** Identifier used specifically for automated testing. */\n  'data-testid'?: string;\n}\n\n// Complete DynStepperRef interface with proper return types\nexport interface DynStepperRef {\n  /** Navigate to next step - returns success status */\n  nextStep: () => boolean;\n\n  /** Navigate to previous step - returns success status */\n  prevStep: () => boolean;\n\n  /** Navigate to specific step - returns success status */\n  goToStep: (step: number) => boolean;\n\n  /** Get current active step index */\n  getCurrentStep: () => number;\n\n  /** Get step data by index */\n  getStepData: (step: number) => StepItem | undefined;\n\n  /** Validate step by index */\n  validateStep: (step: number) => boolean;\n\n  /** Mark step as completed */\n  completeStep: (step: number) => void;\n\n  /** Set error state for step */\n  errorStep: (step: number, hasError: boolean) => void;\n}\n\n// Legacy aliases for backward compatibility\nexport type DynStepperHandle = DynStepperRef;\nexport type DynStep = StepItem;\n\n// Step interface alias (matching test expectations)\nexport interface Step extends StepItem { }\n\n// Default configuration\nexport const STEPPER_DEFAULTS = {\n  orientation: 'horizontal' as const,\n  variant: 'numbered' as const,\n  size: 'md' as const,\n  linear: true,\n  showLabels: true,\n  showDescription: false,\n  clickableSteps: true,\n  defaultActiveStep: 0\n};\n\n// Step variants\nexport const STEPPER_VARIANTS = {\n  DEFAULT: 'default',\n  NUMBERED: 'numbered',\n  DOTS: 'dots',\n  PROGRESS: 'progress',\n  TABS: 'tabs'\n} as const;\n\n// Step orientations\nexport const STEPPER_ORIENTATIONS = {\n  HORIZONTAL: 'horizontal',\n  VERTICAL: 'vertical'\n} as const;\n\n// Step states\nexport const STEP_STATES = {\n  INACTIVE: 'inactive',\n  ACTIVE: 'active',\n  COMPLETED: 'completed',\n  ERROR: 'error',\n  DISABLED: 'disabled',\n  PENDING: 'pending'\n} as const;\n\nexport type StepState = typeof STEP_STATES[keyof typeof STEP_STATES];\n\n// Step sizes\nexport const STEPPER_SIZES = {\n  SMALL: 'sm',\n  MEDIUM: 'md',\n  LARGE: 'lg'\n} as const;\n\nexport type StepperSize = typeof STEPPER_SIZES[keyof typeof STEPPER_SIZES];\n\n// Component validation\nexport interface StepValidation {\n  required?: boolean;\n  validator?: (step: StepItem) => boolean | string;\n  message?: string;\n}\n\n// Event handlers\nexport interface StepEventHandlers {\n  onNext?: (currentStep: number, stepData: StepItem) => boolean | void;\n  onPrevious?: (currentStep: number, stepData: StepItem) => boolean | void;\n  onComplete?: (steps: StepItem[]) => void;\n  onValidationError?: (step: number, error: string) => void;\n}\n\n// Extended props for advanced usage\nexport interface DynStepperAdvancedProps extends DynStepperProps, StepEventHandlers {\n  /** Enable step validation */\n  enableValidation?: boolean;\n\n  /** Show progress indicator */\n  showProgress?: boolean;\n\n  /** Animation type */\n  animation?: 'none' | 'fade' | 'slide';\n\n  /** Allow step skipping in linear mode */\n  allowSkipping?: boolean;\n\n  /** Persist step state */\n  persistState?: boolean;\n\n  /** Storage key for persistence */\n  storageKey?: string;\n}\n\n--- Component (DynStepper.tsx) ---\nimport React, { forwardRef, useImperativeHandle, useState, useCallback, useEffect, useId } from 'react';\nimport { cn } from '../../utils/classNames';\nimport styles from './DynStepper.module.css';\nimport { DynIcon } from '../DynIcon';\nimport type { DynStepperProps, DynStepperRef, DynStep, StepItem } from './DynStepper.types';\n\n\n\nfunction clamp(n: number, min: number, max: number) {\n  return Math.max(min, Math.min(max, n));\n}\n\n/**\n * Convert value to step index\n */\nfunction valueToIndex(value: string | number | undefined, steps: StepItem[]): number {\n  if (value === undefined) return 0;\n\n  if (typeof value === 'number') {\n    return Math.max(0, Math.min(value, steps.length - 1));\n  }\n\n  // String value - find by step id\n  const index = steps.findIndex(step => step.id === value);\n  return index >= 0 ? index : 0;\n}\n\n/**\n * DynStepper \u2014 standardized: ids, a11y, predictable events, linear/non-linear.\n * Complete implementation with backward compatibility for legacy value/defaultValue props.\n */\nexport const DynStepper = forwardRef<DynStepperRef, DynStepperProps>(\n  (\n    {\n      steps = [],\n      // New API\n      activeStep: controlledActiveStep,\n      defaultActiveStep = 0,\n      // Legacy API - maintain backward compatibility\n      value: controlledValue,\n      defaultValue = 0,\n      // Common props\n      linear = true,\n      onChange,\n      onStepChange,\n      onStepClick,\n      clickableSteps = true,\n      orientation = 'horizontal',\n      variant = 'numbered',\n      size = 'md',\n      showLabels = true,\n      showDescription = false,\n      className,\n      contentClassName,\n      renderStepContent,\n      renderStepIcon,\n      id,\n      'aria-label': ariaLabel,\n      'aria-labelledby': ariaLabelledBy,\n      'data-testid': dataTestId,\n      stepClassName,\n      ...rest\n    },\n    ref\n  ) => {\n    const generatedId = useId();\n    const internalId = id || generatedId;\n\n    // Determine controlled state and initial value with proper priority:\n    // 1. activeStep (new API) takes precedence\n    // 2. value (legacy API) as fallback\n    // 3. defaultActiveStep (new API default)\n    // 4. defaultValue (legacy API default)\n    const isControlledByActiveStep = controlledActiveStep !== undefined;\n    const isControlledByValue = controlledValue !== undefined;\n    const isControlled = isControlledByActiveStep || isControlledByValue;\n\n    const getInitialStep = () => {\n      if (isControlledByActiveStep) return controlledActiveStep;\n      if (isControlledByValue) return valueToIndex(controlledValue, steps);\n      if (defaultActiveStep !== 0) return defaultActiveStep;\n      return valueToIndex(defaultValue, steps);\n    };\n\n    const [internalActiveStep, setInternalActiveStep] = useState(getInitialStep);\n\n    // Get current active step with proper priority\n    const getCurrentActiveStep = () => {\n      if (isControlledByActiveStep) return controlledActiveStep as number;\n      if (isControlledByValue) return valueToIndex(controlledValue, steps);\n      return internalActiveStep;\n    };\n\n    const activeStep = getCurrentActiveStep();\n\n    // Handle controlled value changes (both new and legacy API)\n    useEffect(() => {\n      if (isControlledByActiveStep) {\n        // New API - direct numeric control\n        return; // activeStep is already handled above\n      }\n      if (isControlledByValue) {\n        // Legacy API - value can be string (step id) or number (index)\n        const newIndex = valueToIndex(controlledValue, steps);\n        if (newIndex !== internalActiveStep) {\n          setInternalActiveStep(newIndex);\n        }\n      }\n    }, [controlledValue, isControlledByActiveStep, isControlledByValue, steps, internalActiveStep]);\n\n    if (!steps || steps.length === 0) return null;\n\n    const maxIndex = steps.length - 1;\n    const clampedActiveStep = clamp(activeStep, 0, maxIndex);\n\n    // Enhanced change handler that supports both APIs\n    const notifyChange = useCallback((newIndex: number, step: StepItem) => {\n      // Call legacy onChange with both value formats\n      if (onChange) {\n        if (isControlledByValue && typeof controlledValue === 'string') {\n          // If controlled by string value, callback with step id\n          onChange(step.id, step, newIndex);\n        } else {\n          // Otherwise callback with numeric index\n          onChange(newIndex, step, newIndex);\n        }\n      }\n\n      // Call legacy onStepChange\n      onStepChange?.(newIndex, step);\n    }, [onChange, onStepChange, controlledValue, isControlledByValue]);\n\n    // Imperative API methods\n    const nextStep = useCallback((): boolean => {\n      if (clampedActiveStep >= steps.length - 1) return false;\n\n      const newStep = clampedActiveStep + 1;\n      if (!isControlled) setInternalActiveStep(newStep);\n      notifyChange(newStep, steps[newStep]);\n      return true;\n    }, [clampedActiveStep, steps.length, isControlled, notifyChange, steps]);\n\n    const prevStep = useCallback((): boolean => {\n      if (clampedActiveStep <= 0) return false;\n\n      const newStep = clampedActiveStep - 1;\n      if (!isControlled) setInternalActiveStep(newStep);\n      notifyChange(newStep, steps[newStep]);\n      return true;\n    }, [clampedActiveStep, isControlled, notifyChange, steps]);\n\n    const goToStep = useCallback((stepIndex: number): boolean => {\n      const clampedIndex = clamp(stepIndex, 0, maxIndex);\n      if (linear && clampedIndex > clampedActiveStep + 1) return false;\n      if (isStepDisabled(clampedIndex)) return false;\n\n      if (!isControlled) setInternalActiveStep(clampedIndex);\n      notifyChange(clampedIndex, steps[clampedIndex]);\n      return true;\n    }, [clampedActiveStep, maxIndex, linear, isControlled, notifyChange, steps]);\n\n    const getCurrentStep = useCallback((): number => {\n      return clampedActiveStep;\n    }, [clampedActiveStep]);\n\n    const getStepData = useCallback((stepIndex: number): StepItem | undefined => {\n      return steps[stepIndex];\n    }, [steps]);\n\n    const validateStep = useCallback((stepIndex: number): boolean => {\n      const step = steps[stepIndex];\n      if (!step) return false;\n\n      // Use custom validator if provided\n      if (step.validator) {\n        return step.validator(step);\n      }\n\n      // Default validation\n      return !step.error && !step.disabled;\n    }, [steps]);\n\n    const completeStep = useCallback((stepIndex: number): void => {\n      const step = steps[stepIndex];\n      if (step) {\n        step.completed = true;\n        step.status = 'completed';\n        step.state = 'completed';\n      }\n    }, [steps]);\n\n    const errorStep = useCallback((stepIndex: number, hasError: boolean): void => {\n      const step = steps[stepIndex];\n      if (step) {\n        step.error = hasError;\n        step.status = hasError ? 'error' : 'inactive';\n        step.state = hasError ? 'error' : 'pending';\n      }\n    }, [steps]);\n\n    useImperativeHandle(ref, () => ({\n      nextStep,\n      prevStep,\n      goToStep,\n      getCurrentStep,\n      getStepData,\n      validateStep,\n      completeStep,\n      errorStep,\n    }), [nextStep, prevStep, goToStep, getCurrentStep, getStepData, validateStep, completeStep, errorStep]);\n\n    // Helper functions\n    const isStepDisabled = (index: number): boolean => {\n      const step = steps[index];\n      if (step?.disabled) return true;\n      if (linear && index > clampedActiveStep + 1) return true;\n      return false;\n    };\n\n    const getRootRole = () => {\n      if (variant === 'tabs') return 'tablist';\n      return 'group';\n    };\n\n    const getRootClassName = () => {\n      const classes = [styles.root];\n\n      // Add semantic classes for tests\n      if (orientation === 'vertical') classes.push(styles.orientationVertical);\n      if (variant) classes.push(styles[`variant${variant.charAt(0).toUpperCase() + variant.slice(1)}`]);\n\n      const SIZE_MAP = {\n        sm: styles['sizeSm'],\n        md: styles['sizeMd'],\n        lg: styles['sizeLg']\n      };\n      if (size && SIZE_MAP[size as keyof typeof SIZE_MAP]) {\n        classes.push(SIZE_MAP[size as keyof typeof SIZE_MAP]);\n      }\n      if (className) classes.push(className);\n\n      return cn(...classes);\n    };\n\n    const getItemClassName = (index: number) => {\n      const classes = [styles.item, 'step'];\n      const step = steps[index];\n\n      if (index === clampedActiveStep) {\n        classes.push(styles.itemCurrent, 'item--current', 'status-active');\n      }\n      if (step?.completed || step?.state === 'completed' || index < clampedActiveStep) {\n        classes.push(styles.itemCompleted, 'item--completed', 'status-completed');\n      }\n      if (step?.error || step?.state === 'error') {\n        classes.push(styles.itemError, 'item--error', 'status-error');\n      }\n      if (step?.disabled || isStepDisabled(index)) {\n        classes.push(styles.itemDisabled, 'item--disabled');\n      }\n\n      return cn(...classes);\n    };\n\n    const getButtonClassName = (index: number) => {\n      const classes = [styles.button];\n\n      if (stepClassName) classes.push(stepClassName);\n\n      if (isStepDisabled(index)) {\n        classes.push(styles.buttonDisabled, 'button--disabled');\n      }\n\n      return cn(...classes);\n    };\n\n    const getPanelClassName = (index: number) => {\n      const classes = [styles.panel];\n      if (index !== clampedActiveStep) classes.push(styles.panelHidden);\n      return cn(...classes);\n    };\n\n    const getStepId = (index: number) => `${internalId}-step-${index}`;\n    const getPanelId = (index: number) => `${internalId}-panel-${index}`;\n    const getStepDescId = (index: number) => `${internalId}-step-${index}-desc`;\n\n    const handleStepClick = (index: number) => {\n      if (!clickableSteps || isStepDisabled(index)) return;\n\n      const step = steps[index];\n      const clickResult = onStepClick?.(index, step);\n      if (clickResult === false) return; // Allow onStepClick to prevent navigation\n\n      if (linear && index > clampedActiveStep + 1) return;\n\n      if (!isControlled) setInternalActiveStep(index);\n      notifyChange(index, step);\n    };\n\n    const handleKeyDown = (e: React.KeyboardEvent<HTMLDivElement>) => {\n      switch (e.key) {\n        case 'ArrowRight':\n        case 'ArrowDown':\n          e.preventDefault();\n          nextStep();\n          break;\n        case 'ArrowLeft':\n        case 'ArrowUp':\n          e.preventDefault();\n          prevStep();\n          break;\n        case 'Home':\n          e.preventDefault();\n          goToStep(0);\n          break;\n        case 'End':\n          e.preventDefault();\n          goToStep(maxIndex);\n          break;\n      }\n    };\n\n    return (\n      <div\n        id={internalId}\n        role={getRootRole()}\n        aria-label={ariaLabel}\n        aria-labelledby={ariaLabelledBy}\n        className={getRootClassName()}\n        data-testid={dataTestId || 'dyn-stepper'}\n        onKeyDown={handleKeyDown}\n        {...rest}\n      >\n        <ol className={styles.list} role={variant === 'tabs' ? 'presentation' : undefined}>\n          {steps.map((step, index) => (\n            <li key={step.id || index} className={getItemClassName(index)}>\n              <button\n                aria-label={step.title ? step.title : undefined}\n                aria-current={index === clampedActiveStep ? 'step' : undefined}\n                aria-selected={variant === 'tabs' ? index === clampedActiveStep : undefined}\n                className={getButtonClassName(index)}\n                id={getStepId(index)}\n                type=\"button\"\n                onClick={() => handleStepClick(index)}\n                disabled={isStepDisabled(index)}\n                aria-describedby={step.description && showDescription ? getStepDescId(index) : undefined}\n                title={step.tooltip}\n              >\n                {renderStepIcon ? renderStepIcon(step, index, index === clampedActiveStep) : (\n                  <>\n                    {variant !== 'tabs' || step.icon ? (\n                      <span aria-hidden=\"true\" className={styles.stepIndex}>\n                        {step.icon ? (\n                          typeof step.icon === 'string' ? (\n                            <DynIcon icon={step.icon} className={styles.icon} />\n                          ) : (\n                            step.icon\n                          )\n                        ) : (step.completed || step.state === 'completed' || index < clampedActiveStep) ? (\n                          <DynIcon icon=\"check\" className={styles.icon} />\n                        ) : (\n                          index + 1\n                        )}\n                      </span>\n                    ) : null}\n                    <div className={styles.stepTextContainer}>\n                      {showLabels && (\n                        <span className={styles.stepLabel}>\n                          {step.title || step.label || `Step ${index + 1}`}\n                        </span>\n                      )}\n                      {step.description && showDescription && (\n                        <div className={styles.description} id={getStepDescId(index)}>\n                          {step.description}\n                        </div>\n                      )}\n                      {step.optional && (\n                        <span className={styles.optional}>(optional)</span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </button>\n            </li>\n          ))}\n        </ol>\n\n        {\n          variant === 'progress' && (\n            <div\n              role=\"progressbar\"\n              aria-valuenow={Math.round(((clampedActiveStep + 1) / steps.length) * 100)}\n              aria-valuemin={0}\n              aria-valuemax={100}\n              className={styles.progressBar}\n            >\n              <div\n                className={styles.progressFill}\n                style={{ width: `${((clampedActiveStep + 1) / steps.length) * 100}%` }}\n              />\n            </div>\n          )\n        }\n\n        {\n          steps.map((step, index) => (\n            <section\n              key={step.id || index}\n              className={cn(getPanelClassName(index), 'step-content', contentClassName || '')}\n              id={getPanelId(index)}\n              role={variant === 'tabs' ? 'tabpanel' : 'region'}\n              /* avoid duplicating accessible name between the tab/button and the panel */\n              /* aria-labelledby intentionally omitted to prevent duplicate accessible names in tests */\n              tabIndex={-1}\n              hidden={index !== clampedActiveStep}\n            >\n              {renderStepContent ?\n                renderStepContent(step, index) :\n                (typeof step.content === 'function' ?\n                  step.content({ index, selected: index === clampedActiveStep }) :\n                  step.content\n                )\n              }\n            </section>\n          ))\n        }\n      </div >\n    );\n  }\n);\n\nexport default DynStepper;\nDynStepper.displayName = 'DynStepper';\n\n\n--- Usage Examples (DynStepper.stories.tsx) ---\n/**\n * DynStepper Storybook Stories\n * Interactive examples and documentation for step navigation component\n */\n\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { useState, useRef } from 'react';\nimport DynStepper from './DynStepper';\nimport { DynStepperHandle, StepItem } from './DynStepper.types';\nimport React from 'react';\nimport { DynInput } from '../DynInput';\nimport { DynSelect } from '../DynSelect';\nimport { DynGrid } from '../DynGrid';\nimport { DynFlex } from '../DynFlex';\nimport { DynButton } from '../DynButton';\nimport { DynRadio, DynRadioGroup } from '../DynRadio';\nimport { DynBox } from '../DynBox';\nimport { DynStack } from '../DynStack';\n\nconst meta: Meta<typeof DynStepper> = {\n  title: 'Navigation/DynStepper',\n  component: DynStepper,\n  parameters: {\n    layout: 'padded',\n    docs: {\n      description: {\n        component: `\nThe DynStepper component provides a comprehensive step navigation system with:\n\n- **Multiple Orientations** - Horizontal and vertical layouts with responsive design\n- **Multiple Variants** - Default, numbered, dots, and progress bar styles\n- **Step States** - Active, completed, error, disabled, and optional states\n- **Linear/Non-linear** - Control step accessibility and progression\n- **Imperative API** - Programmatic control with nextStep, prevStep, goToStep methods\n- **Accessibility** - Full ARIA support and keyboard navigation\n- **Customization** - Complete CSS custom properties and render functions\n\n## Usage\n\n\\`\\`\\`tsx\nimport { DynStepper } from '@dyn-ui/react';\n\nconst steps = [\n  { id: 'step1', title: 'Personal Info', content: <PersonalForm /> },\n  { id: 'step2', title: 'Address', content: <AddressForm /> },\n  { id: 'step3', title: 'Review', content: <ReviewStep /> }\n];\n\n<DynStepper steps={steps} defaultActiveStep={0} />\n\\`\\`\\`\n        `\n      }\n    }\n  },\n  argTypes: {\n    orientation: {\n      description: 'Layout orientation of the stepper',\n      control: { type: 'select' },\n      options: ['horizontal', 'vertical']\n    },\n    variant: {\n      description: 'Visual style variant of the stepper',\n      control: { type: 'select' },\n      options: ['default', 'numbered', 'dots', 'progress', 'tabs']\n    },\n    size: {\n      description: 'Size of the step indicators',\n      control: { type: 'select' },\n      options: ['sm', 'md', 'lg']\n    },\n    linear: {\n      description: 'Enforce linear progression (users must complete steps in order)',\n      control: { type: 'boolean' }\n    },\n    showLabels: {\n      description: 'Show step titles and labels',\n      control: { type: 'boolean' }\n    },\n    showDescription: {\n      description: 'Show step descriptions',\n      control: { type: 'boolean' }\n    },\n    clickableSteps: {\n      description: 'Allow clicking on steps to navigate',\n      control: { type: 'boolean' }\n    },\n    onStepChange: {\n      description: 'Callback fired when active step changes',\n      action: 'stepChanged'\n    },\n    onStepClick: {\n      description: 'Callback fired when step is clicked',\n      action: 'stepClicked'\n    }\n  }\n};\n\nexport default meta;\ntype Story = StoryObj<typeof DynStepper>;\n\n// Sample step data\nconst sampleSteps: StepItem[] = [\n  {\n    id: 'step1',\n    title: 'Personal Information',\n    description: 'Enter your basic details',\n    icon: '\ud83d\udc64',\n    content: (\n      <DynBox padding=\"lg\">\n        <DynStack gap=\"md\">\n          <DynFlex direction=\"column\" gap=\"xs\">\n            <h3 style={{ margin: 0 }}>\ud83d\udc64 Personal Information</h3>\n            <p style={{ margin: 0, color: 'var(--dyn-semantic-text-secondary)' }}>\n              Please provide your personal details to continue with the process.\n            </p>\n          </DynFlex>\n          <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '16px' }}>\n            <DynInput label=\"First Name\" placeholder=\"John\" required />\n            <DynInput label=\"Last Name\" placeholder=\"Doe\" required />\n            <DynInput label=\"Email\" type=\"email\" placeholder=\"john.doe@example.com\" required />\n            <DynInput label=\"Phone\" type=\"tel\" placeholder=\"(555) 000-0000\" />\n          </div>\n        </DynStack>\n      </DynBox>\n    )\n  },\n  {\n    id: 'step2',\n    title: 'Address Details',\n    description: 'Provide your address information',\n    icon: '\ud83c\udfe0',\n    content: (\n      <DynBox padding=\"lg\">\n        <DynStack gap=\"md\">\n          <DynFlex direction=\"column\" gap=\"xs\">\n            <h3 style={{ margin: 0 }}>\ud83c\udfe0 Address Information</h3>\n            <p style={{ margin: 0, color: 'var(--dyn-semantic-text-secondary)' }}>\n              Enter your current address details for delivery and billing purposes.\n            </p>\n          </DynFlex>\n          <DynStack gap=\"md\">\n            <DynInput label=\"Street Address\" placeholder=\"123 Main St\" />\n            <div style={{ display: 'grid', gridTemplateColumns: 'minmax(0, 1fr) minmax(0, 1fr) 120px', gap: '16px' }}>\n              <DynInput label=\"City\" placeholder=\"San Francisco\" />\n              <DynSelect\n                label=\"State\"\n                placeholder=\"Select State\"\n                options={[\n                  { label: 'California', value: 'CA' },\n                  { label: 'New York', value: 'NY' },\n                  { label: 'Texas', value: 'TX' },\n                  { label: 'Florida', value: 'FL' }\n                ]}\n              />\n              <DynInput label=\"ZIP\" placeholder=\"94105\" />\n            </div>\n          </DynStack>\n        </DynStack>\n      </DynBox>\n    )\n  },\n  {\n    id: 'step3',\n    title: 'Payment Method',\n    description: 'Choose your payment option',\n    icon: '\ud83d\udcb3',\n    optional: true,\n    content: (\n      <DynBox padding=\"lg\">\n        <DynStack gap=\"md\">\n          <DynFlex direction=\"column\" gap=\"xs\">\n            <h3 style={{ margin: 0 }}>\ud83d\udcb3 Payment Method (Optional)</h3>\n            <p style={{ margin: 0, color: 'var(--dyn-semantic-text-secondary)' }}>\n              Select your preferred payment method. You can skip this step and add payment later.\n            </p>\n          </DynFlex>\n          <DynRadioGroup name=\"payment\">\n            <DynRadio label=\"Credit/Debit Card\" value=\"card\" description=\"Visa, Mastercard, Amex\" />\n            <DynRadio label=\"PayPal\" value=\"paypal\" description=\"Pay with your PayPal account\" />\n            <DynRadio label=\"Bank Transfer\" value=\"bank\" description=\"2-3 business days processing\" />\n          </DynRadioGroup>\n          <DynBox\n            padding=\"md\"\n            style={{\n              backgroundColor: 'var(--dyn-theme-primary-subtle, #f0f7ff)',\n              borderRadius: 'var(--dyn-border-radius-md)',\n              border: '1px solid var(--dyn-theme-primary-border, #d0e7ff)'\n            }}\n          >\n            <DynFlex gap=\"xs\">\n              <strong>\ud83d\udca1 Note:</strong>\n              <span>This step is optional. You can complete your registration and add payment information later from your account settings.</span>\n            </DynFlex>\n          </DynBox>\n        </DynStack>\n      </DynBox>\n    )\n  },\n  {\n    id: 'step4',\n    title: 'Review & Submit',\n    description: 'Review your information',\n    icon: '\u2705',\n    content: (\n      <DynBox padding=\"lg\">\n        <DynStack gap=\"md\">\n          <DynFlex direction=\"column\" gap=\"xs\">\n            <h3 style={{ margin: 0 }}>\u2705 Review Your Information</h3>\n            <p style={{ margin: 0, color: 'var(--dyn-semantic-text-secondary)' }}>\n              Please review all information before submitting your registration.\n            </p>\n          </DynFlex>\n          <DynStack gap=\"sm\">\n            <DynBox shadow=\"sm\" padding=\"md\" style={{ border: '1px solid var(--dyn-semantic-border)' }}>\n              <h4 style={{ margin: '0 0 4px 0' }}>Personal Information</h4>\n              <p style={{ margin: 0, fontSize: '0.9rem', color: 'var(--dyn-semantic-text-secondary)' }}>\n                John Doe \u2022 john.doe@example.com \u2022 (555) 123-4567\n              </p>\n            </DynBox>\n            <DynBox shadow=\"sm\" padding=\"md\" style={{ border: '1px solid var(--dyn-semantic-border)' }}>\n              <h4 style={{ margin: '0 0 4px 0' }}>Address</h4>\n              <p style={{ margin: 0, fontSize: '0.9rem', color: 'var(--dyn-semantic-text-secondary)' }}>\n                123 Main Street, San Francisco, CA 94105\n              </p>\n            </DynBox>\n            <DynBox shadow=\"sm\" padding=\"md\" style={{ border: '1px solid var(--dyn-semantic-border)' }}>\n              <h4 style={{ margin: '0 0 4px 0' }}>Payment Method</h4>\n              <p style={{ margin: 0, fontSize: '0.9rem', color: 'var(--dyn-semantic-text-secondary)' }}>\n                \ud83d\udcb3 Credit Card ending in 1234 (Optional step skipped)\n              </p>\n            </DynBox>\n          </DynStack>\n          <DynFlex gap=\"md\" style={{ marginTop: '16px' }}>\n            <DynButton kind=\"primary\">Submit Registration</DynButton>\n            <DynButton kind=\"tertiary\">Save Draft</DynButton>\n          </DynFlex>\n        </DynStack>\n      </DynBox>\n    )\n  }\n];\n\n// Simplified steps for variant showcase\nconst minimalSteps: StepItem[] = [\n  { id: '1', title: 'Step 1', content: 'Content for first step' },\n  { id: '2', title: 'Step 2', content: 'Content for second step' },\n  { id: '3', title: 'Step 3', content: 'Content for third step' },\n];\n\n// Steps without icons for numbered variant\nconst numberedSteps: StepItem[] = sampleSteps.map(({ icon, ...step }) => step);\n\nconst errorSteps: StepItem[] = [\n  { ...numberedSteps[0], completed: true },\n  { ...numberedSteps[1], error: true },\n  { ...numberedSteps[2] },\n  { ...numberedSteps[3] }\n];\n\n// Default: Industry standard stepper with completed step showing checkmark\nexport const Default: Story = {\n  args: {\n    steps: [\n      { ...numberedSteps[0], completed: true },\n      numberedSteps[1],\n      numberedSteps[2],\n      numberedSteps[3]\n    ],\n    variant: 'numbered',\n    defaultActiveStep: 1\n  }\n};\n\n// With custom emoji icons\nexport const WithIcons: Story = {\n  args: {\n    steps: sampleSteps, // Has emoji icons: \ud83d\udc64, \ud83c\udfe0, \ud83d\udcb3, \u2705\n    variant: 'default',\n    defaultActiveStep: 1\n  }\n};\n\nexport const Vertical: Story = {\n  args: {\n    steps: numberedSteps,\n    orientation: 'vertical',\n    defaultActiveStep: 1\n  }\n};\n\nexport const Dots: Story = {\n  args: {\n    steps: numberedSteps,\n    variant: 'dots',\n    defaultActiveStep: 1\n  }\n};\n\nexport const Progress: Story = {\n  args: {\n    steps: numberedSteps,\n    variant: 'progress',\n    defaultActiveStep: 1\n  }\n};\n\nexport const Tabs: Story = {\n  args: {\n    steps: numberedSteps,\n    variant: 'tabs',\n    defaultActiveStep: 1\n  }\n};\n\nexport const NonLinear: Story = {\n  args: {\n    steps: numberedSteps,\n    linear: false,\n    defaultActiveStep: 1\n  }\n};\n\nexport const WithDescription: Story = {\n  args: {\n    steps: numberedSteps,\n    showDescription: true,\n    defaultActiveStep: 0\n  }\n};\n\nexport const Small: Story = {\n  args: {\n    steps: numberedSteps,\n    size: 'sm',\n    defaultActiveStep: 1\n  }\n};\n\nexport const Large: Story = {\n  args: {\n    steps: numberedSteps,\n    size: 'lg',\n    defaultActiveStep: 1\n  }\n};\n\nexport const WithErrors: Story = {\n  args: {\n    steps: errorSteps,\n    defaultActiveStep: 1\n  }\n};\n\nexport const Controlled: Story = {\n  render: (args: any) => {\n    const [activeStep, setActiveStep] = useState(0);\n    const stepperRef = useRef<DynStepperHandle>(null);\n\n    const handleNext = () => {\n      stepperRef.current?.nextStep();\n    };\n\n    const handlePrev = () => {\n      stepperRef.current?.prevStep();\n    };\n\n    const handleReset = () => {\n      setActiveStep(0);\n    };\n\n    return (\n      <div>\n        <div style={{ marginBottom: '16px', display: 'flex', gap: '8px', flexWrap: 'wrap' }}>\n          <button\n            onClick={handlePrev}\n            disabled={activeStep === 0}\n            style={{\n              padding: '8px 16px',\n              backgroundColor: activeStep === 0 ? '#f3f4f6' : '#2563eb',\n              color: activeStep === 0 ? '#9ca3af' : 'white',\n              border: 'none',\n              borderRadius: '4px',\n              cursor: activeStep === 0 ? 'not-allowed' : 'pointer'\n            }}\n          >\n            \u2190 Previous\n          </button>\n          <button\n            onClick={handleNext}\n            disabled={activeStep === numberedSteps.length - 1}\n            style={{\n              padding: '8px 16px',\n              backgroundColor: activeStep === numberedSteps.length - 1 ? '#f3f4f6' : '#2563eb',\n              color: activeStep === numberedSteps.length - 1 ? '#9ca3af' : 'white',\n              border: 'none',\n              borderRadius: '4px',\n              cursor: activeStep === numberedSteps.length - 1 ? 'not-allowed' : 'pointer'\n            }}\n          >\n            Next \u2192\n          </button>\n          <button\n            onClick={handleReset}\n            style={{\n              padding: '8px 16px',\n              backgroundColor: '#f3f4f6',\n              color: '#333',\n              border: '1px solid #d1d5db',\n              borderRadius: '4px',\n              cursor: 'pointer'\n            }}\n          >\n            Reset\n          </button>\n          <div style={{ marginLeft: 'auto', padding: '8px 16px', background: '#f0f8ff', borderRadius: '4px' }}>\n            Step {activeStep + 1} of {numberedSteps.length}\n          </div>\n        </div>\n        <DynStepper\n          {...args}\n          ref={stepperRef}\n          steps={numberedSteps}\n          activeStep={activeStep}\n          onStepChange={(step) => setActiveStep(step)}\n        />\n      </div>\n    );\n  }\n};\n\nexport const CustomIcons: Story = {\n  args: {\n    steps: [\n      {\n        id: 'user',\n        title: 'User Account',\n        icon: <span>\ud83d\udc64</span>,\n        content: sampleSteps[0].content\n      },\n      {\n        id: 'profile',\n        title: 'Profile Setup',\n        icon: <span>\ud83d\udccb</span>,\n        content: sampleSteps[1].content\n      },\n      {\n        id: 'preferences',\n        title: 'Preferences',\n        icon: <span>\u2699\ufe0f</span>,\n        content: sampleSteps[2].content\n      },\n      {\n        id: 'finish',\n        title: 'Finish',\n        icon: <span>\ud83c\udf89</span>,\n        content: sampleSteps[3].content\n      }\n    ],\n    variant: 'tabs',\n    defaultActiveStep: 0\n  }\n};\n\nexport const VariantShowcase: Story = {\n  render: () => (\n    <div style={{ display: 'flex', flexDirection: 'column', gap: '48px', maxWidth: '800px' }}>\n      <section>\n        <h3 style={{ marginBottom: '24px', borderBottom: '1px solid #eee', paddingBottom: '8px' }}>Visual Variants</h3>\n\n        <div style={{ display: 'grid', gap: '40px' }}>\n          <div>\n            <h4 style={{ marginBottom: '16px', fontSize: '0.9rem', color: '#666', textTransform: 'uppercase', letterSpacing: '0.05em' }}>\n              Default (Numbered)\n            </h4>\n            <DynStepper steps={minimalSteps} variant=\"default\" defaultActiveStep={1} />\n          </div>\n\n          <div>\n            <h4 style={{ marginBottom: '16px', fontSize: '0.9rem', color: '#666', textTransform: 'uppercase', letterSpacing: '0.05em' }}>\n              Dots Variant\n            </h4>\n            <DynStepper steps={minimalSteps} variant=\"dots\" defaultActiveStep={1} />\n          </div>\n\n          <div>\n            <h4 style={{ marginBottom: '16px', fontSize: '0.9rem', color: '#666', textTransform: 'uppercase', letterSpacing: '0.05em' }}>\n              Progress Variant\n            </h4>\n            <DynStepper steps={minimalSteps} variant=\"progress\" defaultActiveStep={1} />\n          </div>\n\n          <div>\n            <h4 style={{ marginBottom: '16px', fontSize: '0.9rem', color: '#666', textTransform: 'uppercase', letterSpacing: '0.05em' }}>\n              Tabs Variant\n            </h4>\n            <DynStepper steps={minimalSteps} variant=\"tabs\" defaultActiveStep={1} />\n          </div>\n        </div>\n      </section>\n\n      <section>\n        <h3 style={{ marginBottom: '24px', borderBottom: '1px solid #eee', paddingBottom: '8px' }}>Orientation Variants</h3>\n\n        <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '40px' }}>\n          <div>\n            <h4 style={{ marginBottom: '16px', fontSize: '0.9rem', color: '#666', textTransform: 'uppercase', letterSpacing: '0.05em' }}>\n              Horizontal (Default)\n            </h4>\n            <DynStepper steps={minimalSteps} orientation=\"horizontal\" defaultActiveStep={0} />\n          </div>\n\n          <div>\n            <h4 style={{ marginBottom: '16px', fontSize: '0.9rem', color: '#666', textTransform: 'uppercase', letterSpacing: '0.05em' }}>\n              Vertical\n            </h4>\n            <DynStepper steps={minimalSteps} orientation=\"vertical\" defaultActiveStep={0} />\n          </div>\n        </div>\n      </section>\n    </div>\n  )\n};\n\nexport const AccessibilityDemo: Story = {\n  args: {\n    steps: [\n      {\n        id: 'accessible',\n        title: 'Accessible Step',\n        description: 'This stepper demonstrates accessibility features',\n        icon: '\u267f',\n        tooltip: 'This step shows accessibility features',\n        content: (\n          <div style={{ padding: '20px' }}>\n            <h3>\u267f Accessibility Features</h3>\n            <div style={{ marginTop: '16px' }}>\n              <h4>ARIA Support:</h4>\n              <ul>\n                <li>Proper ARIA roles (tablist, step indicators)</li>\n                <li>ARIA labels and descriptions</li>\n                <li>Screen reader announcements</li>\n                <li>Progress indication</li>\n              </ul>\n\n              <h4 style={{ marginTop: '16px' }}>Keyboard Navigation:</h4>\n              <ul>\n                <li><kbd>Tab</kbd> - Focus step indicators</li>\n                <li><kbd>Enter/Space</kbd> - Activate focused step</li>\n                <li><kbd>Arrow Keys</kbd> - Navigate between steps (non-linear mode)</li>\n              </ul>\n            </div>\n          </div>\n        )\n      },\n      {\n        id: 'keyboard',\n        title: 'Keyboard Navigation',\n        icon: '\u2328\ufe0f',\n        content: (\n          <div style={{ padding: '20px' }}>\n            <h3>\u2328\ufe0f Try Keyboard Navigation!</h3>\n            <p>Use your keyboard to navigate this stepper:</p>\n            <div style={{ marginTop: '16px', padding: '16px', background: 'var(--dyn-semantic-info-surface, #f0f8ff)', borderRadius: '8px', color: 'var(--dyn-semantic-text)' }}>\n              <strong>\ud83d\udca1 Tip:</strong> Use Tab to focus step indicators, then Enter or Space to activate!\n            </div>\n          </div>\n        )\n      },\n      {\n        id: 'screen-reader',\n        title: 'Screen Reader Support',\n        icon: '\ud83d\udd0a',\n        content: (\n          <div style={{ padding: '20px' }}>\n            <h3>\ud83d\udd0a Screen Reader Optimized</h3>\n            <p style={{ color: 'var(--dyn-semantic-text-secondary)' }}>This stepper is optimized for screen readers with proper ARIA attributes.</p>\n            <div style={{ marginTop: '16px', padding: '16px', background: 'var(--dyn-semantic-success-surface, #f0fff0)', borderRadius: '8px', color: 'var(--dyn-semantic-text)' }}>\n              Screen readers will announce: \"Step 3 of 3, Screen Reader Support, current step.\"\n            </div>\n          </div>\n        )\n      }\n    ],\n    linear: false,\n    defaultActiveStep: 0\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: 'This example demonstrates the accessibility features of the DynStepper component. Try using keyboard navigation with Tab, Enter, Space, and Arrow keys.'\n      }\n    }\n  }\n};\n\n\n--- Styles (DynStepper.module.css) ---\n/**\n * DynStepper Component Styles\n * 100% Design Token Compliance\n * Unified Token Strategy: 3-Level Fallback Pattern\n */\n\n.root {\n  /* Color tokens - semantic for auto theme switching */\n  --dyn-stepper-step-bg-pending: var(--dyn-stepper-color-step-background-pending, var(--dyn-semantic-background, #ffffff));\n  --dyn-stepper-step-bg-active: var(--dyn-stepper-color-step-background-active, var(--dyn-theme-primary, #3b82f6));\n  --dyn-stepper-step-bg-completed: var(--dyn-stepper-color-step-background-completed, var(--dyn-theme-primary, #3b82f6));\n  --dyn-stepper-step-bg-error: var(--dyn-stepper-color-step-background-error, var(--dyn-feedback-negative-default, #ef4444));\n  \n  --dyn-stepper-step-text-pending: var(--dyn-stepper-color-step-text-pending, var(--dyn-semantic-text-secondary, #64748b));\n  --dyn-stepper-step-text-active: var(--dyn-stepper-color-step-text-active, var(--dyn-semantic-text-inverse, #ffffff));\n  --dyn-stepper-step-text-completed: var(--dyn-stepper-color-step-text-completed, var(--dyn-semantic-text-inverse, #ffffff));\n  --dyn-stepper-step-text-error: var(--dyn-stepper-color-step-text-error, var(--dyn-semantic-text-inverse, #ffffff));\n  \n  --dyn-stepper-label-text-pending: var(--dyn-stepper-color-label-text-pending, var(--dyn-semantic-text-secondary, #64748b));\n  --dyn-stepper-label-text-active: var(--dyn-stepper-color-label-text-active, var(--dyn-semantic-text, #0f172a));\n  --dyn-stepper-label-text-completed: var(--dyn-stepper-color-label-text-completed, var(--dyn-semantic-text, #0f172a));\n  --dyn-stepper-label-text-error: var(--dyn-stepper-color-label-text-error, var(--dyn-feedback-negative-default, #ef4444));\n\n  --dyn-stepper-step-border: var(--dyn-stepper-color-step-border, var(--dyn-semantic-border, #e2e8f0));\n  --dyn-stepper-step-border-active: var(--dyn-stepper-color-step-border-active, var(--dyn-theme-primary, #3b82f6));\n\n  --dyn-stepper-connector-bg: var(--dyn-stepper-color-connector-background, var(--dyn-semantic-border, #e2e8f0));\n  --dyn-stepper-connector-active: var(--dyn-stepper-color-connector-active, var(--dyn-theme-primary, #3b82f6));\n\n  /* Size tokens */\n  --dyn-stepper-step-size: var(--dyn-stepper-size-step, 2rem);\n  --dyn-stepper-gap: var(--dyn-stepper-spacing-gap, var(--dyn-spacing-md, 1rem));\n  --dyn-stepper-label-gap: var(--dyn-stepper-spacing-labelGap, var(--dyn-spacing-sm, 0.5rem));\n\n  /* Typography */\n  --dyn-stepper-font-size: var(--dyn-stepper-size-fontSize, var(--dyn-font-size-sm, 0.875rem));\n  --dyn-stepper-font-weight: var(--dyn-stepper-size-fontWeight, var(--dyn-font-weight-medium, 500));\n\n  /* Base styles */\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  font-family: inherit;\n  font-size: var(--dyn-stepper-font-size);\n  gap: var(--dyn-stepper-gap);\n  box-sizing: border-box;\n}\n\n/* ============================================\n   LIST CONTAINER\n   ============================================ */\n.list {\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  justify-content: space-between;\n  padding: 0;\n  margin: 0;\n  list-style: none;\n  width: 100%;\n  position: relative;\n}\n\n/* Vertical Orientation */\n.orientationVertical .list {\n  flex-direction: column;\n  align-items: stretch;\n  gap: 0;\n}\n\n/* ============================================\n   STEP ITEM\n   ============================================ */\n.item {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: relative;\n  min-width: 0;\n}\n\n/* Connector Line (Horizontal) */\n.item:not(:last-child)::after {\n  content: '';\n  position: absolute;\n  top: calc(var(--dyn-stepper-step-size) / 2);\n  left: 50%;\n  width: 100%;\n  height: var(--dyn-border-width-sm, 2px);\n  background-color: var(--dyn-stepper-connector-bg);\n  transform: translateY(-50%);\n  z-index: 0;\n}\n\n/* Completed Connector */\n.itemCompleted:not(:last-child)::after {\n  background-color: var(--dyn-stepper-connector-active);\n}\n\n/* Vertical Item */\n.orientationVertical .item {\n  flex-direction: row;\n  align-items: flex-start;\n  min-height: 4rem;\n}\n\n/* Connector Line (Vertical) */\n.orientationVertical .item:not(:last-child)::after {\n  top: var(--dyn-stepper-step-size);\n  left: calc(var(--dyn-stepper-step-size) / 2);\n  width: var(--dyn-border-width-sm, 2px);\n  height: calc(100% - var(--dyn-stepper-step-size));\n  transform: translateX(-50%);\n}\n\n/* ============================================\n   STEP BUTTON (CLICKABLE AREA)\n   ============================================ */\n.button {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: var(--dyn-stepper-label-gap);\n  background: none;\n  border: none;\n  padding: 0;\n  margin: 0;\n  cursor: pointer;\n  width: 100%;\n  position: relative;\n  z-index: 1;\n  color: var(--dyn-stepper-label-text-pending);\n  font-family: inherit;\n  font-size: inherit;\n  transition: all var(--dyn-transition-normal, 0.2s);\n}\n\n.button:disabled {\n  cursor: not-allowed;\n  opacity: var(--dyn-opacity-disabled, 0.6);\n}\n\n.orientationVertical .button {\n  flex-direction: row;\n  width: auto;\n  align-items: center;\n}\n\n/* ============================================\n   STEP INDEX (CIRCLE)\n   ============================================ */\n.stepIndex {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: var(--dyn-stepper-step-size);\n  height: var(--dyn-stepper-step-size);\n  flex-shrink: 0;\n  border-radius: var(--dyn-border-radius-full, 50%);\n  border: var(--dyn-border-width-md, 2px) solid var(--dyn-stepper-step-border);\n  background-color: var(--dyn-stepper-step-bg-pending);\n  color: var(--dyn-stepper-step-text-pending);\n  font-weight: var(--dyn-font-weight-semibold, 600);\n  font-size: var(--dyn-stepper-font-size);\n  line-height: 1;\n  text-align: center;\n  transition: all var(--dyn-transition-normal, 0.2s);\n}\n\n/* Active State */\n.itemCurrent .stepIndex {\n  border-color: var(--dyn-stepper-step-border-active);\n  background-color: var(--dyn-stepper-step-bg-active);\n  color: var(--dyn-stepper-step-text-active);\n}\n\n/* Completed State */\n.itemCompleted .stepIndex {\n  border-color: var(--dyn-stepper-step-bg-completed);\n  background-color: var(--dyn-stepper-step-bg-completed);\n  color: var(--dyn-stepper-step-text-completed);\n}\n\n/* Error State */\n.itemError .stepIndex {\n  border-color: var(--dyn-stepper-step-bg-error);\n  background-color: var(--dyn-stepper-step-bg-error);\n  color: var(--dyn-stepper-step-text-error);\n}\n\n/* ============================================\n   STEP LABEL\n   ============================================ */\n.stepLabel {\n  font-size: var(--dyn-font-size-sm, 0.875rem);\n  font-weight: var(--dyn-stepper-font-weight);\n  text-align: center;\n  color: var(--dyn-stepper-label-text-pending);\n  transition: color var(--dyn-transition-normal, 0.2s);\n}\n\n.itemCurrent .stepLabel {\n  color: var(--dyn-stepper-label-text-active);\n  font-weight: var(--dyn-font-weight-bold, 700);\n}\n\n.itemCompleted .stepLabel {\n  color: var(--dyn-stepper-label-text-completed);\n}\n\n.itemError .stepLabel {\n  color: var(--dyn-stepper-label-text-error);\n}\n\n.stepTextContainer {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 2px;\n}\n\n.orientationVertical .stepTextContainer {\n  align-items: flex-start;\n  margin-left: var(--dyn-spacing-sm, 0.5rem);\n}\n\n.orientationVertical .stepLabel {\n  text-align: left;\n}\n\n.description {\n  font-size: var(--dyn-font-size-xs, 0.75rem);\n  line-height: var(--dyn-line-height-tight, 1.25);\n  color: var(--dyn-semantic-text-secondary, #64748b);\n  text-align: center;\n  margin-top: -2px;\n  max-width: 150px;\n}\n\n.orientationVertical .description {\n  text-align: left;\n  margin-top: 2px;\n  max-width: none;\n}\n\n.optional {\n  font-size: var(--dyn-font-size-xs, 0.75rem);\n  color: var(--dyn-semantic-text-secondary, #64748b);\n  font-style: italic;\n  font-weight: var(--dyn-font-weight-normal, 400);\n}\n\n/* ============================================\n   PANEL / CONTENT\n   ============================================ */\n.panel {\n  padding-top: var(--dyn-spacing-lg, 1.5rem);\n  width: 100%;\n}\n\n.panelHidden {\n  display: none;\n}\n\n.orientationVertical .panel {\n  padding-left: calc(var(--dyn-stepper-step-size) + var(--dyn-spacing-md, 1rem));\n  padding-top: 0;\n  padding-bottom: var(--dyn-spacing-lg, 1.5rem);\n  margin-left: calc((var(--dyn-stepper-step-size) / 2) - 1px);\n  border-left: var(--dyn-border-width-sm, 2px) solid transparent;\n}\n\n/* ============================================\n   VARIANTS\n   ============================================ */\n\n/* Variant: Dots */\n.variantDots .stepIndex {\n  width: 0.75rem;\n  height: 0.75rem;\n  padding: 0;\n  border-radius: var(--dyn-border-radius-full, 50%);\n  color: transparent;\n  background-color: var(--dyn-semantic-border-strong, #94a3b8);\n  border: none;\n}\n\n.variantDots .itemCurrent .stepIndex {\n  background-color: var(--dyn-stepper-step-bg-active);\n  transform: scale(1.25);\n}\n\n.variantDots .itemCompleted .stepIndex {\n  background-color: var(--dyn-stepper-step-bg-completed);\n}\n\n.variantDots .list {\n  justify-content: center;\n  gap: var(--dyn-spacing-lg, 1.5rem);\n  padding: var(--dyn-spacing-md, 1rem) 0;\n}\n\n.variantDots .item {\n  flex: 0 1 auto;\n}\n\n.variantDots .item::after {\n  display: none;\n}\n\n/* Variant: Tabs (Rectangles) */\n.variantTabs .list {\n  background-color: var(--dyn-semantic-surface-muted, #f8fafc);\n  border: var(--dyn-border-width-sm, 1px) solid var(--dyn-stepper-step-border);\n  border-radius: var(--dyn-border-radius-md, 0.375rem);\n  overflow: hidden;\n  gap: 0;\n}\n\n.variantTabs .item::after {\n  display: none;\n}\n\n.variantTabs .button {\n  flex-direction: row;\n  justify-content: center;\n  padding: var(--dyn-spacing-md, 1rem);\n  border-radius: 0;\n  border-bottom: var(--dyn-border-width-lg, 4px) solid transparent;\n  width: 100%;\n  gap: var(--dyn-spacing-md, 1rem);\n  background-color: transparent;\n}\n\n.variantTabs .itemCurrent .button {\n  background-color: var(--dyn-semantic-background, #ffffff);\n  border-bottom-color: var(--dyn-stepper-step-bg-active);\n  color: var(--dyn-stepper-step-bg-active);\n  box-shadow: var(--dyn-elevation-low);\n}\n\n.variantTabs .itemCompleted .button {\n  color: var(--dyn-stepper-step-bg-completed);\n}\n\n.variantTabs .button:hover:not(:disabled) {\n  background-color: var(--dyn-semantic-surface-hover, #f1f5f9);\n}\n\n.variantTabs .stepIndex {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: var(--dyn-border-width-sm, 1px) solid var(--dyn-stepper-step-border);\n  background-color: var(--dyn-semantic-surface-muted, #f8fafc);\n  border-radius: var(--dyn-border-radius-sm, 0.25rem);\n  width: 1.5rem;\n  height: 1.5rem;\n  font-size: 0.75rem;\n}\n\n.variantTabs .itemCurrent .stepIndex {\n  border-color: var(--dyn-stepper-step-border-active);\n  background-color: var(--dyn-stepper-step-bg-active);\n  color: var(--dyn-stepper-step-text-active);\n}\n\n.variantTabs.orientationVertical .list {\n  flex-direction: column;\n  border-bottom: none;\n  border-right: var(--dyn-border-width-sm, 1px) solid var(--dyn-stepper-step-border);\n}\n\n/* ============================================\n   SIZES\n   ============================================ */\n.sizeSm {\n  --dyn-stepper-step-size: 1.5rem;\n  --dyn-stepper-font-size: var(--dyn-font-size-xs, 0.75rem);\n}\n\n.sizeLg {\n  --dyn-stepper-step-size: 2.5rem;\n  --dyn-stepper-font-size: var(--dyn-font-size-md, 1rem);\n}\n\n/* ============================================\n   PROGRESS BAR\n   ============================================ */\n.progressBar {\n  width: 100%;\n  height: var(--dyn-spacing-xs, 0.5rem);\n  background-color: var(--dyn-stepper-connector-bg);\n  border-radius: var(--dyn-border-radius-full, 999px);\n  overflow: hidden;\n  margin-bottom: var(--dyn-spacing-md, 1rem);\n}\n\n.progressFill {\n  height: 100%;\n  background-color: var(--dyn-stepper-step-bg-active);\n  transition: width var(--dyn-transition-normal, 0.3s) ease;\n}\n\n/* ============================================\n   ACCESSIBILITY\n   ============================================ */\n.button:focus-visible {\n  outline: var(--dyn-border-width-md, 2px) solid var(--dyn-semantic-border-focus, #3b82f6);\n  outline-offset: 2px;\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .button,\n  .stepIndex,\n  .stepLabel,\n  .progressFill {\n    transition: none !important;\n  }\n}\n", "metadata": {"type": "ui_component", "name": "DynStepper", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynStepper"}, "embedding": [-0.06058990955352783, 0.03113294020295143, 0.04798418655991554, 0.0541943721473217, 0.01911095716059208, 0.0834212675690651, 0.001027613994665444, 0.05056668445467949, -0.07675743103027344, 0.022550050169229507, -0.0886693000793457, -0.030188268050551414, -0.05664172023534775, 0.041685156524181366, 0.03356242552399635, 0.04730846732854843, -0.04101923480629921, -0.03938797861337662, 0.054944977164268494, -0.0009585553198121488, 0.03193322569131851, -0.06332799047231674, 0.045804448425769806, 0.009651688858866692, -0.0324859656393528, 0.05037947744131088, 0.010418175719678402, 0.018582932651042938, 0.03163129463791847, -0.022039243951439857, -0.011147120036184788, 0.08071605116128922, -0.02276533469557762, -0.005570896901190281, -0.019359441474080086, -0.019496001303195953, -0.01992390677332878, 0.05660675838589668, -0.01082682702690363, -0.010606911033391953, 0.07951468229293823, 0.006852614693343639, 0.012291801162064075, -0.08041000366210938, 0.07363053411245346, -0.04057469218969345, -0.04988688603043556, -0.06579263508319855, -0.06283282488584518, 0.016239680349826813, -0.012280135415494442, 0.04616105929017067, 0.03936600312590599, 0.0139897670596838, 0.07860855013132095, 0.033562470227479935, 0.019909411668777466, 0.0017440306255593896, 0.027018016204237938, -0.06481022387742996, 0.03246363624930382, -0.053452033549547195, 0.014589685946702957, -0.12134139239788055, 0.0015662085497751832, 0.08604971319437027, -0.048802826553583145, -0.041693128645420074, 0.06250043213367462, 0.025173088535666466, -0.04114489629864693, -0.04743589088320732, 0.10362499952316284, 0.0360044427216053, -0.015386837534606457, -0.13227595388889313, 0.027753837406635284, 0.02552858181297779, -0.0032393718138337135, -0.004245583433657885, -0.06732090562582016, 0.00014643697068095207, -0.04795651510357857, 0.0494864322245121, -0.0007599879754707217, 0.12680909037590027, -0.029613196849822998, -0.010674000717699528, -0.046257734298706055, -0.02454947493970394, -0.04339664429426193, -0.10993991792201996, 0.04158173128962517, -0.01042081043124199, 0.03285149857401848, 0.0228042621165514, -0.1373603194952011, -0.038734275847673416, -0.03544624522328377, -0.004867415875196457, -0.0345468670129776, -0.0022652079351246357, 0.014078720472753048, -0.0038608014583587646, -0.04783853515982628, -0.0402214489877224, 0.07993577420711517, -0.05577684938907623, -0.031594011932611465, 0.07039535045623779, -0.04152197018265724, -0.007099438924342394, -0.014399589039385319, 0.041171349585056305, -0.02843402698636055, 0.005038847215473652, -0.03355073183774948, -0.027157405391335487, 0.08383115381002426, -0.0453244224190712, 0.06992603838443756, -0.01814240962266922, 0.09122294932603836, 0.00813892763108015, 0.022931398823857307, 0.00028962461510673165, 0.03750723600387573, 6.215801803481139e-33, 0.00023311666154768318, 0.016372421756386757, -0.04223661869764328, 0.07572119683027267, 0.026778196915984154, 0.0031029530800879, 0.02537774108350277, -0.09900226444005966, -0.0014173813397064805, 0.034285832196474075, -0.0075398883782327175, 0.05728761851787567, -0.09945853799581528, 0.02787509188055992, -0.06610921770334244, -0.09003173559904099, 0.09933148324489594, 0.015554368495941162, -0.03647473827004433, -0.06432860344648361, 0.061350446194410324, 0.020586153492331505, -0.07862987369298935, 0.03842981159687042, 0.10036126524209976, -0.006345866713672876, -0.03529272601008415, 0.09835769236087799, -0.042445022612810135, -0.05286598950624466, 0.049642469733953476, -0.04918939992785454, 0.02235102839767933, 0.02567063458263874, 0.029443291947245598, -0.047099072486162186, -0.07039674371480942, -0.017629358917474747, -0.01765192486345768, 0.009190741926431656, -0.09418761730194092, -0.04805136099457741, 0.008038358762860298, 0.03317812830209732, -0.024858444929122925, 0.03148449957370758, 0.051097117364406586, -0.04009336233139038, 0.06967244297266006, -0.014210928231477737, -0.005511500407010317, 0.04289039224386215, 0.02540050819516182, -0.1462598592042923, 0.01128204632550478, 0.02821028046309948, -0.02379186451435089, 0.07046154886484146, 0.03492533415555954, 0.0006910348893143237, -0.04720132052898407, 0.00023264098854269832, 0.002003004075959325, -0.03686695918440819, 0.006412897724658251, 0.07477004826068878, -0.03602667152881622, -0.028138061985373497, 0.04117618501186371, -0.06665277481079102, -0.0039050288032740355, -0.04496615752577782, 0.007813453674316406, -0.0035128821618855, 0.15169356763362885, -0.008425604552030563, -0.03481656685471535, -0.01858898252248764, 0.02541021630167961, -0.095334991812706, -0.07264208793640137, -0.10774992406368256, -0.02939223125576973, 0.07600072771310806, 0.14605383574962616, -0.009681278839707375, -0.054159726947546005, -0.04241722822189331, 0.05743732303380966, 0.009584896266460419, -0.1047670990228653, -0.0036185653880238533, -0.05131421983242035, 0.027081912383437157, -0.02009599283337593, -8.379930249699157e-33, 0.08792360126972198, 0.032859839498996735, -0.03519471734762192, -0.011100268922746181, -0.09021253138780594, -0.0016404372872784734, 0.00018369706231169403, 0.05569479987025261, 0.03738643601536751, 0.01977372169494629, 0.06089157611131668, 0.012330522760748863, 0.07051772624254227, -0.02962806075811386, -0.08638567477464676, 0.0939544141292572, -0.058358363807201385, 0.020534580573439598, 0.06981907039880753, 0.03742003068327904, 0.011549797840416431, 0.012328287586569786, -0.07026616483926773, 0.022784022614359856, -0.09241387248039246, 0.059204790741205215, 0.10698997974395752, 0.0530494786798954, 0.0362451896071434, -0.05658256262540817, 0.0331449881196022, -0.007163579575717449, -0.007792078424245119, 0.00017521540576126426, -0.006212353240698576, -0.06705604493618011, -0.006779910530894995, -0.0052412631921470165, -0.0869426429271698, -0.017880575731396675, 0.000773238018155098, -0.03804178163409233, 0.023750489577651024, -0.012288066558539867, -0.04304412379860878, -0.02957104705274105, 0.064518041908741, 0.05837906897068024, -0.08483553677797318, -0.012749673798680305, 0.05425815284252167, -0.045258838683366776, -0.05525870621204376, -0.0003543110506143421, -0.007551912683993578, 0.03160380199551582, 0.0011477457592263818, -0.06571412086486816, -0.029989641159772873, 0.0010434598661959171, 0.04590775445103645, -0.04088284447789192, -0.01615116372704506, 0.04769536107778549, 0.03691168874502182, -0.04613752290606499, -0.10001154243946075, 0.003008191240951419, -0.04311961308121681, 0.012501987628638744, 0.04127641022205353, -0.0014343212824314833, 0.08289556950330734, -0.04184618964791298, 0.07828414440155029, -0.09467754513025284, 0.05629504844546318, 0.03056526929140091, 0.11874306946992874, -0.02734196186065674, -0.0005535324453376234, -0.009958469308912754, 0.012840473093092442, -0.026923619210720062, -0.03640405088663101, 0.07989519834518433, -0.07179570943117142, 0.06521601974964142, 0.05472024902701378, 0.042923904955387115, 0.021725326776504517, 0.0016469493275508285, -0.0569443553686142, 0.01241496205329895, -0.08629404008388519, -6.181849698805308e-08, -0.03152697905898094, -0.01993892341852188, -0.07196192443370819, -0.09828665852546692, 0.031196998432278633, -0.08084335923194885, -0.057335514575242996, -0.06415533274412155, -0.015704357996582985, -0.0056967055425047874, -0.038558755069971085, 0.07527100294828415, -0.06261903792619705, -0.0026030675508081913, 0.053629521280527115, -0.018565170466899872, -0.02979842759668827, 0.07217506319284439, -0.03126981109380722, 0.05582922324538231, -0.03796626999974251, -0.07118246704339981, -0.06555703282356262, 0.011575891636312008, 0.06994573771953583, 0.01451807375997305, 0.02947297878563404, -0.06268002837896347, 0.030240807682275772, 0.09029662609100342, -0.0067847357131540775, 0.02388998493552208, 0.020329205319285393, -0.008422737009823322, -0.021671675145626068, 0.06744322180747986, 0.07364527881145477, -0.04299062117934227, 0.0834314376115799, -0.0029531950131058693, 0.020007556304335594, 0.00020772329298779368, -0.02967314049601555, 0.01573551446199417, -0.08396253734827042, -0.00860770046710968, -0.0786537230014801, 0.0040091401897370815, -0.028921613469719887, -0.017804080620408058, -0.05652157589793205, -0.03675273060798645, -0.018882345408201218, 0.028605224564671516, -0.05193595960736275, 0.03387286886572838, -0.03480585291981697, -0.02026423066854477, 0.007532833609730005, 0.016067374497652054, 0.10748159140348434, -0.04403108358383179, 0.06689972430467606, -0.03672857955098152]}, {"id": "dyn_ui_component_DynSwitch", "text": "# Component: DynSwitch\n\n--- Types (DynSwitch.types.ts) ---\nimport { InputHTMLAttributes, ReactNode } from 'react';\nimport type { BaseComponentProps, AccessibilityProps } from '../../types';\nimport type { DynValidationRule } from '../../hooks/useDynFieldValidation';\n\nexport type DynSwitchSize = 'sm' | 'md' | 'lg';\nexport type DynSwitchColor = 'primary' | 'success' | 'danger' | 'warning' | 'info';\n\nexport interface DynSwitchProps\n    extends BaseComponentProps,\n    AccessibilityProps,\n    Omit<InputHTMLAttributes<HTMLInputElement>, 'size' | 'onChange' | keyof BaseComponentProps> {\n    /**\n     * The size of the switch.\n     * @default 'md'\n     */\n    size?: DynSwitchSize;\n\n    /**\n     * The color theme of the switch when active.\n     * @default 'primary'\n     */\n    color?: DynSwitchColor;\n\n    /**\n     * Label to display next to the switch.\n     */\n    label?: ReactNode;\n\n    /**\n     * Callback when the checked state changes.\n     */\n    onChange?: (checked: boolean) => void;\n\n    /**\n     * Helper text or error message below the switch.\n     * @deprecated Use helpText instead\n     */\n    description?: ReactNode;\n\n    /**\n     * Help text to display below the field\n     */\n    helpText?: string;\n\n    /**\n     * Whether the switch is in an error state.\n     */\n    error?: boolean;\n\n    /**\n     * Error message text to display.\n     */\n    errorMessage?: string;\n\n    /**\n     * Whether the field is required\n     */\n    required?: boolean;\n\n    /**\n     * Validation rules\n     */\n    validation?: DynValidationRule | DynValidationRule[];\n\n    /**\n     * Blur handler\n     */\n    onBlur?: () => void;\n}\n\n\n--- Component (DynSwitch.tsx) ---\nimport React, { forwardRef, useId } from 'react';\nimport { cn } from '../../utils/classNames';\nimport { DynSwitchProps } from './DynSwitch.types';\nimport { useDynFieldValidation } from '../../hooks/useDynFieldValidation';\nimport { DynFieldContainer } from '../DynFieldContainer';\nimport styles from './DynSwitch.module.css';\n\nexport const DynSwitch = forwardRef<HTMLInputElement, DynSwitchProps>(\n    (\n        {\n            size = 'md',\n            color = 'primary',\n            label,\n            description,\n            helpText,\n            error,\n            errorMessage,\n            className,\n            style,\n            disabled,\n            onChange,\n            onBlur,\n            required,\n            validation,\n            id,\n            checked: controlledChecked,\n            defaultChecked,\n            ...props\n        },\n        ref\n    ) => {\n        const uniqueId = useId();\n        const switchId = id || uniqueId;\n        const labelId = `${switchId}-label`;\n\n        const [internalChecked, setInternalChecked] = React.useState<boolean>(!!(controlledChecked ?? defaultChecked));\n\n        React.useEffect(() => {\n            if (controlledChecked !== undefined) {\n                setInternalChecked(controlledChecked);\n            }\n        }, [controlledChecked]);\n\n        const resolvedHelpText = helpText ?? (typeof description === 'string' ? description : undefined);\n        const resolvedErrorText = errorMessage;\n\n        const { error: validationError, validate, clearError } = useDynFieldValidation({\n            value: internalChecked ? 'checked' : '',\n            required,\n            validation,\n            customError: resolvedErrorText,\n        });\n\n        const displayError = resolvedErrorText || validationError;\n        const isError = error || !!displayError;\n\n        const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n            if (disabled) return;\n            const newChecked = e.target.checked;\n\n            if (controlledChecked === undefined) {\n                setInternalChecked(newChecked);\n            }\n\n            onChange?.(newChecked);\n            clearError();\n        };\n\n        const handleBlur = () => {\n            validate();\n            onBlur?.();\n        };\n\n        return (\n            <DynFieldContainer\n                helpText={resolvedHelpText}\n                errorText={displayError}\n                className={className}\n                required={required}\n            >\n                <div\n                    className={cn(\n                        styles.root,\n                        styles.container,\n                        styles[`size${size.charAt(0).toUpperCase() + size.slice(1)}`],\n                        styles[`color${color.charAt(0).toUpperCase()}${color.slice(1)}`],\n                        {\n                            [styles.error]: isError,\n                        }\n                    )}\n                    style={style}\n                >\n                    <label\n                        htmlFor={switchId}\n                        className={cn(styles.wrapper, {\n                            [styles.wrapperDisabled]: disabled,\n                        })}\n                    >\n                        <input\n                            {...props}\n                            id={switchId}\n                            ref={ref}\n                            type=\"checkbox\"\n                            className={styles.input}\n                            disabled={disabled}\n                            checked={internalChecked}\n                            onChange={handleChange}\n                            onBlur={handleBlur}\n                            role=\"switch\"\n                            aria-checked={internalChecked}\n                            aria-labelledby={label ? labelId : undefined}\n                            aria-required={required}\n                            aria-invalid={!!isError}\n                        />\n                        <span className={styles.track} aria-hidden=\"true\">\n                            <span className={styles.thumb} />\n                        </span>\n                        {label && (\n                            <span id={labelId} className={styles.label}>\n                                {label}\n                            </span>\n                        )}\n                    </label>\n                </div>\n            </DynFieldContainer>\n        );\n    }\n);\n\nDynSwitch.displayName = 'DynSwitch';\n\nexport default DynSwitch;\n\n\n--- Usage Examples (DynSwitch.stories.tsx) ---\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { DynSwitch } from './DynSwitch';\nimport { useState } from 'react';\n\nconst meta: Meta<typeof DynSwitch> = {\n    title: 'Inputs/DynSwitch',\n    component: DynSwitch,\n    tags: ['autodocs'],\n    argTypes: {\n        size: {\n            control: 'select',\n            options: ['sm', 'md', 'lg'],\n        },\n        color: {\n            control: 'select',\n            options: ['primary', 'success', 'danger', 'warning', 'info'],\n        },\n        disabled: {\n            control: 'boolean',\n        },\n        error: {\n            control: 'boolean',\n        },\n    },\n};\n\nexport default meta;\ntype Story = StoryObj<typeof DynSwitch>;\n\nexport const Default: Story = {\n    args: {\n        label: 'Enable Notifications',\n    },\n};\n\nexport const Checked: Story = {\n    args: {\n        label: 'Checked State',\n        defaultChecked: true,\n    },\n};\n\nexport const Disabled: Story = {\n    args: {\n        label: 'Disabled Switch',\n        disabled: true,\n    },\n};\n\nexport const WithHelpText: Story = {\n    args: {\n        label: 'Airplane Mode',\n        helpText: 'Disable all wireless connections',\n    },\n};\n\nexport const WithValidation: Story = {\n    args: {\n        label: 'Required Switch',\n        required: true,\n        helpText: 'You must enable this',\n    },\n};\n\nexport const Sizes: Story = {\n    render: () => (\n        <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\n            <DynSwitch size=\"sm\" label=\"Small\" />\n            <DynSwitch size=\"md\" label=\"Medium\" />\n            <DynSwitch size=\"lg\" label=\"Large\" />\n        </div>\n    ),\n};\n\nexport const Colors: Story = {\n    render: () => (\n        <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\n            <DynSwitch color=\"primary\" defaultChecked label=\"Primary\" />\n            <DynSwitch color=\"success\" defaultChecked label=\"Success\" />\n            <DynSwitch color=\"danger\" defaultChecked label=\"Danger\" />\n            <DynSwitch color=\"warning\" defaultChecked label=\"Warning\" />\n            <DynSwitch color=\"info\" defaultChecked label=\"Info\" />\n        </div>\n    ),\n};\n\nexport const Controlled = () => {\n    const [checked, setChecked] = useState(false);\n    return (\n        <DynSwitch\n            checked={checked}\n            onChange={setChecked}\n            label={`Controlled: ${checked ? 'On' : 'Off'}`}\n        />\n    );\n};\n\n\n--- Styles (DynSwitch.module.css) ---\n/**\n * DynSwitch Component Styles\n * 100% Design Token Compliance\n * Unified Token Strategy: 3-Level Fallback Pattern\n */\n\n/* ==========================================================================\n   COMPONENT TOKENS (Layer 2)\n   ========================================================================== */\n\n.root {\n  /* Layout tokens */\n  --dyn-switch-gap: var(--dyn-switch-spacing-gap, var(--dyn-spacing-xs, 0.25rem));\n  --dyn-switch-wrapper-gap: var(--dyn-switch-spacing-wrapperGap, var(--dyn-spacing-sm, 0.5rem));\n\n  /* Track tokens */\n  --dyn-switch-track-bg: var(--dyn-switch-color-track-background, var(--dyn-semantic-border, #cbd5e1));\n  --dyn-switch-track-bg-checked: var(--dyn-switch-color-track-checked, var(--dyn-theme-primary, #3b82f6));\n  --dyn-switch-track-border: var(--dyn-switch-color-track-border, transparent);\n  \n  /* Thumb tokens */\n  --dyn-switch-thumb-bg: var(--dyn-switch-color-thumb-background, var(--dyn-semantic-surface, #ffffff));\n  --dyn-switch-thumb-shadow: var(--dyn-switch-elevation-thumb, var(--dyn-elevation-low));\n\n  /* Focus tokens */\n  --dyn-switch-focus-ring: var(--dyn-switch-color-focus, var(--dyn-semantic-border-focus, #3b82f6));\n\n  /* Typography tokens */\n  --dyn-switch-font-family: var(--dyn-switch-font-family, var(--dyn-font-family-body, inherit));\n  --dyn-switch-font-weight: var(--dyn-switch-font-weight, var(--dyn-font-weight-medium, 500));\n  --dyn-switch-label-color: var(--dyn-switch-color-label, var(--dyn-semantic-text, #0f172a));\n  --dyn-switch-desc-color: var(--dyn-switch-color-description, var(--dyn-semantic-text-secondary, #64748b));\n\n  /* Transition tokens */\n  --dyn-switch-transition: var(--dyn-switch-animation-duration, var(--dyn-transition-normal, 0.2s)) var(--dyn-switch-animation-easing, ease-in-out);\n}\n\n.container {\n  display: inline-flex;\n  flex-direction: column;\n  gap: var(--dyn-switch-gap);\n}\n\n.wrapper {\n  display: inline-flex;\n  align-items: center;\n  gap: var(--dyn-switch-wrapper-gap);\n  cursor: pointer;\n  user-select: none;\n}\n\n.wrapperDisabled {\n  opacity: var(--dyn-opacity-disabled, 0.5);\n  cursor: not-allowed;\n}\n\n/* ==========================================================================\n   SWITCH TRACK & THUMB\n   ========================================================================== */\n\n.input {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border: 0;\n}\n\n.track {\n  position: relative;\n  display: inline-flex;\n  flex-shrink: 0;\n  background-color: var(--dyn-switch-track-bg);\n  border: var(--dyn-border-width-sm, 1px) solid var(--dyn-switch-track-border);\n  border-radius: var(--dyn-border-radius-full, 9999px);\n  transition: all var(--dyn-switch-transition);\n}\n\n.thumb {\n  display: inline-block;\n  background-color: var(--dyn-switch-thumb-bg);\n  border-radius: var(--dyn-border-radius-full, 50%);\n  box-shadow: var(--dyn-switch-thumb-shadow);\n  transform: translateX(0);\n  transition: transform var(--dyn-switch-transition);\n  pointer-events: none;\n}\n\n/* SIZES */\n\n.sizeSm .track {\n  width: var(--dyn-switch-size-width-sm, 2rem);\n  height: var(--dyn-switch-size-height-sm, 1rem);\n}\n\n.sizeSm .thumb {\n  width: var(--dyn-switch-size-thumb-sm, 0.75rem);\n  height: var(--dyn-switch-size-thumb-sm, 0.75rem);\n  transform: translateX(2px);\n  margin-top: calc((var(--dyn-switch-size-height-sm, 1rem) - var(--dyn-switch-size-thumb-sm, 0.75rem)) / 2 - 1px);\n}\n\n.sizeSm .input:checked + .track .thumb {\n  transform: translateX(calc(var(--dyn-switch-size-width-sm, 2rem) - var(--dyn-switch-size-thumb-sm, 0.75rem) - 2px));\n}\n\n.sizeMd .track {\n  width: var(--dyn-switch-size-width-md, 2.75rem);\n  height: var(--dyn-switch-size-height-md, 1.5rem);\n}\n\n.sizeMd .thumb {\n  width: var(--dyn-switch-size-thumb-md, 1.25rem);\n  height: var(--dyn-switch-size-thumb-md, 1.25rem);\n  transform: translateX(2px);\n  margin-top: calc((var(--dyn-switch-size-height-md, 1.5rem) - var(--dyn-switch-size-thumb-md, 1.25rem)) / 2 - 1px);\n}\n\n.sizeMd .input:checked + .track .thumb {\n  transform: translateX(calc(var(--dyn-switch-size-width-md, 2.75rem) - var(--dyn-switch-size-thumb-md, 1.25rem) - 2px));\n}\n\n.sizeLg .track {\n  width: var(--dyn-switch-size-width-lg, 3.5rem);\n  height: var(--dyn-switch-size-height-lg, 2rem);\n}\n\n.sizeLg .thumb {\n  width: var(--dyn-switch-size-thumb-lg, 1.75rem);\n  height: var(--dyn-switch-size-thumb-lg, 1.75rem);\n  transform: translateX(2px);\n  margin-top: calc((var(--dyn-switch-size-height-lg, 2rem) - var(--dyn-switch-size-thumb-lg, 1.75rem)) / 2 - 1px);\n}\n\n.sizeLg .input:checked + .track .thumb {\n  transform: translateX(calc(var(--dyn-switch-size-width-lg, 3.5rem) - var(--dyn-switch-size-thumb-lg, 1.75rem) - 2px));\n}\n\n/* COLORS (Active State) */\n\n.input:checked + .track {\n  background-color: var(--dyn-switch-track-bg-checked);\n}\n\n.colorSuccess .input:checked + .track {\n  --dyn-switch-track-bg-checked: var(--dyn-switch-color-track-success, var(--dyn-feedback-positive-default, #22c55e));\n}\n\n.colorDanger .input:checked + .track {\n  --dyn-switch-track-bg-checked: var(--dyn-switch-color-track-danger, var(--dyn-feedback-negative-default, #ef4444));\n}\n\n.colorWarning .input:checked + .track {\n  --dyn-switch-track-bg-checked: var(--dyn-switch-color-track-warning, var(--dyn-feedback-warning-default, #f59e0b));\n}\n\n.colorInfo .input:checked + .track {\n  --dyn-switch-track-bg-checked: var(--dyn-switch-color-track-info, var(--dyn-feedback-info-default, #0ea5e9));\n}\n\n/* FOCUS STATE */\n\n.input:focus-visible + .track {\n  box-shadow: 0 0 0 var(--dyn-border-width-lg, 3px) var(--dyn-switch-focus-ring);\n  border-color: var(--dyn-switch-focus-ring);\n}\n\n/* ==========================================================================\n   LABEL & DESCRIPTION\n   ========================================================================== */\n\n.label {\n  font-family: var(--dyn-switch-font-family);\n  font-weight: var(--dyn-switch-font-weight);\n  color: var(--dyn-switch-label-color);\n}\n\n.sizeSm .label {\n  font-size: var(--dyn-font-size-sm, 0.875rem);\n}\n\n.sizeMd .label {\n  font-size: var(--dyn-font-size-base, 1rem);\n}\n\n.sizeLg .label {\n  font-size: var(--dyn-font-size-lg, 1.125rem);\n}\n\n.description {\n  font-size: var(--dyn-font-size-xs, 0.75rem);\n  color: var(--dyn-switch-desc-color);\n  margin-left: calc(var(--dyn-switch-size-width-md, 2.75rem) + var(--dyn-switch-wrapper-gap));\n}\n\n.sizeSm .description {\n  margin-left: calc(var(--dyn-switch-size-width-sm, 2rem) + var(--dyn-switch-wrapper-gap));\n}\n\n.sizeLg .description {\n  margin-left: calc(var(--dyn-switch-size-width-lg, 3.5rem) + var(--dyn-switch-wrapper-gap));\n}\n\n/* ERROR STATE */\n\n.error .track {\n  border-color: var(--dyn-feedback-negative-default, #ef4444);\n}\n\n.error .label {\n  color: var(--dyn-feedback-negative-default, #ef4444);\n}\n\n/* DARK MODE - Dynamically handled via semantic tokens! */\n", "metadata": {"type": "ui_component", "name": "DynSwitch", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynSwitch"}, "embedding": [-0.010184220038354397, 0.022515464574098587, 0.0231793075799942, 0.052075568586587906, -0.03517710417509079, 0.07479729503393173, 0.028717514127492905, 0.07989494502544403, -0.01263928972184658, 0.028462223708629608, -0.09823974967002869, -0.011546574532985687, -0.06728503108024597, 0.008059817366302013, 0.0026208972558379173, 0.13923168182373047, -0.050479333847761154, -0.021804848685860634, -0.03959660232067108, -0.026315785944461823, 0.06210508942604065, -0.10396227985620499, -0.0010513128945603967, -0.031434979289770126, -0.009203162975609303, 0.02713826112449169, 0.0071012950502336025, 0.006003817077726126, -0.014751868322491646, -0.005216149613261223, -0.06296351552009583, 0.010057764127850533, -0.07352010160684586, -0.06836410611867905, -0.06736289709806442, 0.02186688967049122, -0.07329835742712021, 0.06903943419456482, -0.018476612865924835, -0.03623318672180176, 0.05847150459885597, 0.012603946961462498, 0.031371716409921646, -0.026081053540110588, -0.03150695562362671, -0.03911266475915909, -0.049180347472429276, -0.021072765812277794, -0.07515643537044525, -0.04964115098118782, 0.00018361637194175273, 0.038207944482564926, 0.0825338214635849, 0.023934973403811455, 0.045585859566926956, 0.03550799563527107, 0.0963180661201477, 0.033905357122421265, -0.005344452802091837, -0.04174383729696274, -0.03909590467810631, -0.003809873014688492, 0.015558800660073757, -0.07227137684822083, 0.05265367403626442, 0.14489544928073883, 0.0005137587431818247, -0.07550957053899765, 0.018482647836208344, -0.06624213606119156, -0.02690850757062435, -0.026966065168380737, 0.10347076505422592, 0.0006352606578730047, 0.02308248169720173, -0.10741090774536133, 0.03515246510505676, 0.05048683285713196, 0.019758781418204308, -0.06139352172613144, 0.04077433422207832, 0.049467578530311584, -0.05766710638999939, 0.047032877802848816, 0.06169263646006584, 0.11588073521852493, -0.03793122246861458, -0.003920837305486202, -0.036469705402851105, -0.04190438613295555, 0.016502022743225098, -0.04784979671239853, -0.05640730634331703, 0.06907964497804642, -0.030576614663004875, -0.026223255321383476, -0.05719848722219467, 0.02171853743493557, -0.04801579564809799, 0.01728091947734356, 0.037677545100450516, -0.07464917749166489, -0.03716861829161644, 0.00542324548587203, 0.006128907669335604, -0.044612910598516464, 0.08584578335285187, -0.063877634704113, -0.05125066637992859, -0.0036382817197591066, 0.038534048944711685, 0.06782470643520355, -0.014715963043272495, 0.07594941556453705, -0.0075106266885995865, 0.02110971137881279, 0.04630531743168831, -0.03881608322262764, 0.03295990824699402, -0.0009958605514839292, 0.07392068207263947, -0.026198478415608406, -0.0007228679023683071, -0.02131684496998787, 0.009766150265932083, 0.04809288680553436, 0.0852731391787529, 6.213011473765875e-33, 0.03574889153242111, 0.05764543637633324, -0.024696586653590202, 0.021200934424996376, 0.020953960716724396, 0.031338468194007874, 0.05227003991603851, -0.037014372646808624, -0.04185523837804794, -0.027801714837551117, 0.01960986852645874, 0.044964343309402466, -0.05933235213160515, -0.07895683497190475, -0.02345960959792137, -0.10885616391897202, 0.05164873227477074, -0.03277890011668205, 0.025765933096408844, -0.05209008976817131, 0.03327298164367676, 0.03650713711977005, -0.0592963844537735, 0.07421057671308517, 0.025871040299534798, -0.025976011529564857, -0.050988323986530304, 0.09601128101348877, -0.07025569677352905, -0.015008322894573212, 0.04663444310426712, -0.04670075699687004, 0.04617892950773239, 0.030213721096515656, -0.05560814589262009, -0.04692128300666809, -0.06774603575468063, -0.006813445594161749, 0.02571192756295204, -0.03174997866153717, -0.021029412746429443, 0.00868394784629345, 0.035958997905254364, 0.025372730568051338, -0.02630564384162426, -0.03201698139309883, 0.002978985197842121, -0.011604201048612595, 0.014815596863627434, -0.010938774794340134, 0.013380522839725018, 0.00120168284047395, 0.07149538397789001, -0.12764626741409302, 0.020950835198163986, 0.0181430634111166, -0.014210302382707596, 0.03432781994342804, 0.12847332656383514, 0.030453553423285484, -0.03364261984825134, 0.009570955298841, 0.02224010042846203, -0.026472438126802444, 0.00823987927287817, 0.06064974144101143, 0.002386908745393157, -0.12107252329587936, -0.019872518256306648, -0.14726963639259338, -0.004095134325325489, -0.03372688964009285, -0.01939450204372406, 0.04153485596179962, -0.011553454212844372, -0.024397224187850952, -0.013690744526684284, -0.03348490223288536, 0.03626961261034012, -0.07093452662229538, -0.0036819756496697664, -0.023996291682124138, -0.047497354447841644, 0.08872018754482269, 0.11078771203756332, -0.04423993080854416, -0.0454987995326519, -0.06302569061517715, -0.06139407679438591, 0.06177422031760216, -0.02221725694835186, -0.045088160783052444, -0.002228003926575184, -0.08550790697336197, 0.016382647678256035, -6.55040920917858e-33, 0.011706744320690632, -0.021804431453347206, -0.06611292064189911, 0.05035647377371788, -0.00027423110441304743, 0.030454663559794426, -0.011955796740949154, 0.06883682310581207, 0.027970880270004272, 0.04542064666748047, 0.053101081401109695, 0.04789678379893303, -0.014684579335153103, -0.04001036658883095, -0.07772135734558105, 0.083359494805336, -0.04661182686686516, 0.05982208997011185, 0.08269660919904709, -0.0018435746897011995, 0.06733963638544083, 0.032618291676044464, -0.03493725135922432, 0.11802910268306732, -0.1328403204679489, 0.05102499574422836, 0.06880906224250793, 0.03721505030989647, 0.030453462153673172, -0.024426547810435295, -0.02228226140141487, 0.0527067631483078, -0.030408009886741638, 0.10527262091636658, 0.026956932619214058, -0.0613747276365757, 0.009312436915934086, -0.012527362443506718, -0.06208950653672218, 0.10416827350854874, -0.00569319911301136, -0.022362718358635902, 0.011524803936481476, -0.009546510875225067, -0.06270181387662888, -0.02517794258892536, -0.029549559578299522, 0.032010819762945175, -0.05413420870900154, -0.026883278042078018, 0.07778484374284744, -0.08756821602582932, -0.030635405331850052, 0.02921583689749241, -0.0615743026137352, 0.013389283791184425, 0.08967890590429306, -0.014033575542271137, 0.022809205576777458, 0.0923122763633728, 0.02932552993297577, -0.0986224040389061, -0.07208151370286942, 0.024783143773674965, -0.0019673446658998728, -0.03720029070973396, -0.09527004510164261, -0.021328715607523918, 0.08898851275444031, 0.006063815671950579, 0.021938670426607132, 0.016100261360406876, 0.06929038465023041, -0.10719048231840134, 0.00682614604011178, -0.07389698922634125, 0.02011907659471035, 0.00453178770840168, 0.10079746693372726, 0.019883785396814346, -0.008684991858899593, 0.006280016619712114, 0.05206510052084923, -0.0294061079621315, -0.00818808563053608, 0.021188948303461075, -0.02149573154747486, 0.09155173599720001, 0.016067707911133766, -0.04613383859395981, -0.06742838770151138, -0.022593751549720764, -0.03307611867785454, -0.028800787404179573, -0.028670698404312134, -6.121820206317352e-08, 0.057585619390010834, 0.018491895869374275, 0.08157944679260254, -0.028644785284996033, -0.012314402498304844, -0.07572244852781296, 0.05598534643650055, -0.07737941294908524, -0.0334392674267292, 0.04820425063371658, -0.006148790009319782, 0.07645899802446365, -0.002699729520827532, -0.025926029309630394, 0.018296902999281883, 0.05262705683708191, -0.03625136613845825, 0.0040394957177340984, -0.04606526345014572, 0.09334255009889603, 0.05113743245601654, -0.025684669613838196, -0.08018139004707336, 0.03243643045425415, 0.09897970408201218, -0.033170975744724274, -0.01797238551080227, -0.0025038125459104776, 0.037999480962753296, 0.06265733391046524, 0.021838132292032242, 0.0006963149062357843, 0.012438071891665459, -0.03783613070845604, -0.07874182611703873, 0.005860861856490374, 0.009891225025057793, -0.05214890092611313, 0.06653045862913132, 0.02487298659980297, -0.000287241447949782, -0.049543265253305435, -0.09637036174535751, 0.024061622098088264, -0.07922617346048355, -0.0014657949795946479, -0.09294155240058899, 0.04936431720852852, -0.01237605232745409, 0.06422649323940277, -0.013061722740530968, -0.04492105916142464, -0.03931088000535965, 0.021376440301537514, -0.06622616946697235, -0.015585449524223804, 0.03206310421228409, 0.05438285320997238, 0.03456650301814079, -0.04598456993699074, 0.07433845847845078, -0.0033529826905578375, 0.018063509836792946, -0.0630536675453186]}, {"id": "dyn_ui_component_DynTable", "text": "# Component: DynTable\n\n--- Types (DynTable.types.ts) ---\nimport { BaseComponentProps, AccessibilityProps } from '../../types';\nimport { ReactNode } from 'react';\n\nexport type TableSortDirection = 'asc' | 'desc';\nexport type TableCellType = 'text' | 'number' | 'boolean' | 'date' | 'time' | 'datetime' | 'currency' | 'link' | 'icon';\nexport type TableCellAlign = 'left' | 'center' | 'right';\nexport type TableSelectionType = boolean | 'single' | 'multiple';\nexport type TableSize = 'sm' | 'md' | 'lg';\n\nexport interface DynTableColumn {\n  key: string;\n  title: string;\n  header?: string; // alias for title (legacy compatibility)\n  type?: TableCellType;\n  align?: TableCellAlign;\n  width?: number | string;\n  sortable?: boolean;\n  tooltip?: string;\n  render?: (value: any, record: any, index: number) => ReactNode;\n}\n\nexport interface TableAction {\n  key: string;\n  title: string;\n  icon?: string;\n  type?: 'default' | 'primary' | 'danger';\n  onClick: (record: any, index: number) => void;\n  visible?: (record: any) => boolean;\n  disabled?: (record: any) => boolean;\n}\n\nexport interface TablePagination {\n  current: number;\n  pageSize: number;\n  total: number;\n  onChange?: (page: number, pageSize: number) => void;\n}\n\nexport interface DynTableProps extends BaseComponentProps, AccessibilityProps {\n  /** Data array to display */\n  data: any[];\n\n  /** Column definitions */\n  columns: DynTableColumn[];\n\n  /** Available actions for each row */\n  actions?: TableAction[];\n\n  /** Loading state */\n  loading?: boolean;\n\n  /** Table size */\n  size?: TableSize;\n\n  /** Show table borders */\n  bordered?: boolean;\n\n  /** Striped rows */\n  striped?: boolean;\n\n  /** Hoverable rows */\n  hoverable?: boolean;\n\n  /** Row selection type */\n  selectable?: TableSelectionType;\n\n  /** Enable global sorting */\n  sortable?: boolean;\n\n  /** Currently selected row keys */\n  selectedKeys?: string[];\n\n  /** Function to get unique key for each row */\n  rowKey?: string | ((row: any) => string);\n\n  /** Pagination configuration */\n  pagination?: TablePagination;\n\n  /** Initial sort configuration */\n  sortBy?: {\n    column: string;\n    direction: TableSortDirection;\n  };\n\n  /** Sort change callback */\n  onSort?: (column: string, direction: TableSortDirection) => void;\n\n  /** Selection change callback */\n  onSelectionChange?: (keys: string[], rows: any[]) => void;\n\n  /** Text to show when no data */\n  emptyText?: string;\n\n  /** Fixed height for scrollable table */\n  height?: number | string;\n\n  /** ARIA label for table */\n  'aria-label'?: string;\n\n  /** ARIA labelledby for table */\n  'aria-labelledby'?: string;\n}\n\nexport type DynTableType = DynTableProps;\n\n--- Component (DynTable.tsx) ---\nimport React, { useEffect, useMemo, useRef, useState, useId } from 'react';\nimport { cn } from '../../utils/classNames';\nimport styles from './DynTable.module.css';\nimport type { DynTableProps, TableSortDirection, DynTableColumn } from './DynTable.types';\nimport { DynIcon } from '../DynIcon';\nimport { DynButton } from '../DynButton';\nimport { DynBadge } from '../DynBadge';\nimport { DynCheckbox } from '../DynCheckbox';\nimport { DynRadio } from '../DynRadio';\n\n/**\n * DynTable Component\n * Standardized with Design Tokens & CSS Modules\n */\nexport const DynTable: React.FC<DynTableProps> = ({\n  columns,\n  data,\n  actions = [],\n  loading = false,\n  size = 'md',\n  bordered = true,\n  striped = false,\n  hoverable = false,\n  selectable = false,\n  sortable = true,\n  selectedKeys,\n  rowKey,\n  pagination,\n  sortBy,\n  onSort,\n  onSelectionChange,\n  emptyText = 'No data available',\n  height,\n  className,\n  id,\n  'aria-label': ariaLabel,\n  'aria-labelledby': ariaLabelledBy,\n  'aria-describedby': ariaDescribedBy,\n  'data-testid': dataTestId,\n  ...rest\n}) => {\n  const generatedId = useId();\n  const internalId = id || generatedId;\n\n  const selectionMode = selectable === true ? 'multiple' : selectable === false ? undefined : selectable;\n  const isSelectable = selectionMode === 'multiple' || selectionMode === 'single';\n  const isMultiSelect = selectionMode === 'multiple';\n\n  const [internalSelectedKeys, setInternalSelectedKeys] = useState<string[]>(() => selectedKeys ?? []);\n  useEffect(() => {\n    if (selectedKeys !== undefined) {\n      const hasChanged = selectedKeys.length !== internalSelectedKeys.length ||\n        !selectedKeys.every((k, i) => k === internalSelectedKeys[i]);\n      if (hasChanged) {\n        setInternalSelectedKeys(selectedKeys);\n      }\n    }\n  }, [selectedKeys, internalSelectedKeys]);\n\n  const [internalSort, setInternalSort] = useState(sortBy ?? null);\n  const userHasInteracted = useRef(false);\n\n  useEffect(() => {\n    if (sortBy !== undefined && !userHasInteracted.current) {\n      setInternalSort(sortBy);\n    }\n  }, [sortBy?.column, sortBy?.direction]);\n\n  const activeSort = userHasInteracted.current ? internalSort : (sortBy ?? internalSort ?? undefined);\n\n  const sortedData = useMemo(() => {\n    if (!activeSort || !sortable) {\n      return data;\n    }\n\n    const sorted = [...data].sort((a, b) => {\n      const aValue = a[activeSort.column];\n      const bValue = b[activeSort.column];\n\n      if (aValue == null && bValue == null) return 0;\n      if (aValue == null) return 1;\n      if (bValue == null) return -1;\n\n      if (typeof aValue === 'string' && typeof bValue === 'string') {\n        const comparison = aValue.localeCompare(bValue);\n        return activeSort.direction === 'asc' ? comparison : -comparison;\n      }\n\n      if (typeof aValue === 'number' && typeof bValue === 'number') {\n        return activeSort.direction === 'asc' ? aValue - bValue : bValue - aValue;\n      }\n\n      if (typeof aValue === 'boolean' && typeof bValue === 'boolean') {\n        const comparison = aValue === bValue ? 0 : aValue ? 1 : -1;\n        return activeSort.direction === 'asc' ? comparison : -comparison;\n      }\n\n      const aStr = String(aValue);\n      const bStr = String(bValue);\n      const comparison = aStr.localeCompare(bStr);\n      return activeSort.direction === 'asc' ? comparison : -comparison;\n    });\n\n    return sorted;\n  }, [data, activeSort, sortable]);\n\n  const getRowKeyInternal = (row: any, index: number) => {\n    if (typeof rowKey === 'function') return rowKey(row);\n    if (typeof rowKey === 'string' && rowKey in row) return String(row[rowKey]);\n    if ('id' in row) return String(row.id);\n    return String(index);\n  };\n\n  const rowKeys = useMemo(\n    () => sortedData.map((row, index) => getRowKeyInternal(row, index)),\n    [sortedData, rowKey]\n  );\n\n  const toCamelCase = (s: string) => s ? s.replace(/-([a-z])/g, (g) => g[1].toUpperCase()) : '';\n\n\n  const SIZE_MAP: Record<string, string> = {\n    sm: styles['sizeSm'],\n    md: styles['sizeMd'],\n    lg: styles['sizeLg']\n  };\n\n  const badgeSize = size === 'sm' ? 'xs' : 'sm';\n  const iconSize = size === 'sm' ? 'xs' : 'sm';\n  const buttonSize = size === 'sm' ? 'xs' : (size === 'lg' ? 'md' : 'sm');\n\n  const rootClasses = cn(\n    styles.root,\n    bordered && styles.bordered,\n    striped && styles.striped,\n    hoverable && styles.hoverable,\n    height !== undefined && styles.fixedHeight,\n    size && SIZE_MAP[size],\n    className\n  );\n\n  const rootStyle = {\n    ...(height !== undefined ? { height: typeof height === 'number' ? `${height}px` : String(height) } : {}),\n    ...(rest.style as React.CSSProperties | undefined)\n  };\n\n  const handleSelectionChange = (keys: string[]) => {\n    if (!selectedKeys) {\n      setInternalSelectedKeys(keys);\n    }\n\n    if (onSelectionChange) {\n      const rows = keys.map(key => {\n        const index = rowKeys.indexOf(key);\n        return index >= 0 ? sortedData[index] : undefined;\n      }).filter(Boolean);\n      onSelectionChange(keys, rows as any[]);\n    }\n  };\n\n  const toggleRowSelection = (key: string) => {\n    if (!isSelectable) return;\n    if (isMultiSelect) {\n      const exists = internalSelectedKeys.includes(key);\n      const next = exists ? internalSelectedKeys.filter(k => k !== key) : [...internalSelectedKeys, key];\n      handleSelectionChange(next);\n    } else {\n      handleSelectionChange([key]);\n    }\n  };\n\n  const toggleSelectAll = () => {\n    if (!isMultiSelect) return;\n    const allSelected = rowKeys.length > 0 && rowKeys.every(key => internalSelectedKeys.includes(key));\n    handleSelectionChange(allSelected ? [] : rowKeys);\n  };\n\n  const handleSortClick = (columnKey: string) => {\n    const column = columns.find(col => col.key === columnKey);\n    if (!column || column.sortable === false || !sortable) return;\n\n    const isCurrentlySorted = activeSort?.column === columnKey;\n    const nextDirection: TableSortDirection = isCurrentlySorted && activeSort?.direction === 'asc' ? 'desc' : 'asc';\n\n    userHasInteracted.current = true;\n    setInternalSort({ column: columnKey, direction: nextDirection });\n    onSort?.(columnKey, nextDirection);\n  };\n\n  const getEffectiveAlign = (column: DynTableColumn): string => {\n    if (column.align) return column.align;\n    if (column.type === 'number' || column.type === 'currency') return 'right';\n    return 'left';\n  };\n\n  const renderSelectionHeader = () => {\n    if (!isSelectable) return null;\n    return (\n      <th className={cn(styles.cellHeader, styles.cellSelection)}>\n        {isMultiSelect && (\n          <DynCheckbox\n            checked={rowKeys.length > 0 && rowKeys.every(key => internalSelectedKeys.includes(key))}\n            onChange={toggleSelectAll}\n            aria-label=\"Select all rows\"\n          />\n        )}\n      </th>\n    );\n  };\n\n  const renderHeaderCells = () => columns.map(column => {\n    const isSorted = activeSort?.column === column.key;\n    const sortableColumn = sortable && column.sortable !== false;\n    const align = getEffectiveAlign(column);\n\n    return (\n      <th\n        key={column.key}\n        className={cn(\n          styles.cellHeader,\n          sortableColumn && styles.cellHeaderSortable,\n          isSorted && styles.cellHeaderSorted,\n          styles[`cell${align.charAt(0).toUpperCase() + align.slice(1)}`]\n        )}\n        style={column.width ? { width: column.width } : undefined}\n        onClick={sortableColumn ? () => handleSortClick(column.key) : undefined}\n      >\n        <div className={styles.cellContent}>\n          <span>{column.title ?? column.header ?? column.key}</span>\n          {sortableColumn && (\n            <span className={styles.sortIndicator}>\n              <DynIcon\n                icon={isSorted ? (activeSort.direction === 'asc' ? 'chevron-up' : 'chevron-down') : 'chevron-down'}\n                size=\"sm\"\n                style={{ opacity: isSorted ? 1 : 0.3 }}\n              />\n            </span>\n          )}\n        </div>\n      </th>\n    );\n  });\n\n  const renderActionsHeader = () => {\n    if (!actions.length) return null;\n    return <th className={cn(styles.cellHeader, styles.cellActions)}>Actions</th>;\n  };\n\n  const renderSelectionCell = (key: string) => {\n    if (!isSelectable) return null;\n    const checked = internalSelectedKeys.includes(key);\n    return (\n      <td className={cn(styles.cell, styles.cellSelection)}>\n        {isMultiSelect ? (\n          <DynCheckbox\n            checked={checked}\n            onChange={() => toggleRowSelection(key)}\n            aria-label=\"Select row\"\n          />\n        ) : (\n          <DynRadio\n            name={`${internalId}-selection`}\n            value={key}\n            checked={checked}\n            onChange={() => toggleRowSelection(key)}\n            aria-label=\"Select row\"\n          />\n        )}\n      </td>\n    );\n  };\n\n  const renderActionsCell = (row: any, rowIndex: number) => {\n    if (!actions.length) return null;\n    return (\n      <td className={cn(styles.cell, styles.cellActions)}>\n        <div className={styles.actionsContainer}>\n          {actions\n            .filter(action => !action.visible || action.visible(row))\n            .map(action => (\n              <DynButton\n                key={action.key}\n                size={buttonSize}\n                kind={action.type === 'primary' ? 'soft' : action.type === 'danger' ? 'secondary' : 'tertiary'}\n                danger={action.type === 'danger'}\n                onClick={() => action.onClick(row, rowIndex)}\n                disabled={action.disabled?.(row)}\n                label={action.title}\n              />\n            ))}\n        </div>\n      </td>\n    );\n  };\n\n  const renderCellContent = (column: any, row: any, rowIndex: number) => {\n    const value = row[column.key];\n    if (column.render) return column.render(value, row, rowIndex);\n    if (value == null) return '';\n\n    switch (column.type) {\n      case 'boolean':\n        return (\n          <DynBadge\n            color={value ? 'success' : 'danger'}\n            variant=\"dot\"\n            size={badgeSize}\n          >\n            {value ? 'Active' : 'Inactive'}\n          </DynBadge>\n        );\n      case 'link':\n        return <a href={String(value)} className={styles.cellLink}>{String(value)}</a>;\n      case 'number':\n        return typeof value === 'number' ? value.toLocaleString() : String(value);\n      case 'currency':\n        return typeof value === 'number'\n          ? new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(value)\n          : String(value);\n      case 'date':\n        return new Date(value).toLocaleDateString();\n      case 'datetime':\n        return new Date(value).toLocaleString();\n      case 'icon':\n        return <DynIcon icon={String(value)} size={iconSize} />;\n      default:\n        return String(value);\n    }\n  };\n\n  return (\n    <div id={internalId} className={rootClasses} style={rootStyle} data-testid={dataTestId || 'dyn-table'}>\n      <div className={styles.wrapper}>\n        <table className={styles.tableContainer} {...rest}>\n          <thead className={styles.head}>\n            <tr className={styles.row}>\n              {renderSelectionHeader()}\n              {renderHeaderCells()}\n              {renderActionsHeader()}\n            </tr>\n          </thead>\n          <tbody className={styles.body}>\n            {sortedData.map((row, rowIndex) => {\n              const key = rowKeys[rowIndex];\n              const isSelected = internalSelectedKeys.includes(key);\n              return (\n                <tr key={key} className={cn(styles.row, isSelected && styles.rowSelected)}>\n                  {renderSelectionCell(key)}\n                  {columns.map(column => {\n                    const align = getEffectiveAlign(column);\n                    return (\n                      <td\n                        key={column.key}\n                        className={cn(\n                          styles.cell,\n                          styles[`cell${align.charAt(0).toUpperCase() + align.slice(1)}`]\n                        )}\n                      >\n                        {renderCellContent(column, row, rowIndex)}\n                      </td>\n                    );\n                  })}\n                  {renderActionsCell(row, rowIndex)}\n                </tr>\n              );\n            })}\n          </tbody>\n        </table>\n      </div>\n      {loading && (\n        <div className={styles.loading}>\n          <DynIcon icon=\"loading\" spin size=\"lg\" />\n          <span>Loading...</span>\n        </div>\n      )}\n      {!loading && sortedData.length === 0 && (\n        <div className={styles.empty}>{emptyText}</div>\n      )}\n      {pagination && (\n        <div className={styles.pagination}>\n          <div className={styles.paginationControls}>\n            <DynButton\n              kind=\"secondary\"\n              size={buttonSize}\n              disabled={pagination.current <= 1}\n              onClick={() => pagination.onChange?.(pagination.current - 1, pagination.pageSize)}\n              label=\"Previous\"\n            />\n            <span className={styles.paginationInfo}>Page {pagination.current}</span>\n            <DynButton\n              kind=\"secondary\"\n              size={buttonSize}\n              disabled={pagination.current >= Math.ceil(pagination.total / pagination.pageSize)}\n              onClick={() => pagination.onChange?.(pagination.current + 1, pagination.pageSize)}\n              label=\"Next\"\n            />\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default DynTable;\n\n\n--- Usage Examples (DynTable.stories.tsx) ---\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { useState } from 'react';\nimport DynTable from './DynTable';\nimport { DynTableProps, DynTableColumn, TableAction } from './DynTable.types';\nimport { DynAvatar } from '../DynAvatar';\nimport { DynBadge } from '../DynBadge';\n\nconst meta: Meta<typeof DynTable> = {\n  title: 'Data Display/DynTable',\n  component: DynTable,\n  parameters: {\n    layout: 'padded',\n    docs: {\n      description: {\n        component: 'A comprehensive data table component with sorting, selection, pagination, and action support for displaying structured data.'\n      }\n    }\n  },\n  tags: ['autodocs'],\n  argTypes: {\n    size: {\n      control: { type: 'select' },\n      options: ['sm', 'md', 'lg'],\n      description: 'Table size variant'\n    },\n    selectable: {\n      control: { type: 'select' },\n      options: [false, true, 'single', 'multiple'],\n      description: 'Row selection type'\n    },\n    bordered: {\n      control: 'boolean',\n      description: 'Show table borders'\n    },\n    striped: {\n      control: 'boolean',\n      description: 'Striped rows'\n    },\n    hoverable: {\n      control: 'boolean',\n      description: 'Hoverable rows'\n    },\n    loading: {\n      control: 'boolean',\n      description: 'Show loading state'\n    },\n    height: {\n      control: { type: 'number' },\n      description: 'Fixed height for scrollable table'\n    },\n  },\n};\n\nexport default meta;\ntype Story = StoryObj<typeof DynTable>;\n\n// Sample data\nconst sampleData = [\n  { id: 1, name: 'John Doe', age: 30, email: 'john@example.com', department: 'Engineering', salary: 75000, active: true, joinDate: '2022-01-15' },\n  { id: 2, name: 'Jane Smith', age: 25, email: 'jane@example.com', department: 'Design', salary: 65000, active: true, joinDate: '2022-03-20' },\n  { id: 3, name: 'Bob Johnson', age: 35, email: 'bob@example.com', department: 'Marketing', salary: 60000, active: false, joinDate: '2021-11-10' },\n  { id: 4, name: 'Alice Brown', age: 28, email: 'alice@example.com', department: 'Engineering', salary: 80000, active: true, joinDate: '2022-02-28' },\n  { id: 5, name: 'Charlie Wilson', age: 42, email: 'charlie@example.com', department: 'Sales', salary: 70000, active: true, joinDate: '2021-08-15' },\n];\n\nconst basicColumns: DynTableColumn[] = [\n  { key: 'name', title: 'Name', sortable: true },\n  { key: 'age', title: 'Age', type: 'number', sortable: true, align: 'right' },\n  { key: 'email', title: 'Email', type: 'link' },\n  { key: 'department', title: 'Department', sortable: true },\n  { key: 'active', title: 'Active', type: 'boolean', align: 'left' },\n];\n\nconst advancedColumns: DynTableColumn[] = [\n  { key: 'name', title: 'Employee Name', sortable: true, width: '20%' },\n  { key: 'age', title: 'Age', type: 'number', sortable: true, align: 'right', width: '10%' },\n  { key: 'email', title: 'Email Address', type: 'link', width: '25%' },\n  { key: 'department', title: 'Department', sortable: true, width: '15%' },\n  { key: 'salary', title: 'Salary', type: 'currency', sortable: true, align: 'right', width: '10%' },\n  { key: 'joinDate', title: 'Join Date', type: 'date', sortable: true, width: '10%' },\n  { key: 'active', title: 'Status', type: 'boolean', align: 'left', width: '10%' },\n];\n\nconst customRenderColumns: DynTableColumn[] = [\n  {\n    key: 'name',\n    title: 'Employee',\n    render: (value, record) => (\n      <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\n        <DynAvatar\n          alt={value}\n          size=\"sm\"\n          status={record.active ? 'online' : 'offline'}\n        />\n        <div>\n          <div style={{ fontWeight: '600', color: 'var(--dyn-semantic-text)' }}>{value}</div>\n          <div style={{ fontSize: '12px', color: 'var(--dyn-semantic-text-secondary)' }}>{record.department}</div>\n        </div>\n      </div>\n    )\n  },\n  { key: 'age', title: 'Age', type: 'number', align: 'right' },\n  { key: 'email', title: 'Email', type: 'link' },\n  { key: 'salary', title: 'Salary', type: 'currency', align: 'right' },\n  {\n    key: 'active',\n    title: 'Status',\n    align: 'center',\n    render: (value) => (\n      <div style={{ display: 'flex', justifyContent: 'center' }}>\n        <DynBadge\n          variant=\"soft\"\n          color={value ? 'success' : 'danger'}\n          size=\"sm\"\n        >\n          {value ? 'Active' : 'Inactive'}\n        </DynBadge>\n      </div>\n    )\n  },\n];\n\nconst sampleActions: TableAction[] = [\n  {\n    key: 'view',\n    title: 'View',\n    onClick: (record) => alert(`Viewing ${record.name}`),\n  },\n  {\n    key: 'edit',\n    title: 'Edit',\n    type: 'primary',\n    onClick: (record) => alert(`Editing ${record.name}`),\n  },\n  {\n    key: 'delete',\n    title: 'Delete',\n    type: 'danger',\n    onClick: (record) => alert(`Deleting ${record.name}`),\n    disabled: (record) => record.active, // Can't delete active users\n  },\n];\n\nconst pagination = {\n  current: 1,\n  pageSize: 3,\n  total: 50,\n  onChange: (page: number, pageSize: number) => {\n    console.log('Page changed:', { page, pageSize });\n  },\n};\n\n// Default story\nexport const Default: Story = {\n  args: {\n    data: sampleData,\n    columns: advancedColumns,\n    size: 'md',\n    bordered: true,\n    striped: false,\n    hoverable: true,\n    loading: false,\n  },\n};\n\n// With Selection\nexport const WithSelection: Story = {\n  render: (args: any) => {\n    const [selectedKeys, setSelectedKeys] = useState<string[]>(['1', '3']);\n    return (\n      <DynTable\n        {...args}\n        selectable=\"multiple\"\n        selectedKeys={selectedKeys}\n        onSelectionChange={(keys: string[], rows: any[]) => {\n          setSelectedKeys(keys);\n          // Alert user about selection change (limit detailed info for alert)\n          alert(`Selected ${keys.length} rows: ${rows.map(r => r.name).join(', ')}`);\n        }}\n      />\n    );\n  },\n  args: {\n    ...Default.args,\n  },\n};\n\n// Single Selection\nexport const SingleSelection: Story = {\n  render: (args: any) => {\n    const [selectedKeys, setSelectedKeys] = useState<string[]>(['2']);\n    return (\n      <DynTable\n        {...args}\n        selectable=\"single\"\n        selectedKeys={selectedKeys}\n        onSelectionChange={(keys) => setSelectedKeys(keys)}\n      />\n    );\n  },\n  args: {\n    ...Default.args,\n  },\n};\n\n// With Actions\nexport const WithActions: Story = {\n  args: {\n    ...Default.args,\n    actions: sampleActions,\n  },\n};\n\n// Advanced Columns (Interactive Sort)\nexport const AdvancedColumns: Story = {\n  render: (args) => (\n    <DynTable\n      {...args}\n      onSort={(column, direction) => {\n        alert(`Sorting by ${column} in ${direction} order`);\n      }}\n    />\n  ),\n  args: {\n    ...Default.args,\n    columns: advancedColumns,\n    sortBy: { column: 'salary', direction: 'desc' },\n  },\n};\n\n// Custom Rendering\nexport const CustomRendering: Story = {\n  args: {\n    ...Default.args,\n    columns: customRenderColumns,\n  },\n};\n\n// Small Size\nexport const SmallSize: Story = {\n  args: {\n    ...Default.args,\n    size: 'sm',\n  },\n};\n\n// Large Size\nexport const LargeSize: Story = {\n  args: {\n    ...Default.args,\n    size: 'lg',\n  },\n};\n\n// Striped Variant\nexport const Striped: Story = {\n  args: {\n    ...Default.args,\n    striped: true,\n  },\n};\n\n// Without Borders\nexport const WithoutBorders: Story = {\n  args: {\n    ...Default.args,\n    bordered: false,\n  },\n};\n\n// With Pagination (Interactive)\nexport const WithPagination: Story = {\n  render: (args: any) => {\n    const [currentPage, setCurrentPage] = useState(1);\n    const pageSize = 3;\n    // Generate more data for demonstration\n    const allData = Array.from({ length: 12 }, (_, i) => ({\n      ...sampleData[i % sampleData.length],\n      id: i + 1,\n      name: `${sampleData[i % sampleData.length].name} ${i + 1}`,\n    }));\n\n    // Slice data for current page\n    const currentData = allData.slice((currentPage - 1) * pageSize, currentPage * pageSize);\n\n    return (\n      <DynTable\n        {...args}\n        data={currentData}\n        pagination={{\n          current: currentPage,\n          pageSize: pageSize,\n          total: allData.length,\n          onChange: (page) => setCurrentPage(page),\n        }}\n      />\n    );\n  },\n  args: {\n    ...Default.args,\n  },\n};\n\n// Fixed Height (Scrollable)\nexport const FixedHeight: Story = {\n  args: {\n    ...Default.args,\n    height: 300,\n    // Generate unique IDs for duplicated data to avoid key warnings\n    data: Array.from({ length: 15 }, (_, i) => ({\n      ...sampleData[i % sampleData.length],\n      id: i + 1,\n    })),\n  },\n};\n\n// Loading State\nexport const Loading: Story = {\n  args: {\n    ...Default.args,\n    loading: true,\n  },\n};\n\n// Empty State\nexport const Empty: Story = {\n  args: {\n    ...Default.args,\n    data: [],\n  },\n};\n\n// Custom Empty Text\nexport const CustomEmptyText: Story = {\n  args: {\n    ...Default.args,\n    data: [],\n    emptyText: 'No employees found. Add your first employee to get started!',\n  },\n};\n\n// All Features Combined (Interactive)\nexport const AllFeatures: Story = {\n  render: (args: any) => {\n    const [currentPage, setCurrentPage] = useState(1);\n    const [selectedKeys, setSelectedKeys] = useState<string[]>([]);\n    const [currentSort, setCurrentSort] = useState(args.sortBy);\n    const pageSize = 3;\n\n    // 1. Sort Data\n    const sortedData = [...sampleData].sort((a, b) => {\n      if (!currentSort) return 0;\n      const { column, direction } = currentSort;\n      const aVal = a[column as keyof typeof a];\n      const bVal = b[column as keyof typeof b];\n      if (aVal < bVal) return direction === 'asc' ? -1 : 1;\n      if (aVal > bVal) return direction === 'asc' ? 1 : -1;\n      return 0;\n    });\n\n    // 2. Paginate Data\n    const currentData = sortedData.slice((currentPage - 1) * pageSize, currentPage * pageSize);\n\n    return (\n      <DynTable\n        {...args}\n        data={currentData}\n        selectedKeys={selectedKeys}\n        sortBy={currentSort}\n        onSelectionChange={(keys: string[]) => {\n          setSelectedKeys(keys);\n          console.log('Selection updated');\n        }}\n        onSort={(column, direction) => {\n          setCurrentSort({ column, direction });\n          alert(`Sorting by ${column} (${direction})`);\n        }}\n        pagination={{\n          current: currentPage,\n          pageSize: pageSize,\n          total: sortedData.length,\n          onChange: (page) => setCurrentPage(page),\n        }}\n        actions={[\n          {\n            key: 'view',\n            title: 'View',\n            onClick: (record) => alert(`Viewing ${record.name}`),\n          },\n          {\n            key: 'edit',\n            title: 'Edit',\n            type: 'primary',\n            onClick: (record) => alert(`Editing ${record.name}`),\n          },\n          {\n            key: 'delete',\n            title: 'Delete',\n            type: 'danger',\n            onClick: (record) => alert(`Deleting ${record.name}`),\n            disabled: (record) => record.active,\n          }\n        ]}\n      />\n    );\n  },\n  args: {\n    columns: advancedColumns,\n    selectable: 'multiple',\n    striped: true,\n    size: 'md',\n    sortBy: { column: 'name', direction: 'asc' },\n  },\n};\n\n\n--- Styles (DynTable.module.css) ---\n/**\n * DynTable Component Styles\n * 100% Design Token Compliance\n * Unified Token Strategy: 3-Level Fallback Pattern\n */\n\n.root {\n  /* Core tokens */\n  --dyn-table-background: var(--dyn-table-color-root-background, var(--dyn-semantic-surface, #ffffff));\n  --dyn-table-text: var(--dyn-table-color-root-text, var(--dyn-semantic-text, #0f172a));\n  --dyn-table-border: var(--dyn-table-color-root-border, var(--dyn-semantic-border, #e2e8f0));\n  --dyn-table-radius: var(--dyn-table-size-root-radius, var(--dyn-border-radius-md, 0.375rem));\n  --dyn-table-shadow: var(--dyn-table-elevation-root, var(--dyn-shadow-sm, 0 1px 3px 0 rgba(0, 0, 0, 0.1)));\n\n  /* Header tokens */\n  --dyn-table-header-bg: var(--dyn-table-color-header-background, var(--dyn-semantic-surface-muted, #f8fafc));\n  --dyn-table-header-text: var(--dyn-table-color-header-text, var(--dyn-semantic-text-secondary, #64748b));\n  --dyn-table-header-border: var(--dyn-table-color-header-border, var(--dyn-semantic-border, #e2e8f0));\n  --dyn-table-header-font-size: var(--dyn-table-size-header-fontSize, var(--dyn-font-size-sm, 0.875rem));\n  --dyn-table-header-font-weight: var(--dyn-table-size-header-fontWeight, var(--dyn-font-weight-semibold, 600));\n\n  /* Row tokens */\n  --dyn-table-row-bg-stripe: var(--dyn-table-color-row-background-stripe, var(--dyn-semantic-surface-muted, #f8fafc));\n  --dyn-table-row-bg-hover: var(--dyn-table-color-row-background-hover, var(--dyn-semantic-surface-hover, #f1f5f9));\n  --dyn-table-row-bg-selected: var(--dyn-table-color-row-background-selected, var(--dyn-theme-primary-subtle, rgba(59, 130, 246, 0.05)));\n  --dyn-table-row-border-width: var(--dyn-table-size-row-borderWidth, var(--dyn-border-width-sm, 1px));\n\n  /* Cell tokens */\n  --dyn-table-cell-padding-sm: var(--dyn-table-size-cell-padding-sm, var(--dyn-spacing-xs, 0.5rem));\n  --dyn-table-cell-padding-md: var(--dyn-table-size-cell-padding-md, var(--dyn-spacing-sm, 0.75rem));\n  --dyn-table-cell-padding-lg: var(--dyn-table-size-cell-padding-lg, var(--dyn-spacing-md, 1rem));\n\n  /* Functional tokens */\n  --dyn-table-sort-active: var(--dyn-table-color-sort-active, var(--dyn-theme-primary, #3b82f6));\n  --dyn-table-loading-text: var(--dyn-table-color-loading-text, var(--dyn-theme-primary, #3b82f6));\n  --dyn-table-empty-text: var(--dyn-table-color-empty-text, var(--dyn-semantic-text-secondary, #64748b));\n  --dyn-table-size-selection-width: var(--dyn-table-size-selection-width, 3rem);\n\n  /* Base styles */\n  width: 100%;\n  border-collapse: separate;\n  border-spacing: 0;\n  background-color: var(--dyn-table-background);\n  color: var(--dyn-table-text);\n  border-radius: var(--dyn-table-radius);\n  overflow: hidden;\n  box-shadow: var(--dyn-table-shadow);\n  transition: box-shadow var(--dyn-transition-fast, 150ms) ease-in-out;\n}\n\n.root:hover {\n  box-shadow: var(--dyn-table-elevation-hover, var(--dyn-shadow-md, 0 4px 6px -1px rgba(0, 0, 0, 0.1)));\n}\n\n.wrapper {\n  width: 100%;\n  overflow-x: auto;\n}\n\n.tableContainer {\n  width: 100%;\n  border-collapse: collapse;\n  border-spacing: 0;\n}\n\n/* ============================================\n   HEADER\n   ============================================ */\n\n.head {\n  background: var(--dyn-table-header-bg);\n}\n\n.cellHeader {\n  padding: var(--dyn-table-cell-padding-md);\n  background: var(--dyn-table-header-bg);\n  color: var(--dyn-table-header-text);\n  font-weight: var(--dyn-table-header-font-weight);\n  font-size: var(--dyn-table-header-font-size);\n  text-align: left;\n  border-bottom: var(--dyn-table-row-border-width) solid var(--dyn-table-header-border);\n  white-space: nowrap;\n  user-select: none;\n}\n\n.cellHeaderSortable {\n  cursor: pointer;\n  transition: background-color var(--dyn-transition-fast, 150ms);\n}\n\n.cellHeaderSortable:hover {\n  background: var(--dyn-table-row-bg-hover);\n}\n\n.cellHeaderSorted {\n  color: var(--dyn-table-sort-active);\n}\n\n.cellContent {\n  display: flex;\n  align-items: center;\n  gap: var(--dyn-spacing-xs, 0.25rem);\n  width: 100%;\n}\n\n.cellCenter .cellContent {\n  justify-content: center;\n}\n\n.cellRight .cellContent {\n  justify-content: flex-end;\n}\n\n.sortIndicator {\n  display: inline-flex;\n  align-items: center;\n  font-size: var(--dyn-font-size-sm);\n  opacity: 0.6;\n}\n\n/* ============================================\n   BODY\n   ============================================ */\n\n.row {\n  border-bottom: var(--dyn-table-row-border-width) solid var(--dyn-table-border);\n  transition: background-color var(--dyn-transition-fast, 150ms);\n}\n\n.row:last-child {\n  border-bottom: none;\n}\n\n.rowSelected {\n  background-color: var(--dyn-table-row-bg-selected) !important;\n}\n\n.cell {\n  padding: var(--dyn-table-cell-padding-md);\n  font-size: var(--dyn-font-size-sm, 0.875rem);\n  color: var(--dyn-table-text);\n  line-height: var(--dyn-line-height-normal, 1.5);\n  vertical-align: middle;\n}\n\n.cellLink {\n  color: var(--dyn-semantic-text-link, var(--dyn-theme-primary, #3b82f6));\n  text-decoration: none;\n  font-weight: var(--dyn-font-weight-medium, 500);\n  transition: all var(--dyn-transition-fast);\n}\n\n.cellLink:hover {\n  color: var(--dyn-semantic-text-link-hover, var(--dyn-theme-primary-strong, #2563eb));\n  text-decoration: underline;\n}\n\n.cellLeft {\n  text-align: left;\n}\n\n.cellCenter {\n  text-align: center;\n}\n\n.cellRight {\n  text-align: right;\n}\n\n/* ============================================\n   SELECTION\n   ============================================ */\n\n.cellSelection {\n  width: var(--dyn-table-size-selection-width);\n  text-align: center;\n}\n\n.cellSelection input {\n  cursor: pointer;\n  accent-color: var(--dyn-theme-primary);\n}\n\n/* ============================================\n   ACTIONS\n   ============================================ */\n\n.cellActions {\n  text-align: right;\n  white-space: nowrap;\n}\n\n.actionsContainer {\n  display: flex;\n  gap: var(--dyn-spacing-xs, 0.25rem);\n  justify-content: flex-end;\n  align-items: center;\n}\n\n/* ============================================\n   SIZE VARIANTS\n   ============================================ */\n\n.sizeSm .cell,\n.sizeSm .cellHeader {\n  padding: var(--dyn-table-cell-padding-sm);\n  font-size: var(--dyn-font-size-xs, 0.75rem);\n}\n\n.sizeMd .cell,\n.sizeMd .cellHeader {\n  padding: var(--dyn-table-cell-padding-md);\n  font-size: var(--dyn-font-size-sm, 0.875rem);\n}\n\n.sizeLg .cell,\n.sizeLg .cellHeader {\n  padding: var(--dyn-table-cell-padding-lg);\n  font-size: var(--dyn-font-size-md, 1rem);\n}\n\n/* ============================================\n   STYLE VARIANTS\n   ============================================ */\n\n.bordered {\n  border: var(--dyn-border-width-sm, 1px) solid var(--dyn-table-border);\n}\n\n.bordered .cell {\n  border-right: var(--dyn-border-width-sm, 1px) solid var(--dyn-table-border);\n}\n\n.bordered .cell:last-child {\n  border-right: none;\n}\n\n.striped .body .row:nth-child(odd) {\n  background: var(--dyn-table-row-bg-stripe);\n}\n\n.hoverable .body .row:hover {\n  background: var(--dyn-table-row-bg-hover);\n}\n\n/* ============================================\n   EMPTY & LOADING STATES\n   ============================================ */\n\n.empty {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: var(--dyn-spacing-xl, 2rem);\n  color: var(--dyn-table-empty-text);\n  font-size: var(--dyn-font-size-sm);\n  min-height: 100px;\n}\n\n.loading {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: var(--dyn-spacing-xl, 2rem);\n  color: var(--dyn-table-loading-text);\n  font-size: var(--dyn-font-size-sm);\n  min-height: 100px;\n  gap: var(--dyn-spacing-sm, 0.5rem);\n}\n\n/* ============================================\n   PAGINATION\n   ============================================ */\n\n.pagination {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: var(--dyn-spacing-md, 1rem);\n  border-top: var(--dyn-border-width-sm, 1px) solid var(--dyn-table-border);\n  background: var(--dyn-table-header-bg);\n}\n\n.paginationControls {\n  display: flex;\n  align-items: center;\n  gap: var(--dyn-spacing-md, 1rem);\n}\n\n.paginationInfo {\n  font-size: var(--dyn-font-size-sm);\n  color: var(--dyn-table-text);\n  font-weight: var(--dyn-font-weight-medium, 500);\n}\n\n/* ============================================\n   FIXED HEIGHT\n   ============================================ */\n\n.fixedHeight .wrapper {\n  overflow-y: auto;\n  max-height: inherit;\n}\n\n/* ============================================\n   ACCESSIBILITY\n   ============================================ */\n\n@media (prefers-contrast: high) {\n  .bordered {\n    border-width: var(--dyn-border-width-md, 2px);\n  }\n\n  .cellHeader {\n    border-bottom-width: var(--dyn-border-width-lg, 3px);\n  }\n}\n\n@media (prefers-reduced-motion: reduce) {\n\n  .row,\n  .cellHeaderSortable {\n    transition: none !important;\n  }\n}\n\n.paginationButton:focus-visible,\n.checkbox:focus-visible {\n  outline: var(--dyn-border-width-md, 2px) solid var(--dyn-semantic-border-focus);\n  outline-offset: var(--dyn-spacing-2xs, 2px);\n}", "metadata": {"type": "ui_component", "name": "DynTable", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynTable"}, "embedding": [0.010107368230819702, -0.04063047841191292, -0.004781949799507856, 0.07777763158082962, -0.02189219556748867, 0.09504150599241257, -0.034209419041872025, 0.10167986154556274, -0.02032378874719143, 0.06187338009476662, -0.05709931626915932, -0.055548299103975296, -0.03552216291427612, 0.008973372168838978, -0.042442381381988525, -0.011160416528582573, -0.08900005370378494, -0.04106226563453674, -0.02885233797132969, 0.05087340623140335, 0.03722795471549034, -0.06479617208242416, 0.05662807822227478, -0.055365998297929764, 0.0734713226556778, 0.034003883600234985, -0.011209573596715927, 0.0444304458796978, -0.009972887113690376, -0.05603821948170662, -0.09876948595046997, 0.06677224487066269, -0.12854863703250885, 0.03575674816966057, -0.034087151288986206, -0.013665849342942238, -0.0316021703183651, 0.039956703782081604, 0.04778439924120903, -0.027595994994044304, 0.05363389104604721, 0.022350789979100227, 0.07514327764511108, -0.0679933950304985, 0.014023033902049065, -0.03631613031029701, -0.11374259740114212, -0.06870310008525848, -0.052886344492435455, 0.012688838876783848, -0.0072624944150447845, 0.10681288689374924, 0.06421522051095963, 0.013433300890028477, 0.04366685822606087, 0.026917098090052605, 0.02482844516634941, 0.03919628635048866, 0.07873149961233139, 0.037492573261260986, -0.009905018843710423, -0.04505539685487747, 0.07673235237598419, -0.10270397365093231, 0.02966565638780594, 0.01667799986898899, -0.00907854363322258, 0.011211862787604332, -0.0012616898166015744, -0.00023581122513860464, -0.0038122814148664474, -0.03625974804162979, 0.03930220007896423, -0.03599197044968605, 0.006915866397321224, -0.10803201794624329, 0.02990715205669403, 0.019391460344195366, 0.014531380496919155, 0.030383102595806122, 0.0044445982202887535, 0.04369162395596504, -0.07608380913734436, 0.040184278041124344, -0.009368911385536194, 0.02363390475511551, 0.031020913273096085, -0.02812700904905796, -0.07578841596841812, -0.0398959182202816, -0.0004542147507891059, -0.03043418750166893, 0.014087243936955929, 0.04789266362786293, -0.042856473475694656, 0.017217038199305534, 0.01088747475296259, 0.05392146483063698, -0.015458116307854652, 0.028701473027467728, 0.0044375453144311905, -0.019353626295924187, -0.046967245638370514, 0.08811184763908386, -0.013742768205702305, -0.08670781552791595, 0.04189871996641159, -0.11148028820753098, -0.04639765992760658, -0.038175057619810104, -0.028412919491529465, 0.08425413817167282, -0.08845679461956024, -0.024300238117575645, -0.1445956528186798, -0.03167286142706871, -0.0727900043129921, -0.11325854808092117, 0.10195566713809967, -0.06306719034910202, 0.06914978474378586, 0.017505543306469917, -0.03359493985772133, 0.05771980434656143, 0.021972719579935074, 0.07412569969892502, 0.08516854047775269, 6.715172374861586e-33, -0.05299510061740875, 0.011633969843387604, 0.08283285796642303, -0.006372383330017328, 0.09517628699541092, -0.019592786207795143, 0.05294167250394821, 0.0001156436774181202, 0.007241588551551104, 0.01499873399734497, -0.005439714062958956, 0.049662306904792786, -0.10955069959163666, -0.03724473714828491, -0.05681152641773224, 0.019319163635373116, 0.025635268539190292, -0.06035276874899864, -0.02322673238813877, -0.009160121902823448, -0.005160425789654255, 0.027604416012763977, -0.03446567803621292, 0.024400785565376282, 0.05482914671301842, -0.051122087985277176, -0.04409562051296234, 0.11635227501392365, -0.0027798896189779043, -0.035314057022333145, 0.08939484506845474, -0.006915943697094917, 0.005267459433525801, 0.007678191177546978, -0.0007663373835384846, -0.05351749435067177, -0.07628995180130005, 0.04370766505599022, -0.032273467630147934, -0.008602375164628029, -0.0138870719820261, 0.0155490068718791, -0.08994874358177185, -0.0026317881420254707, 0.008452517911791801, 0.04466622695326805, 0.11476164311170578, -0.013984397053718567, 0.0035200894344598055, -0.037721045315265656, -0.04353444278240204, 0.029605675488710403, 0.003231465583667159, -0.053004540503025055, 0.06085985153913498, 0.01576615683734417, -0.013880819082260132, 0.04962059482932091, 0.13477526605129242, 0.0522991381585598, -0.049603063613176346, -0.03953944891691208, 0.010757830925285816, -0.06325342506170273, -0.0452381931245327, 0.09764166176319122, -0.05618124082684517, -0.023222723975777626, 0.05337631702423096, -0.11142942309379578, 0.019912632182240486, -0.04607519879937172, 0.0657084658741951, 0.013902807608246803, 0.08859782665967941, 0.05500107631087303, -0.04244121164083481, -0.038258712738752365, 0.01472205575555563, -0.14341384172439575, 0.0384802408516407, 0.002450669649988413, -0.04668059200048447, 0.06307843327522278, 0.0014787528198212385, -0.04551825299859047, -0.0940994918346405, -0.02165229804813862, 0.03351779282093048, 0.009283254854381084, -0.022467292845249176, -0.08578957617282867, 0.054596442729234695, -0.04415172338485718, -0.056109849363565445, -7.928849720934459e-33, 0.041630372405052185, 0.049497269093990326, -0.06132656708359718, -0.02216661535203457, 0.022802678868174553, -0.027059921994805336, 0.00027921758010052145, 0.03961872681975365, 0.0029796380549669266, 0.05747950077056885, 0.027896154671907425, -0.006437136325985193, 0.01425231248140335, -0.03752697631716728, -0.07838423550128937, 0.12240653485059738, 0.013356421142816544, 0.021573320031166077, -0.008470477536320686, -0.018467843532562256, 0.04848950728774071, 0.04701775684952736, 0.010961726307868958, 0.09968622028827667, -0.03777087479829788, 0.04045918956398964, 0.04027077928185463, 0.0034763820003718138, 0.017151793465018272, 0.008346028625965118, -0.010981250554323196, -0.018918823450803757, 0.0025885067880153656, 0.04052101820707321, -0.014832330867648125, -0.0827384814620018, 0.006106434389948845, 0.0017993315123021603, -0.012155305594205856, 0.06317707151174545, -0.08845208585262299, -0.04405297338962555, -0.0022124284878373146, -0.011655308306217194, 0.023437203839421272, -0.036556094884872437, 0.01300584152340889, 0.04113927111029625, -0.03676620498299599, 0.029096931219100952, 0.044897373765707016, -0.0423194020986557, -0.04967266321182251, -0.09601007401943207, -0.011122441850602627, -0.01284874975681305, 0.027470281347632408, -0.01831641234457493, 0.04047099128365517, -0.0024075063411146402, 0.012423473410308361, -0.027989322319626808, 0.027578990906476974, 0.04369436949491501, 0.0212471354752779, -0.04425501823425293, -0.11460617929697037, -0.026516545563936234, 0.014740342274308205, 0.058281295001506805, -0.04336022213101387, 0.06460291892290115, 0.03650183230638504, -0.008172565139830112, 0.0813763365149498, -0.011680644005537033, -0.029378598555922508, 0.03451648727059364, 0.10399207472801208, 0.0003635409811977297, -0.03663336858153343, 0.011447983793914318, 0.0500456765294075, -0.04609910026192665, -0.026708252727985382, -0.007087847217917442, 0.029251089319586754, 0.059629637748003006, -0.011437829583883286, 0.0498628132045269, -0.013270942494273186, -0.13339993357658386, -0.0847344920039177, 0.05466429889202118, 0.010274198837578297, -5.833389238318887e-08, 0.04154907539486885, -0.0384349450469017, -0.0650385394692421, -0.02107335813343525, -0.010471641086041927, -0.16546392440795898, 0.02015690505504608, -0.015075155533850193, 0.04215223714709282, 0.0007672753999941051, 0.03226983919739723, 0.14500676095485687, -0.03863866627216339, -0.01784227043390274, 0.0404541976749897, 0.003851266810670495, -0.036894541233778, -0.03638074919581413, -0.051058124750852585, 0.01915156841278076, 0.02536671981215477, -0.01545299869030714, -0.0472990944981575, 0.02688869647681713, 0.12225032597780228, -0.027415959164500237, -0.03430210053920746, 0.040212467312812805, 0.04886961355805397, 0.05434673652052879, -0.02374904416501522, -0.012419759295880795, 0.015388112515211105, -0.05868329852819443, -0.015612876042723656, -0.012630093842744827, 0.05153606832027435, -0.07509344071149826, 0.06421904265880585, 0.023795511573553085, -0.03233098238706589, 0.008473526686429977, -0.04203934222459793, 0.01934153400361538, -0.01642443612217903, 0.026347601786255836, -0.08267802000045776, 0.0376141294836998, 0.01870744861662388, 0.004956827498972416, 0.004946878179907799, -0.07674531638622284, -0.07928653061389923, -0.023649273440241814, -0.05024760589003563, 0.03309977799654007, -0.054291244596242905, 0.048082079738378525, 0.05388864502310753, -0.03924990072846413, -0.00897134654223919, -0.020366676151752472, 0.026291273534297943, -0.02374274842441082]}, {"id": "dyn_ui_component_DynTabs", "text": "# Component: DynTabs\n\n--- Types (DynTabs.types.ts) ---\nimport React, { ReactNode } from 'react';\nimport { BaseComponentProps, ComponentSize, AccessibilityProps } from '../../types';\n\nexport type DynTabsSize = ComponentSize;\nexport type DynTabsPosition = 'top' | 'bottom' | 'left' | 'right';\nexport type DynTabsVariant = 'default' | 'underlined' | 'pills' | 'bordered';\nexport type DynTabsOrientation = 'horizontal' | 'vertical';\nexport type DynTabsActivation = 'auto' | 'manual';\n\n/**\n * Content function type for tab items\n */\nexport type TabContentFunction = (params: { value: string; selected: boolean }) => ReactNode;\n\n/**\n * Individual tab item configuration\n */\nexport interface DynTabItem {\n  /** Unique identifier for the tab (legacy support) */\n  id?: string;\n\n  /** Value for the tab - preferred over id */\n  value?: string | number;\n\n  /** Display label for the tab */\n  label: string;\n\n  /** Content to display when tab is active - can be ReactNode or function */\n  content: ReactNode | TabContentFunction;\n\n  /** Whether the tab is disabled */\n  disabled?: boolean;\n\n  /** Whether this specific tab can be closed */\n  closable?: boolean;\n\n  /** Optional icon element or component */\n  icon?: ReactNode;\n\n  /** Badge content (number or string) */\n  badge?: string | number;\n\n  /** Tooltip text for the tab */\n  tooltip?: string;\n\n  /** Additional CSS class name for the tab */\n  className?: string;\n\n  /** Additional data attributes */\n  'data-testid'?: string;\n}\n\n/**\n * Props interface for DynTabs component\n * Extends BaseComponentProps for consistency across the design system\n */\nexport interface DynTabsProps extends\n  BaseComponentProps,\n  AccessibilityProps,\n  Omit<React.HTMLAttributes<HTMLDivElement>, keyof BaseComponentProps | keyof AccessibilityProps | 'onChange' | 'children'> {\n\n  /** Array of tab items to display */\n  items: DynTabItem[];\n\n  /** Currently active tab ID/value (controlled) */\n  value?: string | number;\n\n  /** Currently active tab ID (controlled - alias for value) */\n  activeTab?: string | number;\n\n  /** Default active tab ID (uncontrolled) */\n  defaultValue?: string | number;\n\n  /** Default active tab ID (uncontrolled - alias for defaultValue) */\n  defaultActiveTab?: string | number;\n\n  /** Position of tabs relative to content */\n  position?: DynTabsPosition;\n\n  /** Orientation of tabs */\n  orientation?: DynTabsOrientation;\n\n  /** Activation mode */\n  activation?: DynTabsActivation;\n\n  /** Visual variant of the tabs */\n  variant?: DynTabsVariant;\n\n  /** Size of the tab elements */\n  size?: DynTabsSize;\n\n  /** Whether tabs should fit container width */\n  fitted?: boolean;\n\n  /** Enable horizontal scrolling for overflow tabs */\n  scrollable?: boolean;\n\n  /** Allow tabs to be closed */\n  closable?: boolean;\n\n  /** Enable lazy loading of tab content */\n  lazy?: boolean;\n\n  /** Enable tab transition animations */\n  animated?: boolean;\n\n  /** Show add new tab button */\n  addable?: boolean;\n\n  /** Custom className for the tab list container */\n  tabListClassName?: string;\n\n  /** Custom className for the content container */\n  contentClassName?: string;\n\n  /** Custom loading component for lazy tabs */\n  loadingComponent?: ReactNode;\n\n  /** Called when active tab changes */\n  onChange?: (tabId: string) => void;\n\n  /** Called when a tab is closed */\n  onTabClose?: (tabId: string) => void;\n\n  /** Called when add tab button is clicked */\n  onTabAdd?: () => void;\n\n  /** Called when a tab is clicked (before onChange) */\n  onTabClick?: (tabId: string, event: React.MouseEvent) => boolean | void;\n}\n\n/**\n * Ref type for DynTabs component\n * Includes imperative methods following DynAvatar pattern\n */\nexport interface DynTabsRef {\n  /** Focus the tabs container */\n  focus: () => void;\n\n  /** Blur the tabs container */\n  blur: () => void;\n\n  /** Focus specific tab by ID */\n  focusTab: (tabId: string) => void;\n\n  /** Get currently active tab ID */\n  getActiveTab: () => string | undefined;\n\n  /** Programmatically set active tab */\n  setActiveTab: (tabId: string) => void;\n\n  /** Get all tab elements */\n  getTabs: () => HTMLButtonElement[];\n\n  /** Get tab element by ID */\n  getTabElement: (tabId: string) => HTMLButtonElement | null;\n\n  /** Get active tab element */\n  getActiveTabElement: () => HTMLButtonElement | null;\n\n  /** Get tab panel element by ID */\n  getTabPanel: (tabId: string) => HTMLDivElement | null;\n\n  /** Get active tab panel element */\n  getActiveTabPanel: () => HTMLDivElement | null;\n}\n\n/**\n * Extended tab item with processed values for internal use\n */\nexport interface ProcessedTabItem extends DynTabItem {\n  /** Processed value ensuring string type */\n  processedValue: string;\n\n  /** Processed key for React rendering */\n  processedKey: string;\n}\n\n/**\n * Tab navigation event types\n */\nexport type TabNavigationDirection = 'next' | 'previous' | 'first' | 'last';\n\n/**\n * Tab change event data\n */\nexport interface TabChangeEvent {\n  /** The new active tab ID */\n  activeTab: string;\n\n  /** The previous active tab ID */\n  previousTab?: string;\n\n  /** The tab item data */\n  tabData: DynTabItem;\n\n  /** Navigation method used */\n  trigger: 'click' | 'keyboard' | 'programmatic';\n}\n\n/**\n * Default props for DynTabs component\n */\nexport const DYN_TABS_DEFAULT_PROPS = {\n  position: 'top' as const,\n  orientation: 'horizontal' as const,\n  activation: 'auto' as const,\n  variant: 'default' as const,\n  size: 'md' as const,\n  fitted: false,\n  scrollable: false,\n  closable: false,\n  lazy: false,\n  animated: true,\n  addable: false,\n} as const;\n\n/**\n * Tab keyboard navigation keys\n */\nexport const TAB_NAVIGATION_KEYS = {\n  ARROW_LEFT: 'ArrowLeft',\n  ARROW_RIGHT: 'ArrowRight',\n  ARROW_UP: 'ArrowUp',\n  ARROW_DOWN: 'ArrowDown',\n  HOME: 'Home',\n  END: 'End',\n  ENTER: 'Enter',\n  SPACE: ' ',\n  TAB: 'Tab',\n} as const;\n\n/**\n * CSS class names used by DynTabs\n */\nexport const DYN_TABS_CLASSES = {\n  root: 'dyn-tabs',\n  tablist: 'dyn-tabs__list',\n  tab: 'dyn-tabs__tab',\n  tabIcon: 'dyn-tabs__tab-icon',\n  tabLabel: 'dyn-tabs__tab-label',\n  tabBadge: 'dyn-tabs__tab-badge',\n  tabpanel: 'dyn-tabs__panel',\n  // States\n  selected: 'dyn-tabs__tab--selected',\n  disabled: 'dyn-tabs__tab--disabled',\n  active: 'dyn-tabs__panel--active',\n  // Variants\n  horizontal: 'dyn-tabs--horizontal',\n  vertical: 'dyn-tabs--vertical',\n  fitted: 'dyn-tabs--fitted',\n  scrollable: 'dyn-tabs--scrollable',\n} as const;\n\n--- Component (DynTabs.tsx) ---\nimport React, { useMemo, useRef, useState, useEffect, forwardRef, useImperativeHandle, useId } from 'react';\nimport { cn } from '../../utils/classNames';\nimport styles from './DynTabs.module.css';\nimport type { DynTabsProps, DynTabsRef } from './DynTabs.types';\nimport { DynIcon } from '../DynIcon';\nimport { DynLoading } from '../DynLoading';\n\n/**\n * DynTabs Component\n * Standardized with Design Tokens & CSS Modules\n */\nexport const DynTabs = forwardRef<DynTabsRef, DynTabsProps>(\n  (\n    {\n      items = [],\n      value,\n      activeTab,\n      defaultValue,\n      defaultActiveTab,\n      onChange,\n      onTabClose,\n      closable,\n      position = 'top',\n      orientation = 'horizontal',\n      activation = 'auto',\n      variant = 'default',\n      size = 'md',\n      fitted = false,\n      scrollable = false,\n      lazy = false,\n      animated = true,\n      className,\n      id,\n      'aria-label': ariaLabel,\n      'aria-labelledby': ariaLabelledBy,\n      'aria-describedby': ariaDescribedBy,\n      'data-testid': dataTestId,\n      loadingComponent,\n      tabListClassName,\n      contentClassName,\n      onTabClick,\n      addable,\n      onTabAdd,\n      ...rest\n    },\n    ref\n  ) => {\n    const generatedId = useId();\n    const internalId = id || generatedId;\n\n    // Process items to ensure they have consistent IDs/values\n    const processedItems = useMemo(() => {\n      return items.map((item, index) => {\n        const processedValue = item.value !== undefined ? String(item.value) : (item.id !== undefined ? String(item.id) : `tab-${index}`);\n        return {\n          ...item,\n          processedValue,\n          processedId: item.id || `tab-${index}`\n        };\n      });\n    }, [items]);\n\n    // Handle active tab state\n    const controlledValue = activeTab !== undefined ? String(activeTab) : (value !== undefined ? String(value) : undefined);\n    const initialValue = defaultActiveTab !== undefined ? String(defaultActiveTab) : (defaultValue !== undefined ? String(defaultValue) : (processedItems[0]?.processedValue));\n\n    const [current, setCurrent] = useState<string | undefined>(controlledValue ?? initialValue);\n    const [loaded, setLoaded] = useState<Record<string, boolean>>({});\n\n    useEffect(() => {\n      if (controlledValue !== undefined && controlledValue !== current) {\n        setCurrent(controlledValue);\n      }\n    }, [controlledValue, current]);\n\n    // Handle tab selection\n    const handleSelect = (val: string, focusPanel = false) => {\n      if (controlledValue === undefined) {\n        setCurrent(val);\n      }\n      onChange?.(val);\n\n      if (lazy && !loaded[val]) {\n        setLoaded(prev => ({ ...prev, [val]: true }));\n      }\n\n      if (focusPanel) {\n        const panel = document.getElementById(`${internalId}-panel-${val}`);\n        panel?.focus();\n      }\n    };\n\n    // Keyboard navigation\n    const tabsRef = useRef<Array<HTMLButtonElement | null>>([]);\n    const currentIndex = processedItems.findIndex(i => i.processedValue === current);\n\n    const handleKeyDown = (e: React.KeyboardEvent) => {\n      const isHorizontal = orientation === 'horizontal';\n      const count = processedItems.length;\n      let nextIndex = currentIndex;\n\n      switch (e.key) {\n        case 'ArrowRight':\n          if (isHorizontal) nextIndex = (currentIndex + 1) % count;\n          break;\n        case 'ArrowLeft':\n          if (isHorizontal) nextIndex = (currentIndex - 1 + count) % count;\n          break;\n        case 'ArrowDown':\n          if (!isHorizontal) nextIndex = (currentIndex + 1) % count;\n          break;\n        case 'ArrowUp':\n          if (!isHorizontal) nextIndex = (currentIndex - 1 + count) % count;\n          break;\n        case 'Home':\n          nextIndex = 0;\n          break;\n        case 'End':\n          nextIndex = count - 1;\n          break;\n        case 'Delete':\n        case 'Backspace':\n          const item = processedItems[currentIndex];\n          if (item && (closable || item.closable)) {\n            onTabClose?.(item.processedValue);\n          }\n          return;\n        default:\n          return;\n      }\n\n      if (nextIndex !== currentIndex) {\n        e.preventDefault();\n        const nextItem = processedItems[nextIndex];\n        if (nextItem && !nextItem.disabled) {\n          handleSelect(nextItem.processedValue);\n          tabsRef.current[nextIndex]?.focus();\n        }\n      }\n    };\n\n    // Imperative handle for DynTabsRef\n    useImperativeHandle(ref, () => ({\n      focus: () => tabsRef.current[currentIndex]?.focus(),\n      blur: () => tabsRef.current[currentIndex]?.blur(),\n      focusTab: (tabId: string) => {\n        const index = processedItems.findIndex(i => i.processedValue === tabId);\n        if (index >= 0) tabsRef.current[index]?.focus();\n      },\n      getActiveTab: () => current,\n      setActiveTab: (tabId: string) => handleSelect(tabId),\n      getTabs: () => tabsRef.current.filter(Boolean) as HTMLButtonElement[],\n      getTabElement: (tabId: string) => {\n        const index = processedItems.findIndex(i => i.processedValue === tabId);\n        return index >= 0 ? tabsRef.current[index] : null;\n      },\n      getActiveTabElement: () => tabsRef.current[currentIndex] || null,\n      getTabPanel: (tabId: string) => document.getElementById(`${internalId}-panel-${tabId}`) as HTMLDivElement | null,\n      getActiveTabPanel: () => current ? document.getElementById(`${internalId}-panel-${current}`) as HTMLDivElement | null : null\n    }), [current, currentIndex, processedItems, internalId, handleSelect]);\n\n    // Explicit position mapping for type safety\n    const POSITION_MAP: Record<NonNullable<DynTabsProps['position']>, string> = {\n      top: styles.tabsTop,\n      bottom: styles.tabsBottom,\n      left: styles.tabsLeft,\n      right: styles.tabsRight,\n    };\n\n    // Style classes\n    const rootClass = cn(\n      styles.tabs,\n      POSITION_MAP[position],\n      variant === 'pills' && styles.tabsPills,\n      variant === 'underlined' && styles.tabsUnderlined,\n      variant === 'bordered' && styles.tabsBordered,\n      scrollable && styles.scrollable,\n      fitted && styles.tabsFitted,\n      className\n    );\n\n    const listClass = cn(styles.tablist, tabListClassName);\n\n    if (processedItems.length === 0) return null;\n\n    return (\n      <div id={internalId} className={rootClass} data-testid={dataTestId || 'dyn-tabs'} {...rest}>\n        <div\n          role=\"tablist\"\n          aria-label={ariaLabel}\n          aria-labelledby={ariaLabelledBy}\n          aria-describedby={ariaDescribedBy}\n          aria-orientation={orientation === 'horizontal' ? 'horizontal' : 'vertical'}\n          className={listClass}\n          onKeyDown={handleKeyDown}\n        >\n          {processedItems.map((item, index) => {\n            const isSelected = item.processedValue === current;\n            const tabId = `${internalId}-tab-${item.processedValue}`;\n            const panelId = `${internalId}-panel-${item.processedValue}`;\n\n            const SIZE_MAP: Record<string, string> = {\n              sm: styles.sizeSm,\n              md: styles.sizeMd,\n              lg: styles.sizeLg\n            };\n\n            const tabClass = cn(\n              styles.tab,\n              isSelected && styles.tabActive,\n              item.disabled && styles.tabDisabled,\n              SIZE_MAP[size] || styles.sizeMd,\n              variant === 'pills' && styles.variantPill,\n              variant === 'underlined' && styles.variantUnderlined,\n              variant === 'bordered' && styles.variantBordered\n            );\n\n            // Handle tab click with optional callback\n            const handleTabClick = (e: React.MouseEvent) => {\n              if (item.disabled) return;\n\n              // Call onTabClick if provided, allow prevent default\n              if (onTabClick) {\n                const shouldContinue = onTabClick(item.processedValue, e);\n                if (shouldContinue === false) return;\n              }\n\n              handleSelect(item.processedValue, activation === 'auto');\n            };\n\n            return (\n              <div\n                key={item.processedId}\n                ref={el => { tabsRef.current[index] = el as any; }}\n                id={tabId}\n                role=\"tab\"\n                className={tabClass}\n                aria-selected={isSelected}\n                aria-controls={panelId}\n                aria-disabled={item.disabled}\n                tabIndex={isSelected ? 0 : -1}\n                onClick={handleTabClick}\n                onKeyDown={(e) => {\n                  if (e.key === 'Enter' || e.key === ' ') {\n                    handleSelect(item.processedValue, activation === 'auto');\n                  }\n                }}\n                data-status={isSelected ? 'active' : item.disabled ? 'disabled' : 'inactive'}\n              >\n                <div className={styles.tabContent}>\n                  {item.icon && (\n                    <span className={styles.icon}>\n                      {typeof item.icon === 'string' ? <DynIcon icon={item.icon} size=\"sm\" /> : item.icon}\n                    </span>\n                  )}\n                  <span className={styles.label}>{item.label}</span>\n                  {item.badge && <span className={styles.badge}>{item.badge}</span>}\n                  {(closable || item.closable) && (\n                    <span\n                      className={styles.closeButton}\n                      aria-label=\"Close tab\"\n                      title=\"Close tab (Delete)\"\n                      data-testid={dataTestId ? `${dataTestId}-close-${item.processedValue}` : undefined}\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        onTabClose?.(item.processedValue);\n                      }}\n                    >\n                      <DynIcon icon=\"close\" size=\"sm\" />\n                    </span>\n                  )}\n                </div>\n              </div>\n            );\n          })}\n\n          {addable && onTabAdd && (\n            <button\n              type=\"button\"\n              className={styles.addableButton}\n              onClick={onTabAdd}\n              aria-label=\"Add tab\"\n            >\n              <DynIcon icon=\"plus\" size=\"sm\" />\n            </button>\n          )}\n        </div>\n\n        {processedItems.map(item => {\n          const isSelected = item.processedValue === current;\n          const panelId = `${internalId}-panel-${item.processedValue}`;\n          const tabId = `${internalId}-tab-${item.processedValue}`;\n\n          const isLoaded = !lazy || loaded[item.processedValue];\n\n          return (\n            <div\n              key={`panel-${item.processedValue}`}\n              id={panelId}\n              role=\"tabpanel\"\n              aria-labelledby={tabId}\n              hidden={!isSelected}\n              className={cn(styles.panel, animated && styles.panelAnimated, contentClassName)}\n              tabIndex={0}\n            >\n              {isSelected && (\n                <>\n                  {!isLoaded && (\n                    <div className={styles.loading}>\n                      <DynLoading\n                        label={typeof loadingComponent === 'string' ? loadingComponent : (loadingComponent ? undefined : 'Loading...')}\n                        size=\"md\"\n                      />\n                      {loadingComponent && typeof loadingComponent !== 'string' && loadingComponent}\n                    </div>\n                  )}\n                  {isLoaded && (typeof item.content === 'function' ? item.content({ value: item.processedValue, selected: isSelected }) : item.content)}\n                </>\n              )}\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n);\n\nDynTabs.displayName = 'DynTabs';\nexport default DynTabs;\n\n\n--- Usage Examples (DynTabs.stories.tsx) ---\n/**\n * DynTabs Storybook Stories\n * Comprehensive examples following DynAvatar documentation pattern\n */\n\nimport type { Meta, StoryObj } from '@storybook/react';\nimport React, { useState } from 'react';\nimport { DynTabs } from './DynTabs';\nimport { DynTabItem } from './DynTabs.types';\nimport { DynButton } from '../DynButton';\nimport { DynStack } from '../DynStack';\n\nconst meta: Meta<typeof DynTabs> = {\n  title: 'Components/DynTabs',\n  component: DynTabs,\n  parameters: {\n    layout: 'padded',\n    docs: {\n      description: {\n        component: `\n# DynTabs\n\nFleksibilna i pristupa\u010dna komponenta za tab navigaciju sa podr\u0161kom za razli\u010dite varijante, pozicije i napredne funkcije.\n\n## Karakteristike\n\n- \u2728 **Potpuna pristupa\u010dnost** - WCAG 2.1 AA usagla\u0161enost sa kompletnom keyboard navigacijom\n- \ud83c\udfa8 **Integracija Design Token-a** - Koristi --dyn-* tokene sa fallback-ovima\n- \ud83d\udcf1 **Responsive dizajn** - Mobile-first pristup sa touch-friendly interakcijama\n- \u26a1 **Optimizovane performanse** - Lazy loading, memoizacija i efikasni re-render-i\n- \ud83c\udfaf **Fleksibilni API** - Controlled i uncontrolled re\u017eimi\n- \ud83d\ude80 **Interaktivne funkcije** - Zatvaranje tab-ova, scrollable overflow, dinami\u010dko dodavanje\n\n## Upotreba\n\n\\`\\`\\`tsx\nconst tabItems = [\n  { id: 'home', label: 'Po\u010detna', content: <HomePage /> },\n  { id: 'about', label: 'O nama', content: <AboutPage /> },\n  { id: 'contact', label: 'Kontakt', content: <ContactPage /> }\n];\n\n<DynTabs \n  items={tabItems}\n  variant=\"underlined\"\n  onChange={(tabId) => console.log('Aktivan:', tabId)}\n/>\n\\`\\`\\`\n        `\n      }\n    }\n  },\n  argTypes: {\n    position: {\n      control: { type: 'select' },\n      options: ['top', 'bottom', 'left', 'right'],\n      description: 'Pozicija tab-ova u odnosu na sadr\u017eaj'\n    },\n    variant: {\n      control: { type: 'select' },\n      options: ['default', 'underlined', 'pills', 'bordered'],\n      description: 'Vizuelni stil tab-ova'\n    },\n    size: {\n      control: { type: 'select' },\n      options: ['sm', 'md', 'lg'],\n      description: 'Veli\u010dina tab elemenata'\n    },\n    scrollable: {\n      control: 'boolean',\n      description: 'Omogu\u0107i horizontalno skrolovanje za overflow tab-ove'\n    },\n    lazy: {\n      control: 'boolean',\n      description: 'Omogu\u0107i lazy loading sadr\u017eaja tab-ova'\n    },\n    closable: {\n      control: 'boolean',\n      description: 'Dozvoli zatvaranje tab-ova'\n    },\n    addable: {\n      control: 'boolean',\n      description: 'Prika\u017ei dugme za dodavanje novog tab-a'\n    },\n    animated: {\n      control: 'boolean',\n      description: 'Omogu\u0107i animacije prilikom prelaska izme\u0111u tab-ova'\n    }\n  }\n};\n\nexport default meta;\ntype Story = StoryObj<typeof DynTabs>;\n\n// Sample data following DynAvatar pattern\nconst defaultItems: DynTabItem[] = [\n  {\n    id: 'home',\n    label: 'Po\u010detna',\n    icon: <span>\ud83c\udfe0</span>,\n    content: (\n      <div>\n        <h3>Dobrodo\u0161li na po\u010detnu stranu</h3>\n        <p>Ovo je sadr\u017eaj po\u010detne stranice sa sveobuhvatnim informacijama i primerima.</p>\n        <p>Sadr\u017eaj demonstrira pravilnu tipografiju i razmake koriste\u0107i design tokene.</p>\n      </div>\n    )\n  },\n  {\n    id: 'profile',\n    label: 'Profil',\n    icon: <span>\ud83d\udc64</span>,\n    badge: '3',\n    content: (\n      <div>\n        <h3>Korisni\u010dki profil</h3>\n        <p>Informacije o korisni\u010dkom profilu i pode\u0161avanja.</p>\n        <p>Ovaj tab sadr\u017ei badge koji pokazuje 3 obave\u0161tenja.</p>\n      </div>\n    )\n  },\n  {\n    id: 'settings',\n    label: 'Pode\u0161avanja',\n    icon: <span>\u2699\ufe0f</span>,\n    content: (\n      <div>\n        <h3>Pode\u0161avanja aplikacije</h3>\n        <p>Konfiguri\u0161ite va\u0161e preferencije i opcije aplikacije.</p>\n      </div>\n    )\n  },\n  {\n    id: 'disabled',\n    label: 'Onemogu\u0107en Tab',\n    content: <div>Ovaj sadr\u017eaj nije dostupan</div>,\n    disabled: true\n  }\n];\n\n// Default story\nexport const Default: Story = {\n  args: {\n    items: defaultItems\n  }\n};\n\n// Size variants following DynAvatar pattern\nexport const Sizes: Story = {\n  render: () => (\n    <div style={{ display: 'grid', gap: '2rem' }}>\n      <div>\n        <h4>Mala veli\u010dina</h4>\n        <DynTabs items={defaultItems.slice(0, 3)} size=\"sm\" />\n      </div>\n      <div>\n        <h4>Srednja veli\u010dina (podrazumevana)</h4>\n        <DynTabs items={defaultItems.slice(0, 3)} size=\"md\" />\n      </div>\n      <div>\n        <h4>Velika veli\u010dina</h4>\n        <DynTabs items={defaultItems.slice(0, 3)} size=\"lg\" />\n      </div>\n    </div>\n  )\n};\n\n// Variant showcase\nexport const Variants: Story = {\n  render: () => (\n    <div style={{ display: 'grid', gap: '2rem' }}>\n      <div>\n        <h4>Default varijanta</h4>\n        <DynTabs items={defaultItems.slice(0, 3)} variant=\"default\" />\n      </div>\n      <div>\n        <h4>Underlined varijanta</h4>\n        <DynTabs items={defaultItems.slice(0, 3)} variant=\"underlined\" />\n      </div>\n      <div>\n        <h4>Pills varijanta</h4>\n        <DynTabs items={defaultItems.slice(0, 3)} variant=\"pills\" />\n      </div>\n      <div>\n        <h4>Bordered varijanta</h4>\n        <DynTabs items={defaultItems.slice(0, 3)} variant=\"bordered\" />\n      </div>\n    </div>\n  )\n};\n\n// Position variants\nexport const Positions: Story = {\n  render: () => (\n    <div style={{ display: 'grid', gap: '2rem' }}>\n      <div>\n        <h4>Top pozicija (podrazumevana)</h4>\n        <DynTabs items={defaultItems.slice(0, 3)} position=\"top\" />\n      </div>\n      <div>\n        <h4>Bottom pozicija</h4>\n        <DynTabs items={defaultItems.slice(0, 3)} position=\"bottom\" />\n      </div>\n      <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '2rem', minHeight: '300px' }}>\n        <div>\n          <h4>Leva pozicija</h4>\n          <DynTabs items={defaultItems.slice(0, 3)} position=\"left\" />\n        </div>\n        <div>\n          <h4>Desna pozicija</h4>\n          <DynTabs items={defaultItems.slice(0, 3)} position=\"right\" />\n        </div>\n      </div>\n    </div>\n  )\n};\n\n// Interactive features following DynAvatar pattern\nexport const InteractiveTabs: Story = {\n  render: () => {\n    const [items, setItems] = useState(\n      defaultItems.slice(0, 3).map(item => ({ ...item, closable: true }))\n    );\n    const [activeTab, setActiveTab] = useState('home');\n    const [tabCounter, setTabCounter] = useState(4);\n\n    const handleTabClose = (tabId: string) => {\n      setItems(prev => prev.filter(item => item.id !== tabId));\n      if (activeTab === tabId) {\n        const remainingTabs = items.filter(item => item.id !== tabId && !item.disabled);\n        if (remainingTabs.length > 0) {\n          setActiveTab(remainingTabs[0]?.id || 'home');\n        }\n      }\n    };\n\n    const handleTabAdd = () => {\n      const newId = `dynamic-tab-${tabCounter}`;\n      setItems(prev => [...prev, {\n        id: newId,\n        label: `Tab ${tabCounter}`,\n        content: <div>Ovaj tab je dinami\u010dki dodat! Sadr\u017eaj za tab {tabCounter}.</div>,\n        closable: true,\n        icon: <span>\u2728</span>\n      }]);\n      setTabCounter(prev => prev + 1);\n    };\n\n    return (\n      <DynTabs\n        items={items}\n        activeTab={activeTab}\n        onChange={setActiveTab}\n        onTabClose={handleTabClose}\n        onTabAdd={handleTabAdd}\n        closable\n        addable\n        animated\n      />\n    );\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: 'Interaktivni tab-ovi sa funkcionalnostima dodavanja i zatvaranja. Poku\u0161ajte da dodate nove tab-ove i zatvorite postoje\u0107e.'\n      }\n    }\n  }\n};\n\n// Lazy loading demonstration\nexport const LazyLoading: Story = {\n  args: {\n    items: [\n      {\n        id: 'instant',\n        label: 'Trenutno u\u010ditavanje',\n        content: <div>Ovaj sadr\u017eaj se u\u010ditava odmah</div>\n      },\n      {\n        id: 'lazy-1',\n        label: 'Lazy Tab 1',\n        content: (\n          <div>\n            <h4>Lazy loaded sadr\u017eaj</h4>\n            <p>Ovaj sadr\u017eaj je lazy loaded kada je tab postao aktivan!</p>\n            <p>Primetite loading spinner pre nego \u0161to se sadr\u017eaj pojavi.</p>\n          </div>\n        )\n      },\n      {\n        id: 'lazy-2',\n        label: 'Veliki sadr\u017eaj',\n        content: (\n          <div>\n            <h4>Simulacija velikog sadr\u017eaja</h4>\n            <p>Ovo simulira veliki sadr\u017eaj koji ima koristi od lazy loading-a.</p>\n            {Array.from({ length: 20 }, (_, i) => (\n              <p key={i}>Paragraf {i + 1} - demonstrira prednosti lazy loading-a za performanse.</p>\n            ))}\n          </div>\n        )\n      }\n    ],\n    lazy: true,\n    defaultActiveTab: 'instant'\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: 'Lazy loading spre\u010dava renderovanje sadr\u017eaja dok se tab prvi put ne aktivira, pobolj\u0161avaju\u0107i performanse.'\n      }\n    }\n  }\n};\n\n// Accessibility demonstration without play function\nexport const AccessibilityShowcase: Story = {\n  args: {\n    items: defaultItems,\n    'aria-label': 'Glavna navigacija'\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: `\n**Demonstrirane funkcionalnosti pristupa\u010dnosti:**\n- Kompletna keyboard navigacija (Arrow keys, Home, End, Enter, Space)\n- Pravilni ARIA atributi (roles, states, properties)\n- Screen reader objave za promene stanja\n- Roving tabindex pattern implementacija\n- Focus management i vizuelni indikatori\n- Rukovanje disabled stanjem\n\n**Za testiranje:** Koristite Tab za fokusiranje, zatim Arrow keys za navigaciju.\n        `\n      }\n    }\n  }\n};\n\n// Dark theme showcase following DynAvatar pattern\nexport const DarkTheme: Story = {\n  args: {\n    items: defaultItems\n  },\n  parameters: {\n    backgrounds: { default: 'dark' },\n    docs: {\n      description: {\n        story: 'DynTabs se automatski prilago\u0111ava tamnoj temi koriste\u0107i design tokene i CSS custom properties.'\n      }\n    }\n  },\n  decorators: [\n    (Story) => (\n      <div\n        data-theme=\"dark\"\n        style={{\n          backgroundColor: 'var(--dyn-color-surface-dark, #111827)',\n          color: 'var(--dyn-color-text-primary-dark, #f9fafb)',\n          padding: '2rem',\n          borderRadius: '0.5rem',\n          minHeight: '400px'\n        }}\n      >\n        <Story />\n      </div>\n    )\n  ]\n};\n\n// Scrollable tabs\nexport const ScrollableTabs: Story = {\n  render: (args) => (\n    <div style={{ display: 'grid', gap: '3rem' }}>\n      <div>\n        <h4>1. Ograni\u010dena \u0161irina (400px fixed)</h4>\n        <p style={{ fontSize: '0.8rem', color: '#666', marginBottom: '1rem' }}>\n          Demonstracija skrolovanja u malom kontejneru:\n        </p>\n        <div style={{ maxWidth: '400px', border: '1px dashed #ccc', padding: '1rem' }}>\n          <DynTabs {...args} />\n        </div>\n      </div>\n      <div>\n        <h4>2. Adaptivna \u0161irina (Full Width)</h4>\n        <p style={{ fontSize: '0.8rem', color: '#666', marginBottom: '1rem' }}>\n          Ovaj primer zauzima 100% \u0161irine. Skrolovanje \u0107e se pojaviti <strong>automatski</strong> \u010dim se \u0161irina prozora ili kontejnera smanji (responsive):\n        </p>\n        <DynTabs {...args} />\n      </div>\n    </div>\n  ),\n  args: {\n    items: Array.from({ length: 15 }, (_, i) => ({\n      id: `tab-${i + 1}`,\n      label: `Tab ${i + 1}`,\n      content: <div>Sadr\u017eaj za tab {i + 1} sa scrollable demonstracijom</div>,\n      icon: i % 3 === 0 ? 'folder' : undefined,\n    })),\n    scrollable: true,\n    variant: 'underlined'\n  }\n};\n\n// Fitted tabs\nexport const FittedTabs: Story = {\n  args: {\n    items: defaultItems.slice(0, 3),\n    fitted: true,\n    variant: 'bordered'\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: '`fitted` tabovi zauzimaju jednaku \u0161irinu i popunjavaju sav dostupan prostor u kontejneru.'\n      }\n    }\n  }\n};\n\n// Error states\nexport const ErrorStates: Story = {\n  render: () => {\n    const [hasError, setHasError] = useState(false);\n\n    const itemsWithError: DynTabItem[] = [\n      {\n        id: 'normal',\n        label: 'Normalan Tab',\n        content: <div>Normalan sadr\u017eaj radi savr\u0161eno</div>\n      },\n      {\n        id: 'error-tab',\n        label: 'Error Demo',\n        content: hasError ? (\n          <DynStack align=\"center\" gap=\"md\" style={{ padding: 'var(--dyn-spacing-lg)' }}>\n            <p style={{ color: 'var(--dyn-semantic-error-text, #ef4444)', margin: 0 }}>\n              \u274c Gre\u0161ka pri u\u010ditavanju sadr\u017eaja\n            </p>\n            <DynButton\n              onClick={() => setHasError(false)}\n              kind=\"primary\"\n            >\n              Poku\u0161aj ponovo\n            </DynButton>\n          </DynStack>\n        ) : (\n          <DynStack align=\"center\" gap=\"md\" style={{ padding: 'var(--dyn-spacing-lg)' }}>\n            <p style={{ margin: 0 }}>Kliknite ispod da simulirate gre\u0161ku u\u010ditavanja sadr\u017eaja:</p>\n            <DynButton\n              onClick={() => setHasError(true)}\n              kind=\"soft\"\n              color=\"danger\"\n            >\n              Pokreni Error stanje\n            </DynButton>\n          </DynStack>\n        )\n      }\n    ];\n\n    return <DynTabs items={itemsWithError} variant=\"bordered\" />;\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: 'Primer rukovanja error stanjima unutar tab sadr\u017eaja koriste\u0107i design tokene za konzistentno stilizovanje.'\n      }\n    }\n  }\n};\n\n--- Styles (DynTabs.module.css) ---\n/**\n * DynTabs Component Styles\n * 100% Design Token Compliance\n * Unified Token Strategy: 3-Level Fallback Pattern\n */\n\n.tabs {\n  /* Component Tokens (Layer 2) */\n  --dyn-tabs-bg: var(--dyn-tabs-color-root-background, var(--dyn-semantic-surface, #ffffff));\n  --dyn-tabs-header-bg: var(--dyn-tabs-color-header-background, var(--dyn-semantic-surface-muted, #f8fafc));\n  --dyn-tabs-active-bg: var(--dyn-tabs-color-active-background, var(--dyn-semantic-surface, #ffffff));\n  --dyn-tabs-hover-bg: var(--dyn-tabs-color-hover-background, var(--dyn-semantic-surface-hover, #f1f5f9));\n\n  --dyn-tabs-text: var(--dyn-tabs-color-text, var(--dyn-semantic-text-secondary, #475569));\n  --dyn-tabs-text-hover: var(--dyn-tabs-color-text-hover, var(--dyn-theme-primary, #2563eb));\n  --dyn-tabs-text-active: var(--dyn-tabs-color-text-active, var(--dyn-theme-primary, #2563eb));\n  --dyn-tabs-text-disabled: var(--dyn-tabs-color-text-disabled, var(--dyn-semantic-text-disabled, #94a3b8));\n  --dyn-tabs-content-text: var(--dyn-tabs-color-content-text, var(--dyn-semantic-text, #1e293b));\n\n  --dyn-tabs-border: var(--dyn-tabs-color-root-border, var(--dyn-semantic-border, #e2e8f0));\n  --dyn-tabs-indicator: var(--dyn-tabs-color-indicator, var(--dyn-theme-primary, #2563eb));\n  --dyn-tabs-icon-color: var(--dyn-tabs-color-icon, var(--dyn-theme-primary, #2563eb));\n\n  --dyn-tabs-radius: var(--dyn-tabs-size-root-radius, var(--dyn-border-radius-md, 0.5rem));\n  --dyn-tabs-border-width: var(--dyn-tabs-size-border-width, var(--dyn-border-width-sm, 1px));\n  --dyn-tabs-border-width-active: var(--dyn-tabs-size-border-width-active, var(--dyn-border-width-md, 2px));\n\n  --dyn-tabs-padding-x: var(--dyn-tabs-size-padding-x, var(--dyn-spacing-lg, 1rem));\n  --dyn-tabs-padding-y: var(--dyn-tabs-size-padding-y, var(--dyn-spacing-sm, 0.5rem));\n\n  --dyn-tabs-icon-size: var(--dyn-tabs-size-icon, var(--dyn-spacing-md, 1rem));\n  --dyn-tabs-transition: var(--dyn-tabs-animation-duration, var(--dyn-transition-normal, 0.2s)) var(--dyn-tabs-animation-easing, ease);\n\n  /* Base Container */\n  display: flex;\n  width: 100%;\n  background: var(--dyn-tabs-bg);\n  border-radius: var(--dyn-tabs-radius);\n  overflow: hidden;\n  border: var(--dyn-tabs-border-width) solid var(--dyn-tabs-border);\n  box-shadow: var(--dyn-shadow-sm, 0 1px 2px 0 rgba(0, 0, 0, 0.05));\n  transition: all var(--dyn-tabs-transition);\n}\n\n/* ============================================\n   POSITIONING\n   ============================================ */\n\n.tabsTop {\n  flex-direction: column;\n}\n\n.tabsBottom {\n  flex-direction: column-reverse;\n}\n\n.tabsLeft {\n  flex-direction: row;\n}\n\n.tabsRight {\n  flex-direction: row-reverse;\n}\n\n.tabsBottom .tablist {\n  border-bottom: none;\n  border-top: var(--dyn-tabs-border-width) solid var(--dyn-tabs-border);\n}\n\n.tabsBottom .tab {\n  border-radius: 0 0 var(--dyn-border-radius-sm) var(--dyn-border-radius-sm);\n}\n\n.tabsBottom .tabActive::after {\n  top: calc(-1 * var(--dyn-tabs-border-width));\n  bottom: auto;\n}\n\n.tabsLeft .tablist,\n.tabsRight .tablist {\n  flex-direction: column;\n  border-bottom: none;\n  padding: var(--dyn-spacing-xs);\n  min-width: var(--dyn-tabs-size-vertical-minWidth, 140px);\n}\n\n.tabsLeft .tablist {\n  border-right: var(--dyn-tabs-border-width) solid var(--dyn-tabs-border);\n}\n\n.tabsRight .tablist {\n  border-left: var(--dyn-tabs-border-width) solid var(--dyn-tabs-border);\n}\n\n.tabsLeft .tab {\n  border-radius: var(--dyn-border-radius-sm) 0 0 var(--dyn-border-radius-sm);\n  justify-content: flex-start;\n  width: 100%;\n}\n\n.tabsRight .tab {\n  border-radius: 0 var(--dyn-border-radius-sm) var(--dyn-border-radius-sm) 0;\n  justify-content: flex-start;\n  width: 100%;\n}\n\n.tabsLeft .tabActive::after,\n.tabsRight .tabActive::after {\n  top: 0;\n  bottom: 0;\n  width: var(--dyn-tabs-border-width-active);\n  height: auto;\n}\n\n.tabsLeft .tabActive::after {\n  right: calc(-1 * var(--dyn-tabs-border-width));\n  left: auto;\n}\n\n.tabsRight .tabActive::after {\n  left: calc(-1 * var(--dyn-tabs-border-width));\n  right: auto;\n}\n\n/* ============================================\n   TAB LIST\n   ============================================ */\n\n.tablist {\n  display: flex;\n  position: relative;\n  background: var(--dyn-tabs-header-bg);\n  margin: 0;\n  padding: 0;\n  list-style: none;\n  z-index: 1;\n  border-bottom: var(--dyn-tabs-border-width) solid var(--dyn-tabs-border);\n  flex-wrap: nowrap;\n  width: 100%;\n  min-width: 0;\n}\n\n.tabsFitted .tablist {\n  width: 100%;\n}\n\n.tabsPills .tablist {\n  gap: var(--dyn-spacing-xxs, 0.125rem);\n  padding: var(--dyn-spacing-xs, 0.25rem);\n}\n\n.tabsUnderlined .tablist {\n  padding: 0 var(--dyn-spacing-xs, 0.25rem);\n}\n\n.scrollable .tablist {\n  overflow-x: auto;\n  overflow-y: hidden;\n  scrollbar-width: thin;\n  scrollbar-color: var(--dyn-tabs-border) transparent;\n}\n\n.scrollable .tablist::-webkit-scrollbar {\n  height: var(--dyn-spacing-xs, 0.25rem);\n}\n\n.scrollable .tablist::-webkit-scrollbar-thumb {\n  background: var(--dyn-tabs-border);\n  border-radius: var(--dyn-border-radius-full, 9999px);\n}\n\n/* ============================================\n   TAB BUTTON\n   ============================================ */\n\n.tab {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: var(--dyn-tabs-padding-y) var(--dyn-tabs-padding-x);\n  background: transparent;\n  border: none;\n  border-radius: var(--dyn-border-radius-sm, 0.25rem) var(--dyn-border-radius-sm, 0.25rem) 0 0;\n  cursor: pointer;\n  color: var(--dyn-tabs-text);\n  font-family: inherit;\n  font-size: var(--dyn-font-size-sm, 0.875rem);\n  font-weight: var(--dyn-font-weight-medium, 500);\n  transition: all var(--dyn-tabs-transition);\n  white-space: nowrap;\n  position: relative;\n  flex-shrink: 0;\n  min-height: var(--dyn-spacing-3xl, 3rem);\n}\n\n.tabsFitted .tab {\n  flex: 1;\n  min-width: 0;\n}\n\n.icon {\n  color: var(--dyn-tabs-icon-color);\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: var(--dyn-spacing-xxs, 0.125rem);\n}\n\n.tab:hover:not(.tabDisabled) {\n  color: var(--dyn-tabs-text-hover);\n  background: var(--dyn-tabs-hover-bg);\n}\n\n.tabActive {\n  color: var(--dyn-tabs-text-active);\n  background: var(--dyn-tabs-active-bg);\n  font-weight: var(--dyn-font-weight-semibold, 600);\n}\n\n.tabActive::after {\n  content: '';\n  position: absolute;\n  bottom: calc(-1 * var(--dyn-tabs-border-width));\n  left: 0;\n  right: 0;\n  height: var(--dyn-tabs-border-width-active);\n  background-color: var(--dyn-tabs-indicator);\n}\n\n.tabDisabled {\n  opacity: var(--dyn-opacity-disabled, 0.5);\n  cursor: not-allowed;\n  color: var(--dyn-tabs-text-disabled);\n}\n\n/* ============================================\n   SIZE VARIANTS\n   ============================================ */\n\n.sizeSm {\n  --dyn-tabs-padding-x: var(--dyn-spacing-md, 0.75rem);\n  --dyn-tabs-padding-y: var(--dyn-spacing-xs, 0.25rem);\n}\n\n.tab.sizeSm {\n  min-height: var(--dyn-spacing-2xl, 2rem);\n  font-size: var(--dyn-font-size-xs, 0.75rem);\n}\n\n.sizeLg {\n  --dyn-tabs-padding-x: var(--dyn-spacing-xl, 1.5rem);\n  --dyn-tabs-padding-y: var(--dyn-spacing-md, 0.75rem);\n}\n\n.tab.sizeLg {\n  min-height: var(--dyn-spacing-4xl, 4rem);\n  font-size: var(--dyn-font-size-md, 1rem);\n}\n\n/* ============================================\n   VARIANT VARIANTS\n   ============================================ */\n\n.variantPill {\n  border-radius: var(--dyn-border-radius-pill, 9999px) !important;\n  margin: var(--dyn-spacing-xxs, 0.125rem);\n  padding: var(--dyn-spacing-xs, 0.25rem) var(--dyn-spacing-md, 0.75rem);\n}\n\n.variantPill.tabActive {\n  background: var(--dyn-tabs-indicator) !important;\n  color: var(--dyn-semantic-text-inverse, #ffffff) !important;\n}\n\n.variantPill.tabActive::after {\n  display: none;\n}\n\n.variantUnderlined .tab {\n  border-radius: 0 !important;\n  background: transparent !important;\n}\n\n.variantUnderlined.tabActive::after {\n  height: var(--dyn-border-width-lg, 3px);\n  bottom: 0;\n}\n\n.variantBordered {\n  border: var(--dyn-tabs-border-width) solid var(--dyn-tabs-border);\n}\n\n.tabsTop .variantBordered,\n.tabsBottom .variantBordered {\n  margin-right: calc(-1 * var(--dyn-tabs-border-width));\n}\n\n.tabsLeft .variantBordered,\n.tabsRight .variantBordered {\n  margin-bottom: calc(-1 * var(--dyn-tabs-border-width));\n}\n\n.variantBordered.tabActive {\n  border-color: var(--dyn-tabs-border) var(--dyn-tabs-border) var(--dyn-tabs-active-bg);\n  background: var(--dyn-tabs-active-bg);\n  z-index: 2;\n}\n\n.variantBordered.tabActive::after {\n  display: none;\n}\n\n/* ============================================\n   INTERACTIVE ELEMENTS\n   ============================================ */\n\n.closeButton {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: var(--dyn-spacing-xl, 1.25rem);\n  height: var(--dyn-spacing-xl, 1.25rem);\n  border-radius: var(--dyn-border-radius-xs, 0.125rem);\n  border: none;\n  background: transparent;\n  color: inherit;\n  cursor: pointer;\n  opacity: var(--dyn-opacity-disabled, 0.5);\n  margin-left: var(--dyn-spacing-xs, 0.25rem);\n  transition: all var(--dyn-transition-fast, 0.1s);\n}\n\n.closeButton:hover {\n  opacity: 1;\n  background: var(--dyn-feedback-negative-subtle, rgba(220, 38, 38, 0.1));\n  color: var(--dyn-feedback-negative-default, #dc2626);\n}\n\n.addableButton {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  align-self: center;\n  width: var(--dyn-spacing-2xl, 2rem);\n  height: var(--dyn-spacing-2xl, 2rem);\n  margin-left: var(--dyn-spacing-md, 0.75rem);\n  border-radius: var(--dyn-border-radius-full, 9999px);\n  border: var(--dyn-tabs-border-width) dashed var(--dyn-tabs-border);\n  background: transparent;\n  color: var(--dyn-tabs-text);\n  cursor: pointer;\n  transition: all var(--dyn-tabs-transition);\n}\n\n.addableButton:hover {\n  background: var(--dyn-tabs-hover-bg);\n  border-style: solid;\n}\n\n/* ============================================\n   PANEL & LOADING\n   ============================================ */\n\n.panel {\n  flex: 1;\n  padding: var(--dyn-spacing-lg, 1rem);\n  background: var(--dyn-tabs-active-bg);\n  color: var(--dyn-tabs-content-text);\n  min-height: var(--dyn-spacing-3xl, 3rem);\n}\n\n.loading {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: var(--dyn-spacing-3xl, 3rem);\n  gap: var(--dyn-spacing-md, 0.75rem);\n  color: var(--dyn-tabs-text);\n  min-height: 200px;\n}\n\n.panelAnimated {\n  animation: dyn-tabs-fade-in var(--dyn-tabs-transition);\n}\n\n@keyframes dyn-tabs-fade-in {\n  from {\n    opacity: 0;\n    transform: translateY(2px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n/* DARK MODE - Dynamically handled via semantic tokens! */\n", "metadata": {"type": "ui_component", "name": "DynTabs", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynTabs"}, "embedding": [0.002074560383334756, -0.05235282704234123, -0.021548613905906677, 0.02318871021270752, -0.0331028550863266, 0.05423479527235031, 0.046145156025886536, 0.1030760183930397, -0.040023840963840485, 0.043997637927532196, -0.08439116925001144, 0.00849462952464819, -0.06850812584161758, 0.05675743147730827, 0.01561092957854271, 0.05002393573522568, -0.03810888156294823, -0.06820208579301834, -0.04307166486978531, 0.022236021235585213, 0.012169699184596539, -0.020487576723098755, 0.0937284529209137, -0.05655964836478233, 0.026918699964880943, 0.05054634064435959, 0.0083848237991333, -0.039050765335559845, -0.0006282610120251775, -0.021761160343885422, -0.05209260433912277, 0.04585542902350426, -0.06796929240226746, -0.006177115719765425, -0.02309456840157509, -0.022030726075172424, -0.1280236393213272, 0.01771150529384613, 0.028126241639256477, -0.006274403538554907, 0.057884570211172104, 0.03373122960329056, -0.036490973085165024, -0.08188728243112564, 0.016517316922545433, -0.02699759230017662, -0.04099149629473686, -0.03664909303188324, -0.014075342565774918, -0.0077138133347034454, -0.03248586505651474, 0.04786179959774017, 0.01802888698875904, 0.016368767246603966, 0.03475978970527649, 0.034087032079696655, 0.01858632266521454, -0.006565315183252096, 0.007231134455651045, -0.009048989042639732, 0.02358877658843994, -0.05518072471022606, 0.06389150768518448, -0.11719615757465363, -0.008747648447751999, 0.07711809873580933, 0.004773738794028759, 0.03674483671784401, 0.04628218710422516, -0.02961951494216919, -0.0065822359174489975, -0.020804906263947487, 0.03940745070576668, 0.029031772166490555, 0.01638164184987545, -0.18474756181240082, 0.050828319042921066, 0.07208596915006638, -0.004905932582914829, -0.0532597154378891, -0.0035194167867302895, 0.036201365292072296, -0.015145235694944859, 0.10519077628850937, -0.01746165193617344, 0.12593916058540344, -0.00874765869230032, -0.004103580489754677, -0.01603836566209793, -0.023677140474319458, 0.015309951268136501, -0.08344416320323944, 0.024620601907372475, 0.059557847678661346, -0.016640067100524902, -0.03861374780535698, -0.03435375168919563, 0.08636634051799774, -0.045655325055122375, -0.0026774094440042973, 0.04806995019316673, -0.00336997932754457, -0.015419671311974525, 0.07857213914394379, -0.07186731696128845, -0.05552185699343681, 0.04240921139717102, -0.11234531551599503, -0.049360062927007675, 0.004936156328767538, 0.010573040693998337, 0.059722043573856354, -0.066598080098629, 0.02784966118633747, -0.09182379394769669, -0.07726161181926727, -0.00162214832380414, -0.046656642109155655, 0.12676440179347992, -0.013376571238040924, 0.0602697916328907, -0.02590055577456951, 0.01796187460422516, 0.05379093810915947, -0.002537921303883195, 0.09795045852661133, 0.020990043878555298, 6.868560428648479e-33, -0.03430895879864693, 0.02012442797422409, 0.043188031762838364, 0.020720750093460083, 0.10107548534870148, -0.014552497304975986, -0.03165813907980919, -0.028808292001485825, -0.00728506688028574, 0.009967994876205921, -0.08588143438100815, 0.013018104247748852, -0.09502842277288437, -0.039170727133750916, -0.04768158867955208, -0.05018889531493187, -0.009118071757256985, -0.010568689554929733, -0.03096577897667885, -0.008399726822972298, -0.03929147869348526, 0.07062599062919617, -0.06638635694980621, -0.008372355252504349, 0.06553901731967926, -0.06959955394268036, -0.047330182045698166, 0.10335320234298706, -0.04552144184708595, -0.03266682103276253, 0.02925025299191475, -0.06951078772544861, 0.045805707573890686, 0.012564171105623245, -0.053495220839977264, -0.035809244960546494, -0.1471555233001709, 0.03919008746743202, -0.03892755135893822, 0.014241546392440796, 0.0342685766518116, 0.02453901804983616, -0.00995265506207943, 0.07491529732942581, -0.039876751601696014, 0.02436726726591587, 0.09870854020118713, 0.08161308616399765, 0.021255865693092346, -0.004664878826588392, 0.010542234405875206, 0.018877750262618065, 0.06555880606174469, -0.1113852858543396, 0.003127479227259755, -0.015332227572798729, -0.03563839569687843, -0.0025976302567869425, 0.09907951205968857, 0.07489408552646637, -0.06494756042957306, -0.017978470772504807, 0.04815082624554634, 0.0006665992550551891, -0.019474070519208908, 0.051370490342378616, -0.040827084332704544, -0.04337240010499954, 0.02916109561920166, -0.08786622434854507, -0.002905946457758546, -0.05165577679872513, 0.038914892822504044, -0.021604834124445915, 0.04039827361702919, -0.015589443035423756, -0.027222415432333946, -0.024452580139040947, 0.02156122401356697, -0.11929401010274887, 0.006284081842750311, -0.026287714019417763, -0.012857958674430847, 0.0532730333507061, 0.04073401167988777, 0.043476805090904236, 0.015713661909103394, -0.06367743015289307, 0.07057836651802063, 0.06363106518983841, -0.05929293856024742, -0.023036958649754524, 0.032093197107315063, -0.0765208974480629, 0.02668934501707554, -7.226779107750124e-33, -0.0011028798762708902, 0.002272983780130744, -0.06615546345710754, -0.022575387731194496, -0.0178923811763525, 0.010381012223660946, 0.00558108277618885, 0.02756383828818798, 0.05526591092348099, 0.044187698513269424, 0.026077663525938988, 0.05527369678020477, 0.022332701832056046, -0.05415242910385132, -0.07400638610124588, 0.14255793392658234, -0.0735698863863945, 0.04552512615919113, 0.06631804257631302, -0.062456902116537094, 0.0949663519859314, -0.005335033871233463, -0.010050849057734013, 0.07786774635314941, -0.038677144795656204, 0.01946345530450344, 0.12132196873426437, 0.04443851485848427, 0.07989934831857681, -0.08200149983167648, 0.018306313082575798, -0.019360488280653954, -0.03016408160328865, 0.053148917853832245, -0.01487711165100336, -0.03500422462821007, -0.0367131382226944, 0.01245998777449131, -0.05216050148010254, 0.0009950422681868076, -0.09807872772216797, -0.01317502185702324, -0.000337458768626675, 0.004082915373146534, -0.03272462636232376, -0.005473894998431206, 0.01454013492912054, 0.035215605050325394, -0.07922530174255371, 0.026254182681441307, 0.02998371794819832, -0.1159173771739006, 0.0018705339170992374, 0.016588624566793442, -0.01612043008208275, 0.030843514949083328, 0.018367303535342216, -0.0036489919293671846, -0.027221739292144775, -0.035259995609521866, -0.015593886375427246, -0.07551348209381104, 0.042611196637153625, 0.014837870374321938, 0.030987264588475227, -0.04699709266424179, -0.060102708637714386, -0.03274019807577133, -0.037526316940784454, 0.06897664070129395, 0.0078592449426651, 0.054656196385622025, 0.008694441989064217, -0.04716135933995247, 0.04701043665409088, -0.01662426069378853, 0.021096758544445038, 0.027710000053048134, 0.05158323422074318, 0.006558407563716173, -0.02753625251352787, 0.01966235786676407, 0.02443963848054409, -0.03463228791952133, -0.06879748404026031, 0.04488790035247803, 0.034588783979415894, 0.12213495373725891, 0.03561241924762726, 0.07460049539804459, 0.03521478921175003, -0.08522090315818787, -0.0763774961233139, 0.040813446044921875, -0.009307734668254852, -5.6174286555688013e-08, -0.022399790585041046, -0.04886430874466896, -0.07907465845346451, 0.019830111414194107, 0.002787035657092929, -0.13011518120765686, 0.01978319324553013, -0.03436277061700821, -0.012961570173501968, -0.0022102680522948503, -0.012465732172131538, 0.12324956059455872, 0.027343999594449997, -0.05234668776392937, 0.03112596459686756, 0.08304914087057114, -0.03469966724514961, 0.01770303025841713, -0.036884672939777374, 0.026569290086627007, 0.04962967336177826, -0.005784847307950258, 0.00840241089463234, 0.03244490176439285, 0.10339076071977615, -0.02411550097167492, -0.07553383708000183, 0.0012692364398390055, 0.006819156929850578, 0.01825742982327938, 0.013866256922483444, -0.053026702255010605, 0.03694899007678032, -0.07828691601753235, 0.010373162105679512, -0.07843415439128876, 0.06872428953647614, -0.08050566166639328, 0.04322885721921921, 0.018648361787199974, -0.018115172162652016, -0.060849644243717194, -0.00719995005056262, 0.056122567504644394, -0.04681844264268875, -0.04314449429512024, -0.12137141078710556, 0.08791003376245499, 0.003747344482690096, 0.04491541534662247, 0.045020438730716705, 0.00917078461498022, -0.02204420231282711, -0.022433755919337273, -0.06512397527694702, 0.019754676148295403, -0.03512466698884964, 0.05222214758396149, 0.03970828652381897, 0.01114575657993555, 0.0023969649337232113, 0.061314892023801804, 0.022568099200725555, -0.05058654397726059]}, {"id": "dyn_ui_component_DynTextArea", "text": "# Component: DynTextArea\n\n--- Types (DynTextArea.types.ts) ---\nimport type { TextareaHTMLAttributes } from 'react';\nimport type { DynFieldBase, DynFieldRef } from '../../types/field.types';\n\nexport type DynTextAreaResize = 'none' | 'vertical' | 'horizontal' | 'both';\n\nexport interface DynTextAreaProps\n  extends DynFieldBase,\n  Omit<\n    TextareaHTMLAttributes<HTMLTextAreaElement>,\n    | 'value'\n    | 'defaultValue'\n    | 'onChange'\n    | 'onBlur'\n    | 'onFocus'\n    | 'rows'\n    | 'cols'\n    | keyof DynFieldBase\n  > {\n  /** Number of visible text lines */\n  rows?: number;\n  /** Number of visible columns */\n  cols?: number;\n  /** Controls the resize behavior of the textarea */\n  resize?: DynTextAreaResize;\n  /** Controlled value for the textarea */\n  value?: string;\n  /** Change handler returning the textarea value */\n  onChange?: (value: string) => void;\n  /** Show character count */\n  showCount?: boolean;\n  /** Automatically resize height based on content */\n  autoResize?: boolean;\n  /** Maximum number of rows for auto-resize (default: 10) */\n  maxRows?: number;\n  /** Callback when validation status changes */\n  onValidate?: (isValid: boolean, errorMessage?: string) => void;\n}\n\nexport type DynTextAreaRef = DynFieldRef;\n\nexport interface DynTextAreaDefaultProps {\n  disabled: boolean;\n  readonly: boolean;\n  required: boolean;\n  optional: boolean;\n  visible: boolean;\n  value: string;\n  resize: DynTextAreaResize;\n  rows: number;\n  'data-testid': string;\n}\n\nexport const DYN_TEXT_AREA_DEFAULT_PROPS: DynTextAreaDefaultProps = {\n  disabled: false,\n  readonly: false,\n  required: false,\n  optional: false,\n  visible: true,\n  value: '',\n  resize: 'vertical',\n  rows: 4,\n  'data-testid': 'dyn-textarea',\n};\n\n\n--- Component (DynTextArea.tsx) ---\nimport {\n  forwardRef,\n  useEffect,\n  useId,\n  useImperativeHandle,\n  useRef,\n  useState,\n} from 'react';\nimport type { ChangeEvent, ForwardedRef } from 'react';\nimport { DynFieldContainer } from '../DynFieldContainer';\nimport type { DynFieldContainerProps } from '../DynFieldContainer';\nimport { useDynFieldValidation } from '../../hooks/useDynFieldValidation';\nimport { cn } from '../../utils/classNames';\nimport type { DynTextAreaProps, DynTextAreaRef } from './DynTextArea.types';\nimport { DYN_TEXT_AREA_DEFAULT_PROPS } from './DynTextArea.types';\nimport styles from './DynTextArea.module.css';\n\nconst DynTextAreaComponent = (\n  {\n    name,\n    id,\n    label,\n    help,\n    placeholder,\n    disabled = DYN_TEXT_AREA_DEFAULT_PROPS.disabled,\n    readonly = DYN_TEXT_AREA_DEFAULT_PROPS.readonly,\n    required = DYN_TEXT_AREA_DEFAULT_PROPS.required,\n    optional = DYN_TEXT_AREA_DEFAULT_PROPS.optional,\n    visible = DYN_TEXT_AREA_DEFAULT_PROPS.visible,\n    value: valueProp = DYN_TEXT_AREA_DEFAULT_PROPS.value,\n    errorMessage,\n    validation,\n    className,\n    resize = DYN_TEXT_AREA_DEFAULT_PROPS.resize,\n    rows = DYN_TEXT_AREA_DEFAULT_PROPS.rows,\n    cols,\n    showCount,\n    autoResize,\n    maxRows = 10,\n    onChange,\n    onBlur,\n    onFocus,\n    onValidate,\n    'data-testid': dataTestId = DYN_TEXT_AREA_DEFAULT_PROPS['data-testid'],\n    ...rest\n  }: DynTextAreaProps,\n  ref: ForwardedRef<DynTextAreaRef>\n) => {\n  const [value, setValue] = useState<string>(valueProp ?? '');\n  const [focused, setFocused] = useState(false);\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\n  const fallbackId = useId();\n  const fieldId = id ?? name ?? `${fallbackId}-textarea`;\n\n  // Auto-resize logic\n  useEffect(() => {\n    if (autoResize && textareaRef.current) {\n      const textarea = textareaRef.current;\n      textarea.style.height = 'auto';\n\n      const singleRowHeight = 24; // Approximate height of one row\n      const minHeight = rows * singleRowHeight;\n      const maxHeight = maxRows * singleRowHeight;\n\n      const scrollHeight = textarea.scrollHeight;\n      const newHeight = Math.min(Math.max(scrollHeight, minHeight), maxHeight);\n\n      textarea.style.height = `${newHeight}px`;\n\n      // If we reached maxRows, enable scrolling, otherwise hide it\n      textarea.style.overflowY = scrollHeight > maxHeight ? 'auto' : 'hidden';\n    }\n  }, [value, autoResize, rows, maxRows]);\n\n  const { error, validate, clearError } = useDynFieldValidation({\n    value,\n    required,\n    validation,\n    customError: errorMessage,\n  });\n\n  useImperativeHandle(\n    ref,\n    () => ({\n      focus: () => textareaRef.current?.focus(),\n      validate: () => validate(),\n      clear: () => {\n        setValue('');\n        onChange?.('');\n        clearError();\n      },\n      getValue: () => value,\n      setValue: (newValue: unknown) => {\n        const stringValue = String(newValue ?? '');\n        setValue(stringValue);\n        onChange?.(stringValue);\n      },\n      getElement: () => textareaRef.current,\n      blur: () => textareaRef.current?.blur(),\n      clearError: () => clearError(),\n    }),\n    [clearError, onChange, validate, value]\n  );\n\n  useEffect(() => {\n    setValue(valueProp ?? '');\n  }, [valueProp]);\n\n  if (!visible) {\n    return null;\n  }\n\n  const resolvedError = errorMessage ?? (error || undefined);\n  const describedById = resolvedError\n    ? `${fieldId}-error`\n    : help\n      ? `${fieldId}-help`\n      : undefined;\n\n  const textareaClasses = cn(\n    styles.textarea,\n    focused && styles.textareaFocused,\n    resolvedError && styles.textareaError,\n    disabled && styles.textareaDisabled,\n    readonly && styles.textareaReadonly,\n    autoResize && styles.textareaAutoResize,\n    resize === 'none' && styles.textareaResizeNone,\n    resize === 'horizontal' && styles.textareaResizeHorizontal,\n    resize === 'both' && styles.textareaResizeBoth\n  );\n\n  const containerClasses = cn(styles.container, className);\n\n  const fieldContainerProps: Omit<DynFieldContainerProps, 'children'> = {\n    label,\n    required,\n    optional,\n    helpText: help,\n    errorText: resolvedError,\n    className: containerClasses,\n    htmlFor: fieldId,\n    id,\n  };\n\n  const handleChange = (event: ChangeEvent<HTMLTextAreaElement>) => {\n    const newValue = event.target.value;\n\n    if (disabled || readonly) {\n      event.preventDefault();\n      return;\n    }\n\n    setValue(newValue);\n    onChange?.(newValue);\n    clearError();\n  };\n\n  const handleFocus = () => {\n    if (disabled) {\n      return;\n    }\n\n    setFocused(true);\n    clearError();\n    onFocus?.();\n  };\n\n  const handleBlur = () => {\n    setFocused(false);\n    void validate();\n    onBlur?.();\n  };\n\n  const characterCount = value.length;\n  const maxLength = rest.maxLength;\n\n  return (\n    <DynFieldContainer {...fieldContainerProps}>\n      <div className={styles.wrapper}>\n        <textarea\n          {...rest}\n          ref={textareaRef}\n          id={fieldId}\n          name={name}\n          className={textareaClasses}\n          placeholder={placeholder}\n          value={value}\n          disabled={disabled}\n          readOnly={readonly}\n          required={required}\n          rows={rows}\n          cols={cols}\n          onChange={handleChange}\n          onFocus={handleFocus}\n          onBlur={handleBlur}\n          aria-invalid={Boolean(resolvedError)}\n          aria-required={required || undefined}\n          aria-describedby={describedById}\n          data-testid={dataTestId}\n        />\n        {showCount && (\n          <div className={styles.characterCount} aria-hidden=\"true\">\n            {characterCount}\n            {maxLength && ` / ${maxLength}`}\n          </div>\n        )}\n      </div>\n    </DynFieldContainer>\n  );\n};\n\nconst DynTextArea = forwardRef<DynTextAreaRef, DynTextAreaProps>(DynTextAreaComponent);\n\nDynTextArea.displayName = 'DynTextArea';\n\nexport { DynTextArea };\nexport default DynTextArea;\n\n\n--- Usage Examples (DynTextArea.stories.tsx) ---\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { DynTextArea } from './DynTextArea';\n\nconst meta: Meta<typeof DynTextArea> = {\n  title: 'Form/DynTextArea',\n  component: DynTextArea,\n  parameters: {\n    layout: 'padded',\n    docs: {\n      description: {\n        component:\n          'Dynamic textarea component with validation, resize control, and WCAG 2.1 AA support. Uses DynFieldContainer for consistent alignment of labels and error messages.',\n      },\n    },\n  },\n  tags: ['autodocs'],\n  argTypes: {\n    resize: {\n      control: 'select',\n      options: ['none', 'vertical', 'horizontal', 'both'],\n      description: 'Determines the resize behavior',\n    },\n    disabled: { control: 'boolean' },\n    readonly: { control: 'boolean' },\n    required: { control: 'boolean' },\n    optional: { control: 'boolean' },\n    rows: { control: 'number' },\n    cols: { control: 'number' },\n    placeholder: { control: 'text' },\n    help: { control: 'text' },\n  },\n  args: {\n    label: 'Description',\n    placeholder: 'Enter a detailed description...',\n    rows: 4,\n  },\n};\n\nexport default meta;\n\ntype Story = StoryObj<typeof meta>;\n\nexport const Playground: Story = {\n  args: {\n    help: 'You can use markdown syntax for formatting.',\n  },\n};\n\nexport const States: Story = {\n  render: () => (\n    <div style={{ display: 'grid', gap: '1rem', maxWidth: 640 }}>\n      <DynTextArea label=\"Basic\" placeholder=\"Standard field\" />\n      <DynTextArea label=\"Required\" required placeholder=\"You must fill this field\" />\n      <DynTextArea label=\"With Error\" errorMessage=\"Invalid description\" value=\"some text\" />\n      <DynTextArea label=\"Disabled\" disabled value=\"Disabled input\" />\n      <DynTextArea label=\"Read Only\" readonly value=\"Display only content\" />\n    </div>\n  ),\n};\n\nexport const ResizeOptions: Story = {\n  render: () => (\n    <div style={{ display: 'grid', gap: '1rem', maxWidth: 640 }}>\n      <DynTextArea label=\"No Resize\" resize=\"none\" placeholder=\"Resize disabled\" />\n      <DynTextArea label=\"Horizontal\" resize=\"horizontal\" rows={3} />\n      <DynTextArea label=\"Vertical\" resize=\"vertical\" rows={6} />\n      <DynTextArea label=\"Both Directions\" resize=\"both\" rows={5} />\n    </div>\n  ),\n};\n\nexport const DarkTheme: Story = {\n  parameters: {\n    backgrounds: { default: 'dark' },\n  },\n  render: () => (\n    <div data-theme=\"dark\" style={{ padding: '2rem', background: '#111827', borderRadius: 12 }}>\n      <div style={{ display: 'grid', gap: '1rem', maxWidth: 640 }}>\n        <DynTextArea label=\"Description\" placeholder=\"Enter details\" />\n        <DynTextArea label=\"With Error\" errorMessage=\"Error\" value=\"Description\" />\n        <DynTextArea label=\"Tip\" help=\"Help text in dark mode\" />\n      </div>\n    </div>\n  ),\n};\n\n\n--- Styles (DynTextArea.module.css) ---\n/**\n * DynTextArea Component Styles\n * 100% Design Token Compliance\n * Unified Token Strategy: 3-Level Fallback Pattern\n */\n\n/* ================================================\n   COMPONENT TOKENS (Layer 2)\n   Unified Token Strategy: 3-Level Fallback Pattern\n   ================================================ */\n\n:root {\n  --dyn-textarea-background: var(--dyn-textarea-color-background, var(--dyn-semantic-input-bg, #ffffff));\n  --dyn-textarea-text: var(--dyn-textarea-color-text, var(--dyn-semantic-input-text, var(--dyn-semantic-text, #0f172a)));\n  --dyn-textarea-border: var(--dyn-textarea-color-border, var(--dyn-semantic-input-border, #cbd5e1));\n  --dyn-textarea-border-hover: var(--dyn-textarea-color-border-hover, var(--dyn-semantic-input-border-hover, var(--dyn-theme-primary-muted, #94a3b8)));\n  --dyn-textarea-border-focus: var(--dyn-textarea-color-border-focus, var(--dyn-semantic-input-border-focus, #3b8226));\n  --dyn-textarea-focus-ring: var(--dyn-textarea-color-focus-ring, var(--dyn-semantic-input-focus-ring, rgba(59, 130, 246, 0.2)));\n  --dyn-textarea-placeholder: var(--dyn-textarea-color-placeholder, var(--dyn-semantic-input-placeholder, #94a3b8));\n  \n  --dyn-textarea-disabled-bg: var(--dyn-textarea-color-disabled-background, var(--dyn-semantic-input-disabled-bg, #f1f5f9));\n  --dyn-textarea-disabled-text: var(--dyn-textarea-color-disabled-text, var(--dyn-semantic-input-disabled-text, #94a3b8));\n  --dyn-textarea-readonly-bg: var(--dyn-textarea-color-readonly-background, var(--dyn-semantic-input-readonly-bg, #f8fafc));\n  --dyn-textarea-error: var(--dyn-textarea-color-error, var(--dyn-semantic-input-error, #ef4444));\n\n  --dyn-textarea-radius: var(--dyn-textarea-size-radius, var(--dyn-border-radius-md, 0.375rem));\n  --dyn-textarea-padding: var(--dyn-textarea-size-padding, var(--dyn-spacing-sm, 0.75rem));\n  --dyn-textarea-font-size: var(--dyn-textarea-size-font, var(--dyn-font-size-sm, 0.875rem));\n  --dyn-textarea-transition: var(--dyn-textarea-animation-duration, var(--dyn-transition-normal, 0.2s)) var(--dyn-textarea-animation-easing, ease-in-out);\n  --dyn-textarea-min-height: var(--dyn-textarea-size-minHeight, 6rem);\n}\n\n.textarea {\n  /* Base Styles */\n  width: 100%;\n  text-align: left;\n  min-height: var(--dyn-textarea-min-height);\n  padding: var(--dyn-textarea-padding);\n  border-radius: var(--dyn-textarea-radius);\n  border: var(--dyn-border-width-sm, 1px) solid var(--dyn-textarea-border);\n  background-color: var(--dyn-textarea-background);\n  color: var(--dyn-textarea-text);\n  font-family: inherit;\n  font-size: var(--dyn-textarea-font-size);\n  line-height: var(--dyn-line-height-normal, 1.5);\n  transition: all var(--dyn-textarea-transition);\n  resize: vertical;\n}\n\n.container {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n}\n\n.wrapper {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n}\n\n.textarea::placeholder {\n  color: var(--dyn-textarea-placeholder);\n}\n\n/* ================================================\n   INTERACTIVE STATES\n   ================================================ */\n\n.textarea:hover:not(.textareaDisabled):not(.textareaReadonly) {\n  border-color: var(--dyn-textarea-border-hover);\n}\n\n.textareaFocused {\n  outline: none;\n  border-color: var(--dyn-textarea-border-focus);\n  box-shadow: 0 0 0 var(--dyn-border-width-lg, 3px) var(--dyn-textarea-focus-ring);\n}\n\n.textareaDisabled {\n  background-color: var(--dyn-textarea-disabled-bg);\n  color: var(--dyn-textarea-disabled-text);\n  cursor: not-allowed;\n  opacity: var(--dyn-opacity-disabled, 0.6);\n}\n\n.textareaReadonly {\n  background-color: var(--dyn-textarea-readonly-bg);\n}\n\n.textareaError {\n  border-color: var(--dyn-textarea-error);\n}\n\n.textareaError:focus-visible,\n.textareaFocused.textareaError {\n  box-shadow: 0 0 0 var(--dyn-border-width-lg, 3px) var(--dyn-feedback-negative-subtle, rgba(239, 68, 68, 0.2));\n}\n\n/* ================================================\n   RESIZE OPTIONS\n   ================================================ */\n\n.textareaAutoResize {\n  resize: none;\n  overflow: hidden;\n}\n\n.textareaResizeNone {\n  resize: none;\n}\n\n.textareaResizeHorizontal {\n  resize: horizontal;\n}\n\n.textareaResizeBoth {\n  resize: both;\n}\n\n/* ================================================\n   CHARACTER COUNT\n   =============================================== */\n\n.characterCount {\n  position: absolute;\n  bottom: var(--dyn-spacing-sm, 0.75rem);\n  right: var(--dyn-spacing-sm, 0.75rem);\n  font-size: var(--dyn-font-size-2xs, 0.625rem);\n  color: var(--dyn-textarea-placeholder);\n  pointer-events: none;\n  background-color: var(--dyn-textarea-background);\n  mix-blend-mode: multiply; /* Make it look transparent on background if needed */\n  padding: var(--dyn-spacing-2xs, 0.125rem) var(--dyn-spacing-xs, 0.25rem);\n  border-radius: var(--dyn-border-radius-xs, 0.125rem);\n}\n\n/* DARK MODE - Dynamically handled via semantic tokens! */\n", "metadata": {"type": "ui_component", "name": "DynTextArea", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynTextArea"}, "embedding": [-0.034538090229034424, -0.044832371175289154, -0.060175877064466476, 0.05592796951532364, -0.027764033526182175, 0.08807283639907837, -0.057830650359392166, 0.10294931381940842, 0.04382932186126709, 0.04386596009135246, -0.061709582805633545, 0.031031161546707153, -0.06843297183513641, 0.03165166825056076, 0.0030543215107172728, 0.042451344430446625, -0.057973530143499374, -0.017150966450572014, -0.09403689950704575, -0.018114950507879257, 0.0547766238451004, -0.04882901906967163, 0.09112095832824707, 0.012430802918970585, 0.0581444650888443, 0.09422191232442856, -0.008246807381510735, 0.04104020446538925, 0.002083947416394949, 0.008396976627409458, -0.10161761939525604, 0.056898053735494614, -0.051550596952438354, -0.024591723456978798, -0.04721318930387497, 0.058326102793216705, -0.07522507756948471, 0.0761571153998375, 0.011376775801181793, -0.0039539579302072525, 0.056786004453897476, -0.001331379171460867, 0.005651970859616995, -0.04087180644273758, 0.027931133285164833, -0.059553176164627075, -0.0721881091594696, -0.00043179545900784433, -0.012457636184990406, 0.007256551645696163, -0.010933786630630493, 0.06514521688222885, 0.03367824852466583, 0.0604398213326931, -0.02096262201666832, 0.02358631230890751, 0.07744701206684113, 0.025509294122457504, 0.0527133084833622, 0.02413155883550644, 0.04526294022798538, -0.03631832078099251, 0.09298978745937347, -0.08438757061958313, -0.01682116463780403, 0.03306792676448822, -0.016368087381124496, 0.024421164765954018, -0.02460363321006298, -0.03506629541516304, -0.02658676914870739, 0.01892462931573391, 0.05257754772901535, -0.007346707861870527, 0.02081586979329586, -0.0833054706454277, -0.029356878250837326, 0.03334825858473778, 0.05428195744752884, 0.04865625500679016, 0.09497993439435959, -0.009416301734745502, -0.040381837636232376, 0.05508439987897873, -0.027730027213692665, 0.08034728467464447, 0.008702320046722889, -0.021334577351808548, -0.030200673267245293, -0.006766100414097309, 0.020049290731549263, -0.07502960413694382, 0.0290744099766016, 0.06473471969366074, -0.09101515263319016, -0.01493859849870205, -0.09859681129455566, 0.05808102339506149, -0.05481262132525444, -0.04603622108697891, 0.0678006261587143, -0.051417019218206406, -0.018401069566607475, 0.04871310666203499, -0.08462690562009811, -0.07599698007106781, 0.07190345227718353, -0.06575396656990051, -0.048487503081560135, 0.015192069113254547, 0.03846948593854904, 0.04973924905061722, -0.052978433668613434, 0.055778976529836655, -0.1036870926618576, 0.030208682641386986, 0.009154618717730045, -0.08094457536935806, 0.04596564918756485, 0.007422379683703184, 0.06584003567695618, 0.010362028144299984, 0.019772280007600784, 0.0045641143806278706, 0.030854482203722, 0.06644686311483383, 0.08570478111505508, 7.029918334133946e-33, -0.025637635961174965, 0.06135835871100426, 0.019163168966770172, 0.05786070600152016, 0.058318912982940674, -0.01951517164707184, -0.03528352081775665, 0.021283941343426704, -0.016238752752542496, -0.043334826827049255, 0.005401263944804668, 0.06967232376337051, -0.07820246368646622, -0.05521310865879059, -0.01672215200960636, -0.10750359296798706, 0.05447935685515404, -0.03596004471182823, 0.002101704478263855, -0.013546845875680447, 0.02387341856956482, 0.05595790967345238, -0.01761694625020027, 0.05728812515735626, 0.0787452980875969, -0.055870793759822845, -0.05883864685893059, 0.1017734482884407, -0.1075400561094284, -0.040613193064928055, -0.02387598715722561, -0.05659705027937889, 0.03962748870253563, 0.04551631584763527, -0.03499551862478256, -0.041041675955057144, -0.07762371748685837, -0.00509651517495513, -0.005229661241173744, -0.005143633112311363, -0.029656942933797836, 0.022165264934301376, 0.006889268755912781, -0.06194001063704491, -0.030778277665376663, 0.03797757253050804, 0.08598489314317703, 0.023050742223858833, -0.013646567240357399, -0.06238975375890732, 0.013176808133721352, 0.08473166823387146, 0.03983428329229355, -0.09888094663619995, 0.0847153440117836, -0.027501370757818222, 0.0013274537632241845, -0.0100856339558959, 0.09563426673412323, 0.07985102385282516, -0.05312120541930199, -0.0217390488833189, 0.0505029633641243, 0.011748834513127804, -0.02487517148256302, 0.046312056481838226, -0.02189856953918934, -0.07045138627290726, -0.004748637322336435, -0.09469693899154663, 0.01056693121790886, 0.003045055316761136, -0.0312531404197216, 0.031493157148361206, -0.034064456820487976, -0.003080855356529355, -0.04422439634799957, -0.012147223576903343, 0.050055742263793945, -0.10386032611131668, -0.0009837617399170995, -0.06226231902837753, 0.04370493069291115, 0.08842772245407104, 0.04745294526219368, -0.01975180022418499, -0.07752349972724915, -0.0474470779299736, 0.014452085830271244, -0.02229999378323555, -0.022653909400105476, -0.08136065304279327, 0.05850619822740555, -0.11349280923604965, 0.029372045770287514, -7.558331697503366e-33, -0.009410048834979534, -0.007501316722482443, -0.08874887973070145, 0.01642441935837269, 0.0028185865376144648, 0.08453737944364548, -0.022927800193428993, 0.13003617525100708, 0.024925850331783295, -0.029904786497354507, 0.022251155227422714, 0.055055391043424606, -0.024325797334313393, -0.04553809389472008, -0.05592794716358185, 0.1079544648528099, -0.015656691044569016, 0.005169364623725414, 0.06750566512346268, -0.06485599279403687, 0.10752294212579727, -0.033021509647369385, 0.017957836389541626, 0.1040022224187851, -0.08664216101169586, -7.568996079498902e-05, 0.06796324998140335, 0.03790834918618202, -0.024190563708543777, -0.009361912496387959, 0.03160560503602028, -0.004812781699001789, -0.03065674938261509, 0.06718610972166061, -0.04559599608182907, -0.03473217412829399, 0.01821228675544262, -0.00350959156639874, 0.011660636402666569, 0.07900270074605942, 0.00679904455319047, -0.03882640227675438, 0.013417327776551247, 0.005060461815446615, -0.10830286145210266, -0.012935559265315533, -0.0713198333978653, 0.05002262070775032, 0.010038858279585838, 0.004630960989743471, 0.007922315038740635, -0.02868843264877796, -0.023433228954672813, -0.018792444840073586, -0.07987988740205765, -0.0023652820382267237, 0.045558419078588486, -0.011925391852855682, -0.026064150035381317, 0.016651226207613945, 0.04335898160934448, -0.09473105520009995, -0.04830442741513252, 0.009386450052261353, 0.04891180619597435, 0.006065899971872568, -0.11643332988023758, 0.031945206224918365, -0.026550335809588432, 0.075434111058712, 0.07421378046274185, 0.014358283020555973, 0.0022870164830237627, 0.012956912629306316, 0.03318430110812187, -0.03217943012714386, 0.0278355460613966, -0.011660614982247353, 0.1035178154706955, -0.00291697820648551, 0.00531182624399662, 0.0020780705381184816, 0.03859444707632065, -0.04599858447909355, -0.00420748395845294, 0.011966254562139511, -0.06257188320159912, 0.062012046575546265, 0.01872708462178707, 0.0329364575445652, -0.0524100661277771, -0.07673769444227219, -0.08059893548488617, -0.03720971941947937, 0.004022800363600254, -5.353535925678443e-08, -0.012199873104691505, -0.0577366016805172, -0.022569898515939713, -0.059139084070920944, -0.06705138832330704, -0.13020119071006775, 0.06108974665403366, -0.0017488087760284543, 0.047536663711071014, -0.006180373020470142, -0.02565997652709484, 0.06388974189758301, 0.01085333526134491, -0.042645663022994995, 0.019565396010875702, 0.05309063568711281, -0.027638178318738937, 0.03795841708779335, -0.006794654298573732, -0.03495708480477333, 0.08679330348968506, -0.028908446431159973, -0.06462447345256805, 0.01818917877972126, 0.09739544987678528, -0.04678840935230255, -0.07439759373664856, 0.05607178807258606, 0.04697592556476593, 0.009136045351624489, 0.03717341274023056, -0.047122254967689514, 0.025445207953453064, -0.05490269139409065, -0.03705889731645584, -0.04229074716567993, 0.05906886234879494, -0.0907384380698204, -0.011111916974186897, 0.02600085735321045, -0.01580413430929184, -0.02952154166996479, -0.04844306409358978, -0.005777937360107899, -0.02035963535308838, -0.022615468129515648, -0.04188251122832298, 0.05715234950184822, 0.08121374249458313, -0.042204223573207855, 0.02016546204686165, -0.016195110976696014, -0.020479906350374222, -0.00625161686912179, -0.0585319809615612, -0.027315275743603706, -0.018224768340587616, 0.144069641828537, 0.05128464102745056, -0.011953761801123619, 0.016219405457377434, 0.03195004537701607, -0.00644384091719985, -0.06979448348283768]}, {"id": "dyn_ui_component_DynToast", "text": "# Component: DynToast\n\n--- Types (DynToast.types.ts) ---\n/**\n * DynToast Component Types\n *\n * Type definitions for toast notifications.\n * Token Compliant: \u2705 Full --dyn-toast-* pattern\n *\n * @module DynToast\n * @version 1.0.0\n */\n\nimport { HTMLAttributes, ReactNode } from 'react';\n\n/**\n * Toast types / severities\n */\nexport type DynToastType = 'success' | 'error' | 'warning' | 'info' | 'default';\n\n/**\n * Toast position on screen\n */\nexport type DynToastPosition = 'top-left' | 'top-right' | 'top-center' | 'bottom-left' | 'bottom-right' | 'bottom-center';\n\n/**\n * Single Toast Item Data\n */\nexport interface DynToastItem {\n    id: string;\n    type: DynToastType;\n    message: ReactNode;\n    description?: ReactNode;\n    duration?: number; // 0 for infinite\n    position?: DynToastPosition;\n    onClose?: () => void;\n    action?: {\n        label: string;\n        onClick: () => void;\n    };\n}\n\n/**\n * Props for the single toast component\n */\nexport interface DynToastProps extends Omit<HTMLAttributes<HTMLDivElement>, 'id'> {\n    toast: DynToastItem;\n    onClose: (id: string) => void;\n    position?: DynToastPosition;\n}\n\n/**\n * Toast Context Interface\n */\nexport interface DynToastContextType {\n    toasts: DynToastItem[];\n    addToast: (toast: Omit<DynToastItem, 'id'>) => string;\n    removeToast: (id: string) => void;\n    updateToast: (id: string, updates: Partial<DynToastItem>) => void;\n\n    // Helpers\n    success: (message: ReactNode, options?: Partial<DynToastItem>) => string;\n    error: (message: ReactNode, options?: Partial<DynToastItem>) => string;\n    warning: (message: ReactNode, options?: Partial<DynToastItem>) => string;\n    info: (message: ReactNode, options?: Partial<DynToastItem>) => string;\n}\n\n/**\n * Toast Provider Props\n */\nexport interface DynToastProviderProps {\n    children: ReactNode;\n    defaultDuration?: number;\n    defaultPosition?: DynToastPosition;\n    maxToasts?: number;\n}\n\n\n--- Component (DynToast.tsx) ---\n/**\n * DynToast Component\n *\n * Individual toast notification component.\n * Features customizable content, icons, generic actions, and animations.\n *\n * Token Compliant: \u2705 Full --dyn-toast-* pattern\n */\n\nimport React, { useEffect } from 'react';\nimport { cn } from '../../utils/classNames';\nimport { DynIcon } from '../DynIcon';\nimport { DynButton } from '../DynButton';\nimport { DynToastProps } from './DynToast.types';\nimport styles from './DynToast.module.css';\n\nconst DEFAULT_ICONS = {\n    success: 'ok',\n    error: 'warning', // Warning icon is a triangle with !, suitable for error too\n    warning: 'warning',\n    info: 'info',\n    default: 'notifications',\n};\n\nexport const DynToast: React.FC<DynToastProps> = ({\n    toast,\n    onClose,\n    position = 'top-right',\n    className,\n    ...rest\n}) => {\n    const { id, type, message, description, duration, action } = toast;\n\n    // Auto-close logic handled by effect\n    useEffect(() => {\n        if (duration !== 0 && duration !== Infinity) {\n            const timer = setTimeout(() => {\n                onClose(id);\n            }, duration || 5000); // Default 5s\n            return () => clearTimeout(timer);\n        }\n    }, [id, duration, onClose]);\n\n    const typeClass = `toast${type.charAt(0).toUpperCase()}${type.slice(1)}`;\n    const positionClass = `toast${position.replace(/-([a-z])/g, (g) => g[1].toUpperCase()).replace(/^([a-z])/, (c) => c.toUpperCase())}`;\n    // e.g. top-right -> ToastTopRight (fix later in CSS, for now just use data attr or standard class)\n\n    // We actually put position on the container, not the toast itself usually.\n    // But here we might want animation direction.\n\n    return (\n        <div\n            className={cn(styles.toast, styles[typeClass], className)}\n            role=\"alert\"\n            data-position={position}\n            data-type={type}\n            {...rest}\n        >\n            <div className={styles.toastIcon}>\n                <DynIcon icon={DEFAULT_ICONS[type]} />\n            </div>\n\n            <div className={styles.toastContent}>\n                <div className={styles.toastMessage}>{message}</div>\n                {description && <div className={styles.toastDescription}>{description}</div>}\n            </div>\n\n            <div className={styles.toastActions}>\n                {action && (\n                    <DynButton\n                        size=\"sm\"\n                        kind=\"tertiary\"\n                        className={styles.toastActionButton}\n                        onClick={(e) => {\n                            e.stopPropagation();\n                            action.onClick();\n                        }}\n                        label={action.label}\n                    />\n                )}\n\n                <button\n                    className={styles.toastCloseButton}\n                    onClick={(e) => {\n                        e.stopPropagation();\n                        onClose(id);\n                    }}\n                    aria-label=\"Close notification\"\n                >\n                    <DynIcon icon=\"close\" size=\"sm\" />\n                </button>\n            </div>\n\n            {/* Progress bar for auto-dismiss could be added here */}\n        </div>\n    );\n};\n\nexport default DynToast;\n\n\n--- Usage Examples (DynToast.stories.tsx) ---\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { DynToastProvider, useToast } from './ToastContext';\nimport { DynButton } from '../DynButton';\n\n// Wrapper component to provide context to stories\nconst ToastDemo = () => {\n    const { success, error, warning, info, addToast } = useToast();\n\n    return (\n        <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem', alignItems: 'flex-start' }}>\n            <div style={{ display: 'flex', gap: '1rem' }}>\n                <DynButton\n                    label=\"Show Success\"\n                    kind=\"primary\"\n                    onClick={() => success('Operation completed successfully', { description: 'Your changes have been saved.' })}\n                />\n                <DynButton\n                    label=\"Show Error\"\n                    kind=\"primary\"\n                    danger\n                    onClick={() => error('Something went wrong', { description: 'Please try again later.' })}\n                />\n            </div>\n\n            <div style={{ display: 'flex', gap: '1rem' }}>\n                <DynButton\n                    label=\"Show Warning\"\n                    kind=\"secondary\"\n                    onClick={() => warning('Low disk space', { description: 'You are running out of storage.' })}\n                />\n                <DynButton\n                    label=\"Show Info\"\n                    kind=\"secondary\"\n                    onClick={() => info('New update available', { description: 'Version 2.0 is now live.' })}\n                />\n            </div>\n\n            <div style={{ display: 'flex', gap: '1rem' }}>\n                <DynButton\n                    label=\"With Action\"\n                    kind=\"tertiary\"\n                    onClick={() => info('File deleted', {\n                        action: {\n                            label: 'Undo',\n                            onClick: () => success('Undo successful')\n                        },\n                        duration: 10000\n                    })}\n                />\n                <DynButton\n                    label=\"Infinite Toast\"\n                    kind=\"tertiary\"\n                    onClick={() => addToast({\n                        type: 'default',\n                        message: 'I stay until you close me',\n                        duration: 0\n                    })}\n                />\n            </div>\n        </div>\n    );\n};\n\nconst meta = {\n    title: 'Feedback/DynToast',\n    component: DynToastProvider,\n    parameters: {\n        layout: 'padded',\n        docs: {\n            description: {\n                component: `\nNotification system with portal rendering, auto-dismiss, and queue management.\n\n## Setup\nWrap your application root with \\`DynToastProvider\\`.\n\n\\`\\`\\`tsx\nimport { DynToastProvider } from '@dyn-ui/react';\n\nfunction App() {\n  return (\n    <DynToastProvider>\n      <YourApp />\n    </DynToastProvider>\n  );\n}\n\\`\\`\\`\n\n## Usage\nUse the \\`useToast\\` hook to trigger notifications.\n\n\\`\\`\\`tsx\nimport { useToast } from '@dyn-ui/react';\n\nfunction MyComponent() {\n  const { success, error } = useToast();\n  \n  return <button onClick={() => success('Saved!')}>Save</button>;\n}\n\\`\\`\\`\n        `,\n            },\n        },\n    },\n    tags: ['autodocs'],\n    decorators: [\n        (Story) => (\n            <div style={{ minHeight: '300px' }}>\n                <Story />\n            </div>\n        ),\n    ],\n} satisfies Meta<typeof DynToastProvider>;\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\nexport const Interactive: Story = {\n    render: (args) => (\n        <DynToastProvider {...args}>\n            <ToastDemo />\n        </DynToastProvider>\n    ),\n    args: {\n        defaultPosition: 'top-right',\n        maxToasts: 5,\n        defaultDuration: 5000,\n    } as any,\n};\n\nexport const PositionTopLeft: Story = {\n    render: () => (\n        <DynToastProvider defaultPosition=\"top-left\">\n            <ToastDemo />\n        </DynToastProvider>\n    ),\n    args: {} as any,\n};\n\nexport const PositionBottomCenter: Story = {\n    render: () => (\n        <DynToastProvider defaultPosition=\"bottom-center\">\n            <ToastDemo />\n        </DynToastProvider>\n    ),\n    args: {} as any,\n};\n\n\n--- Styles (DynToast.module.css) ---\n/**\n * DynToast Component Styles\n * 100% Design Token Compliance\n * Unified Token Strategy: 3-Level Fallback Pattern\n */\n\n/* ==========================================================================\n   CONTAINER (PORTAL)\n   ========================================================================== */\n\n.toastContainer {\n  /* Component Tokens (Layer 2) */\n  --dyn-toast-z-index: var(--dyn-toast-size-zindex, var(--dyn-z-index-toast, 9000));\n  --dyn-toast-container-gap: var(--dyn-toast-spacing-container-gap, var(--dyn-spacing-sm, 0.5rem));\n  --dyn-toast-container-padding: var(--dyn-toast-spacing-container-padding, var(--dyn-spacing-md, 1rem));\n  --dyn-toast-max-width: var(--dyn-toast-size-maxWidth, 24rem);\n\n  position: fixed;\n  z-index: var(--dyn-toast-z-index);\n  display: flex;\n  flex-direction: column;\n  gap: var(--dyn-toast-container-gap);\n  padding: var(--dyn-toast-container-padding);\n  pointer-events: none;\n  max-width: 100vw;\n  width: var(--dyn-toast-max-width);\n}\n\n/* Position Variants */\n.toastContainerTopRight {\n  top: 0;\n  right: 0;\n}\n\n.toastContainerTopLeft {\n  top: 0;\n  left: 0;\n}\n\n.toastContainerTopCenter {\n  top: 0;\n  left: 50%;\n  transform: translateX(-50%);\n  align-items: center;\n}\n\n.toastContainerBottomRight {\n  bottom: 0;\n  right: 0;\n  flex-direction: column-reverse;\n}\n\n.toastContainerBottomLeft {\n  bottom: 0;\n  left: 0;\n  flex-direction: column-reverse;\n}\n\n.toastContainerBottomCenter {\n  bottom: 0;\n  left: 50%;\n  transform: translateX(-50%);\n  align-items: center;\n  flex-direction: column-reverse;\n}\n\n/* ==========================================================================\n   TOAST ITEM\n   ========================================================================== */\n\n.toast {\n  /* Component Tokens (Layer 2) */\n  --dyn-toast-background: var(--dyn-toast-color-background, var(--dyn-semantic-surface, #ffffff));\n  --dyn-toast-text: var(--dyn-toast-color-text, var(--dyn-semantic-text, #1e293b));\n  --dyn-toast-border: var(--dyn-toast-color-border, var(--dyn-semantic-border, #e2e8f0));\n  --dyn-toast-shadow: var(--dyn-toast-elevation, var(--dyn-shadow-lg, 0 10px 15px -3px rgba(0, 0, 0, 0.1)));\n  --dyn-toast-radius: var(--dyn-toast-size-radius, var(--dyn-border-radius-md, 0.375rem));\n  --dyn-toast-accent: var(--dyn-toast-color-accent, var(--dyn-theme-primary, #3b82f6));\n  --dyn-toast-transition: var(--dyn-toast-animation-duration, var(--dyn-transition-normal, 0.3s)) var(--dyn-toast-animation-easing, ease-out);\n\n  /* Placement */\n  pointer-events: auto;\n  display: flex;\n  align-items: flex-start;\n  gap: var(--dyn-spacing-md, 1rem);\n  padding: var(--dyn-spacing-md, 1rem);\n  background-color: var(--dyn-toast-background);\n  color: var(--dyn-toast-text);\n  border: 1px solid var(--dyn-toast-border);\n  border-radius: var(--dyn-toast-radius);\n  box-shadow: var(--dyn-toast-shadow);\n  width: 100%;\n\n  /* Animation */\n  animation: dyn-toast-enter var(--dyn-toast-transition) forwards;\n  will-change: transform, opacity;\n}\n\n/* TYPE VARIANTS */\n.toastSuccess {\n  --dyn-toast-accent: var(--dyn-toast-color-success, var(--dyn-feedback-positive-default, #22c55e));\n  border-left: var(--dyn-border-width-lg, 4px) solid var(--dyn-toast-accent);\n}\n\n.toastError {\n  --dyn-toast-accent: var(--dyn-toast-color-danger, var(--dyn-feedback-negative-default, #ef4444));\n  border-left: var(--dyn-border-width-lg, 4px) solid var(--dyn-toast-accent);\n}\n\n.toastWarning {\n  --dyn-toast-accent: var(--dyn-toast-color-warning, var(--dyn-feedback-warning-default, #f59e0b));\n  border-left: var(--dyn-border-width-lg, 4px) solid var(--dyn-toast-accent);\n}\n\n.toastInfo {\n  --dyn-toast-accent: var(--dyn-toast-color-info, var(--dyn-feedback-info-default, #0ea5e9));\n  border-left: var(--dyn-border-width-lg, 4px) solid var(--dyn-toast-accent);\n}\n\n/* CONTENT */\n.toastIcon {\n  flex-shrink: 0;\n  color: var(--dyn-toast-accent);\n  margin-top: 2px;\n}\n\n.toastContent {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: var(--dyn-spacing-xxs, 0.125rem);\n}\n\n.toastMessage {\n  font-weight: var(--dyn-font-weight-medium, 500);\n  font-size: var(--dyn-font-size-sm, 0.875rem);\n  line-height: var(--dyn-line-height-normal, 1.25rem);\n}\n\n.toastDescription {\n  font-size: var(--dyn-font-size-sm, 0.875rem);\n  color: var(--dyn-semantic-text-secondary, #64748b);\n  line-height: var(--dyn-line-height-normal, 1.25rem);\n}\n\n/* ACTIONS */\n.toastActions {\n  flex-shrink: 0;\n  display: flex;\n  align-items: flex-start;\n  gap: var(--dyn-spacing-sm, 0.5rem);\n  margin-left: auto;\n}\n\n.toastCloseButton {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: var(--dyn-spacing-xxs, 0.25rem);\n  border-radius: var(--dyn-border-radius-sm, 0.25rem);\n  color: var(--dyn-semantic-text-secondary, #94a3b8);\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  transition: all var(--dyn-transition-fast, 0.15s) ease;\n}\n\n.toastCloseButton:hover {\n  color: var(--dyn-semantic-text, #1e293b);\n  background-color: var(--dyn-semantic-surface-hover, #f1f5f9);\n}\n\n/* ANIMATIONS */\n@keyframes dyn-toast-enter {\n  0% {\n    opacity: 0;\n    transform: translateX(20px) scale(0.95);\n  }\n  100% {\n    opacity: 1;\n    transform: translateX(0) scale(1);\n  }\n}\n\n/* REDUCED MOTION */\n@media (prefers-reduced-motion: reduce) {\n  .toast {\n    animation: none;\n  }\n}\n", "metadata": {"type": "ui_component", "name": "DynToast", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynToast"}, "embedding": [-0.003359182272106409, 0.007891317829489708, 0.025244256481528282, 0.04697296395897865, 0.001331216306425631, 0.0160269383341074, 0.02796495519578457, 0.06055425480008125, 0.031679317355155945, -0.025816936045885086, -0.07066238671541214, -0.044465892016887665, -0.06326300650835037, 0.083553247153759, 0.02348664216697216, 0.011892498470842838, -0.03437364846467972, -0.04169414937496185, -0.009385445155203342, -0.004789887927472591, 0.14351728558540344, -0.005445937160402536, 0.10521673411130905, 0.024918818846344948, 0.017039936035871506, 0.02293623611330986, 0.019655657932162285, -0.0878511518239975, -0.04306105524301529, -0.02106369473040104, -0.01170024648308754, -0.021483030170202255, -0.011034789495170116, -0.02426006644964218, 0.005461945664137602, 0.03264886513352394, 0.0002682562917470932, 0.049847494810819626, 0.014133921824395657, -0.04904990270733833, 0.14378786087036133, 0.02110758051276207, 0.004530229140073061, -0.06809324026107788, 0.05181221663951874, -0.053997140377759933, -0.05053694173693657, -0.03322162106633186, -0.06856627017259598, 0.053312867879867554, 0.047970063984394073, 0.022350573912262917, 0.02820766717195511, 0.012279282324016094, 0.07702010869979858, 0.09208790212869644, 0.02487558126449585, 0.036650657653808594, 0.06279203295707703, -0.0006132698617875576, 0.1139562726020813, -0.05967576056718826, 0.023291604593396187, -0.057861004024744034, 0.054343145340681076, -0.04216979816555977, 0.009927253238856792, 0.04096775874495506, 0.012799633666872978, -0.020468786358833313, -0.05873127281665802, -0.02801222912967205, 0.09152883291244507, -0.017164740711450577, 0.00822493340820074, -0.10762765258550644, 0.045962341129779816, -0.003647588426247239, -0.07819633930921555, 0.007872630842030048, 0.025886425748467445, 0.01579873636364937, -0.00339714833535254, 0.029391605406999588, 0.011518427170813084, 0.07047563791275024, -0.0026906400453299284, 0.024279804900288582, -0.049557801336050034, -0.07349822670221329, 0.0013049340341240168, -0.11783801764249802, -0.08178483694791794, 0.07760509848594666, -0.0497773215174675, -0.008733355440199375, -0.082109734416008, 0.034002695232629776, -0.0564420223236084, 0.021672196686267853, 0.01307344064116478, -0.05154918506741524, -0.06630823016166687, 0.0158686600625515, -0.008482222445309162, -0.08784259110689163, -0.09022071212530136, -0.07536787539720535, -0.06471046805381775, 0.006363113410770893, 0.01806659996509552, 0.08017439395189285, -0.038766033947467804, 0.04728619381785393, -0.013325189240276814, -0.07334418594837189, -0.03530324995517731, -0.013600924983620644, 0.10765154659748077, -0.00020645148470066488, 0.13296730816364288, -0.055920735001564026, 0.020550506189465523, 0.029379939660429955, 0.051890451461076736, 0.07153208553791046, 0.09533074498176575, 4.4992714840135085e-33, -0.03148431330919266, 0.0674796923995018, 0.00023599248379468918, 0.036419034004211426, 0.04213092476129532, -0.04395504295825958, 0.010936877690255642, 0.026462486013770103, -0.026105184108018875, -0.02695881575345993, 0.004213104955852032, 0.014869624748826027, -0.011168993078172207, -0.025543691590428352, -0.05875536799430847, -0.055360905826091766, 0.04965600743889809, -0.0006227166159078479, -0.03927282616496086, -0.03444409742951393, -0.02314496412873268, 0.06769774854183197, -0.0682712122797966, -0.021490471437573433, 0.06361276656389236, -0.06371381133794785, -0.006974097806960344, 0.021943185478448868, -0.065644770860672, -0.015153302811086178, 0.045933131128549576, -0.05686555802822113, 0.07640792429447174, 0.039617884904146194, 0.05025654286146164, -0.03307632729411125, -0.10606735199689865, -0.0015187148237600923, -0.047226112335920334, -0.039637692272663116, -0.05063727870583534, 0.0047348057851195335, -0.07468032091856003, 0.03456975519657135, -0.056770000606775284, -0.009085103869438171, 0.08018617331981659, 0.035132523626089096, 0.04572555795311928, -0.05175353214144707, 0.02486415021121502, -0.002007365459576249, 0.04600585624575615, -0.1530919075012207, 0.014495406299829483, -0.022203922271728516, 0.05799681693315506, -0.020780060440301895, 0.07339934259653091, -0.009951342828571796, -0.051378972828388214, -0.009539172984659672, 0.04338894784450531, -0.13117444515228271, -0.032239459455013275, 0.06893900781869888, -0.00991864688694477, -0.011140285059809685, 0.015734894201159477, -0.06439924985170364, 0.008063074201345444, -0.026530489325523376, -0.000990771921351552, 0.026224834844470024, 0.01483756210654974, 0.051357876509428024, 0.003057638183236122, 0.017030026763677597, 0.007807068061083555, -0.0955205038189888, 0.03842973709106445, -0.10533695667982101, -0.029330838471651077, -0.00430643605068326, 0.06645476073026657, 0.023028984665870667, -0.03022439032793045, -0.05370103567838669, 0.0055993772111833096, 0.10823266208171844, -0.10286571085453033, -0.015497177839279175, 0.043252333998680115, -0.012605416588485241, -0.02814965881407261, -5.275137061148574e-33, -0.003703994443640113, 0.042023543268442154, -0.08201780915260315, -0.04509686678647995, -0.005106138996779919, 0.022402897477149963, -0.04701027646660805, 0.044129084795713425, -0.0213838592171669, 0.006525952834635973, -0.010549446567893028, 0.0012549179373309016, 0.0015504288021475077, 0.03975332900881767, -0.07993658632040024, 0.15321515500545502, 0.001083412324078381, 0.021170834079384804, 0.008947382681071758, -0.05071592703461647, 0.02575583942234516, 0.02678585797548294, -0.02925725281238556, 0.10010039061307907, -0.060461558401584625, 0.044234078377485275, 0.1376880705356598, 0.03667823597788811, 0.06998613476753235, -0.1127663180232048, 0.009118904359638691, -0.04448438435792923, -0.008460186421871185, 0.060475096106529236, -0.018555903807282448, 0.007000035606324673, 0.010143767111003399, 0.027717305347323418, -0.04173816740512848, -0.021791499108076096, -0.0032118530943989754, -0.0021863742731511593, 0.025349372997879982, 0.010262268595397472, -0.049058761447668076, -0.03219073638319969, 0.014458073303103447, 0.038102682679891586, -0.026451366022229195, 0.08828333765268326, 0.0416976623237133, -0.06643158197402954, 0.02720731310546398, 0.006609156262129545, -0.058791156858205795, 0.027392294257879257, -6.185155507409945e-05, -0.05107209458947182, 0.013552220538258553, -0.04156479611992836, -0.0045481654815375805, -0.13388143479824066, 0.05716787278652191, -0.02347957342863083, 0.056605104357004166, -0.08564291894435883, -0.044571343809366226, -0.003691007848829031, -0.026152465492486954, 0.06659846007823944, 0.04957929626107216, 0.04537639021873474, -0.02657223306596279, -0.019696997478604317, -0.0028801150619983673, -0.019837643951177597, 0.012260081246495247, -0.07318773865699768, 0.017925547435879707, 0.008364418521523476, -0.047792017459869385, 0.006778282579034567, 0.04522914066910744, 0.022732112556695938, 0.0029924812261015177, 0.0015989370876923203, 0.05535407364368439, 0.10556980222463608, 0.043477438390254974, 0.00575208431109786, -0.03115238808095455, 0.029602326452732086, -0.0021041138097643852, -0.01062070019543171, -0.013228033669292927, -5.3683319123365436e-08, -0.016506940126419067, -0.1143915057182312, -0.024313971400260925, -0.00954434834420681, -0.024930506944656372, -0.08964210748672485, 0.017924247309565544, -0.11763439327478409, 0.02144843153655529, -0.05020240321755409, -0.06939461827278137, 0.07563375681638718, 0.022371314465999603, -0.061225272715091705, -0.00013726745964959264, 0.005912726279348135, -0.031486812978982925, -0.012135298922657967, -0.036528412252664566, 0.06191625818610191, 0.05806213244795799, -0.01938457041978836, -0.049689728766679764, -0.014371518976986408, 0.10144601762294769, -0.017377467826008797, 0.00724100461229682, 0.07622534036636353, 0.021841129288077354, -0.03008723258972168, -0.00682479701936245, -0.07731281220912933, 0.006510539446026087, 0.00466685788705945, -0.03487125784158707, 0.0020993691869080067, 0.08004778623580933, -0.04952932521700859, 0.042062487453222275, 0.045689601451158524, 0.04967587813735008, -0.06413552165031433, 0.03221188113093376, 0.09663332998752594, -0.06962645798921585, -0.05192737281322479, -0.097956083714962, -0.03702595457434654, 0.049565527588129044, 0.06032104045152664, -0.05153175815939903, -0.05062083527445793, -0.07277251780033112, 0.021698657423257828, -0.07710578292608261, -0.0016780225560069084, 0.023064227774739265, -0.003386296331882477, 0.07580045610666275, 0.05250058323144913, 0.06223801523447037, -0.022854313254356384, 0.033243659883737564, -0.0037714100908488035]}, {"id": "dyn_ui_component_DynToolbar", "text": "# Component: DynToolbar\n\n--- Types (DynToolbar.types.ts) ---\n/**\n * DynToolbar TypeScript type definitions\n * Toolbar component types for action buttons and responsive layouts\n */\n\nimport type { ReactNode } from 'react';\nimport type { DynBadgeSemanticColor as DynBadgeColor, DynBadgeVariant } from '../DynBadge/DynBadge.types';\nimport type { BaseComponentProps, AccessibilityProps } from '../../types';\n\nexport type ToolbarBadge =\n  | number\n  | string\n  | {\n    count?: number;\n    value?: number;\n    label?: ReactNode;\n    color?: DynBadgeColor;\n    variant?: DynBadgeVariant;\n    maxCount?: number;\n    showZero?: boolean;\n  };\n\nexport interface ToolbarItem {\n  id: string;\n  label?: string;\n  icon?: string | React.ReactNode;\n  type?: 'button' | 'separator' | 'dropdown' | 'search' | 'custom';\n  action?: () => void;\n  disabled?: boolean;\n  visible?: boolean;\n  items?: ToolbarItem[]; // for dropdown submenus\n  component?: React.ReactNode; // for custom components\n  tooltip?: string;\n  badge?: ToolbarBadge;\n  onChange?: (value: string) => void;\n}\n\nexport interface DynToolbarProps extends BaseComponentProps, AccessibilityProps {\n  /** Toolbar items to display */\n  items: ToolbarItem[];\n\n  /** Visual variant */\n  variant?: 'default' | 'minimal' | 'floating';\n\n  /** Size variant */\n  size?: 'sm' | 'md' | 'lg';\n\n  /** Position on screen */\n  position?: 'top' | 'bottom' | 'fixed-top' | 'fixed-bottom';\n\n  /** Enable responsive behavior */\n  responsive?: boolean;\n\n  /** Show overflow menu for hidden items */\n  overflowMenu?: boolean;\n\n  /** Number of items before overflow kicks in */\n  overflowThreshold?: number;\n\n  /** Show labels on toolbar items */\n  showLabels?: boolean;\n\n  /** Additional CSS classes */\n  className?: string;\n\n  /** CSS class for individual items */\n  itemClassName?: string;\n\n  /** Item click handler */\n  onItemClick?: (item: ToolbarItem) => void;\n\n  /** Overflow menu toggle handler */\n  onOverflowToggle?: (isOpen: boolean) => void;\n\n  /** Children elements for custom toolbar content */\n  children?: React.ReactNode;\n\n  /** Component ID */\n  id?: string;\n\n  /** ARIA label for toolbar */\n  'aria-label'?: string;\n\n  /** ARIA labelledby for toolbar */\n  'aria-labelledby'?: string;\n\n  /** Test ID */\n  'data-testid'?: string;\n}\n\nexport interface DynToolbarRef {\n  openOverflow: () => void;\n  closeOverflow: () => void;\n  toggleOverflow: () => void;\n  refreshLayout: () => void;\n}\n\n// Default configuration\nexport const TOOLBAR_DEFAULTS = {\n  variant: 'default' as const,\n  size: 'md' as const,\n  position: 'top' as const,\n  responsive: true,\n  overflowMenu: true,\n  overflowThreshold: 3,\n  showLabels: true\n};\n\n// Toolbar item types\nexport const TOOLBAR_ITEM_TYPES = {\n  BUTTON: 'button',\n  SEPARATOR: 'separator',\n  DROPDOWN: 'dropdown',\n  SEARCH: 'search',\n  CUSTOM: 'custom'\n} as const;\n\n--- Component (DynToolbar.tsx) ---\nimport React, { forwardRef, useImperativeHandle, useState, useEffect, useRef, useCallback, useMemo } from 'react';\nimport { cn } from '../../utils/classNames';\nimport { DynToolbarProps, ToolbarItem, DynToolbarRef, TOOLBAR_DEFAULTS } from './DynToolbar.types';\nimport { DynIcon } from '../DynIcon';\nimport { DynBadge } from '../DynBadge';\nimport styles from './DynToolbar.module.css';\n\n/**\n * DynToolbar - Responsive Toolbar Component\n * Standardized with Design Tokens & CSS Modules\n */\nconst DynToolbar = forwardRef<DynToolbarRef, DynToolbarProps>((\n  {\n    items = [],\n    variant = TOOLBAR_DEFAULTS.variant,\n    size = TOOLBAR_DEFAULTS.size,\n    position = TOOLBAR_DEFAULTS.position,\n    responsive = TOOLBAR_DEFAULTS.responsive,\n    overflowMenu = TOOLBAR_DEFAULTS.overflowMenu,\n    overflowThreshold = TOOLBAR_DEFAULTS.overflowThreshold,\n    showLabels = TOOLBAR_DEFAULTS.showLabels,\n    className,\n    itemClassName,\n    onItemClick,\n    onOverflowToggle\n  },\n  ref\n) => {\n  const [visibleItems, setVisibleItems] = useState<ToolbarItem[]>(items);\n  const [overflowItems, setOverflowItems] = useState<ToolbarItem[]>([]);\n  const [isOverflowOpen, setIsOverflowOpen] = useState(false);\n  const [activeDropdown, setActiveDropdown] = useState<string | null>(null);\n  const toolbarRef = useRef<HTMLDivElement>(null);\n\n  // Filter visible items\n  const filteredItems = useMemo(() => {\n    return items.filter(item => item.visible !== false);\n  }, [items]);\n\n  // Handle responsive layout\n  const updateLayout = useCallback(() => {\n    if (!responsive || !overflowMenu || !toolbarRef.current) {\n      setVisibleItems(filteredItems);\n      setOverflowItems([]);\n      return;\n    }\n\n    const toolbarWidth = toolbarRef.current.offsetWidth;\n    if (!toolbarWidth) {\n      setVisibleItems(filteredItems);\n      setOverflowItems([]);\n      return;\n    }\n\n    const itemElements = toolbarRef.current.querySelectorAll('[data-toolbar-item]');\n    let totalWidth = 0;\n    let visibleCount = 0;\n    const overflowButtonWidth = 48;\n    const padding = 32;\n\n    for (let i = 0; i < itemElements.length; i++) {\n      const itemWidth = itemElements[i].getBoundingClientRect().width;\n      if (totalWidth + itemWidth + overflowButtonWidth + padding <= toolbarWidth) {\n        totalWidth += itemWidth;\n        visibleCount++;\n      } else {\n        break;\n      }\n    }\n\n    if (filteredItems.length > overflowThreshold && visibleCount < filteredItems.length) {\n      const actualVisibleCount = Math.max(1, Math.min(visibleCount, filteredItems.length - 1));\n      setVisibleItems(filteredItems.slice(0, actualVisibleCount));\n      setOverflowItems(filteredItems.slice(actualVisibleCount));\n    } else {\n      setVisibleItems(filteredItems);\n      setOverflowItems([]);\n    }\n  }, [filteredItems, responsive, overflowMenu, overflowThreshold]);\n\n  useEffect(() => {\n    updateLayout();\n  }, [updateLayout]);\n\n  useEffect(() => {\n    if (!responsive || !toolbarRef.current) return;\n\n    let resizeObserver: ResizeObserver | null = null;\n\n    try {\n      resizeObserver = new ResizeObserver(() => {\n        updateLayout();\n      });\n      resizeObserver.observe(toolbarRef.current);\n    } catch (e) {\n      // Fallback or handle error\n      window.addEventListener('resize', updateLayout);\n    }\n\n    return () => {\n      if (resizeObserver && typeof resizeObserver.disconnect === 'function') {\n        resizeObserver.disconnect();\n      }\n      window.removeEventListener('resize', updateLayout);\n    };\n  }, [responsive, updateLayout]);\n\n  useEffect(() => {\n    onOverflowToggle?.(isOverflowOpen);\n  }, [isOverflowOpen, onOverflowToggle]);\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      const target = event.target as Node;\n      if (toolbarRef.current && !toolbarRef.current.contains(target)) {\n        setIsOverflowOpen(false);\n        setActiveDropdown(null);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  useImperativeHandle(ref, () => ({\n    openOverflow: () => setIsOverflowOpen(true),\n    closeOverflow: () => setIsOverflowOpen(false),\n    toggleOverflow: () => setIsOverflowOpen(prev => !prev),\n    refreshLayout: updateLayout\n  }));\n\n  const handleItemClick = (item: ToolbarItem, event?: React.MouseEvent) => {\n    if (item.disabled) return;\n\n    if (item.type === 'dropdown') {\n      event?.preventDefault();\n      setActiveDropdown(prev => (prev === item.id ? null : item.id));\n      return;\n    }\n\n    if (item.action) {\n      item.action();\n    }\n\n    onItemClick?.(item);\n\n    if (isOverflowOpen) {\n      setIsOverflowOpen(false);\n    }\n  };\n\n  const renderBadge = (badge: ToolbarItem['badge']) => {\n    if (!badge) return null;\n    const count = typeof badge === 'object' ? badge.count ?? badge.value : badge;\n    return (\n      <DynBadge\n        count={typeof count === 'number' ? count : undefined}\n        size=\"sm\"\n        className={styles.itemBadge}\n      >\n        {typeof count !== 'number' ? count : undefined}\n      </DynBadge>\n    );\n  };\n\n  const renderToolbarItem = (item: ToolbarItem, isInOverflow = false) => {\n    if (item.type === 'separator') {\n      return <div key={item.id} className={styles.separator} data-toolbar-item />;\n    }\n\n    if (item.type === 'search') {\n      return (\n        <div key={item.id} className={styles.search} data-toolbar-item>\n          <input\n            type=\"search\"\n            placeholder={item.label || 'Search...'}\n            className={styles.searchInput}\n            onChange={(e) => item.onChange?.(e.target.value)}\n          />\n        </div>\n      );\n    }\n\n    if (item.type === 'custom' && item.component) {\n      return <div key={item.id} className={styles.custom} data-toolbar-item>{item.component}</div>;\n    }\n\n    const itemClass = cn(\n      styles.item,\n      activeDropdown === item.id && styles.itemActive,\n      item.disabled && styles.itemDisabled,\n      itemClassName\n    );\n\n    return (\n      <div key={item.id} className={styles.itemWrapper}>\n        <button\n          type=\"button\"\n          className={itemClass}\n          onClick={(e) => handleItemClick(item, e)}\n          disabled={item.disabled}\n          title={item.tooltip || item.label}\n          data-toolbar-item\n          aria-expanded={item.type === 'dropdown' ? activeDropdown === item.id : undefined}\n          aria-haspopup={item.type === 'dropdown' ? 'menu' : undefined}\n          aria-label={item.label}\n        >\n          {item.icon && (\n            <span className={styles.itemIcon}>\n              {typeof item.icon === 'string' ? <DynIcon icon={item.icon} size=\"md\" /> : item.icon}\n            </span>\n          )}\n          {showLabels && item.label && <span className={styles.itemLabel}>{item.label}</span>}\n          {item.badge && renderBadge(item.badge)}\n          {item.type === 'dropdown' && (\n            <span className={styles.dropdownArrow}>\n              <DynIcon icon=\"chevron-down\" size=\"sm\" />\n            </span>\n          )}\n        </button>\n\n        {item.type === 'dropdown' && item.items && activeDropdown === item.id && (\n          <div className={styles.dropdownMenu} role=\"menu\">\n            {item.items.map(subItem => (\n              <button\n                key={subItem.id}\n                type=\"button\"\n                className={styles.dropdownItem}\n                onClick={() => handleSelectSubItem(subItem)}\n                disabled={subItem.disabled}\n                role=\"menuitem\"\n              >\n                {subItem.icon && (\n                  <span className={styles.itemIcon}>\n                    {typeof subItem.icon === 'string' ? <DynIcon icon={subItem.icon} size=\"sm\" /> : subItem.icon}\n                  </span>\n                )}\n                <span className={styles.itemLabel}>{subItem.label}</span>\n                {subItem.badge && renderBadge(subItem.badge)}\n              </button>\n            ))}\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  const handleSelectSubItem = (item: ToolbarItem) => {\n    item.action?.();\n    onItemClick?.(item);\n    setActiveDropdown(null);\n  };\n\n  // Explicit variant and size mapping for type safety\n  const VARIANT_MAP: Record<NonNullable<DynToolbarProps['variant']>, string | undefined> = {\n    default: undefined,\n    minimal: styles.variantLight, // CSS uses 'light' for minimal\n    floating: styles.variantFloating, // CSS uses 'floating' for floating\n  };\n\n  const SIZE_MAP: Record<NonNullable<DynToolbarProps['size']>, string | undefined> = {\n    md: undefined,\n    sm: styles['sizeSm'],\n    lg: styles['sizeLg'],\n  };\n\n  const toCamelCase = (s: string) => s.replace(/-([a-z])/g, (g) => g[1].toUpperCase());\n\n  const rootClass = cn(\n    styles.root,\n    VARIANT_MAP[variant],\n    SIZE_MAP[size],\n    position && styles[`position${position.charAt(0).toUpperCase() + toCamelCase(position).slice(1)}`],\n    className\n  );\n\n  return (\n    <div className={rootClass} ref={toolbarRef} role=\"toolbar\">\n      <div className={styles.content}>\n        <div className={styles.items}>\n          {visibleItems.map(item => renderToolbarItem(item))}\n        </div>\n\n        {overflowItems.length > 0 && (\n          <div className={styles.overflow}>\n            <button\n              type=\"button\"\n              className={cn(styles.overflowButton, isOverflowOpen && styles.active)}\n              onClick={() => setIsOverflowOpen(prev => !prev)}\n              aria-haspopup=\"menu\"\n              aria-expanded={isOverflowOpen}\n              aria-label=\"More actions\"\n            >\n              <DynIcon icon=\"more-horizontal\" size=\"md\" />\n            </button>\n\n            {isOverflowOpen && (\n              <div className={styles.overflowMenu} role=\"menu\">\n                {overflowItems.map(item => renderToolbarItem(item, true))}\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n});\n\nDynToolbar.displayName = 'DynToolbar';\n\nexport { DynToolbar };\nexport default DynToolbar;\n\n\n--- Usage Examples (DynToolbar.stories.tsx) ---\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { fn } from '@storybook/test';\nimport { useState, useRef } from 'react';\nimport { DynToolbar } from './DynToolbar';\nimport { ToolbarItem, DynToolbarRef } from './DynToolbar.types';\nimport React from 'react';\n\nconst meta: Meta<typeof DynToolbar> = {\n  title: 'Navigation/DynToolbar',\n  component: DynToolbar,\n\n  parameters: {\n    layout: 'padded',\n    docs: {\n      description: {\n        component: `\nThe DynToolbar component provides a flexible toolbar system with:\n\n- **Responsive Design** - Automatically handles overflow with mobile-friendly menu\n- **Multiple Variants** - Default, minimal, and floating styles\n- **Flexible Items** - Buttons, dropdowns, search, separators, and custom components\n- **Accessibility** - Full keyboard navigation and ARIA support\n- **Positioning** - Top, bottom, fixed positioning options\n- **Overflow Management** - Smart responsive overflow with threshold control\n- **Theming** - Complete CSS custom properties support\n\n## Usage\n\n\\`\\`\\`tsx\nimport { DynToolbar } from '@dyn-ui/react';\n\nconst toolbarItems = [\n  { id: 'new', label: 'New', icon: 'add', action: () => console.log('New') },\n  { id: 'save', label: 'Save', icon: 'save', action: () => console.log('Save') },\n  { id: 'sep1', type: 'separator' },\n  { id: 'search', type: 'search', label: 'Search...' }\n];\n\n<DynToolbar items={toolbarItems} />\n\\`\\`\\`\n        `\n      }\n    }\n  },\n  argTypes: {\n    variant: {\n      description: 'Visual style variant of the toolbar',\n      control: { type: 'select' },\n      options: ['default', 'minimal', 'floating']\n    },\n    size: {\n      description: 'Size of the toolbar and its items',\n      control: { type: 'select' },\n      options: ['sm', 'md', 'lg']\n    },\n    position: {\n      description: 'Position of the toolbar',\n      control: { type: 'select' },\n      options: ['top', 'bottom', 'fixed-top', 'fixed-bottom']\n    },\n    responsive: {\n      description: 'Enable responsive overflow behavior',\n      control: { type: 'boolean' }\n    },\n    overflowMenu: {\n      description: 'Show overflow menu for items that don\\'t fit',\n      control: { type: 'boolean' }\n    },\n    overflowThreshold: {\n      description: 'Minimum items before overflow kicks in',\n      control: { type: 'number', min: 1, max: 10 }\n    },\n    showLabels: {\n      description: 'Show text labels on toolbar items',\n      control: { type: 'boolean' }\n    },\n    onItemClick: {\n      description: 'Callback fired when toolbar item is clicked',\n    },\n    onOverflowToggle: {\n      description: 'Callback fired when overflow menu is toggled',\n    }\n  },\n  args: {\n    onItemClick: fn() as any,\n    onOverflowToggle: fn() as any,\n  }\n};\n\nexport default meta;\ntype Story = StoryObj<typeof DynToolbar>;\n\n// Sample toolbar items\nconst basicItems: ToolbarItem[] = [\n  {\n    id: 'new',\n    label: 'New',\n    icon: 'plus',\n    tooltip: 'Create new item',\n    action: fn()\n  },\n  {\n    id: 'save',\n    label: 'Save',\n    icon: 'save',\n    tooltip: 'Save current work',\n    action: fn()\n  },\n  {\n    id: 'edit',\n    label: 'Edit',\n    icon: 'edit',\n    tooltip: 'Edit selected item',\n    action: fn()\n  },\n  {\n    id: 'delete',\n    label: 'Delete',\n    icon: 'delete',\n    tooltip: 'Delete selected item',\n    disabled: true,\n    action: fn()\n  }\n];\n\nconst advancedItems: ToolbarItem[] = [\n  {\n    id: 'file',\n    label: 'File',\n    icon: 'folder', // Changed from emoji\n    type: 'dropdown',\n    items: [\n      { id: 'new-file', label: 'New File', icon: 'file', action: () => alert('New File') },\n      { id: 'open-file', label: 'Open File', icon: 'folder', action: () => alert('Open File') },\n      { id: 'save-file', label: 'Save File', icon: 'save', action: () => alert('Save File') }\n    ]\n  },\n  {\n    id: 'edit-menu',\n    label: 'Edit',\n    icon: 'edit', // Changed from emoji\n    type: 'dropdown',\n    items: [\n      { id: 'cut', label: 'Cut', icon: 'scissors', action: () => alert('Cut') }, // Note: Need to check if scissors exists, if not use edit\n      { id: 'copy', label: 'Copy', icon: 'copy', action: () => alert('Copy') },\n      { id: 'paste', label: 'Paste', icon: 'clipboard', action: () => alert('Paste') }\n    ]\n  },\n  {\n    id: 'sep1',\n    type: 'separator'\n  },\n  {\n    id: 'undo',\n    label: 'Undo',\n    icon: 'rotate-ccw', // Changed from emoji\n    action: () => console.log('Undo')\n  },\n  {\n    id: 'redo',\n    label: 'Redo',\n    icon: 'rotate-cw', // Changed from emoji\n    action: () => console.log('Redo')\n  },\n  {\n    id: 'sep2',\n    type: 'separator'\n  },\n  {\n    id: 'search',\n    type: 'search',\n    label: 'Search documents...'\n  },\n  {\n    id: 'notifications',\n    label: 'Notifications',\n    icon: 'notifications',\n    badge: { count: 3 },\n    action: fn()\n  }\n];\n\nconst manyItems: ToolbarItem[] = [\n  { id: 'item1', label: 'Dashboard', icon: 'home', action: fn() },\n  { id: 'item2', label: 'Analytics', icon: 'bar-chart', action: fn() },\n  { id: 'item3', label: 'Reports', icon: 'file', action: fn() },\n  { id: 'item4', label: 'Settings', icon: 'settings', action: fn() },\n  { id: 'item5', label: 'Users', icon: 'user', action: fn() },\n  { id: 'item6', label: 'Messages', icon: 'mail', badge: { count: 5 }, action: fn() },\n  { id: 'item7', label: 'Calendar', icon: 'calendar', action: fn() },\n  { id: 'item8', label: 'Tasks', icon: 'check-square', action: fn() },\n  { id: 'item9', label: 'Files', icon: 'folder', action: fn() },\n  { id: 'item10', label: 'Help', icon: 'help', action: fn() }\n];\n\nexport const Default: Story = {\n  args: {\n    items: basicItems,\n    variant: 'default',\n    size: 'md',\n    showLabels: true\n  }\n};\n\nexport const Minimal: Story = {\n  args: {\n    items: basicItems,\n    variant: 'minimal',\n    showLabels: true\n  }\n};\n\nexport const Floating: Story = {\n  args: {\n    items: basicItems,\n    variant: 'floating',\n    position: 'bottom',\n    showLabels: false\n  }\n};\n\nexport const Small: Story = {\n  args: {\n    items: basicItems,\n    size: 'sm',\n    showLabels: true\n  }\n};\n\nexport const Large: Story = {\n  args: {\n    items: basicItems,\n    size: 'lg',\n    showLabels: true\n  }\n};\n\nexport const IconsOnly: Story = {\n  args: {\n    items: basicItems,\n    showLabels: false\n  }\n};\n\nexport const WithDropdowns: Story = {\n  args: {\n    items: advancedItems,\n    showLabels: true\n  }\n};\n\nexport const ResponsiveOverflow: Story = {\n  args: {\n    items: manyItems,\n    responsive: true,\n    overflowMenu: true,\n    overflowThreshold: 4,\n    showLabels: true\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: 'Resize the viewport to see responsive overflow behavior. Items that don\\'t fit will move to the overflow menu.'\n      }\n    }\n  }\n};\n\nexport const FixedTop: Story = {\n  args: {\n    items: basicItems,\n    position: 'fixed-top',\n    showLabels: true\n  },\n  parameters: {\n    layout: 'fullscreen'\n  }\n};\n\nexport const FixedBottom: Story = {\n  args: {\n    items: basicItems,\n    position: 'fixed-bottom',\n    variant: 'floating',\n    showLabels: false\n  },\n  parameters: {\n    layout: 'fullscreen'\n  }\n};\n\nexport const CustomComponents: Story = {\n  args: {\n    items: [\n      { id: 'save', label: 'Save', icon: 'save', action: fn() },\n      { id: 'sep1', type: 'separator' },\n      {\n        id: 'theme-picker',\n        type: 'custom',\n        component: (\n          <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n            <label htmlFor=\"theme-select\" style={{ fontSize: '14px', color: 'var(--dyn-semantic-text-secondary)' }}>Theme:</label>\n            <select id=\"theme-select\" style={{\n              padding: '4px 8px',\n              borderRadius: '4px',\n              border: '1px solid var(--dyn-semantic-border)',\n              backgroundColor: 'var(--dyn-semantic-background)',\n              color: 'var(--dyn-semantic-text)'\n            }}>\n              <option value=\"light\">Light</option>\n              <option value=\"dark\">Dark</option>\n              <option value=\"auto\">Auto</option>\n            </select>\n          </div>\n        )\n      },\n      { id: 'sep2', type: 'separator' },\n      {\n        id: 'user-avatar',\n        type: 'custom',\n        component: (\n          <div style={{\n            display: 'flex',\n            alignItems: 'center',\n            gap: '8px',\n            padding: '4px 8px',\n            borderRadius: '20px',\n            backgroundColor: 'var(--dyn-semantic-background-subtle)',\n            border: '1px solid var(--dyn-semantic-border-subtle)'\n          }}>\n            <div style={{\n              width: '24px',\n              height: '24px',\n              borderRadius: '50%',\n              backgroundColor: 'var(--dyn-theme-primary)',\n              color: 'var(--dyn-semantic-text-inverse)',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              fontSize: '12px',\n              fontWeight: 'bold'\n            }}>JD</div>\n            <span style={{ fontSize: '14px', fontWeight: '500', color: 'var(--dyn-semantic-text)' }}>John Doe</span>\n          </div>\n        )\n      }\n    ],\n    showLabels: true\n  }\n};\n\nexport const InteractiveExample: Story = {\n  render: (args: any) => {\n    const [items, setItems] = useState<ToolbarItem[]>([\n      { id: 'counter', label: 'Count: 0', icon: 'bar-chart' },\n      { id: 'increment', label: 'Add', icon: 'plus', action: fn() },\n      { id: 'decrement', label: 'Subtract', icon: 'minus', action: fn() },\n      { id: 'reset', label: 'Reset', icon: 'rotate-cw', action: fn() }\n    ]);\n\n    const [count, setCount] = useState(0);\n\n    // Update items with current count and actions\n    const updatedItems = items.map(item => {\n      switch (item.id) {\n        case 'counter':\n          return { ...item, label: `Count: ${count}` };\n        case 'increment':\n          return { ...item, action: () => setCount(prev => prev + 1) };\n        case 'decrement':\n          return { ...item, action: () => setCount(prev => prev - 1) };\n        case 'reset':\n          return { ...item, action: () => setCount(0) };\n        default:\n          return item;\n      }\n    });\n\n    return (\n      <div>\n        <DynToolbar {...args} items={updatedItems} />\n        <div style={{ marginTop: '20px', padding: '20px', textAlign: 'center' }}>\n          <h3>Interactive Toolbar Demo</h3>\n          <p>Click the toolbar buttons to interact with the counter!</p>\n          <div style={{ fontSize: '2em', margin: '20px 0' }}>{count}</div>\n        </div>\n      </div>\n    );\n  },\n  args: {\n    showLabels: true\n  }\n};\n\nexport const ImperativeAPI: Story = {\n  render: (args: any) => {\n    const toolbarRef = useRef<DynToolbarRef>(null);\n\n    return (\n      <div>\n        <div style={{ marginBottom: '16px', display: 'flex', gap: '8px', flexWrap: 'wrap' }}>\n          <button onClick={() => toolbarRef.current?.openOverflow()}>Open Overflow</button>\n          <button onClick={() => toolbarRef.current?.closeOverflow()}>Close Overflow</button>\n          <button onClick={() => toolbarRef.current?.toggleOverflow()}>Toggle Overflow</button>\n          <button onClick={() => toolbarRef.current?.refreshLayout()}>Refresh Layout</button>\n        </div>\n        <p style={{ marginBottom: '16px', fontSize: '14px', color: '#666' }}>\n          Note: This container has limited width to force overflow behavior.\n        </p>\n        <div style={{ maxWidth: '600px', border: '1px dashed #ccc', padding: '16px' }}>\n          <DynToolbar\n            {...args}\n            ref={toolbarRef}\n            items={manyItems}\n            responsive={true}\n            overflowMenu={true}\n            overflowThreshold={3}\n          />\n        </div>\n      </div>\n    );\n  }\n};\n\nexport const VariantShowcase: Story = {\n  render: () => (\n    <div style={{ display: 'flex', flexDirection: 'column', gap: '24px' }}>\n      <div>\n        <h4 style={{ marginBottom: '8px' }}>Default Variant</h4>\n        <DynToolbar items={basicItems} variant=\"default\" showLabels={true} />\n      </div>\n      <div>\n        <h4 style={{ marginBottom: '8px' }}>Minimal Variant</h4>\n        <DynToolbar items={basicItems} variant=\"minimal\" showLabels={true} />\n      </div>\n      <div>\n        <h4 style={{ marginBottom: '8px' }}>Floating Variant</h4>\n        <DynToolbar items={basicItems} variant=\"floating\" showLabels={false} />\n      </div>\n    </div>\n  )\n};\n\nexport const SizeComparison: Story = {\n  render: () => (\n    <div style={{ display: 'flex', flexDirection: 'column', gap: '24px' }}>\n      <div>\n        <h4 style={{ marginBottom: '8px' }}>Small Size</h4>\n        <DynToolbar items={basicItems} size=\"sm\" showLabels={true} />\n      </div>\n      <div>\n        <h4 style={{ marginBottom: '8px' }}>Medium Size</h4>\n        <DynToolbar items={basicItems} size=\"md\" showLabels={true} />\n      </div>\n      <div>\n        <h4 style={{ marginBottom: '8px' }}>Large Size</h4>\n        <DynToolbar items={basicItems} size=\"lg\" showLabels={true} />\n      </div>\n    </div>\n  )\n};\n\nexport const AccessibilityDemo: Story = {\n  args: {\n    items: [\n      {\n        id: 'accessible-item',\n        label: 'Accessible Item',\n        icon: 'check',\n        tooltip: 'This item demonstrates proper accessibility features',\n        action: fn()\n      },\n      { id: 'sep1', type: 'separator' },\n      {\n        id: 'keyboard-nav',\n        label: 'Tab Navigation',\n        icon: 'settings',\n        tooltip: 'Use Tab to navigate, Enter/Space to activate',\n        action: fn()\n      },\n      {\n        id: 'screen-reader',\n        label: 'Screen Reader',\n        icon: 'notifications',\n        tooltip: 'Optimized for screen readers with proper ARIA attributes',\n        action: fn()\n      }\n    ],\n    showLabels: true\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: 'This toolbar demonstrates accessibility features including keyboard navigation, ARIA attributes, and screen reader support. Try using Tab, Enter, and Space keys to navigate.'\n      }\n    }\n  }\n};\n\n\n--- Styles (DynToolbar.module.css) ---\n/**\n * DynToolbar Component Styles\n * 100% Design Token Compliance\n * Unified Token Strategy: 3-Level Fallback Pattern\n */\n\n.root {\n  /* Component Tokens (Layer 2) */\n  --dyn-toolbar-background: var(--dyn-toolbar-color-background, var(--dyn-semantic-surface, #ffffff));\n  --dyn-toolbar-border-color: var(--dyn-toolbar-color-border, var(--dyn-semantic-border, #e2e8f0));\n  --dyn-toolbar-text-color: var(--dyn-toolbar-color-text, var(--dyn-semantic-text, #0f172a));\n  --dyn-toolbar-shadow: var(--dyn-toolbar-elevation, var(--dyn-shadow-sm, 0 1px 3px rgba(0, 0, 0, 0.12)));\n\n  --dyn-toolbar-item-bg: var(--dyn-toolbar-color-item-background, transparent);\n  --dyn-toolbar-item-bg-hover: var(--dyn-toolbar-color-item-background-hover, var(--dyn-semantic-surface-hover, #f1f5f9));\n  --dyn-toolbar-item-bg-active: var(--dyn-toolbar-color-item-background-active, var(--dyn-semantic-surface-active, #e2e8f0));\n  --dyn-toolbar-item-text: var(--dyn-toolbar-color-item-text, var(--dyn-semantic-text-secondary, #64748b));\n  --dyn-toolbar-item-text-hover: var(--dyn-toolbar-color-item-text-hover, var(--dyn-semantic-text, #0f172a));\n  --dyn-toolbar-item-text-active: var(--dyn-toolbar-color-item-text-active, var(--dyn-theme-primary, #2563eb));\n\n  --dyn-toolbar-input-bg: var(--dyn-toolbar-color-input-background, var(--dyn-semantic-input-bg, #ffffff));\n  --dyn-toolbar-input-border: var(--dyn-toolbar-color-input-border, var(--dyn-semantic-input-border, #cbd5e1));\n  --dyn-toolbar-input-text: var(--dyn-toolbar-color-input-text, var(--dyn-semantic-text, #0f172a));\n  --dyn-toolbar-input-focus: var(--dyn-toolbar-color-input-border-focus, var(--dyn-semantic-border-focus, #3b82f6));\n\n  --dyn-toolbar-menu-bg: var(--dyn-toolbar-color-menu-background, var(--dyn-semantic-surface, #ffffff));\n  --dyn-toolbar-menu-border: var(--dyn-toolbar-color-menu-border, var(--dyn-semantic-border, #e2e8f0));\n  --dyn-toolbar-menu-shadow: var(--dyn-toolbar-menu-elevation, var(--dyn-shadow-lg, 0 10px 20px rgba(0, 0, 0, 0.15)));\n\n  --dyn-toolbar-size-height: var(--dyn-toolbar-size-root-height, 3.5rem);\n  --dyn-toolbar-item-height: var(--dyn-toolbar-size-item-height, 2.25rem);\n  --dyn-toolbar-transition: var(--dyn-toolbar-animation-duration, var(--dyn-transition-fast, 0.15s)) var(--dyn-toolbar-animation-easing, ease);\n\n  /* Base Styles */\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  font-family: inherit;\n  background-color: var(--dyn-toolbar-background);\n  border-bottom: var(--dyn-border-width-sm, 1px) solid var(--dyn-toolbar-border-color);\n  box-shadow: var(--dyn-toolbar-shadow);\n  transition: all var(--dyn-toolbar-transition);\n}\n\n/* ============================================\n   CONTENT\n   ============================================ */\n\n.content {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  min-height: var(--dyn-toolbar-size-height);\n  padding: 0 var(--dyn-spacing-md, 1rem);\n  gap: var(--dyn-spacing-md, 1rem);\n}\n\n.items {\n  display: flex;\n  align-items: center;\n  gap: var(--dyn-spacing-sm, 0.5rem);\n  flex: 1;\n}\n\n/* ============================================\n   TOOLBAR ITEM\n   ============================================ */\n\n.itemWrapper {\n  position: relative;\n  display: flex;\n  align-items: center;\n}\n\n.item {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: var(--dyn-spacing-xs, 0.25rem);\n  padding: 0 var(--dyn-spacing-sm, 0.5rem);\n  height: var(--dyn-toolbar-item-height);\n  border: var(--dyn-border-width-sm, 1px) solid transparent;\n  border-radius: var(--dyn-border-radius-sm, 0.25rem);\n  background: var(--dyn-toolbar-item-bg);\n  color: var(--dyn-toolbar-item-text);\n  font-size: var(--dyn-font-size-sm, 0.875rem);\n  font-weight: var(--dyn-font-weight-medium, 500);\n  cursor: pointer;\n  transition: all var(--dyn-toolbar-transition);\n  white-space: nowrap;\n  font-family: inherit;\n  flex-shrink: 0;\n}\n\n.item:hover:not(.itemDisabled) {\n  background-color: var(--dyn-toolbar-item-bg-hover);\n  color: var(--dyn-toolbar-item-text-hover);\n}\n\n.itemActive {\n  background-color: var(--dyn-toolbar-item-bg-active);\n  color: var(--dyn-toolbar-item-text-active);\n}\n\n.itemDisabled {\n  opacity: var(--dyn-opacity-disabled, 0.5);\n  cursor: not-allowed;\n}\n\n.itemIcon {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1.25em;\n  min-width: 1.25em;\n}\n\n.itemLabel {\n  line-height: normal;\n}\n\n.itemBadge {\n  margin-left: var(--dyn-spacing-xs, 0.25rem);\n}\n\n/* ============================================\n   SPECIAL ITEMS\n   ============================================ */\n\n.separator {\n  width: var(--dyn-border-width-sm, 1px);\n  height: 1.5rem;\n  background-color: var(--dyn-toolbar-border-color);\n  margin: 0 var(--dyn-spacing-xs, 0.25rem);\n  opacity: 0.6;\n}\n\n.search {\n  display: flex;\n  align-items: center;\n  flex: 1;\n  max-width: 18.75rem;\n  position: relative;\n}\n\n.searchInput {\n  width: 100%;\n  height: var(--dyn-toolbar-item-height);\n  padding: 0 var(--dyn-spacing-sm, 0.5rem);\n  border: var(--dyn-border-width-sm, 1px) solid var(--dyn-toolbar-input-border);\n  border-radius: var(--dyn-border-radius-sm, 0.25rem);\n  font-size: var(--dyn-font-size-sm, 0.875rem);\n  outline: none;\n  background-color: var(--dyn-toolbar-input-bg);\n  color: var(--dyn-toolbar-input-text);\n  transition: all var(--dyn-toolbar-transition);\n}\n\n.searchInput:focus {\n  border-color: var(--dyn-toolbar-input-focus);\n  box-shadow: 0 0 0 var(--dyn-border-width-md, 2px) var(--dyn-action-focus, rgba(37, 99, 235, 0.2));\n}\n\n/* ============================================\n   DROPDOWN\n   ============================================ */\n\n.dropdownArrow {\n  display: inline-flex;\n  margin-left: var(--dyn-spacing-xs, 0.25rem);\n  transition: transform var(--dyn-toolbar-transition);\n}\n\n.itemActive .dropdownArrow {\n  transform: rotate(180deg);\n}\n\n.dropdownMenu {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  margin-top: var(--dyn-spacing-xs, 0.25rem);\n  min-width: 10rem;\n  background-color: var(--dyn-toolbar-menu-bg);\n  border: var(--dyn-border-width-sm, 1px) solid var(--dyn-toolbar-menu-border);\n  border-radius: var(--dyn-border-radius-md, 0.375rem);\n  box-shadow: var(--dyn-toolbar-menu-shadow);\n  padding: var(--dyn-spacing-xs, 0.25rem);\n  z-index: var(--dyn-z-index-dropdown, 1000);\n  display: flex;\n  flex-direction: column;\n}\n\n.dropdownItem {\n  display: flex;\n  align-items: center;\n  gap: var(--dyn-spacing-sm, 0.5rem);\n  padding: var(--dyn-spacing-sm, 0.5rem) var(--dyn-spacing-md, 1rem);\n  border: none;\n  background: transparent;\n  width: 100%;\n  text-align: left;\n  border-radius: var(--dyn-border-radius-sm, 0.25rem);\n  color: var(--dyn-toolbar-text-color);\n  font-size: var(--dyn-font-size-sm, 0.875rem);\n  cursor: pointer;\n  transition: background-color var(--dyn-toolbar-transition);\n}\n\n.dropdownItem:hover:not(:disabled) {\n  background-color: var(--dyn-toolbar-item-bg-hover);\n}\n\n/* ============================================\n   OVERFLOW\n   ============================================ */\n\n.overflow {\n  position: relative;\n  margin-left: auto;\n}\n\n.overflowButton {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: var(--dyn-toolbar-item-height);\n  height: var(--dyn-toolbar-item-height);\n  border: var(--dyn-border-width-sm, 1px) solid transparent;\n  border-radius: var(--dyn-border-radius-sm, 0.25rem);\n  background: transparent;\n  color: var(--dyn-toolbar-item-text);\n  cursor: pointer;\n  transition: all var(--dyn-toolbar-transition);\n}\n\n.overflowButton:hover,\n.overflowButton.active {\n  background-color: var(--dyn-toolbar-item-bg-hover);\n  color: var(--dyn-toolbar-item-text-hover);\n}\n\n.overflowMenu {\n  position: absolute;\n  top: 100%;\n  right: 0;\n  margin-top: var(--dyn-spacing-xs, 0.25rem);\n  min-width: 12.5rem;\n  background-color: var(--dyn-toolbar-menu-bg);\n  border: var(--dyn-border-width-sm, 1px) solid var(--dyn-toolbar-menu-border);\n  border-radius: var(--dyn-border-radius-md, 0.375rem);\n  box-shadow: var(--dyn-toolbar-menu-shadow);\n  padding: var(--dyn-spacing-xs, 0.25rem);\n  z-index: var(--dyn-z-index-popover, 1010);\n  display: flex;\n  flex-direction: column;\n}\n\n/* ============================================\n   VARIANTS\n   ============================================ */\n\n.variantLight {\n  background-color: transparent;\n  box-shadow: none;\n  border-bottom: var(--dyn-border-width-sm, 1px) solid transparent;\n}\n\n.variantOutline {\n  background-color: transparent;\n  border: var(--dyn-border-width-sm, 1px) solid var(--dyn-toolbar-border-color);\n  border-radius: var(--dyn-border-radius-md, 0.375rem);\n}\n\n.variantFloating {\n  background-color: var(--dyn-toolbar-background);\n  box-shadow: var(--dyn-toolbar-menu-shadow);\n  border: var(--dyn-border-width-sm, 1px) solid var(--dyn-toolbar-border-color);\n  border-radius: var(--dyn-border-radius-lg, 0.5rem);\n}\n\n.sizeSm {\n  --dyn-toolbar-size-height: 3rem;\n  --dyn-toolbar-item-height: 2rem;\n}\n\n.sizeSm .item {\n  padding: 0 var(--dyn-spacing-xs, 0.25rem);\n  font-size: var(--dyn-font-size-xs, 0.75rem);\n}\n\n.sizeLg {\n  --dyn-toolbar-size-height: 4.5rem;\n  --dyn-toolbar-item-height: 2.75rem;\n}\n\n.sizeLg .item {\n  padding: 0 var(--dyn-spacing-md, 1rem);\n  font-size: var(--dyn-font-size-md, 1rem);\n}\n\n/* ============================================\n   POSITIONS\n   ============================================ */\n\n.positionTop {\n  position: static;\n}\n\n.positionBottom {\n  margin-top: auto;\n}\n\n.positionFixedTop {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: var(--dyn-z-index-sticky, 1020);\n}\n\n.positionFixedBottom {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: var(--dyn-z-index-sticky, 1020);\n}\n\n/* DARK MODE - Handled automatically via semantic tokens! */\n", "metadata": {"type": "ui_component", "name": "DynToolbar", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynToolbar"}, "embedding": [-0.06457118690013885, -0.008584583178162575, 0.00800318457186222, 0.04188888147473335, -0.055048540234565735, 0.08746092021465302, 0.04728033021092415, 0.07690417021512985, -0.02964375913143158, -0.00992934312671423, -0.09392508119344711, -0.014953496865928173, -0.014671540819108486, 0.017494337633252144, 0.06482961028814316, 0.029190486297011375, -0.04458853602409363, -0.1102813333272934, -0.018530048429965973, 0.002864626469090581, 0.05990554392337799, -0.03328481689095497, 0.016435373574495316, -0.07755991816520691, -0.05410434678196907, -0.006511351093649864, 0.023383058607578278, -0.060172226279973984, 0.0045174709521234035, -0.02717754803597927, 0.04090798646211624, 0.06491441279649734, -0.0015563787892460823, -0.017998559400439262, -0.03305097296833992, 0.03857091814279556, -0.03035939857363701, 0.03240547701716423, 0.028067979961633682, 0.003127251984551549, 0.007677567657083273, 0.10517095029354095, 0.011055963113904, -0.06303305923938751, 0.038995567709207535, -0.012102768756449223, -0.05703993886709213, -0.0027349137235432863, -0.09291121363639832, -0.01663476973772049, 0.06937433034181595, 0.006617224309593439, 0.03894907981157303, -0.012638255953788757, 0.05102437734603882, -0.022584421560168266, 0.017937446013092995, 0.017671523615717888, 0.08062382787466049, 0.05849861726164818, 0.05749122425913811, -0.00476135453209281, 0.010247607715427876, -0.10522254556417465, 0.025956887751817703, 0.10621103644371033, 0.0415387786924839, 0.0024442460853606462, 0.05689558386802673, -0.05673133581876755, -0.030192898586392403, -0.044205859303474426, 0.0941389724612236, 0.03193134069442749, 0.0587734691798687, -0.19931964576244354, 0.006345257628709078, 0.03172607719898224, 0.04528176411986351, -0.03374414145946503, -0.02042338065803051, -0.004239022731781006, -0.023962734267115593, 0.08992242068052292, 0.06678028404712677, 0.10499682277441025, -0.04614128917455673, -0.013926789164543152, 0.0020569930784404278, -0.00037568778498098254, -0.019701924175024033, -0.08670055121183395, -0.03904646262526512, 0.06878616660833359, 0.06062079221010208, 0.0027033390942960978, -0.07085228711366653, 0.04239712655544281, -0.06541910022497177, 0.016763057559728622, 0.0449032224714756, -0.034148573875427246, -0.007649094797670841, 0.008738688193261623, -0.024077249690890312, 0.002983016660436988, 0.00652329484000802, -0.07988567650318146, -0.06394267827272415, 0.042744822800159454, 0.0013615414500236511, 0.012405198067426682, -0.04124479368329048, 0.009362945333123207, -0.049943141639232635, -0.09519016742706299, 0.020364129915833473, -0.03514581173658371, 0.07536444813013077, -0.06301159411668777, 0.09540694952011108, 0.02295309491455555, 0.025124305859208107, 0.0028518412727862597, 0.027352703735232353, 0.06428178399801254, 0.05510639399290085, 6.987976695696607e-33, -0.018539803102612495, -0.06973841786384583, -0.06139485910534859, 0.062015123665332794, 0.01621306501328945, -0.025961702689528465, 0.011508030816912651, -0.0068470798432827, -0.021990254521369934, 0.009615698829293251, 0.0033535209950059652, 0.018007922917604446, -0.128632053732872, 0.03130095824599266, -0.03858790546655655, -0.029185902327299118, 0.05617433413863182, -0.032235436141490936, -0.04867083206772804, -0.05177486315369606, -0.012999393045902252, 0.0696282908320427, -0.08143757283687592, 0.05642853304743767, 0.06727565824985504, 0.035827480256557465, 0.03284095600247383, 0.09594244509935379, -0.04453926533460617, -0.062218550592660904, 0.008767934516072273, -0.07180605828762054, 0.0682399570941925, 0.11657486855983734, -0.03042852133512497, -0.022792261093854904, -0.08997520059347153, 0.010112873278558254, -0.04454807564616203, -0.015050840564072132, -0.04108778387308121, 0.0317353792488575, -0.05995113402605057, 0.027505161240696907, -0.01718239113688469, 0.07261259853839874, 0.08903283625841141, -0.008805614896118641, 0.008053959347307682, -0.032865457236766815, -0.07075818628072739, 0.077143594622612, 0.05062153935432434, -0.06443046033382416, 0.03495447710156441, -0.01499256957322359, -0.0008679624879732728, 0.1286771446466446, 0.11166879534721375, -0.0029634605161845684, -0.029365481808781624, -0.01603606902062893, 0.10017082095146179, -0.010224533267319202, 0.03260032460093498, 0.0682603120803833, -0.01636923849582672, 0.01067251805216074, 0.03397633880376816, -0.07390391826629639, 0.041955992579460144, -0.009908350184559822, 0.012386209331452847, 0.018772894516587257, 0.0955861359834671, -0.009261609986424446, 0.01768248900771141, -0.00853312760591507, 0.0004518380155786872, -0.023617008700966835, -0.034591563045978546, -0.07331572473049164, 0.006256638560444117, 0.08743539452552795, 0.05607287585735321, -0.022542985156178474, 0.010460322722792625, -0.08104326575994492, 0.04221552610397339, -0.012181810103356838, -0.08991365134716034, -0.1174032911658287, -0.06053585559129715, -0.033354781568050385, 0.019846856594085693, -9.44665463887192e-33, 0.007968484424054623, 0.03539697825908661, -0.04315207898616791, -0.028711028397083282, -0.053258396685123444, -0.029231783002614975, -0.059821609407663345, 0.033176496624946594, 0.012412949465215206, 0.04669496789574623, 0.03213175758719444, 0.05297497659921646, 0.006569042336195707, -0.04898346960544586, -0.05577905476093292, 0.14779114723205566, -0.07109459489583969, 0.038267724215984344, -0.00962152611464262, -0.05443960800766945, -0.015221168287098408, 0.027255963534116745, -0.036311909556388855, 0.07412891834974289, -0.07521965354681015, 0.05116228759288788, 0.0946006178855896, 0.00817272998392582, 0.0562991201877594, -0.048491641879081726, 0.04057767614722252, -0.020140768960118294, 0.03570099547505379, 0.07262039929628372, -0.05471196398139, -0.05763283744454384, 0.01532316766679287, -0.0014716451987624168, -0.09816306829452515, 0.00500179547816515, -0.02791590988636017, -0.02248634770512581, 0.00700822938233614, -0.03525540977716446, -0.05124234780669212, -0.015724463388323784, 0.013797573745250702, -0.018907781690359116, -0.016082309186458588, -0.011499902233481407, 0.0978117361664772, -0.012983747757971287, -0.06684055924415588, -0.05061296001076698, -0.016851825639605522, -0.031935252249240875, 0.026853526011109352, -0.0013930975692346692, -0.023820368573069572, 0.02345183864235878, 0.009535133838653564, -0.11092809587717056, -0.058176614344120026, 0.025340110063552856, 0.013870717957615852, -0.0476519800722599, -0.09251556545495987, -0.01830155774950981, -0.02917487919330597, 0.06879489123821259, 0.04707013815641403, 0.039067164063453674, 0.04981255903840065, -0.0664629116654396, 0.023936092853546143, -0.08100487291812897, 0.042220283299684525, 0.019033221527934074, 0.06945323199033737, 0.033100519329309464, -0.001700874767266214, -0.011466212570667267, 0.11119845509529114, 0.031773604452610016, -0.08018701523542404, -0.02046002261340618, -0.031978171318769455, 0.10014312714338303, 0.03636534512042999, 0.03504496067762375, -0.000729178253095597, -0.02347259409725666, -0.03444389998912811, 0.017093872651457787, -0.03108089044690132, -5.891700638471775e-08, 0.033922046422958374, -0.004214076325297356, -0.07345408201217651, -0.07100130617618561, -0.0394207239151001, -0.058775871992111206, -0.09043771773576736, -0.015812378376722336, -0.03005165420472622, 0.025114476680755615, -0.00040815622196532786, 0.06299354881048203, -0.07018457353115082, 0.0195919219404459, 0.02268618531525135, -0.047248028218746185, -0.04087868705391884, 0.03185500577092171, -0.0428737998008728, 0.01706322282552719, -0.0360146164894104, -0.03338159993290901, -0.01681727170944214, -0.001442997483536601, 0.05261171609163284, -0.042652957141399384, -0.0423586405813694, 0.044428396970033646, 0.07756906747817993, 0.05389595776796341, -0.03350747376680374, 0.027586912736296654, -0.037673044949769974, -0.08316472917795181, -0.030858663842082024, -0.013065235689282417, -0.0004761722811963409, -0.06363605707883835, 0.05976439267396927, 0.04241836816072464, -0.06447318196296692, -0.08571214228868484, -0.024924002587795258, 0.08803083002567291, -0.04374263808131218, -0.01976468600332737, -0.08317972719669342, 0.0337986946105957, 0.003935457672923803, 0.033555224537849426, -0.02262016013264656, -0.008251091465353966, -0.05214317515492439, 0.01467852108180523, -0.07504153251647949, 0.029834019020199776, -0.08771876990795135, 0.03740755096077919, 0.05470680817961693, -0.01816161908209324, -0.027435285970568657, -0.06164480745792389, 0.002316276077181101, -0.05608998239040375]}, {"id": "dyn_ui_component_DynTooltip", "text": "# Component: DynTooltip\n\n--- Types (DynTooltip.types.ts) ---\nimport type { ReactNode, ReactElement } from 'react';\nimport type { BaseComponentProps } from '../../types';\n\nexport type TooltipPosition = 'top' | 'bottom' | 'left' | 'right';\nexport type TooltipTrigger = 'hover' | 'click' | 'focus' | 'manual';\n\nexport interface DynTooltipProps extends BaseComponentProps {\n    /**\n     * The content to display inside the tooltip\n     */\n    content: string | ReactNode;\n\n    /**\n     * Preferred position of the tooltip\n     * @default 'top'\n     */\n    position?: TooltipPosition;\n\n    /**\n     * Tooltip trigger mode\n     * @default 'hover'\n     */\n    trigger?: TooltipTrigger;\n\n    /**\n     * Delay in milliseconds before showing the tooltip\n     * @default 200\n     */\n    delay?: number;\n\n    /**\n     * Whether the tooltip is disabled\n     */\n    disabled?: boolean;\n\n    /**\n     * Whether the tooltip content is interactive (allows pointer events)\n     */\n    interactive?: boolean;\n\n    /**\n     * Controlled visibility state (used with trigger='manual')\n     */\n    visible?: boolean;\n\n    /**\n     * Default visibility for uncontrolled state\n     */\n    defaultVisible?: boolean;\n\n    /**\n     * Callback when visibility changes\n     */\n    onOpenChange?: (open: boolean) => void;\n\n    /**\n     * The element that triggers the tooltip\n     */\n    children: ReactElement;\n\n    /**\n     * Optional class name for the tooltip container\n     */\n    className?: string;\n}\n\n\n--- Component (DynTooltip.tsx) ---\nimport React, { useState, useRef, useEffect, useCallback } from 'react';\nimport { createPortal } from 'react-dom';\nimport { cn } from '../../utils/classNames';\nimport { DynTooltipProps } from './DynTooltip.types';\nimport styles from './DynTooltip.module.css';\n\n/**\n * DynTooltip Component\n * Optimized with Design Tokens & CSS Modules\n */\nexport const DynTooltip: React.FC<DynTooltipProps> = ({\n    content,\n    position = 'top',\n    trigger = 'hover',\n    delay = 200,\n    disabled = false,\n    interactive = false,\n    visible: controlledVisible,\n    defaultVisible = false,\n    onOpenChange,\n    children,\n    className,\n}) => {\n    const [uncontrolledVisible, setUncontrolledVisible] = useState(defaultVisible);\n    const isControlled = controlledVisible !== undefined;\n    const isVisible = (isControlled ? controlledVisible : uncontrolledVisible) && !disabled;\n\n    const [coords, setCoords] = useState({ top: 0, left: 0 });\n\n    const timeoutRef = useRef<NodeJS.Timeout | undefined>(undefined);\n    const triggerRef = useRef<HTMLDivElement>(null);\n    const tooltipRef = useRef<HTMLDivElement>(null);\n\n    const setVisible = useCallback(\n        (value: boolean) => {\n            if (!isControlled) {\n                setUncontrolledVisible(value);\n            }\n            onOpenChange?.(value);\n        },\n        [isControlled, onOpenChange]\n    );\n\n    const updatePosition = useCallback(() => {\n        if (!triggerRef.current || !tooltipRef.current) return;\n\n        const triggerRect = triggerRef.current.getBoundingClientRect();\n        const tooltipRect = tooltipRef.current.getBoundingClientRect();\n\n        let top = 0;\n        let left = 0;\n        const gap = 8; // distance from trigger\n\n        switch (position) {\n            case 'top':\n                top = triggerRect.top - tooltipRect.height - gap;\n                left = triggerRect.left + (triggerRect.width - tooltipRect.width) / 2;\n                break;\n            case 'bottom':\n                top = triggerRect.bottom + gap;\n                left = triggerRect.left + (triggerRect.width - tooltipRect.width) / 2;\n                break;\n            case 'left':\n                top = triggerRect.top + (triggerRect.height - tooltipRect.height) / 2;\n                left = triggerRect.left - tooltipRect.width - gap;\n                break;\n            case 'right':\n                top = triggerRect.top + (triggerRect.height - tooltipRect.height) / 2;\n                left = triggerRect.right + gap;\n                break;\n        }\n\n        setCoords({ top, left });\n    }, [position]);\n\n    const handleOpen = () => {\n        if (disabled) return;\n        if (timeoutRef.current) clearTimeout(timeoutRef.current);\n\n        timeoutRef.current = setTimeout(() => {\n            setVisible(true);\n            requestAnimationFrame(updatePosition);\n        }, delay);\n    };\n\n    const handleClose = () => {\n        if (timeoutRef.current) clearTimeout(timeoutRef.current);\n\n        if (interactive) {\n            timeoutRef.current = setTimeout(() => {\n                setVisible(false);\n            }, 200); // Small grace period to move mouse to tooltip\n        } else {\n            setVisible(false);\n        }\n    };\n\n    const toggleOpen = () => {\n        if (isVisible) handleClose();\n        else handleOpen();\n    };\n\n    // Event handlers based on trigger type\n    const handlers: Record<string, any> = {};\n\n    if (trigger === 'hover') {\n        handlers.onMouseEnter = handleOpen;\n        handlers.onMouseLeave = handleClose;\n        handlers.onFocus = handleOpen;\n        handlers.onBlur = handleClose;\n    } else if (trigger === 'click') {\n        handlers.onClick = toggleOpen;\n    } else if (trigger === 'focus') {\n        handlers.onFocus = handleOpen;\n        handlers.onBlur = handleClose;\n    }\n\n    // Recalculate position on scroll or resize when visible\n    useEffect(() => {\n        if (isVisible) {\n            window.addEventListener('scroll', updatePosition, true);\n            window.addEventListener('resize', updatePosition);\n            // Initial positioning\n            requestAnimationFrame(updatePosition);\n        }\n\n        return () => {\n            window.removeEventListener('scroll', updatePosition, true);\n            window.removeEventListener('resize', updatePosition);\n        };\n    }, [isVisible, updatePosition]);\n\n    // Handle interactive tooltip (hovering the tooltip itself keeps it open)\n    const tooltipHandlers =\n        interactive && trigger === 'hover'\n            ? {\n                onMouseEnter: () => {\n                    if (timeoutRef.current) clearTimeout(timeoutRef.current);\n                },\n                onMouseLeave: handleClose,\n            }\n            : {};\n\n    return (\n        <>\n            <div ref={triggerRef} className={styles.tooltipContainer} {...handlers}>\n                {children}\n            </div>\n\n            {isVisible &&\n                createPortal(\n                    <div\n                        ref={tooltipRef}\n                        className={cn(\n                            styles.tooltip,\n                            styles.tooltipVisible,\n                            interactive && styles.interactive,\n                            className\n                        )}\n                        style={{\n                            top: coords.top,\n                            left: coords.left,\n                        }}\n                        role=\"tooltip\"\n                        {...tooltipHandlers}\n                    >\n                        {content}\n                    </div>,\n                    document.body\n                )}\n        </>\n    );\n};\n\nDynTooltip.displayName = 'DynTooltip';\n\n\n--- Usage Examples (DynTooltip.stories.tsx) ---\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { DynTooltip } from './DynTooltip';\nimport { DynButton } from '../DynButton';\nimport { DynStack } from '../DynStack';\n\nconst meta: Meta<typeof DynTooltip> = {\n    title: 'Components/DynTooltip',\n    component: DynTooltip,\n    parameters: {\n        layout: 'centered',\n    },\n    tags: ['autodocs'],\n    argTypes: {\n        position: {\n            control: 'select',\n            options: ['top', 'bottom', 'left', 'right'],\n        },\n        delay: { control: 'number' },\n    },\n    decorators: [\n        (Story) => (\n            <div style={{ padding: '80px', display: 'flex', justifyContent: 'center' }}>\n                <Story />\n            </div>\n        ),\n    ],\n};\n\nexport default meta;\ntype Story = StoryObj<typeof DynTooltip>;\n\nexport const Default: Story = {\n    args: {\n        content: 'This is a tooltip',\n        children: <DynButton>Hover Me</DynButton>,\n    },\n};\n\nexport const Positions: Story = {\n    render: () => (\n        <div style={{\n            display: 'grid',\n            gap: '120px',\n            gridTemplateColumns: 'repeat(2, 200px)',\n            justifyContent: 'center',\n            alignItems: 'center',\n            padding: '40px'\n        }}>\n            <div style={{ display: 'flex', justifyContent: 'center' }}>\n                <DynTooltip content=\"Top Tooltip\" position=\"top\">\n                    <DynButton style={{ width: '100px' }}>Top</DynButton>\n                </DynTooltip>\n            </div>\n            <div style={{ display: 'flex', justifyContent: 'center' }}>\n                <DynTooltip content=\"Right Tooltip\" position=\"right\">\n                    <DynButton style={{ width: '100px' }}>Right</DynButton>\n                </DynTooltip>\n            </div>\n            <div style={{ display: 'flex', justifyContent: 'center' }}>\n                <DynTooltip content=\"Bottom Tooltip\" position=\"bottom\">\n                    <DynButton style={{ width: '100px' }}>Bottom</DynButton>\n                </DynTooltip>\n            </div>\n            <div style={{ display: 'flex', justifyContent: 'center' }}>\n                <DynTooltip content=\"Left Tooltip\" position=\"left\">\n                    <DynButton style={{ width: '100px' }}>Left</DynButton>\n                </DynTooltip>\n            </div>\n        </div>\n    ),\n};\n\nexport const WithDelay: Story = {\n    args: {\n        content: 'Delayed Tooltip (500ms)',\n        delay: 500,\n        children: <DynButton>Hover to Wait</DynButton>,\n    },\n};\n\nexport const LongContent: Story = {\n    args: {\n        content: 'This is a much longer tooltip content that should wrap nicely within the max-width constraints.',\n        position: 'bottom',\n        children: <DynButton>Long Content</DynButton>,\n    },\n};\n\nexport const Disabled: Story = {\n    args: {\n        content: 'This tooltip is disabled',\n        disabled: true,\n        children: <DynButton kind=\"secondary\">Hover me (No Tooltip)</DynButton>,\n    },\n};\n\nexport const ClickTrigger: Story = {\n    args: {\n        content: 'I appeared on click!',\n        trigger: 'click',\n        children: <DynButton kind=\"primary\">Click me</DynButton>,\n    },\n};\n\nexport const Interactive: Story = {\n    args: {\n        content: (\n            <DynStack gap=\"xs\">\n                <p style={{ margin: 0 }}>I am interactive!</p>\n                <DynButton size=\"sm\" onClick={() => alert('Clicked!')}>\n                    Click inside tooltip\n                </DynButton>\n            </DynStack>\n        ),\n        interactive: true,\n        children: <DynButton kind=\"outline\">Hover then interact</DynButton>,\n    },\n};\n\n\n--- Styles (DynTooltip.module.css) ---\n/**\n * DynTooltip Component Styles\n * 100% Design Token Compliance\n * Unified Token Strategy: 3-Level Fallback Pattern\n */\n\n.tooltipContainer {\n  position: relative;\n  display: inline-flex;\n}\n\n.tooltip {\n  /* Component Tokens (Layer 2) */\n  --dyn-tooltip-background: var(--dyn-tooltip-color-background, var(--dyn-semantic-surface-inverse, #1f2937));\n  --dyn-tooltip-text: var(--dyn-tooltip-color-text, var(--dyn-semantic-text-inverse, #ffffff));\n  --dyn-tooltip-border: var(--dyn-tooltip-color-border, var(--dyn-semantic-border-inverse, rgba(255, 255, 255, 0.1)));\n  --dyn-tooltip-shadow: var(--dyn-tooltip-elevation, var(--dyn-shadow-lg, 0 10px 15px -3px rgba(0, 0, 0, 0.2)));\n  --dyn-tooltip-radius: var(--dyn-tooltip-size-radius, var(--dyn-border-radius-md, 0.375rem));\n  --dyn-tooltip-z-index: var(--dyn-tooltip-size-zindex, var(--dyn-z-index-tooltip, 1500));\n  --dyn-tooltip-transition: var(--dyn-tooltip-animation-duration, 0.2s) var(--dyn-tooltip-animation-easing, ease-out);\n\n  position: fixed;\n  background-color: var(--dyn-tooltip-background);\n  color: var(--dyn-tooltip-text);\n  padding: var(--dyn-spacing-xs, 0.5rem) var(--dyn-spacing-sm, 0.75rem);\n  border-radius: var(--dyn-tooltip-radius);\n  font-size: var(--dyn-font-size-sm, 0.875rem);\n  font-weight: var(--dyn-font-weight-medium, 500);\n  line-height: var(--dyn-line-height-normal, 1.4);\n  z-index: var(--dyn-tooltip-z-index);\n  pointer-events: none;\n  white-space: normal;\n  text-align: center;\n  box-shadow: var(--dyn-tooltip-shadow);\n  border: 1px solid var(--dyn-tooltip-border);\n  opacity: 0;\n  transform: scale(0.95);\n  transition: opacity var(--dyn-tooltip-transition), transform var(--dyn-tooltip-transition);\n  max-width: var(--dyn-tooltip-size-maxWidth, 250px);\n  backdrop-filter: blur(4px);\n}\n\n.interactive {\n  pointer-events: auto;\n}\n\n.tooltipVisible {\n  opacity: 1;\n  transform: scale(1);\n}\n\n/* Specific positioning adjustments will be handled via JS mostly for portals, \nbut we can define arrow styles here if needed */\n\n.arrow {\n  position: absolute;\n  width: 8px;\n  height: 8px;\n  background-color: var(--dyn-tooltip-background);\n  transform: rotate(45deg);\n}\n\n/* DARK MODE - Optimized via semantic tokens (inverse tokens used for tooltip) */", "metadata": {"type": "ui_component", "name": "DynTooltip", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynTooltip"}, "embedding": [-0.06650897860527039, -0.04804181680083275, 0.04421604797244072, 0.053674422204494476, 0.025068938732147217, 0.037325669080019, 0.06541173160076141, 0.08032557368278503, 0.009906366467475891, -0.013092710636556149, -0.04340393468737602, 0.014480974525213242, -0.09537138044834137, 0.029178190976381302, 0.00820886716246605, 0.032390862703323364, 0.01860944926738739, -0.0977759063243866, 0.05006515607237816, 0.023470910266041756, 0.08325740694999695, -0.14518249034881592, 0.05282938480377197, -0.0015286790439859033, 0.031588468700647354, 0.05124654620885849, 0.014920859597623348, 0.03639741241931915, -0.006301983259618282, 0.013279101811349392, -0.07721924036741257, 0.028225816786289215, -0.03449472039937973, -0.0360611155629158, -0.04195799306035042, 0.0065172710455954075, -0.02280503697693348, 0.04479755833745003, 0.025881871581077576, -0.014454414136707783, 0.05783091485500336, 0.03290452063083649, 0.013468797318637371, -0.11398527771234512, 0.06537298113107681, -0.051337942481040955, 0.009662235155701637, -0.027043798938393593, -0.034499045461416245, 0.10438533872365952, 0.03796473145484924, -0.009769972413778305, 0.10593615472316742, -0.0094208475202322, 0.11022871732711792, 0.06473825126886368, 0.12885795533657074, -0.013002072460949421, 0.006891534198075533, -0.005392085295170546, 0.024234311655163765, 0.00664947833865881, 0.015285189263522625, -0.07839759439229965, 0.05908312648534775, 0.0632006973028183, 0.021798057481646538, -0.03873804956674576, 0.0068304697051644325, -0.06223652884364128, -0.03854743763804436, -0.04721017926931381, 0.051039937883615494, 0.01563977636396885, 0.01795639656484127, -0.08661903440952301, 0.002490217797458172, 0.04642922803759575, 0.053255680948495865, -0.04486905038356781, 0.08736363798379898, 0.02926339954137802, 0.016827860847115517, 0.06695903092622757, -0.05299069359898567, 0.05341015383601189, 0.05387739837169647, 0.02079007402062416, -0.0351063571870327, -0.033980704843997955, -0.0436319075524807, -0.07902589440345764, -0.036135703325271606, 0.040267013013362885, 0.015062173828482628, 0.021877674385905266, -0.08487105369567871, 0.030603306367993355, -0.1157454252243042, -0.0482281930744648, 0.08154357969760895, -0.06711457669734955, -0.045389845967292786, -0.05373653396964073, -0.059308260679244995, 0.01979999616742134, -0.024026159197092056, -0.10963007062673569, -0.12916773557662964, 0.015808362513780594, -0.00540689192712307, 0.03283759206533432, -0.03296943008899689, 0.06524103879928589, -0.04011625796556473, -0.06213592737913132, 0.010425258427858353, -0.05152907967567444, 0.10293101519346237, -0.0961470752954483, 0.0835523009300232, 0.03020366095006466, 0.049334730952978134, -0.010869726538658142, 0.08759094774723053, 0.10695354640483856, 0.07279466092586517, 2.791496393407596e-33, 0.04181726276874542, -0.02964489534497261, -0.05984443053603172, 0.010876479558646679, -0.03916069120168686, -0.03268413618206978, 0.043452344834804535, -0.0424225740134716, -0.06724727153778076, -0.016143690794706345, 0.04767592251300812, -0.028806978836655617, -0.022366154938936234, -0.03944547474384308, -0.016637928783893585, -0.03676919639110565, 0.11735635995864868, -0.007197092287242413, 0.00496897054836154, -0.021798569709062576, 0.0033916234970092773, 0.0029937622603029013, -0.10739931464195251, -0.010476633906364441, 0.10186204314231873, 0.005480705760419369, -0.11011764407157898, 0.024981152266263962, -0.046206701546907425, -0.0032672772649675608, -0.019326914101839066, 0.008014146238565445, 0.055953316390514374, -0.0071568964049220085, -0.036799635738134384, -0.024210499599575996, -0.08228222280740738, -0.050440866500139236, 0.019573379307985306, -0.0014101950218901038, 0.001784879481419921, 0.0009631123975850642, 0.0027289746794849634, 0.024711918085813522, -0.03238440677523613, 0.09035901725292206, -0.016489556059241295, 0.023922501131892204, 0.031152548268437386, -0.027212215587496758, -0.03860010206699371, 0.025814590975642204, 0.0761948898434639, -0.12902483344078064, 0.0801500454545021, 0.04154754802584648, -0.011867386288940907, -0.0152374766767025, 0.09647388011217117, 0.04293602332472801, -0.031343404203653336, 0.035577498376369476, -0.03229673206806183, -0.11259681731462479, 0.028269397094845772, 0.09353039413690567, -0.01712183468043804, -0.007998710498213768, 0.02000456489622593, -0.04391612485051155, -0.00012892855738755316, -0.027678390964865685, 0.012583368457853794, 0.06513017416000366, 0.052777908742427826, -0.005322102457284927, 0.00033366764546371996, -0.0485958531498909, 0.100528284907341, -0.05270523205399513, 0.0019224245334044099, -0.05225975811481476, 0.0650997906923294, -0.002740489784628153, 0.050001222640275955, -0.07740187644958496, -0.034521132707595825, -0.030942905694246292, -0.013707146979868412, 0.03358430042862892, -0.013342496007680893, -0.04677220806479454, -0.05244557932019234, -0.005110541824251413, -0.09215479344129562, -3.226309182382868e-33, 0.03482888266444206, 0.008998214267194271, -0.08372409641742706, 0.03710898756980896, -0.05499609559774399, 0.046288032084703445, -0.05174662172794342, -0.04084325209259987, 0.005093647167086601, 0.012906073592603207, 0.012002263218164444, -9.737064101500437e-05, 0.012076304294168949, -0.011395737528800964, -0.0319698192179203, 0.09599139541387558, -0.09923478960990906, 0.07282104343175888, 0.07952756434679031, -0.06343691796064377, 0.08950828015804291, -0.06508459895849228, 0.02305162139236927, 0.11034572124481201, -0.06156446039676666, -0.009830544702708721, 0.06964363902807236, 0.02320900559425354, 0.019067276269197464, -0.07043345272541046, 0.005270366556942463, 0.022475069388747215, 0.03387265279889107, -0.03939090296626091, -0.03200805187225342, -0.02023804746568203, -0.009566623717546463, -0.030860455706715584, 0.014212101697921753, 0.06823240220546722, -0.009838143363595009, -0.03575301542878151, 0.00086987140821293, -0.06845763325691223, -0.04662516340613365, -0.02941812202334404, -0.06270159780979156, 0.022995758801698685, 0.01901574619114399, 0.05911814793944359, 0.011406880803406239, -0.06350686401128769, 0.04011058062314987, -0.03497195616364479, -0.019010931253433228, -0.04455909878015518, 0.017247159034013748, -0.051556263118982315, 0.03049110807478428, 0.027212925255298615, 0.023711036890745163, -0.10276059806346893, -0.019967729225754738, 0.09543775022029877, 0.0394967645406723, -0.0023530693724751472, -0.07754306495189667, 0.03928450867533684, -0.014749578200280666, 0.023755431175231934, 0.06287921220064163, 0.05908118560910225, 0.09873898327350616, -0.08674085885286331, 0.06174493953585625, 0.035965949296951294, 0.06474382430315018, 0.031111402437090874, 0.11271755397319794, -0.08684958517551422, 0.025114109739661217, 0.02764076180756092, 0.03775762394070625, -0.017665037885308266, -0.05564628541469574, 0.09090174734592438, -0.053230468183755875, 0.06429523229598999, 0.04053574427962303, -0.013104744255542755, -0.061177317053079605, -0.036690499633550644, -0.05867930129170418, 0.0011911416659131646, 0.03080146014690399, -5.673342684531235e-08, 0.022032136097550392, 0.02342955954372883, 0.00206420267932117, -0.0497153103351593, -0.008930763229727745, 0.041348766535520554, 0.017656028270721436, -0.06488239765167236, 0.019953245297074318, -0.006344648543745279, -0.059654589742422104, 0.09359429031610489, -0.01194775477051735, -0.03390072286128998, 0.061711590737104416, 0.06677863001823425, -0.04895451292395592, 0.004873237572610378, -0.04903321713209152, 0.04131362959742546, 0.04066475108265877, 0.004509680904448032, -0.04647340998053551, 0.029695430770516396, 0.026800818741321564, -0.03391551226377487, 0.01190540473908186, 0.03643802925944328, 0.07507725059986115, 0.04986374452710152, -0.05462143197655678, -0.022431252524256706, -0.07226338982582092, -0.07170794904232025, -0.022960728034377098, 0.013635635375976562, 0.0013553703902289271, -0.047626085579395294, 0.04999814182519913, 0.05482887104153633, -0.03906827047467232, -0.03508836776018143, -0.0666247233748436, -0.023413406684994698, -0.019222203642129898, -0.018458133563399315, -0.042909763753414154, 0.011252868920564651, -0.0468989759683609, -0.009912162087857723, -0.03735199198126793, -0.010322111658751965, -0.06923987716436386, 0.04905061796307564, -0.015633560717105865, 0.004755449015647173, -0.028000103309750557, 0.05796409398317337, 0.025513863191008568, 0.011256726458668709, 0.0028684765566140413, -0.0353187657892704, 0.031025653705000877, 0.034419771283864975]}, {"id": "dyn_ui_component_DynTreeView", "text": "# Component: DynTreeView\n\n--- Types (DynTreeView.types.ts) ---\nimport { BaseComponentProps } from '../../types';\n\nexport interface TreeNode {\n  key: string;\n  title: string;\n  icon?: string;\n  disabled?: boolean;\n  children?: TreeNode[];\n  [key: string]: any; // Allow additional properties\n}\n\nexport interface TreeViewActions {\n  expand: (keys: string[]) => void;\n  collapse: (keys: string[]) => void;\n  select: (keys: string[]) => void;\n  check: (keys: string[]) => void;\n}\n\nexport interface TreeSelectInfo {\n  selected: boolean;\n  node: TreeNode;\n}\n\nexport interface TreeCheckInfo {\n  checked: boolean;\n  node: TreeNode;\n}\n\nexport interface DynTreeViewProps extends BaseComponentProps {\n  /** Tree data */\n  treeData: TreeNode[];\n\n  /** Show checkboxes for selection */\n  checkable?: boolean;\n\n  /** Allow node selection */\n  selectable?: boolean;\n\n  /** Allow multiple selection */\n  multiple?: boolean;\n\n  /** Expanded node keys */\n  expandedKeys?: string[];\n\n  /** Checked node keys */\n  checkedKeys?: string[];\n\n  /** Selected node keys */\n  selectedKeys?: string[];\n\n  /** Expand all nodes by default */\n  defaultExpandAll?: boolean;\n\n  /** Show node icons */\n  showIcon?: boolean;\n\n  /** Show connecting lines */\n  showLine?: boolean;\n\n  /** Show search input */\n  showSearch?: boolean;\n\n  /** If true, checking nodes does not cascade to parent/children */\n  checkStrictly?: boolean;\n\n  /** Enable search functionality */\n  searchable?: boolean;\n\n  /** Expand callback */\n  onExpand?: (expandedKeys: string[]) => void;\n\n  /** Check callback */\n  onCheck?: (checkedKeys: string[], info?: TreeCheckInfo) => void;\n\n  /** Select callback */\n  onSelect?: (selectedKeys: string[], info?: TreeSelectInfo) => void;\n\n  /** Search callback */\n  onSearch?: (value: string) => void;\n\n  /** Fixed height for scrollable tree */\n  height?: number | string;\n}\n\n// Legacy alias\nexport type DynTreeNode = TreeNode;\n\n\n--- Component (DynTreeView.tsx) ---\nimport React, { useState, useMemo, useCallback, useEffect, forwardRef, useId } from 'react';\nimport { cn } from '../../utils/classNames';\nimport { DynTreeViewProps, DynTreeNode } from './DynTreeView.types';\nimport { DynIcon } from '../DynIcon';\nimport styles from './DynTreeView.module.css';\n\n/**\n * DynTreeView Component\n * Standardized with Design Tokens & CSS Modules\n * Fixed infinite loop by stabilizing effect dependencies\n */\nexport const DynTreeView = forwardRef<HTMLDivElement, DynTreeViewProps>(\n  (\n    {\n      treeData = [],\n      checkable = true,\n      selectable = true,\n      multiple = false,\n      expandedKeys = [],\n      checkedKeys = [],\n      selectedKeys = [],\n      defaultExpandAll = false,\n      showIcon = true,\n      showLine = false,\n      searchable = false,\n      showSearch,\n      onExpand,\n      onCheck,\n      onSelect,\n      onSearch,\n      checkStrictly = false,\n      height,\n      className,\n      id,\n      ...rest\n    },\n    ref\n  ) => {\n    const generatedId = useId();\n    const internalId = id || generatedId;\n\n    const [internalExpandedKeys, setInternalExpandedKeys] = useState<string[]>([]);\n    const [internalCheckedKeys, setInternalCheckedKeys] = useState<string[]>([]);\n    const [internalSelectedKeys, setInternalSelectedKeys] = useState<string[]>([]);\n    const [searchValue, setSearchValue] = useState<string>('');\n\n    // Synchronization logic with stabilization to prevent infinite loops\n    // especially in Storybook Docs environments where props might change every render\n\n    const arraysEqual = (a: any[], b: any[]) => {\n      if (a === b) return true;\n      if (a.length !== b.length) return false;\n      for (let i = 0; i < a.length; i++) {\n        if (a[i] !== b[i]) return false;\n      }\n      return true;\n    };\n\n    // Helper function to get all keys from tree data\n    const getAllKeys = useCallback((nodes: DynTreeNode[]): string[] => {\n      const keys: string[] = [];\n      const collectKeys = (nodeList: DynTreeNode[]) => {\n        nodeList.forEach((node) => {\n          keys.push(node.key);\n          if (node.children) collectKeys(node.children);\n        });\n      };\n      collectKeys(nodes);\n      return keys;\n    }, []);\n\n    // Initial setup and sync from props\n    useEffect(() => {\n      if (defaultExpandAll) {\n        const allKeys = getAllKeys(treeData);\n        if (!arraysEqual(allKeys, internalExpandedKeys)) {\n          setInternalExpandedKeys(allKeys);\n        }\n      } else if (expandedKeys && expandedKeys.length > 0) {\n        if (!arraysEqual(expandedKeys, internalExpandedKeys)) {\n          setInternalExpandedKeys(expandedKeys);\n        }\n      }\n    }, [defaultExpandAll, treeData, expandedKeys, internalExpandedKeys, getAllKeys]);\n\n    const prevCheckedKeysRef = React.useRef(checkedKeys);\n    useEffect(() => {\n      if (!arraysEqual(checkedKeys, prevCheckedKeysRef.current)) {\n        setInternalCheckedKeys(checkedKeys);\n        prevCheckedKeysRef.current = checkedKeys;\n      }\n    }, [checkedKeys]);\n\n    const prevSelectedKeysRef = React.useRef(selectedKeys);\n    useEffect(() => {\n      if (!arraysEqual(selectedKeys, prevSelectedKeysRef.current)) {\n        setInternalSelectedKeys(selectedKeys);\n        prevSelectedKeysRef.current = selectedKeys;\n      }\n    }, [selectedKeys]);\n\n    const prevExpandedKeysRef = React.useRef(expandedKeys);\n    useEffect(() => {\n      if (expandedKeys && expandedKeys.length > 0 && !arraysEqual(expandedKeys, prevExpandedKeysRef.current)) {\n        setInternalExpandedKeys(expandedKeys);\n        prevExpandedKeysRef.current = expandedKeys;\n      }\n    }, [expandedKeys]);\n\n    // Filter tree data based on search\n    const filteredTreeData = useMemo(() => {\n      if (!searchValue.trim()) return treeData;\n\n      function filterNodes(nodes: DynTreeNode[]): DynTreeNode[] {\n        return nodes.reduce((filtered: DynTreeNode[], node) => {\n          const matchesSearch = node.title.toLowerCase().includes(searchValue.toLowerCase());\n          const filteredChildren = node.children ? filterNodes(node.children) : [];\n\n          if (matchesSearch || filteredChildren.length > 0) {\n            filtered.push({\n              ...node,\n              children: filteredChildren.length > 0 ? filteredChildren : node.children,\n            });\n          }\n          return filtered;\n        }, []);\n      }\n      return filterNodes(treeData);\n    }, [treeData, searchValue]);\n\n    // Handle node expansion\n    const handleExpand = useCallback(\n      (key: string, expanded: boolean) => {\n        const newExpandedKeys = expanded\n          ? [...internalExpandedKeys, key]\n          : internalExpandedKeys.filter((k) => k !== key);\n\n        setInternalExpandedKeys(newExpandedKeys);\n        onExpand?.(newExpandedKeys);\n      },\n      [internalExpandedKeys, onExpand]\n    );\n\n    // Handle node selection\n    const handleSelect = useCallback(\n      (node: DynTreeNode, selected: boolean) => {\n        if (!selectable || node.disabled) return;\n\n        let newSelectedKeys: string[];\n        if (multiple) {\n          newSelectedKeys = selected\n            ? [...internalSelectedKeys, node.key]\n            : internalSelectedKeys.filter((k) => k !== node.key);\n        } else {\n          newSelectedKeys = selected ? [node.key] : [];\n        }\n\n        setInternalSelectedKeys(newSelectedKeys);\n        onSelect?.(newSelectedKeys);\n      },\n      [selectable, multiple, internalSelectedKeys, onSelect]\n    );\n\n    // Handle node checking\n    const handleCheck = useCallback(\n      (node: DynTreeNode, checked: boolean) => {\n        if (!checkable || node.disabled) return;\n\n        const newCheckedKeys = new Set(internalCheckedKeys);\n\n        function getDescendantKeys(targetNode: DynTreeNode): string[] {\n          const keys = [targetNode.key];\n          if (targetNode.children) {\n            targetNode.children.forEach((child) => keys.push(...getDescendantKeys(child)));\n          }\n          return keys;\n        }\n\n        if (checked) {\n          if (multiple) {\n            if (checkStrictly) {\n              newCheckedKeys.add(node.key);\n            } else {\n              const descendantKeys = getDescendantKeys(node);\n              descendantKeys.forEach((key) => newCheckedKeys.add(key));\n            }\n          } else {\n            newCheckedKeys.clear();\n            newCheckedKeys.add(node.key);\n          }\n        } else {\n          if (checkStrictly) {\n            newCheckedKeys.delete(node.key);\n          } else {\n            const descendantKeys = getDescendantKeys(node);\n            descendantKeys.forEach((key) => newCheckedKeys.delete(key));\n          }\n        }\n\n        const finalCheckedKeys = Array.from(newCheckedKeys);\n        setInternalCheckedKeys(finalCheckedKeys);\n        onCheck?.(finalCheckedKeys, { checked, node });\n      },\n      [checkable, multiple, checkStrictly, internalCheckedKeys, onCheck]\n    );\n\n    // Handle search\n    const handleSearch = useCallback(\n      (value: string) => {\n        setSearchValue(value);\n        onSearch?.(value);\n\n        if (value.trim()) {\n          const matchingKeys = getAllKeys(filteredTreeData);\n          setInternalExpandedKeys((prev) => Array.from(new Set([...prev, ...matchingKeys])));\n        }\n      },\n      [onSearch, filteredTreeData, getAllKeys]\n    );\n\n    // Render tree node\n    const renderTreeNode = useCallback(\n      (node: DynTreeNode, level: number = 0): React.ReactNode => {\n        const hasChildren = node.children && node.children.length > 0;\n        const isExpanded = internalExpandedKeys.includes(node.key);\n        const isSelected = internalSelectedKeys.includes(node.key);\n        const isChecked = internalCheckedKeys.includes(node.key);\n\n        const nodeClass = cn(\n          styles.nodeContent,\n          isSelected && styles.nodeSelected,\n          node.disabled && styles.nodeDisabled\n        );\n\n        return (\n          <div key={node.key} className={styles.node}>\n            <div\n              className={nodeClass}\n              style={{ paddingLeft: level * 20 }}\n              role=\"treeitem\"\n              aria-selected={isSelected}\n              aria-expanded={hasChildren ? isExpanded : undefined}\n              aria-disabled={node.disabled}\n            >\n              {/* Switcher */}\n              {hasChildren ? (\n                <div\n                  className={styles.switcher}\n                  onClick={() => handleExpand(node.key, !isExpanded)}\n                  data-testid=\"tree-node-switcher\"\n                >\n                  <DynIcon icon={isExpanded ? 'chevron-down' : 'chevron-right'} size=\"sm\" />\n                </div>\n              ) : (\n                <div className={cn(styles.switcher, styles.switcherLeaf)} data-testid=\"tree-node-switcher-leaf\" />\n              )}\n\n              {/* Checkbox */}\n              {checkable && (\n                <div className={styles.checkbox}>\n                  <input\n                    type=\"checkbox\"\n                    checked={isChecked}\n                    disabled={node.disabled}\n                    onChange={(e) => handleCheck(node, e.target.checked)}\n                  />\n                </div>\n              )}\n\n              {/* Icon */}\n              {showIcon && (\n                <div className={styles.icon} data-testid=\"tree-node-icon\">\n                  {node.icon ? (\n                    typeof node.icon === 'string' ? (\n                      <DynIcon icon={node.icon} size=\"sm\" />\n                    ) : (\n                      node.icon\n                    )\n                  ) : hasChildren ? (\n                    <DynIcon icon=\"folder\" size=\"sm\" />\n                  ) : (\n                    <DynIcon icon=\"file\" size=\"sm\" />\n                  )}\n                </div>\n              )}\n\n              {/* Title */}\n              <div\n                className={cn(styles.title, selectable && !node.disabled && styles.titleClickable)}\n                onClick={selectable && !node.disabled ? () => handleSelect(node, !isSelected) : undefined}\n              >\n                {node.title}\n              </div>\n            </div>\n\n            {/* Children */}\n            {hasChildren && isExpanded && (\n              <div className={styles.children}>\n                {node.children!.map((child) => renderTreeNode(child, level + 1))}\n              </div>\n            )}\n          </div>\n        );\n      },\n      [\n        internalExpandedKeys,\n        internalSelectedKeys,\n        internalCheckedKeys,\n        handleExpand,\n        handleSelect,\n        handleCheck,\n        checkable,\n        selectable,\n        showIcon,\n      ]\n    );\n\n    const treeViewClasses = cn(styles.root, showLine && styles.showLine, className);\n\n    return (\n      <div ref={ref} className={treeViewClasses} style={{ height }} role=\"tree\" id={internalId} data-testid={rest['data-testid'] || 'dyn-tree-view'}>\n        {(showSearch ?? searchable) && (\n          <div className={styles.search}>\n            <input\n              type=\"text\"\n              placeholder=\"Search...\"\n              value={searchValue}\n              onChange={(e) => handleSearch(e.target.value)}\n              className={styles.searchInput}\n            />\n          </div>\n        )}\n\n        <div className={styles.content}>\n          {filteredTreeData.length > 0 ? (\n            filteredTreeData.map((node) => renderTreeNode(node))\n          ) : (\n            <div className={styles.empty}>\n              {searchValue.trim() ? 'No matching nodes found' : 'No data available'}\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n);\n\nDynTreeView.displayName = 'DynTreeView';\n\nexport default DynTreeView;\n\n\n--- Usage Examples (DynTreeView.stories.tsx) ---\nimport type { Meta, StoryObj } from '@storybook/react';\nimport React from 'react';\nimport DynTreeView from './DynTreeView';\nimport { DynTreeViewProps, DynTreeNode } from './DynTreeView.types';\n\nconst meta: Meta<typeof DynTreeView> = {\n  title: 'Data Display/DynTreeView',\n  component: DynTreeView,\n  parameters: {\n    layout: 'padded',\n    docs: {\n      description: {\n        component: 'A hierarchical tree component for displaying and managing nested data structures with selection, checking, and search capabilities.'\n      }\n    }\n  },\n  tags: ['autodocs'],\n  argTypes: {\n    checkable: {\n      control: 'boolean',\n      description: 'Show checkboxes for node selection'\n    },\n    selectable: {\n      control: 'boolean',\n      description: 'Allow node selection by clicking'\n    },\n    multiple: {\n      control: 'boolean',\n      description: 'Allow multiple node selection'\n    },\n    showIcon: {\n      control: 'boolean',\n      description: 'Show node icons'\n    },\n    showLine: {\n      control: 'boolean',\n      description: 'Show connecting lines between nodes'\n    },\n    searchable: {\n      control: 'boolean',\n      description: 'Enable search functionality'\n    },\n    defaultExpandAll: {\n      control: 'boolean',\n      description: 'Expand all nodes by default'\n    },\n    height: {\n      control: { type: 'number' },\n      description: 'Fixed height for scrollable tree'\n    },\n  },\n};\n\nexport default meta;\ntype Story = StoryObj<typeof DynTreeView>;\n\n// Sample tree data\nconst fileSystemData: DynTreeNode[] = [\n  {\n    key: 'documents',\n    title: 'Documents',\n    icon: 'folder',\n    children: [\n      { key: 'doc1', title: 'Report.pdf', icon: 'file' },\n      { key: 'doc2', title: 'Presentation.pptx', icon: 'file' },\n      {\n        key: 'projects',\n        title: 'Projects',\n        icon: 'folder',\n        children: [\n          {\n            key: 'project1',\n            title: 'Website Redesign',\n            icon: 'desktop',\n            children: [\n              { key: 'wireframes', title: 'Wireframes.fig', icon: 'file' },\n              { key: 'assets', title: 'Assets', icon: 'folder' },\n              { key: 'code', title: 'Source Code', icon: 'settings' },\n            ],\n          },\n          {\n            key: 'project2',\n            title: 'Mobile App',\n            icon: 'user',\n            children: [\n              { key: 'mockups', title: 'Mockups.sketch', icon: 'file' },\n              { key: 'prototype', title: 'Prototype.html', icon: 'share' },\n            ],\n          },\n        ],\n      },\n    ],\n  },\n  {\n    key: 'images',\n    title: 'Images',\n    icon: 'folder',\n    children: [\n      { key: 'photo1', title: 'Vacation.jpg', icon: 'file' },\n      { key: 'photo2', title: 'Profile.png', icon: 'file' },\n      {\n        key: 'screenshots',\n        title: 'Screenshots',\n        icon: 'folder',\n        children: [\n          { key: 'screen1', title: 'Dashboard.png', icon: 'desktop' },\n          { key: 'screen2', title: 'Settings.png', icon: 'settings' },\n        ],\n      },\n    ],\n  },\n  {\n    key: 'downloads',\n    title: 'Downloads',\n    icon: 'folder',\n    children: [\n      { key: 'software1', title: 'VSCode-Setup.exe', icon: 'download' },\n      { key: 'software2', title: 'Chrome-Installer.dmg', icon: 'download' },\n      { key: 'archive', title: 'Archive.zip', icon: 'folder', disabled: true },\n    ],\n  },\n  { key: 'readme', title: 'README.md', icon: 'edit' },\n];\n\nconst organizationData: DynTreeNode[] = [\n  {\n    key: 'ceo',\n    title: 'CEO - John Smith',\n    icon: 'user',\n    children: [\n      {\n        key: 'engineering',\n        title: 'Engineering',\n        icon: 'settings',\n        children: [\n          {\n            key: 'frontend',\n            title: 'Frontend Team',\n            icon: 'desktop',\n            children: [\n              { key: 'dev1', title: 'Alice Johnson - Senior Developer', icon: 'user' },\n              { key: 'dev2', title: 'Bob Wilson - Developer', icon: 'user' },\n              { key: 'dev3', title: 'Carol Davis - Junior Developer', icon: 'user' },\n            ],\n          },\n          {\n            key: 'backend',\n            title: 'Backend Team',\n            icon: 'settings',\n            children: [\n              { key: 'dev4', title: 'David Brown - Lead Developer', icon: 'user' },\n              { key: 'dev5', title: 'Emma Taylor - Developer', icon: 'user' },\n            ],\n          },\n        ],\n      },\n      {\n        key: 'design',\n        title: 'Design',\n        icon: 'edit',\n        children: [\n          { key: 'designer1', title: 'Frank Miller - UI Designer', icon: 'edit' },\n          { key: 'designer2', title: 'Grace Lee - UX Designer', icon: 'edit' },\n        ],\n      },\n      {\n        key: 'marketing',\n        title: 'Marketing',\n        icon: 'share',\n        children: [\n          { key: 'marketer1', title: 'Henry White - Marketing Manager', icon: 'info' },\n          { key: 'marketer2', title: 'Ivy Chen - Content Creator', icon: 'edit' },\n        ],\n      },\n    ],\n  },\n];\n\nconst simpleData: DynTreeNode[] = [\n  {\n    key: 'parent1',\n    title: 'Parent Node 1',\n    children: [\n      { key: 'child1-1', title: 'Child 1-1' },\n      { key: 'child1-2', title: 'Child 1-2' },\n      {\n        key: 'child1-3',\n        title: 'Child 1-3',\n        children: [\n          { key: 'grandchild1', title: 'Grandchild 1' },\n          { key: 'grandchild2', title: 'Grandchild 2' },\n        ],\n      },\n    ],\n  },\n  {\n    key: 'parent2',\n    title: 'Parent Node 2',\n    children: [\n      { key: 'child2-1', title: 'Child 2-1' },\n      { key: 'child2-2', title: 'Child 2-2' },\n    ],\n  },\n  { key: 'leaf', title: 'Leaf Node' },\n];\n\n// Default story\nexport const Default: Story = {\n  args: {\n    treeData: fileSystemData,\n    checkable: false,\n    selectable: true,\n    multiple: false,\n    showIcon: true,\n    showLine: false,\n    searchable: false,\n    defaultExpandAll: false,\n  },\n};\n\n// With Checkboxes\nexport const WithCheckboxes: Story = {\n  render: (args: any) => {\n    const [checkedKeys, setCheckedKeys] = React.useState<string[]>(args.checkedKeys || []);\n\n    return (\n      <DynTreeView\n        {...args}\n        checkedKeys={checkedKeys}\n        onCheck={(keys, info) => {\n          setCheckedKeys(keys);\n          args.onCheck?.(keys, info);\n        }}\n      />\n    );\n  },\n  args: {\n    ...Default.args,\n    checkable: true,\n    checkedKeys: ['documents', 'doc1'],\n    multiple: true,\n  },\n};\n\n// Multiple Selection\nexport const MultipleSelection: Story = {\n  render: (args: any) => {\n    const [selectedKeys, setSelectedKeys] = React.useState<string[]>(args.selectedKeys || []);\n\n    return (\n      <DynTreeView\n        {...args}\n        selectedKeys={selectedKeys}\n        onSelect={(keys, info) => {\n          setSelectedKeys(keys);\n          args.onSelect?.(keys, info);\n        }}\n      />\n    );\n  },\n  args: {\n    ...Default.args,\n    multiple: true,\n    selectedKeys: ['documents', 'images'],\n  },\n};\n\n// With Search\nexport const WithSearch: Story = {\n  args: {\n    ...Default.args,\n    searchable: true,\n    onSearch: (value: any) => {\n      console.log('Search:', value);\n    },\n  },\n};\n\n// Expand All by Default\nexport const ExpandedByDefault: Story = {\n  args: {\n    ...Default.args,\n    defaultExpandAll: true,\n  },\n};\n\n// With Connecting Lines\nexport const WithLines: Story = {\n  args: {\n    ...Default.args,\n    showLine: true,\n    expandedKeys: ['documents', 'projects'],\n  },\n};\n\n// Without Icons\nexport const WithoutIcons: Story = {\n  args: {\n    treeData: simpleData,\n    showIcon: false,\n    expandedKeys: ['parent1'],\n  },\n};\n\n// Organization Chart\nexport const OrganizationChart: Story = {\n  render: (args: any) => {\n    const [checkedKeys, setCheckedKeys] = React.useState<string[]>([]);\n    const [selectedKeys, setSelectedKeys] = React.useState<string[]>([]);\n\n    return (\n      <DynTreeView\n        {...args}\n        checkedKeys={checkedKeys}\n        selectedKeys={selectedKeys}\n        onCheck={(keys, info) => {\n          setCheckedKeys(keys);\n          args.onCheck?.(keys, info);\n        }}\n        onSelect={(keys, info) => {\n          setSelectedKeys(keys);\n          args.onSelect?.(keys, info);\n        }}\n      />\n    );\n  },\n  args: {\n    treeData: organizationData,\n    checkable: true,\n    selectable: true,\n    showIcon: true,\n    defaultExpandAll: true,\n    multiple: true,\n  },\n};\n\n// Fixed Height (Scrollable)\nexport const FixedHeight: Story = {\n  args: {\n    ...Default.args,\n    height: 300,\n    defaultExpandAll: true,\n  },\n};\n\n// Empty State\nexport const Empty: Story = {\n  args: {\n    ...Default.args,\n    treeData: [],\n  },\n};\n\n// All Features Combined\nexport const AllFeatures: Story = {\n  render: (args: any) => {\n    const [checkedKeys, setCheckedKeys] = React.useState<string[]>(args.checkedKeys || []);\n    const [selectedKeys, setSelectedKeys] = React.useState<string[]>(args.selectedKeys || []);\n    const [expandedKeys, setExpandedKeys] = React.useState<string[]>(args.expandedKeys || []);\n\n    return (\n      <DynTreeView\n        {...args}\n        checkedKeys={checkedKeys}\n        selectedKeys={selectedKeys}\n        expandedKeys={expandedKeys}\n        onCheck={(keys, info) => {\n          setCheckedKeys(keys);\n          args.onCheck?.(keys, info);\n        }}\n        onSelect={(keys, info) => {\n          setSelectedKeys(keys);\n          args.onSelect?.(keys, info);\n        }}\n        onExpand={(keys) => {\n          setExpandedKeys(keys);\n          args.onExpand?.(keys);\n        }}\n      />\n    );\n  },\n  args: {\n    treeData: fileSystemData,\n    checkable: true,\n    selectable: true,\n    multiple: true,\n    showIcon: true,\n    showLine: true,\n    searchable: true,\n    height: 400,\n    expandedKeys: ['documents'],\n    checkedKeys: ['doc1', 'photo1'],\n    selectedKeys: ['projects'],\n  },\n};\n\n\n--- Styles (DynTreeView.module.css) ---\n/**\n * DynTreeView Component Styles\n * 100% Design Token Compliance\n * Unified Token Strategy: 3-Level Fallback Pattern\n */\n\n.root {\n  /* Component Tokens (Layer 2) */\n  --dyn-tree-background: var(--dyn-tree-color-background, var(--dyn-semantic-surface, #ffffff));\n  --dyn-tree-border: var(--dyn-tree-color-border, var(--dyn-semantic-border, #e2e8f0));\n  --dyn-tree-text: var(--dyn-tree-color-text, var(--dyn-semantic-text, #0f172a));\n  --dyn-tree-shadow: var(--dyn-tree-elevation, var(--dyn-shadow-sm, 0 1px 3px 0 rgba(0, 0, 0, 0.1)));\n  --dyn-tree-radius: var(--dyn-tree-size-radius, var(--dyn-border-radius-md, 0.375rem));\n  --dyn-tree-transition: var(--dyn-tree-animation-duration, var(--dyn-transition-fast, 150ms)) var(--dyn-tree-animation-easing, ease-in-out);\n\n  /* Search */\n  --dyn-tree-search-bg: var(--dyn-tree-color-search-background, var(--dyn-semantic-surface-muted, #f8fafc));\n  --dyn-tree-search-border: var(--dyn-tree-color-search-border, var(--dyn-semantic-border, #e2e8f0));\n\n  /* Input */\n  --dyn-tree-input-bg: var(--dyn-tree-color-input-background, var(--dyn-semantic-input-bg, #ffffff));\n  --dyn-tree-input-border: var(--dyn-tree-color-input-border, var(--dyn-semantic-input-border, #cbd5e1));\n  --dyn-tree-input-text: var(--dyn-tree-color-input-text, var(--dyn-semantic-text, #0f172a));\n  --dyn-tree-input-border-focus: var(--dyn-tree-color-input-border-focus, var(--dyn-semantic-border-focus, #3b82f6));\n\n  /* Node */\n  --dyn-tree-node-bg-hover: var(--dyn-tree-color-node-hover, var(--dyn-semantic-surface-hover, #f1f5f9));\n  --dyn-tree-node-bg-selected: var(--dyn-tree-color-node-selected, var(--dyn-semantic-surface-active, #e0f2fe));\n  --dyn-tree-node-text-selected: var(--dyn-tree-color-node-text-selected, var(--dyn-theme-primary, #2563eb));\n  --dyn-tree-node-height: var(--dyn-tree-size-node-height, 2rem);\n  --dyn-tree-node-padding: var(--dyn-tree-spacing-node, var(--dyn-spacing-xs, 0.25rem));\n\n  /* Switcher & Icons */\n  --dyn-tree-icon-color: var(--dyn-tree-color-icon, var(--dyn-semantic-text-secondary, #64748b));\n  --dyn-tree-icon-bg-hover: var(--dyn-tree-color-icon-hover, var(--dyn-semantic-surface-hover, #f1f5f9));\n  --dyn-tree-icon-size: var(--dyn-tree-size-icon, 1.25rem);\n\n  display: flex;\n  flex-direction: column;\n  background-color: var(--dyn-tree-background);\n  border-radius: var(--dyn-tree-radius);\n  border: var(--dyn-border-width-sm, 1px) solid var(--dyn-tree-border);\n  font-family: inherit;\n  overflow: hidden;\n  width: 100%;\n  box-shadow: var(--dyn-tree-shadow);\n  transition: box-shadow var(--dyn-tree-transition);\n}\n\n.root:hover {\n  box-shadow: var(--dyn-shadow-md, 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06));\n}\n\n/* ============================================\n   SEARCH\n   ============================================ */\n\n.search {\n  padding: var(--dyn-spacing-sm, 0.5rem);\n  border-bottom: var(--dyn-border-width-sm, 1px) solid var(--dyn-tree-search-border);\n  background-color: var(--dyn-tree-search-bg);\n}\n\n.searchInput {\n  width: 100%;\n  padding: var(--dyn-spacing-xs, 0.25rem) var(--dyn-spacing-sm, 0.5rem);\n  border: var(--dyn-border-width-sm, 1px) solid var(--dyn-tree-input-border);\n  border-radius: var(--dyn-border-radius-sm, 0.25rem);\n  font-size: var(--dyn-font-size-sm, 0.875rem);\n  background-color: var(--dyn-tree-input-bg);\n  color: var(--dyn-tree-input-text);\n  outline: none;\n  transition: all var(--dyn-tree-transition);\n}\n\n.searchInput:focus {\n  border-color: var(--dyn-tree-input-border-focus);\n  box-shadow: 0 0 0 var(--dyn-border-width-md, 2px) var(--dyn-action-focus, rgba(59, 130, 246, 0.5));\n}\n\n/* ============================================\n   CONTENT\n   ============================================ */\n\n.content {\n  flex: 1;\n  overflow: auto;\n  padding: var(--dyn-spacing-xs, 0.25rem);\n}\n\n/* ============================================\n   NODE\n   ============================================ */\n\n.node {\n  width: 100%;\n}\n\n.nodeContent {\n  display: flex;\n  align-items: center;\n  gap: var(--dyn-spacing-xs, 0.25rem);\n  padding: var(--dyn-tree-node-padding) var(--dyn-spacing-sm, 0.5rem);\n  border-radius: var(--dyn-border-radius-sm, 0.25rem);\n  cursor: default;\n  transition: background-color var(--dyn-tree-transition);\n  min-height: var(--dyn-tree-node-height);\n}\n\n.nodeContent:hover:not(.nodeDisabled) {\n  background-color: var(--dyn-tree-node-bg-hover);\n}\n\n.nodeSelected {\n  background-color: var(--dyn-tree-node-bg-selected);\n  color: var(--dyn-tree-node-text-selected);\n}\n\n.nodeDisabled {\n  opacity: var(--dyn-opacity-disabled, 0.5);\n  cursor: not-allowed;\n}\n\n/* ============================================\n   SWITCHER\n   ============================================ */\n\n.switcher {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: var(--dyn-tree-icon-size);\n  height: var(--dyn-tree-icon-size);\n  cursor: pointer;\n  border-radius: var(--dyn-border-radius-sm, 0.25rem);\n  transition: background-color var(--dyn-tree-transition);\n  flex-shrink: 0;\n  color: var(--dyn-tree-icon-color);\n}\n\n.switcher:hover {\n  background-color: var(--dyn-tree-icon-bg-hover);\n}\n\n.switcherLeaf {\n  cursor: default;\n  visibility: hidden;\n}\n\n/* ============================================\n   CHECKBOX\n   ============================================ */\n\n.checkbox {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 0 var(--dyn-spacing-xs, 0.25rem);\n}\n\n.checkbox input {\n  cursor: pointer;\n  accent-color: var(--dyn-theme-primary);\n  /* Eventually replace with DynCheckbox for full styling control */\n}\n\n/* ============================================\n   ICON & TITLE\n   ============================================ */\n\n.icon {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: var(--dyn-tree-icon-size);\n  color: var(--dyn-tree-icon-color);\n  flex-shrink: 0;\n}\n\n.title {\n  flex: 1;\n  font-size: var(--dyn-font-size-sm, 0.875rem);\n  color: var(--dyn-tree-text);\n  user-select: none;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding: 0 var(--dyn-spacing-xs, 0.25rem);\n}\n\n.titleClickable {\n  cursor: pointer;\n}\n\n/* ============================================\n   CHILDREN\n   ============================================ */\n\n.children {\n  display: flex;\n  flex-direction: column;\n}\n\n.showLine .children {\n  position: relative;\n  margin-left: var(--dyn-spacing-sm, 0.5rem);\n  padding-left: var(--dyn-spacing-sm, 0.5rem);\n  border-left: var(--dyn-border-width-sm, 1px) solid var(--dyn-tree-border);\n}\n\n/* ============================================\n   EMPTY STATE\n   ============================================ */\n\n.empty {\n  padding: var(--dyn-spacing-lg, 1.5rem);\n  text-align: center;\n  color: var(--dyn-semantic-text-secondary, #64748b);\n  font-size: var(--dyn-font-size-sm, 0.875rem);\n}\n\n/* ============================================\n   RESPONSIVE\n   ============================================ */\n\n@media (max-width: 767px) {\n  .nodeContent {\n    padding: var(--dyn-spacing-xs, 0.25rem);\n    min-height: 2.5rem;\n  }\n\n  .title {\n    font-size: var(--dyn-font-size-xs, 0.75rem);\n  }\n}\n\n/* ============================================\n   ACCESSIBILITY\n   ============================================ */\n\n@media (prefers-reduced-motion: reduce) {\n  .searchInput,\n  .nodeContent,\n  .switcher {\n    transition: none;\n  }\n}\n\n@media (prefers-contrast: high) {\n  .root {\n    border-width: var(--dyn-border-width-md, 2px);\n  }\n\n  .showLine .children {\n    border-width: var(--dyn-border-width-md, 2px);\n  }\n}\n\n/* DARK MODE - Handled automatically via semantic tokens! */\n", "metadata": {"type": "ui_component", "name": "DynTreeView", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynTreeView"}, "embedding": [0.008679850026965141, 0.017865898087620735, 0.043538667261600494, 0.11151091754436493, 0.024913888424634933, -0.01221415400505066, 0.038003090769052505, 0.0015418066177517176, -0.013413449749350548, 0.0769662857055664, -0.08344800025224686, -0.06309979408979416, -0.0894538164138794, 0.02630157396197319, 0.032216642051935196, 0.050166647881269455, -0.060815829783678055, -0.06084059923887253, -0.003846263512969017, -0.002676585456356406, 0.026047946885228157, -0.007207305170595646, -0.0006477980059571564, -0.061017345637083054, 0.031247712671756744, -0.0325729101896286, -0.02578595094382763, 0.0018405664013698697, -0.03556196019053459, -0.009990997612476349, -0.03851158544421196, 0.002613708144053817, -0.0005524500156752765, 0.047801483422517776, -0.07152066379785538, -6.606378155993298e-05, 0.01976870559155941, -0.05488567054271698, 0.012384300120174885, -0.02665960043668747, 0.07204882800579071, 0.15160535275936127, -0.0021728691644966602, -0.12509222328662872, 0.005166218150407076, 0.017432639375329018, -0.0853993371129036, -0.03337595984339714, -0.026381077244877815, -0.003034147433936596, 0.024738043546676636, -0.009801001287996769, 0.04494291543960571, -0.07717782258987427, 0.06336063146591187, 0.037200894206762314, 0.024072393774986267, 0.022728269919753075, 0.02764582820236683, 0.06613960862159729, 0.07927461713552475, -0.006218776572495699, -0.022497814148664474, -0.08349274098873138, 0.02198123000562191, 0.08699401468038559, -0.07768472284078598, -0.00649840384721756, 0.0536651648581028, -0.0448310449719429, -0.025697752833366394, -0.034423764795064926, 0.00572230713441968, 0.003976708743721247, 0.004462047480046749, -0.11722271144390106, 0.017026560381054878, -0.050940800458192825, 0.042139552533626556, -0.020846109837293625, -0.036953844130039215, 0.09313665330410004, -0.08256928622722626, 0.038983020931482315, 0.005408614873886108, 0.10413116961717606, -0.02219504676759243, -0.012771012261509895, -0.042012136429548264, 0.01362415961921215, -0.010028066113591194, -0.09292084723711014, 0.004608915187418461, 0.062035586684942245, 0.0003515923162922263, 0.030931523069739342, -0.06219835579395294, -0.0017823457019403577, -0.09637085348367691, 0.014803355559706688, -0.05815254524350166, -0.0635284036397934, 0.025503791868686676, -0.04272758215665817, -0.09847117215394974, 0.00808743480592966, -0.0058313761837780476, -0.10489070415496826, -0.05051178112626076, 0.07538066804409027, -0.014891063794493675, 0.04959842562675476, -0.06437838822603226, 0.07301054894924164, -0.10728570818901062, -0.015194696374237537, -0.02170209400355816, -0.05545993894338608, 0.006113278679549694, -0.011146030388772488, 0.07623911648988724, -0.05784318968653679, 0.017697956413030624, 0.0004597519582603127, 0.05374110862612724, -0.0409964919090271, 0.0469631627202034, 5.707377354205468e-33, 0.006716662086546421, -0.02356419898569584, -0.00816440861672163, 0.036929331719875336, 0.09506213665008545, -0.07891290634870529, 0.024520469829440117, -0.028952229768037796, -0.03242894634604454, 0.051480893045663834, -0.033139247447252274, -0.009290504269301891, -0.09510339796543121, -0.05799350142478943, 0.032361727207899094, -0.033341821283102036, 0.0667433887720108, 0.013664521276950836, 0.011660605669021606, 0.02711506374180317, 0.03549358248710632, 0.045127324759960175, -0.07885079830884933, -0.010814729146659374, 0.076200932264328, -0.009167063049972057, -0.01937585137784481, 0.06034212186932564, 0.04468818008899689, -0.007795971818268299, 0.012171493843197823, -0.05786459520459175, 0.028474019840359688, 0.04602804780006409, -0.07408913969993591, -0.007527763489633799, -0.05921836569905281, -0.0068432544358074665, -0.07658473402261734, -0.024141568690538406, 0.00037409612559713423, -0.02165612019598484, -0.011516880244016647, 0.04710245877504349, 0.0007237454410642385, 0.050372764468193054, 0.04167679324746132, 0.005857815034687519, 0.03980854153633118, -0.03665647655725479, 0.00792670901864767, 0.0770835280418396, -0.002076143631711602, -0.0907701775431633, -0.00203540432266891, 0.06278429180383682, 0.03451443091034889, 0.07720664143562317, 0.07748106122016907, 0.10571116209030151, -0.03470483422279358, -0.006464261095970869, 0.023778630420565605, -0.014045334421098232, 0.004079912789165974, 0.12189315259456635, 0.00015748765144962817, -0.05976390838623047, -0.0020082241389900446, -0.1051272451877594, -0.03199018910527229, -0.05241904780268669, -0.015232998877763748, -0.023172060027718544, 0.07138703018426895, 0.02232019044458866, -0.004772666841745377, 0.015944931656122208, 0.023931248113512993, -0.07028046995401382, -0.08330787718296051, -0.11628742516040802, -0.003414416452869773, 0.053793396800756454, 0.07584896683692932, -0.10257692635059357, -0.005060939118266106, 0.04113617166876793, 0.07757601886987686, -0.012414945289492607, -0.05201484262943268, -0.026468705385923386, 0.005240125115960836, -0.06678808480501175, 0.04798012226819992, -7.951131216354295e-33, 0.06030251458287239, -0.02655096724629402, 0.009641320444643497, -0.06899688392877579, -0.05571224167943001, 0.007579765282571316, -0.08857835829257965, -0.02347676269710064, -0.061237629503011703, -0.002498953603208065, 0.015560360625386238, 0.023441333323717117, 0.06232201308012009, -0.026061704382300377, -0.07194928079843521, 0.038096897304058075, -0.01797666773200035, -0.0035493180621415377, -0.012140550650656223, -0.005834062118083239, 0.05628380551934242, 0.07584774494171143, 0.026178421452641487, 0.02355632372200489, -0.08069805800914764, -0.00956291425973177, 0.04805111885070801, 0.05017669498920441, 0.10962312668561935, -0.019394168630242348, 0.023931078612804413, 0.0179040115326643, 0.023102886974811554, -0.0038825247902423143, -0.0060713691636919975, -0.05495167523622513, -0.006370413117110729, 0.026714516803622246, -0.042561981827020645, 0.09251856803894043, -0.054143358021974564, -0.016619939357042313, -0.031615544110536575, -0.0008986944449134171, -0.0378667414188385, -0.05250750854611397, -0.006467447616159916, 0.0841953381896019, -0.032456833869218826, -0.002802033443003893, 0.07679908722639084, -0.010559706017374992, -0.01709865964949131, -0.013744647614657879, -0.03543303161859512, 0.0759628564119339, 0.048417653888463974, -0.026878099888563156, 0.07457388937473297, -0.006537723820656538, -0.00026570941554382443, -0.13179004192352295, -0.04581611976027489, 0.00840824469923973, 0.03126778081059456, -0.10617461055517197, -0.12419319152832031, -0.05685459077358246, 0.0254620760679245, 0.012409215793013573, 0.006048076786100864, 0.020733965560793877, 0.004465013276785612, -0.023521272465586662, 0.04563434422016144, -0.01806294545531273, 0.021864037960767746, 0.020483054220676422, 0.13180749118328094, 0.011402873322367668, -0.032178960740566254, 0.02754020132124424, 0.03348954766988754, 0.028509467840194702, 0.044917866587638855, -0.043460674583911896, -0.04524225369095802, 0.07730846107006073, 0.06087379902601242, 0.031972020864486694, -0.028880110010504723, -0.040600039064884186, 0.007213782984763384, 0.03409133106470108, -0.02604791335761547, -4.7477811904172995e-08, -0.12354320287704468, 0.019573576748371124, -0.04963944852352142, -0.045042168349027634, 0.021062985062599182, -0.08392282575368881, -0.015087953768670559, -0.0017428728751838207, 0.0016788482898846269, -0.03551395609974861, -0.06907590478658676, 0.09555290639400482, -0.0755624920129776, -0.01506627257913351, 0.10278825461864471, -0.036527443677186966, 0.02617087960243225, 0.05768261477351189, -0.002367292996495962, 0.10940556973218918, 0.04294208809733391, -0.06487330049276352, -0.07153169810771942, 0.05833035334944725, 0.036250218749046326, -0.03563103824853897, 0.014768535271286964, 0.014274654909968376, 0.00367990811355412, 0.11931877583265305, 0.006550360005348921, 0.0673476979136467, 0.015923652797937393, 0.026778249070048332, -0.08244308829307556, -0.0008063636487349868, 0.047079019248485565, -0.00041478045750409365, 0.03268333896994591, 0.011636725626885891, -0.0024136623833328485, -0.09088867902755737, -0.0125101488083601, 0.03360781446099281, -0.08241298794746399, 0.03193426877260208, 0.020025640726089478, 0.09891027212142944, 0.0694715827703476, 0.0029962752014398575, -0.030119560658931732, -0.05799753591418266, -0.04804094135761261, -0.050491876900196075, -0.07311905920505524, 0.04243634268641472, -0.033886510878801346, 0.03376801311969757, 0.02464785799384117, 0.012826862744987011, 0.07180492579936981, -0.07316514104604721, 0.028083618730306625, -0.014031515456736088]}, {"id": "dyn_ui_component_DynUpload", "text": "# Component: DynUpload\n\n--- Types (DynUpload.types.ts) ---\nimport { InputHTMLAttributes, ReactNode, DragEvent, ChangeEvent } from 'react';\n\nexport interface DynUploadFile {\n    file: File;\n    id: string;\n    preview?: string;\n    progress?: number;\n    error?: string;\n}\n\nexport interface DynUploadProps extends Omit<InputHTMLAttributes<HTMLInputElement>, 'onChange'> {\n    /**\n     * Callback when files are selected or dropped.\n     * Returns an array of File objects.\n     */\n    onUpload?: (files: File[]) => void;\n\n    /**\n     * Accepted file types (e.g., \"image/*\", \".pdf\").\n     */\n    accept?: string;\n\n    /**\n     * Whether to allow multiple file selection.\n     * @default false\n     */\n    multiple?: boolean;\n\n    /**\n     * Maximum file size in bytes.\n     */\n    maxSize?: number;\n\n    /**\n     * Custom label/text for the drop zone.\n     */\n    label?: ReactNode;\n\n    /**\n     * Helper text or description.\n     */\n    description?: ReactNode;\n\n    /**\n     * Whether the upload is disabled.\n     */\n    disabled?: boolean;\n\n    /**\n     * Whether to show the list of selected files.\n     * @default true\n     */\n    showFileList?: boolean;\n\n    /**\n     * External file list for controlled mode or initial state.\n     */\n    fileList?: DynUploadFile[];\n\n    /**\n     * Callback when file list changes (add/remove).\n     */\n    onFileListChange?: (files: DynUploadFile[]) => void;\n\n    /**\n     * Class name for the container.\n     */\n    className?: string;\n\n    /**\n     * Whether the component is in an error state.\n     */\n    error?: boolean;\n\n    /**\n     * Error message text to display.\n     */\n    errorMessage?: string;\n}\n\n\n--- Component (DynUpload.tsx) ---\nimport React, { useRef, useState, useCallback, useId, useEffect } from 'react';\nimport { cn } from '../../utils/classNames';\nimport { DynUploadProps, DynUploadFile } from './DynUpload.types';\nimport { DynIcon } from '../DynIcon';\nimport styles from './DynUpload.module.css';\n\n/**\n * DynUpload Component\n * Standardized with Design Tokens & CSS Modules\n */\nexport const DynUpload: React.FC<DynUploadProps> = ({\n    onUpload,\n    accept,\n    multiple = false,\n    maxSize,\n    label = 'Click to upload or drag and drop',\n    description = 'SVG, PNG, JPG or GIF (max. 800x400px)',\n    disabled = false,\n    showFileList = true,\n    fileList: controlledFileList,\n    onFileListChange,\n    className,\n    error,\n    errorMessage,\n    ...props\n}) => {\n    const inputRef = useRef<HTMLInputElement>(null);\n    const [isDragActive, setIsDragActive] = useState(false);\n    const [internalFileList, setInternalFileList] = useState<DynUploadFile[]>([]);\n    const id = useId();\n\n    const fileList = controlledFileList || internalFileList;\n\n    useEffect(() => {\n        // Cleanup object URLs to avoid memory leaks\n        return () => {\n            if (typeof URL !== 'undefined' && URL.revokeObjectURL) {\n                fileList.forEach(file => {\n                    if (file.preview) {\n                        URL.revokeObjectURL(file.preview);\n                    }\n                });\n            }\n        };\n    }, [fileList]);\n\n    const handleFiles = useCallback((files: FileList | null) => {\n        if (!files) return;\n\n        const newFiles: DynUploadFile[] = Array.from(files)\n            .filter(file => {\n                if (maxSize && file.size > maxSize) {\n                    alert(`File ${file.name} is too large. Max size is ${maxSize} bytes.`);\n                    return false;\n                }\n                return true;\n            })\n            .map(file => ({\n                file,\n                id: Math.random().toString(36).substr(2, 9),\n                preview: file.type.startsWith('image/') && typeof URL !== 'undefined' && URL.createObjectURL\n                    ? URL.createObjectURL(file)\n                    : undefined,\n            }));\n\n        if (newFiles.length === 0) return;\n\n        const updatedList = multiple ? [...fileList, ...newFiles] : newFiles;\n\n        if (controlledFileList === undefined) {\n            setInternalFileList(updatedList);\n        }\n\n        onFileListChange?.(updatedList);\n        onUpload?.(newFiles.map(f => f.file));\n    }, [maxSize, multiple, fileList, controlledFileList, onFileListChange, onUpload]);\n\n    const handleDrag = useCallback((e: React.DragEvent) => {\n        e.preventDefault();\n        e.stopPropagation();\n        if (e.type === 'dragenter' || e.type === 'dragover') {\n            setIsDragActive(true);\n        } else if (e.type === 'dragleave') {\n            setIsDragActive(false);\n        }\n    }, []);\n\n    const handleDrop = useCallback((e: React.DragEvent) => {\n        e.preventDefault();\n        e.stopPropagation();\n        setIsDragActive(false);\n        if (!disabled && e.dataTransfer.files && e.dataTransfer.files.length > 0) {\n            handleFiles(e.dataTransfer.files);\n        }\n    }, [disabled, handleFiles]);\n\n    const handleChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n        handleFiles(e.target.files);\n        // Reset input value to allow selecting the same file again\n        if (inputRef.current) inputRef.current.value = '';\n    }, [handleFiles]);\n\n    const handleRemove = useCallback((fileId: string) => {\n        const updatedList = fileList.filter(f => f.id !== fileId);\n\n        if (controlledFileList === undefined) {\n            setInternalFileList(updatedList);\n        }\n        onFileListChange?.(updatedList);\n    }, [fileList, controlledFileList, onFileListChange]);\n\n    const formatSize = (bytes: number) => {\n        if (bytes === 0) return '0 Bytes';\n        const k = 1024;\n        const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n        const i = Math.floor(Math.log(bytes) / Math.log(k));\n        return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n    };\n\n    return (\n        <div className={cn(styles.container, className)}>\n            <div\n                className={cn(styles.dropZone, {\n                    [styles.dropZoneActive]: isDragActive,\n                    [styles.dropZoneDisabled]: disabled,\n                    [styles.dropZoneError]: error || !!errorMessage,\n                })}\n                onDragEnter={handleDrag}\n                onDragLeave={handleDrag}\n                onDragOver={handleDrag}\n                onDrop={handleDrop}\n                onClick={() => !disabled && inputRef.current?.click()}\n                role=\"button\"\n                tabIndex={disabled ? -1 : 0}\n                onKeyDown={(e) => {\n                    if (!disabled && (e.key === 'Enter' || e.key === ' ')) {\n                        e.preventDefault();\n                        inputRef.current?.click();\n                    }\n                }}\n            >\n                <input\n                    {...props}\n                    ref={inputRef}\n                    id={id}\n                    type=\"file\"\n                    className={styles.input}\n                    onChange={handleChange}\n                    accept={accept}\n                    multiple={multiple}\n                    disabled={disabled}\n                    aria-hidden=\"true\"\n                />\n\n                <div className={styles.icon}>\n                    <DynIcon icon=\"upload-cloud\" size=\"xl\" />\n                </div>\n\n                <div className={styles.label}>{label}</div>\n                {errorMessage && <div className={styles.errorMessage}>{errorMessage}</div>}\n                {!errorMessage && description && <div className={styles.description}>{description}</div>}\n            </div>\n\n            {showFileList && fileList.length > 0 && (\n                <div className={styles.fileList}>\n                    {fileList.map((file) => (\n                        <div key={file.id} className={styles.fileItem}>\n                            {file.preview ? (\n                                <img src={file.preview} alt=\"Preview\" className={styles.fileItemPreview} />\n                            ) : (\n                                <div className={styles.fileItemIcon}>\n                                    <DynIcon icon=\"file-text\" size=\"lg\" />\n                                </div>\n                            )}\n                            <div className={styles.fileItemInfo}>\n                                <div className={styles.fileName} title={file.file.name}>{file.file.name}</div>\n                                <div className={styles.fileSize}>{formatSize(file.file.size)}</div>\n                            </div>\n                            {!disabled && (\n                                <button\n                                    type=\"button\"\n                                    className={styles.removeButton}\n                                    onClick={() => handleRemove(file.id)}\n                                    aria-label={`Remove ${file.file.name}`}\n                                >\n                                    <DynIcon icon=\"x\" size=\"sm\" />\n                                </button>\n                            )}\n                        </div>\n                    ))}\n                </div>\n            )}\n        </div>\n    );\n};\n\nDynUpload.displayName = 'DynUpload';\n\n\n--- Usage Examples (DynUpload.stories.tsx) ---\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { DynUpload } from './DynUpload';\n\nconst meta: Meta<typeof DynUpload> = {\n    title: 'Inputs/DynUpload',\n    component: DynUpload,\n    tags: ['autodocs'],\n    argTypes: {\n        disabled: { control: 'boolean' },\n        error: { control: 'boolean' },\n    },\n};\n\nexport default meta;\ntype Story = StoryObj<typeof DynUpload>;\n\nexport const Default: Story = {\n    args: {},\n};\n\nexport const Disabled: Story = {\n    args: {\n        disabled: true,\n    },\n};\n\nexport const ErrorState: Story = {\n    args: {\n        error: true,\n        description: 'Upload failed or invalid format',\n    },\n};\n\nexport const ImageOnly: Story = {\n    args: {\n        accept: 'image/*',\n        description: 'Only images (JPG, PNG) allowed',\n    },\n};\n\nexport const Multiple: Story = {\n    args: {\n        multiple: true,\n        label: 'Upload multiple files',\n    },\n};\n\n\n--- Styles (DynUpload.module.css) ---\n/**\n * DynUpload Component Styles\n * 100% Design Token Compliance\n * Unified Token Strategy: 3-Level Fallback Pattern\n */\n\n.container {\n  /* Component Tokens (Layer 2) */\n  --dyn-upload-dropzone-bg: var(--dyn-upload-color-dropzone-background, var(--dyn-semantic-surface, #ffffff));\n  --dyn-upload-dropzone-border: var(--dyn-upload-color-dropzone-border, var(--dyn-semantic-border, #d1d5db));\n  --dyn-upload-dropzone-radius: var(--dyn-upload-size-radius, var(--dyn-border-radius-lg, 0.5rem));\n  --dyn-upload-padding-y: var(--dyn-upload-spacing-y, var(--dyn-spacing-xl, 2rem));\n  --dyn-upload-padding-x: var(--dyn-upload-spacing-x, var(--dyn-spacing-lg, 1.5rem));\n\n  --dyn-upload-active-bg: var(--dyn-upload-color-active-background, var(--dyn-semantic-surface-active, #eff6ff));\n  --dyn-upload-active-border: var(--dyn-upload-color-active-border, var(--dyn-semantic-border-focus, #3b82f6));\n\n  --dyn-upload-disabled-bg: var(--dyn-upload-color-disabled-background, var(--dyn-semantic-surface-disabled, #f3f4f6));\n\n  --dyn-upload-error-bg: var(--dyn-upload-color-error-background, var(--dyn-semantic-danger-surface, #fee2e2));\n  --dyn-upload-error-border: var(--dyn-upload-color-error-border, var(--dyn-semantic-danger-border, #ef4444));\n\n  --dyn-upload-hover-bg: var(--dyn-upload-color-hover-background, var(--dyn-semantic-surface-hover, #f9fafb));\n\n  --dyn-upload-text-label: var(--dyn-upload-color-label, var(--dyn-semantic-text, #111827));\n  --dyn-upload-text-description: var(--dyn-upload-color-description, var(--dyn-semantic-text-secondary, #6b7280));\n  --dyn-upload-icon-color: var(--dyn-upload-color-icon, var(--dyn-semantic-text-secondary, #9ca3af));\n  --dyn-upload-icon-active: var(--dyn-upload-color-icon-active, var(--dyn-theme-primary, #3b82f6));\n\n  --dyn-upload-transition: var(--dyn-upload-animation-duration, var(--dyn-transition-normal, 0.2s)) var(--dyn-upload-animation-easing, ease-in-out);\n\n  display: flex;\n  flex-direction: column;\n  gap: var(--dyn-spacing-md, 1rem);\n  width: 100%;\n}\n\n/* DROP ZONE */\n\n.dropZone {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: var(--dyn-upload-padding-y) var(--dyn-upload-padding-x);\n  background-color: var(--dyn-upload-dropzone-bg);\n  border: 2px dashed var(--dyn-upload-dropzone-border);\n  border-radius: var(--dyn-upload-dropzone-radius);\n  cursor: pointer;\n  transition: all var(--dyn-upload-transition);\n  text-align: center;\n  position: relative;\n  outline: none;\n}\n\n.dropZoneActive {\n  border-color: var(--dyn-upload-active-border);\n  background-color: var(--dyn-upload-active-bg);\n}\n\n.dropZoneDisabled {\n  opacity: var(--dyn-opacity-disabled, 0.6);\n  cursor: not-allowed;\n  background-color: var(--dyn-upload-disabled-bg);\n}\n\n.dropZoneError {\n  border-color: var(--dyn-upload-error-border);\n  background-color: var(--dyn-upload-error-bg);\n}\n\n.dropZone:hover:not(.dropZoneDisabled) {\n  border-color: var(--dyn-upload-active-border);\n  background-color: var(--dyn-upload-hover-bg);\n}\n\n.dropZone:focus-visible {\n  border-color: var(--dyn-upload-active-border);\n  box-shadow: 0 0 0 2px var(--dyn-upload-active-bg);\n}\n\n/* CONTENT */\n\n.icon {\n  width: var(--dyn-size-icon-xl, 3rem);\n  height: var(--dyn-size-icon-xl, 3rem);\n  color: var(--dyn-upload-icon-color);\n  margin-bottom: var(--dyn-spacing-md, 1rem);\n  transition: color var(--dyn-upload-transition);\n}\n\n.dropZoneActive .icon {\n  color: var(--dyn-upload-icon-active);\n}\n\n.label {\n  font-family: inherit;\n  font-size: var(--dyn-font-size-base, 1rem);\n  font-weight: var(--dyn-font-weight-medium, 500);\n  color: var(--dyn-upload-text-label);\n  margin-bottom: var(--dyn-spacing-xs, 0.25rem);\n}\n\n.description, .errorMessage {\n  font-family: inherit;\n  font-size: var(--dyn-font-size-sm, 0.875rem);\n  color: var(--dyn-upload-text-description);\n}\n\n.errorMessage {\n  color: var(--dyn-upload-error-border);\n}\n\n.input {\n  display: none;\n}\n\n/* FILE LIST */\n\n.fileList {\n  display: flex;\n  flex-direction: column;\n  gap: var(--dyn-spacing-sm, 0.5rem);\n}\n\n.fileItem {\n  display: flex;\n  align-items: center;\n  padding: var(--dyn-spacing-sm, 0.5rem);\n  background-color: var(--dyn-semantic-surface, #ffffff);\n  border: 1px solid var(--dyn-semantic-border, #e5e7eb);\n  border-radius: var(--dyn-border-radius-md, 0.375rem);\n  transition: background-color var(--dyn-upload-transition);\n}\n\n.fileItemPreview {\n  width: var(--dyn-size-icon-lg, 2.5rem);\n  height: var(--dyn-size-icon-lg, 2.5rem);\n  object-fit: cover;\n  border-radius: var(--dyn-border-radius-sm, 0.25rem);\n  margin-right: var(--dyn-spacing-md, 0.75rem);\n  background-color: var(--dyn-semantic-surface-muted, #f3f4f6);\n}\n\n.fileItemIcon {\n  width: var(--dyn-size-icon-lg, 2.5rem);\n  height: var(--dyn-size-icon-lg, 2.5rem);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: var(--dyn-semantic-surface-muted, #f3f4f6);\n  border-radius: var(--dyn-border-radius-sm, 0.25rem);\n  margin-right: var(--dyn-spacing-md, 0.75rem);\n  color: var(--dyn-semantic-text-secondary, #6b7280);\n}\n\n.fileItemInfo {\n  flex: 1;\n  min-width: 0;\n}\n\n.fileName {\n  font-family: inherit;\n  font-size: var(--dyn-font-size-sm, 0.875rem);\n  font-weight: var(--dyn-font-weight-medium, 500);\n  color: var(--dyn-upload-text-label);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.fileSize {\n  font-family: inherit;\n  font-size: var(--dyn-font-size-xs, 0.75rem);\n  color: var(--dyn-upload-text-description);\n}\n\n.removeButton {\n  padding: var(--dyn-spacing-xs, 0.25rem);\n  margin-left: var(--dyn-spacing-sm, 0.5rem);\n  color: var(--dyn-semantic-text-tertiary, #9ca3af);\n  background: none;\n  border: none;\n  cursor: pointer;\n  border-radius: var(--dyn-border-radius-full, 9999px);\n  transition: all var(--dyn-upload-transition);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.removeButton:hover {\n  background-color: var(--dyn-semantic-surface-hover);\n  color: var(--dyn-semantic-danger-default, #ef4444);\n}\n\n/* DARK MODE - Handled automatically via semantic tokens! */\n", "metadata": {"type": "ui_component", "name": "DynUpload", "source": "dyn-ui-main-v01", "path": "C:\\Users\\mgasic\\Documents\\AIProjects\\dyn-ui-main-v01\\packages\\dyn-ui-react\\src\\components\\DynUpload"}, "embedding": [-0.07508304715156555, 0.008518516086041927, -0.010359865613281727, 0.0532291904091835, 0.07706066220998764, 0.08255287259817123, -0.0037525298539549112, 0.057167261838912964, 0.006299751345068216, 0.045853614807128906, -0.06711569428443909, 0.013667039573192596, -0.06012623757123947, 0.04620177671313286, -0.07964770495891571, -0.00393366813659668, -0.09913435578346252, -0.059131987392902374, -0.046612393110990524, 0.022398896515369415, 0.030975762754678726, -0.0965305045247078, 0.0704108476638794, -0.06135721877217293, 0.05632992461323738, -0.0051206862553954124, -0.022807640954852104, -0.0651642307639122, -0.031732749193906784, -0.013672024942934513, 0.00045965658500790596, 0.003922342322766781, -0.09298122674226761, -0.0693063735961914, -0.037280626595020294, 0.037476297467947006, -0.05649131163954735, -0.062019478529691696, -0.014653920195996761, -0.0012028721394017339, 0.06589356809854507, 0.03813277557492256, 0.008761780336499214, -0.05031212419271469, -0.031141888350248337, -0.01618286781013012, -0.016646472737193108, -0.01926356926560402, -0.008714783005416393, 0.00459509901702404, -0.02817901037633419, 0.08753173798322678, 0.0012075296835973859, 0.060823217034339905, 0.0653601810336113, -0.051067184656858444, 0.05387141555547714, -0.016105541959404945, -0.04930908605456352, -0.0027189638931304216, -0.02900507301092148, -0.0745406225323677, -0.02400917559862137, -0.05698562413454056, 0.08308510482311249, 0.11641953140497208, -0.020258644595742226, 0.039769358932971954, -0.005320301279425621, -0.06314784288406372, -0.06820805370807648, 0.07210565358400345, 0.04368515685200691, 0.043997086584568024, 0.047997184097766876, -0.16224320232868195, 0.03760881721973419, 0.09456862509250641, 0.02950907126069069, -0.05929967015981674, 0.10962608456611633, -0.040810730308294296, 0.0034182965755462646, -0.02203788422048092, -0.03356209769845009, 0.09736092388629913, -0.043441642075777054, -0.014458869583904743, -0.04687073454260826, -0.07452960312366486, -0.026107683777809143, -0.000500138325151056, 0.012781715020537376, 0.06836501508951187, 0.023853719234466553, 0.0352897010743618, -0.04970419779419899, 0.08171278983354568, -0.0014906403375789523, -0.04017659276723862, 0.007791387382894754, -0.04851515591144562, -0.0405668243765831, 0.017961975187063217, -0.03932632878422737, -0.07470273971557617, 0.05699840933084488, -0.0807090625166893, -0.005603492725640535, 0.026081187650561333, 0.014895984902977943, -0.017593536525964737, -0.04646085947751999, 0.018918076530098915, -0.07575598359107971, 0.013979279436171055, -0.04715120047330856, -0.00040345624438486993, -0.03315671160817146, 0.0016916407039389014, 0.026542242616415024, 0.03167281299829483, -0.02343633584678173, 0.014827634207904339, 0.047937504947185516, -0.01292547769844532, 0.0881161317229271, 6.152167151483344e-33, -0.04428596794605255, -0.060599185526371, 0.00933711789548397, 0.041968755424022675, 0.024319736286997795, -0.09103818237781525, -0.0027599709574133158, -0.09238569438457489, -0.03653724119067192, -0.058439143002033234, -0.024747412651777267, 0.013329138047993183, -0.03637956455349922, 0.033501893281936646, 0.006556175649166107, -0.05373525619506836, 0.013605321757495403, 0.03547937422990799, 0.09433864057064056, 0.01665312983095646, -0.014826943166553974, -0.0015276730991899967, -0.09785238653421402, 0.021653592586517334, 0.03985141962766647, -0.009019928053021431, -0.0216189194470644, 0.07880347222089767, 0.02759912982583046, -0.04883045330643654, 0.059932857751846313, -0.028241176158189774, 0.035607993602752686, 0.02295473776757717, -0.028956448659300804, -0.05623704940080643, -0.132686048746109, 0.012957139872014523, -0.06416787952184677, -0.02575434371829033, 0.02602413110435009, -0.01047664787620306, -0.0879606083035469, 0.12083908915519714, -0.04263264313340187, -0.0072306557558476925, -0.015872977674007416, -0.07348138839006424, -0.016579780727624893, -0.044567640870809555, -0.013229187577962875, 0.05976187810301781, 0.0848819836974144, -0.10340217500925064, 0.05803932622075081, 0.024874353781342506, -0.02234623022377491, 0.01265154592692852, 0.0732940137386322, -0.0029861703515052795, 0.049513399600982666, 0.018232330679893494, 0.009296323172748089, -0.05707095190882683, 0.0074058761820197105, 0.0037222192622721195, -0.0137821389362216, -0.01584790274500847, 0.06729204952716827, -0.01722426526248455, -0.03162681311368942, -0.01843360811471939, 0.01324729435145855, -0.03509689122438431, 0.1320049911737442, 0.0029681820888072252, -0.024694642052054405, -0.002823414746671915, 0.005596152041107416, -0.08195699006319046, -0.07073482871055603, -0.07924120128154755, 0.044241681694984436, 0.00567211676388979, 0.0911223366856575, 0.004659737925976515, -0.1093142181634903, -0.02032249979674816, 0.052014000713825226, 0.00785000715404749, 0.004771712236106396, -0.0071438211016356945, -0.013089239597320557, -0.0895729511976242, 0.06943786889314651, -7.22326952242895e-33, 0.03208984062075615, 0.04095737263560295, -0.06997977197170258, 0.05015621334314346, 0.002006194554269314, 0.08179229497909546, 0.02265937626361847, 0.0750141516327858, 0.058771539479494095, -0.0032170829363167286, -0.013943454250693321, 0.07095249742269516, -0.02876906469464302, -0.12044205516576767, -0.0903439074754715, 0.022640403360128403, -0.05420682579278946, -0.039866652339696884, 0.00048753057490102947, -0.05938278138637543, 0.07901769131422043, -0.05299602821469307, 0.08639433979988098, 0.13680501282215118, -0.05402420088648796, 0.05085314065217972, 0.036469582468271255, 0.01664079912006855, 0.014770559035241604, -0.05612672492861748, -0.007903123274445534, -0.010693829506635666, -0.04525627940893173, 0.07859691232442856, 0.024740884080529213, -0.07086659222841263, 0.03723525255918503, 0.07631421834230423, -0.016121314838528633, 0.11557277292013168, -0.0638744980096817, -0.00907288957387209, 0.043132483959198, 0.024667862802743912, 0.007984894327819347, -0.10261661559343338, -0.031038397923111916, 0.04555891081690788, 0.04028450697660446, 0.010388359427452087, -0.00474409619346261, -0.04083070904016495, -0.0502595379948616, -0.003124292241409421, 0.08970561623573303, 0.04299803078174591, 0.10621954500675201, -0.05213500186800957, 0.02510872110724449, 0.08138334006071091, 0.01916121132671833, -0.0602959506213665, -0.03252121061086655, -0.011520545929670334, -0.010788514278829098, -0.004475540481507778, -0.07992969453334808, -0.018588203936815262, 0.008500211872160435, 0.14998669922351837, 0.008535250090062618, 0.08189203590154648, 0.0400497205555439, -0.03617607429623604, 0.06954719871282578, -0.03306683525443077, 0.02101985551416874, 0.015922533348202705, 0.09997865557670593, 0.018775897100567818, 0.009352716617286205, 0.05472303554415703, -0.010436568409204483, 0.02833876758813858, 0.032326582819223404, 0.05570888891816139, -0.020905686542391777, 0.03869374096393585, 0.04501044750213623, -0.007621284574270248, 0.017302323132753372, -9.148232493316755e-05, 0.027578968554735184, -0.03214697912335396, -0.03039785660803318, -5.759399357430084e-08, -0.007657238747924566, -0.006477012299001217, -0.040256790816783905, -0.07188241928815842, 0.0038759016897529364, -0.0389888659119606, -0.04250013828277588, -0.04815886169672012, 0.05346149206161499, -0.04824279248714447, 0.0024614811409264803, 0.02069694921374321, 0.01747707650065422, 0.0019291192293167114, 0.00994942057877779, -0.06587014347314835, 0.08680382370948792, 0.036177873611450195, -0.045694511383771896, -0.005205722060054541, 0.07821051776409149, -0.02309081330895424, -0.06161888316273689, 0.032824452966451645, 0.08102840185165405, -0.007926547899842262, 0.056573569774627686, -0.01312146708369255, -0.027415962889790535, -0.024974051862955093, -0.04455313831567764, -0.0122736981138587, -0.07852146774530411, -0.019538091495633125, -0.049893397837877274, 0.02212555706501007, 0.09123247116804123, -0.032600902020931244, 0.0052339788526296616, 0.022685930132865906, 0.061336394399404526, -0.011543512344360352, 0.0010211127810180187, -0.0227611493319273, -0.038372721523046494, 0.0038183864671736956, -0.04432256519794464, -0.025034859776496887, -0.039601121097803116, 0.04925236478447914, 0.008954709395766258, -0.07229280471801758, -0.04971667751669884, 0.10067728906869888, -0.005801542662084103, -0.0695357397198677, -0.03242162987589836, 0.01053670048713684, 0.04816943779587746, -0.010216638445854187, 0.08321735262870789, -0.04986908659338951, 0.012192276306450367, 0.030595773831009865]}]