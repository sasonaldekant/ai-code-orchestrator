```yaml
version: "2.0.0"

providers:
  openai:
    api_key: ${OPENAI_API_KEY}
    models:
      - gpt-4o
      - gpt-4o-mini
  
  anthropic:
    api_key: ${ANTHROPIC_API_KEY}
    models:
      - claude-3-5-sonnet
  
  google:
    api_key: ${GOOGLE_API_KEY}
    models:
      - gemini-2.5-pro

    perplexity:
      api_key: ${PERPLEXITY_API_KEY}
      models:
        - sonar-reasoning-pro
        - sonar-reasoning
        - sonar-pro
        - sonar

default:
  model: gpt-4o-mini
  temperature: 0.0
  max_tokens: 4000
  timeout_seconds: 30

routing:
  phase:
    analyst:
      model: claude-3-5-sonnet
      provider: anthropic
      temperature: 0.1
      max_tokens: 8000
      reasoning: "Best for requirements analysis and edge case discovery"
    
    architect:
      consensus_mode: true
      models:
        primary:
          model: claude-3-5-sonnet
          provider: anthropic
          weight: 0.5
        secondary:
          model: gpt-4o
          provider: openai
          weight: 0.3
        tertiary:
          model: gemini-2.5-pro
          provider: google
          weight: 0.2
      synthesis_model: claude-3-5-sonnet
      reasoning: "Critical decisions require multiple perspectives"
    
    implementer:
      model: gpt-4o
      provider: openai
      temperature: 0.0
      max_tokens: 8000
      reasoning: "Strong C# performance (92% HumanEval)"
    
    tester:
      model: gpt-4o-mini
      provider: openai
      temperature: 0.0
      max_tokens: 4000
      reasoning: "Cost-effective for test generation"
    
    reviewer:
      model: claude-3-5-sonnet
      provider: anthropic
      temperature: 0.0
      max_tokens: 8000
      producer_reviewer_loop: true
      max_iterations: 3
      quality_threshold: 8.0
      reasoning: "Best code review capabilities"

  specialty:
    backend:
      dotnet_api:
        model: gpt-4o
        provider: openai
        temperature: 0.0
        specialization: "ASP.NET Core, Web API, Controllers"
      
      efcore:
        model: gpt-4o
        provider: openai
        temperature: 0.0
        context_aware: true
        context_sources:
          - existing_dbcontext
          - migration_history
        specialization: "Entity Framework Core, Migrations, DbContext"
      
      database:
        model: claude-3-5-sonnet
        provider: anthropic
        temperature: 0.0
        specialization: "Schema design, relationships, indexing"
      
      microservice:
        model: gpt-4o
        provider: openai
        temperature: 0.0
        specialization: "Microservice architecture, communication patterns"
      
      security:
        model: claude-3-5-sonnet
        provider: anthropic
        temperature: 0.0
        specialization: "Security best practices, vulnerability detection"
    
    frontend:
      react:
        model: gpt-4o-mini
        provider: openai
        temperature: 0.0
        specialization: "React 18+, hooks, functional components"
      
      typescript:
        model: gpt-4o-mini
        provider: openai
        temperature: 0.0
        specialization: "TypeScript types, interfaces, generics"
      
      css:
        model: gpt-4o-mini
        provider: openai
        temperature: 0.0
        specialization: "CSS, SCSS, responsive design"
      
      ui_ux:
        model: gpt-4o-mini
        provider: openai
        temperature: 0.1
        specialization: "User experience, accessibility"
    
    integration:
      api_integration:
        model: gpt-4o
        provider: openai
        temperature: 0.0
        specialization: "REST APIs, HTTP clients, error handling"
      
      devops:
        model: gpt-4o
        provider: openai
        temperature: 0.0
        specialization: "CI/CD, Docker, Kubernetes"
    
    documentation:
      technical_docs:
        model: gemini-2.5-pro
        provider: google
        temperature: 0.2
        max_tokens: 32000
        specialization: "Technical documentation, API docs"
      
      code_research:
        model: sonar-reasoning-pro
        provider: perplexity
        temperature: 0.1
        max_tokens: 8000
        specialization: "Up-to-date research, library versions, and community best practices"


cost_management:
  budgets:
    per_task: 0.50      # USD
    per_hour: 5.00
    per_day: 40.00
    per_month: 800.00
  
  alerts:
    threshold_warning: 0.75   # 75% of budget
    threshold_critical: 0.90  # 90% of budget
    notify_channels:
      - slack_webhook
      - email
  
  optimization:
    enable_cache: true
    cache_ttl_seconds: 3600
    enable_token_estimation: true
    reject_over_budget: true



